(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const V of document.querySelectorAll('link[rel="modulepreload"]'))B(V);new MutationObserver(V=>{for(const k of V)if(k.type==="childList")for(const p of k.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&B(p)}).observe(document,{childList:!0,subtree:!0});function M(V){const k={};return V.integrity&&(k.integrity=V.integrity),V.referrerPolicy&&(k.referrerPolicy=V.referrerPolicy),V.crossOrigin==="use-credentials"?k.credentials="include":V.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function B(V){if(V.ep)return;V.ep=!0;const k=M(V);fetch(V.href,k)}})();var Lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iv(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}var Ov={exports:{}};(function(L,A){(function(B,V){L.exports=V()})(Lg,()=>(()=>{var M={6659:p=>{var S=Object.prototype.hasOwnProperty,t="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(t=!1));function v(e,i,l){this.fn=e,this.context=i,this.once=l||!1}function o(e,i,l,n,a){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new v(l,n||e,a),h=t?t+i:i;return e._events[h]?e._events[h].fn?e._events[h]=[e._events[h],f]:e._events[h].push(f):(e._events[h]=f,e._eventsCount++),e}function r(e,i){--e._eventsCount===0?e._events=new u:delete e._events[i]}function s(){this._events=new u,this._eventsCount=0}s.prototype.eventNames=function(){var i=[],l,n;if(this._eventsCount===0)return i;for(n in l=this._events)S.call(l,n)&&i.push(t?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(l)):i},s.prototype.listeners=function(i){var l=t?t+i:i,n=this._events[l];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,f=n.length,h=new Array(f);a<f;a++)h[a]=n[a].fn;return h},s.prototype.listenerCount=function(i){var l=t?t+i:i,n=this._events[l];return n?n.fn?1:n.length:0},s.prototype.emit=function(i,l,n,a,f,h){var d=t?t+i:i;if(!this._events[d])return!1;var c=this._events[d],g=arguments.length,x,m;if(c.fn){switch(c.once&&this.removeListener(i,c.fn,void 0,!0),g){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,l),!0;case 3:return c.fn.call(c.context,l,n),!0;case 4:return c.fn.call(c.context,l,n,a),!0;case 5:return c.fn.call(c.context,l,n,a,f),!0;case 6:return c.fn.call(c.context,l,n,a,f,h),!0}for(m=1,x=new Array(g-1);m<g;m++)x[m-1]=arguments[m];c.fn.apply(c.context,x)}else{var y=c.length,T;for(m=0;m<y;m++)switch(c[m].once&&this.removeListener(i,c[m].fn,void 0,!0),g){case 1:c[m].fn.call(c[m].context);break;case 2:c[m].fn.call(c[m].context,l);break;case 3:c[m].fn.call(c[m].context,l,n);break;case 4:c[m].fn.call(c[m].context,l,n,a);break;default:if(!x)for(T=1,x=new Array(g-1);T<g;T++)x[T-1]=arguments[T];c[m].fn.apply(c[m].context,x)}}return!0},s.prototype.on=function(i,l,n){return o(this,i,l,n,!1)},s.prototype.once=function(i,l,n){return o(this,i,l,n,!0)},s.prototype.removeListener=function(i,l,n,a){var f=t?t+i:i;if(!this._events[f])return this;if(!l)return r(this,f),this;var h=this._events[f];if(h.fn)h.fn===l&&(!a||h.once)&&(!n||h.context===n)&&r(this,f);else{for(var d=0,c=[],g=h.length;d<g;d++)(h[d].fn!==l||a&&!h[d].once||n&&h[d].context!==n)&&c.push(h[d]);c.length?this._events[f]=c.length===1?c[0]:c:r(this,f)}return this},s.prototype.removeAllListeners=function(i){var l;return i?(l=t?t+i:i,this._events[l]&&r(this,l)):(this._events=new u,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,p.exports=s},62270:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82590),v=function(o,r,s,e){for(var i=o[0],l=1;l<o.length;l++){var n=o[l];u(n,i,r,s,e),i=n}return o};p.exports=v},61148:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6124),v=function(o,r,s,e,i){return u(o,"angle",r,s,e,i)};p.exports=v},22015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){for(var o=0;o<t.length;o++){var r=t[o];u.call(v,r)}return t};p.exports=S},31060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){v===void 0&&(v=0);for(var o=v;o<t.length;o++){var r=t[o],s=!0;for(var e in u)r[e]!==u[e]&&(s=!1);if(s)return r}return null};p.exports=S},52367:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){v===void 0&&(v=0);for(var o=v;o<t.length;o++){var r=t[o],s=!0;for(var e in u)r[e]!==u[e]&&(s=!1);if(s)return r}return null};p.exports=S},12673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40327),v=t(84093),o=t(72632),r=t(72283),s=t(71030),e=new s({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),i=function(l,n){n===void 0&&(n={});var a=n.hasOwnProperty("width"),f=n.hasOwnProperty("height"),h=o(n,"width",-1),d=o(n,"height",-1),c=o(n,"cellWidth",1),g=o(n,"cellHeight",c),x=o(n,"position",v.TOP_LEFT),m=o(n,"x",0),y=o(n,"y",0),T=0,R=0,P=h*c,D=d*g;e.setPosition(m,y),e.setSize(c,g);for(var I=0;I<l.length;I++)if(u(l[I],e,x),a&&h===-1)e.x+=c;else if(f&&d===-1)e.y+=g;else if(f&&!a){if(R+=g,e.y+=g,R===D&&(R=0,T+=c,e.y=y,e.x+=c,T===P))break}else if(T+=c,e.x+=c,T===P&&(T=0,R+=g,e.x=m,e.y+=g,R===D))break;return l};p.exports=i},691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6124),v=function(o,r,s,e,i){return u(o,"alpha",r,s,e,i)};p.exports=v},3877:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6124),v=function(o,r,s,e,i){return u(o,"x",r,s,e,i)};p.exports=v},71020:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6124),v=function(o,r,s,e,i,l,n){return s==null&&(s=r),u(o,"x",r,e,l,n),u(o,"y",s,i,l,n)};p.exports=v},28970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6124),v=function(o,r,s,e,i){return u(o,"y",r,s,e,i)};p.exports=v},82249:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v===void 0&&(v=0),o===void 0&&(o=6.28);for(var r=v,s=(o-v)/t.length,e=u.x,i=u.y,l=u.radius,n=0;n<t.length;n++)t[n].x=e+l*Math.cos(r),t[n].y=i+l*Math.sin(r),r+=s;return t};p.exports=S},30285:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v===void 0&&(v=0),o===void 0&&(o=6.28);for(var r=v,s=(o-v)/t.length,e=u.width/2,i=u.height/2,l=0;l<t.length;l++)t[l].x=u.x+e*Math.cos(r),t[l].y=u.y+i*Math.sin(r),r+=s;return t};p.exports=S},61557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8570),v=function(o,r){for(var s=u(r,o.length),e=0;e<o.length;e++){var i=o[e],l=s[e];i.x=l.x,i.y=l.y}return o};p.exports=v},63549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40053),v=t(77640),o=t(38487),r=function(s,e,i){i===void 0&&(i=0);var l=u(e,!1,s.length);i>0?v(l,i):i<0&&o(l,Math.abs(i));for(var n=0;n<s.length;n++)s[n].x=l[n].x,s[n].y=l[n].y;return s};p.exports=r},51629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(58813),v=function(o,r,s){var e=u({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},s),i=u({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},s),l=u({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},s);e.pop(),i.pop(),l.pop(),e=e.concat(i,l);for(var n=e.length/o.length,a=0,f=0;f<o.length;f++){var h=o[f],d=e[Math.floor(a)];h.x=d.x,h.y=d.y,a+=n}return o};p.exports=v},1045:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){for(var o=0;o<t.length;o++){var r=t[o];r.anims&&r.anims.play(u,v)}return t};p.exports=S},6124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r,s){o===void 0&&(o=0),r===void 0&&(r=0),s===void 0&&(s=1);var e,i=0,l=t.length;if(s===1)for(e=r;e<l;e++)t[e][u]+=v+i*o,i++;else for(e=r;e>=0;e--)t[e][u]+=v+i*o,i++;return t};p.exports=S},23646:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r,s){o===void 0&&(o=0),r===void 0&&(r=0),s===void 0&&(s=1);var e,i=0,l=t.length;if(s===1)for(e=r;e<l;e++)t[e][u]=v+i*o,i++;else for(e=r;e>=0;e--)t[e][u]=v+i*o,i++;return t};p.exports=S},4392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(30977),v=function(o,r){for(var s=0;s<o.length;s++)u(r,o[s]);return o};p.exports=v},94985:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72006),v=function(o,r){for(var s=0;s<o.length;s++)u(r,o[s]);return o};p.exports=v},63305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74077),v=function(o,r){for(var s=0;s<o.length;s++)u(r,o[s]);return o};p.exports=v},90739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(30001),v=function(o,r){for(var s=0;s<o.length;s++)u(r,o[s]);return o};p.exports=v},91417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99761),v=function(o,r){for(var s=0;s<o.length;s++)u(r,o[s]);return o};p.exports=v},26182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6124),v=function(o,r,s,e,i){return u(o,"rotation",r,s,e,i)};p.exports=v},87299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72395),v=t(53996),o=function(r,s,e){for(var i=s.x,l=s.y,n=0;n<r.length;n++){var a=r[n];u(a,i,l,e,Math.max(1,v(a.x,a.y,i,l)))}return r};p.exports=o},92194:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72395),v=function(o,r,s,e){var i=r.x,l=r.y;if(e===0)return o;for(var n=0;n<o.length;n++)u(o[n],i,l,s,e);return o};p.exports=v},30363:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6124),v=function(o,r,s,e,i){return u(o,"scaleX",r,s,e,i)};p.exports=v},51449:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6124),v=function(o,r,s,e,i,l,n){return s==null&&(s=r),u(o,"scaleX",r,e,l,n),u(o,"scaleY",s,i,l,n)};p.exports=v},64895:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6124),v=function(o,r,s,e,i){return u(o,"scaleY",r,s,e,i)};p.exports=v},30329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i){return u(o,"alpha",r,s,e,i)};p.exports=v},43954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e){return u(o,"blendMode",r,0,s,e)};p.exports=v},70688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i){return u(o,"depth",r,s,e,i)};p.exports=v},8314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){for(var o=0;o<t.length;o++)t[o].setInteractive(u,v);return t};p.exports=S},12894:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i,l,n){return s==null&&(s=r),u(o,"originX",r,e,l,n),u(o,"originY",s,i,l,n),o.forEach(function(a){a.updateDisplayOrigin()}),o};p.exports=v},38767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i){return u(o,"rotation",r,s,e,i)};p.exports=v},18584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i,l,n){return s==null&&(s=r),u(o,"scaleX",r,e,l,n),u(o,"scaleY",s,i,l,n)};p.exports=v},17381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i){return u(o,"scaleX",r,s,e,i)};p.exports=v},74370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i){return u(o,"scaleY",r,s,e,i)};p.exports=v},27773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i,l,n){return s==null&&(s=r),u(o,"scrollFactorX",r,e,l,n),u(o,"scrollFactorY",s,i,l,n)};p.exports=v},75257:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i){return u(o,"scrollFactorX",r,s,e,i)};p.exports=v},54512:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i){return u(o,"scrollFactorY",r,s,e,i)};p.exports=v},69423:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r){for(var s=0;s<t.length;s++)t[s].setTint(u,v,o,r);return t};p.exports=S},58291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e){return u(o,"visible",r,0,s,e)};p.exports=v},94833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i){return u(o,"x",r,s,e,i)};p.exports=v},14284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i,l,n){return s==null&&(s=r),u(o,"x",r,e,l,n),u(o,"y",s,i,l,n)};p.exports=v},96574:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23646),v=function(o,r,s,e,i){return u(o,"y",r,s,e,i)};p.exports=v},74086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e,i){e===void 0&&(e=0),i===void 0&&(i=new u);var l,n,a=o.length;if(a===1)l=o[0].x,n=o[0].y,o[0].x=r,o[0].y=s;else{var f=1,h=0;e===0&&(h=a-1,f=a-2),l=o[h].x,n=o[h].y,o[h].x=r,o[h].y=s;for(var d=0;d<a;d++)if(!(f>=a||f===-1)){var c=o[f],g=c.x,x=c.y;c.x=l,c.y=n,l=g,n=x,e===0?f--:f++}}return i.x=l,i.y=n,i};p.exports=v},86347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(18592),v=function(o){return u(o)};p.exports=v},1558:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(5514),v=function(o,r,s,e,i){i===void 0&&(i=!1);var l=Math.abs(e-s)/o.length,n;if(i)for(n=0;n<o.length;n++)o[n][r]+=u(n*l,s,e);else for(n=0;n<o.length;n++)o[n][r]=u(n*l,s,e);return o};p.exports=v},9938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87736),v=function(o,r,s,e,i){i===void 0&&(i=!1);var l=Math.abs(e-s)/o.length,n;if(i)for(n=0;n<o.length;n++)o[n][r]+=u(n*l,s,e);else for(n=0;n<o.length;n++)o[n][r]=u(n*l,s,e);return o};p.exports=v},71060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][u]+=(o+v)/2:t[0][u]=(o+v)/2,t;var s=Math.abs(o-v)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][u]+=e*s+v;else for(e=0;e<t.length;e++)t[e][u]=e*s+v;return t};p.exports=S},11207:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var u=0;u<t.length;u++)t[u].visible=!t[u].visible;return t};p.exports=S},24404:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1071),v=function(o,r,s){s===void 0&&(s=0);for(var e=0;e<o.length;e++){var i=o[e];i.x=u(i.x,r.left-s,r.right+s),i.y=u(i.y,r.top-s,r.bottom+s)}return o};p.exports=v},83979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(62270),Angle:t(61148),Call:t(22015),GetFirst:t(31060),GetLast:t(52367),GridAlign:t(12673),IncAlpha:t(691),IncX:t(3877),IncXY:t(71020),IncY:t(28970),PlaceOnCircle:t(82249),PlaceOnEllipse:t(30285),PlaceOnLine:t(61557),PlaceOnRectangle:t(63549),PlaceOnTriangle:t(51629),PlayAnimation:t(1045),PropertyValueInc:t(6124),PropertyValueSet:t(23646),RandomCircle:t(4392),RandomEllipse:t(94985),RandomLine:t(63305),RandomRectangle:t(90739),RandomTriangle:t(91417),Rotate:t(26182),RotateAround:t(87299),RotateAroundDistance:t(92194),ScaleX:t(30363),ScaleXY:t(51449),ScaleY:t(64895),SetAlpha:t(30329),SetBlendMode:t(43954),SetDepth:t(70688),SetHitArea:t(8314),SetOrigin:t(12894),SetRotation:t(38767),SetScale:t(18584),SetScaleX:t(17381),SetScaleY:t(74370),SetScrollFactor:t(27773),SetScrollFactorX:t(75257),SetScrollFactorY:t(54512),SetTint:t(69423),SetVisible:t(58291),SetX:t(94833),SetXY:t(14284),SetY:t(96574),ShiftPosition:t(74086),Shuffle:t(86347),SmootherStep:t(9938),SmoothStep:t(1558),Spread:t(71060),ToggleVisible:t(11207),WrapInRectangle:t(24404)}},85463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(16938),r=t(2406),s=t(71519),e=t(10850),i=t(28834),l=new v({initialize:function(a,f,h){this.manager=a,this.key=f,this.type="frame",this.frames=this.getFrames(a.textureManager,e(h,"frames",[]),e(h,"defaultTextureKey",null),e(h,"sortFrames",!0)),this.frameRate=e(h,"frameRate",null),this.duration=e(h,"duration",null),this.msPerFrame,this.skipMissedFrames=e(h,"skipMissedFrames",!0),this.delay=e(h,"delay",0),this.repeat=e(h,"repeat",0),this.repeatDelay=e(h,"repeatDelay",0),this.yoyo=e(h,"yoyo",!1),this.showBeforeDelay=e(h,"showBeforeDelay",!1),this.showOnStart=e(h,"showOnStart",!1),this.hideOnComplete=e(h,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(n,a,f,h){f===null&&h===null?(n.frameRate=24,n.duration=24/a*1e3):f&&h===null?(n.duration=f,n.frameRate=a/(f/1e3)):(n.frameRate=h,n.duration=a/h*1e3),n.msPerFrame=1e3/n.frameRate},addFrame:function(n){return this.addFrameAt(this.frames.length,n)},addFrameAt:function(n,a){var f=this.getFrames(this.manager.textureManager,a);if(f.length>0){if(n===0)this.frames=f.concat(this.frames);else if(n===this.frames.length)this.frames=this.frames.concat(f);else{var h=this.frames.slice(0,n),d=this.frames.slice(n);this.frames=h.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(n){return n>=0&&n<this.frames.length},getFirstTick:function(n){n.accumulator=0,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameAt:function(n){return this.frames[n]},getFrames:function(n,a,f,h){h===void 0&&(h=!0);var d=[],c,g,x=1,m,y;if(typeof a=="string"){if(y=a,!n.exists(y))return console.warn('Texture "%s" not found',y),d;var T=n.get(y),R=T.getFrameNames();h&&i(R),a=[],R.forEach(function(G){a.push({key:y,frame:G})})}if(!Array.isArray(a)||a.length===0)return d;for(m=0;m<a.length;m++){var P=a[m],D=e(P,"key",f);if(D){var I=e(P,"frame",0),w=n.getFrame(D,I);if(!w){console.warn('Texture "%s" not found',D);continue}g=new s(D,I,x,w),g.duration=e(P,"duration",0),g.isFirst=!c,c&&(c.nextFrame=g,g.prevFrame=c),d.push(g),c=g,x++}}if(d.length>0){g.isLast=!0,g.nextFrame=d[0],d[0].prevFrame=g;var U=1/(d.length-1);for(m=0;m<d.length;m++)d[m].progress=m*U}return d},getNextTick:function(n){n.accumulator-=n.nextTick,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameByProgress:function(n){return n=u(n,0,1),r(n,this.frames,"progress")},nextFrame:function(n){var a=n.currentFrame;a.isLast?n.yoyo?this.handleYoyoFrame(n,!1):n.repeatCounter>0?n.inReverse&&n.forward?n.forward=!1:this.repeatAnimation(n):n.complete():this.updateAndGetNextTick(n,a.nextFrame)},handleYoyoFrame:function(n,a){if(a||(a=!1),n.inReverse===!a&&n.repeatCounter>0){(n.repeatDelay===0||n.pendingRepeat)&&(n.forward=a),this.repeatAnimation(n);return}if(n.inReverse!==a&&n.repeatCounter===0){n.complete();return}n.forward=a;var f=a?n.currentFrame.nextFrame:n.currentFrame.prevFrame;this.updateAndGetNextTick(n,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(n){var a=n.currentFrame;a.isFirst?n.yoyo?this.handleYoyoFrame(n,!0):n.repeatCounter>0?n.inReverse&&!n.forward?this.repeatAnimation(n):(n.forward=!0,this.repeatAnimation(n)):n.complete():this.updateAndGetNextTick(n,a.prevFrame)},updateAndGetNextTick:function(n,a){n.setCurrentFrame(a),this.getNextTick(n)},removeFrame:function(n){var a=this.frames.indexOf(n);return a!==-1&&this.removeFrameAt(a),this},removeFrameAt:function(n){return this.frames.splice(n,1),this.updateFrameSequence(),this},repeatAnimation:function(n){if(n._pendingStop===2){if(n._pendingStopValue===0)return n.stop();n._pendingStopValue--}n.repeatDelay>0&&!n.pendingRepeat?(n.pendingRepeat=!0,n.accumulator-=n.nextTick,n.nextTick+=n.repeatDelay):(n.repeatCounter--,n.forward?n.setCurrentFrame(n.currentFrame.nextFrame):n.setCurrentFrame(n.currentFrame.prevFrame),n.isPlaying&&(this.getNextTick(n),n.handleRepeat()))},toJSON:function(){var n={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(a){n.frames.push(a.toJSON())}),n},updateFrameSequence:function(){for(var n=this.frames.length,a=1/(n-1),f,h=0;h<n;h++)f=this.frames[h],f.index=h+1,f.isFirst=!1,f.isLast=!1,f.progress=h*a,h===0?(f.isFirst=!0,n===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[n-1],f.nextFrame=this.frames[h+1])):h===n-1&&n>1?(f.isLast=!0,f.prevFrame=this.frames[n-2],f.nextFrame=this.frames[0]):n>1&&(f.prevFrame=this.frames[h-1],f.nextFrame=this.frames[h+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var n=0;n<this.frames.length;n++)this.frames[n].destroy();this.frames=[],this.manager=null}});p.exports=l},71519:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s,e,i,l){l===void 0&&(l=!1),this.textureKey=r,this.textureFrame=s,this.index=e,this.frame=i,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=v},90249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85463),v=t(56694),o=t(33885),r=t(6659),s=t(16938),e=t(97081),i=t(72632),l=t(10850),n=t(83392),a=t(13401),f=t(76400),h=new v({Extends:r,initialize:function(c){r.call(this),this.game=c,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",c.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,c,g){var x=this.anims,m=this.mixes,y=typeof d=="string"?d:d.key,T=typeof c=="string"?c:c.key;if(x.has(y)&&x.has(T)){var R=m.get(y);R||(R={}),R[T]=g,m.set(y,R)}return this},removeMix:function(d,c){var g=this.mixes,x=typeof d=="string"?d:d.key,m=g.get(x);if(m)if(c){var y=typeof c=="string"?c:c.key;m.hasOwnProperty(y)&&delete m[y]}else c||g.delete(x);return this},getMix:function(d,c){var g=this.mixes,x=typeof d=="string"?d:d.key,m=typeof c=="string"?c:c.key,y=g.get(x);return y&&y.hasOwnProperty(m)?y[m]:0},add:function(d,c){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(c.key=d,this.anims.set(d,c),this.emit(s.ADD_ANIMATION,d,c),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,c,g){var x=[],m=this.game.cache.json.get(d);if(!m)return console.warn("No Aseprite data found for: "+d),x;var y=this,T=l(m,"meta",null),R=l(m,"frames",null);if(T&&R){var P=l(T,"frameTags",[]);P.forEach(function(D){var I=[],w=i(D,"name",null),U=i(D,"from",0),G=i(D,"to",0),H=i(D,"direction","forward");if(w&&(!c||c&&c.indexOf(w)>-1)){for(var z=0,$=U;$<=G;$++){var J=$.toString(),W=R[J];if(W){var K=i(W,"duration",n.MAX_SAFE_INTEGER);I.push({key:d,frame:J,duration:K}),z+=K}}var N=z/I.length;I.forEach(function(j){j.duration-=N}),H==="reverse"&&(I=I.reverse());var b={key:w,frames:I,duration:z,yoyo:H==="pingpong"},Y;g?g.anims&&(Y=g.anims.create(b)):Y=y.create(b),Y&&x.push(Y)}})}return x},create:function(d){var c=d.key,g=!1;return c&&(g=this.get(c),g?console.warn("AnimationManager key already exists: "+c):(g=new u(this,c,d),this.anims.set(c,g),this.emit(s.ADD_ANIMATION,c,g))),g},fromJSON:function(d,c){c===void 0&&(c=!1),c&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var g=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var x=0;x<d.anims.length;x++)g.push(this.create(d.anims[x]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&g.push(this.create(d));return g},generateFrameNames:function(d,c){var g=l(c,"prefix",""),x=l(c,"start",0),m=l(c,"end",0),y=l(c,"suffix",""),T=l(c,"zeroPad",0),R=l(c,"outputArray",[]),P=l(c,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),R;var D=this.textureManager.get(d);if(!D)return R;var I;if(c)for(P||(P=a(x,m)),I=0;I<P.length;I++){var w=g+f(P[I],T,"0",1)+y;D.has(w)?R.push({key:d,frame:w}):console.warn('Frame "%s" not found in texture "%s"',w,d)}else for(P=D.getFrameNames(),I=0;I<P.length;I++)R.push({key:d,frame:P[I]});return R},generateFrameNumbers:function(d,c){var g=l(c,"start",0),x=l(c,"end",-1),m=l(c,"first",!1),y=l(c,"outputArray",[]),T=l(c,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),y;var R=this.textureManager.get(d);if(!R)return y;m&&R.has(m)&&y.push({key:d,frame:m}),T||(x===-1&&(x=R.frameTotal-2),T=a(g,x));for(var P=0;P<T.length;P++){var D=T[P];R.has(D)?y.push({key:d,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,d)}return y},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var c=this.textureManager.get(d),g=c.key,x=this.anims.getArray(),m=[],y=0;y<x.length;y++)for(var T=x[y],R=T.frames,P=0;P<R.length;P++)if(R[P].textureKey===g){m.push(T.key);break}return m},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(d,c){Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++)c[g].anims.play(d);return this},staggerPlay:function(d,c,g,x){g===void 0&&(g=0),x===void 0&&(x=!0),Array.isArray(c)||(c=[c]);var m=c.length;x||m--;for(var y=0;y<c.length;y++){var T=g<0?Math.abs(g)*(m-y):g*y;c[y].anims.playAfterDelay(d,T)}return this},remove:function(d){var c=this.get(d);return c&&(this.emit(s.REMOVE_ANIMATION,d,c),this.anims.delete(d),this.removeMix(d)),c},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(d){var c={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?c.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(g,x){c.anims.push(x.toJSON())}),c},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=h},16569:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(33885),o=t(72632),r=t(16938),s=t(85463),e=new u({initialize:function(l){this.parent=l,this.animationManager=l.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(i){var l=this.parent;if(i===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,l;Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var a=i[n];this.nextAnim?this.nextAnimsQueue.push(a):this.nextAnim=a}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(i){this.isPlaying&&this.stop();var l=this.animationManager,n=typeof i=="string"?i:o(i,"key",null),a=this.exists(n)?this.get(n):l.get(n);if(!a)console.warn("Missing animation: "+n);else{this.currentAnim=a;var f=a.getTotalFrames(),h=o(i,"frameRate",a.frameRate),d=o(i,"duration",a.duration);a.calculateDuration(this,f,d,h),this.delay=o(i,"delay",a.delay),this.repeat=o(i,"repeat",a.repeat),this.repeatDelay=o(i,"repeatDelay",a.repeatDelay),this.yoyo=o(i,"yoyo",a.yoyo),this.showBeforeDelay=o(i,"showBeforeDelay",a.showBeforeDelay),this.showOnStart=o(i,"showOnStart",a.showOnStart),this.hideOnComplete=o(i,"hideOnComplete",a.hideOnComplete),this.skipMissedFrames=o(i,"skipMissedFrames",a.skipMissedFrames),this.timeScale=o(i,"timeScale",this.timeScale);var c=o(i,"startFrame",0);c>a.getTotalFrames()&&(c=0);var g=a.frames[c];c===0&&!this.forward&&(g=a.getLastFrame()),this.currentFrame=g}return this.parent},pause:function(i){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),i!==void 0&&this.setCurrentFrame(i),this.parent},resume:function(i){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),i!==void 0&&this.setCurrentFrame(i),this.parent},playAfterDelay:function(i,l){if(!this.isPlaying)this.delayCounter=l,this.play(i,!0);else{var n=this.nextAnim,a=this.nextAnimsQueue;n&&a.unshift(n),this.nextAnim=i,this._pendingStop=1,this._pendingStopValue=l}return this.parent},playAfterRepeat:function(i,l){if(l===void 0&&(l=1),!this.isPlaying)this.play(i);else{var n=this.nextAnim,a=this.nextAnimsQueue;n&&a.unshift(n),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this.nextAnim=i,this._pendingStop=2,this._pendingStopValue=l}return this.parent},play:function(i,l){l===void 0&&(l=!1);var n=this.currentAnim,a=this.parent,f=typeof i=="string"?i:i.key;if(l&&this.isPlaying&&n.key===f)return a;if(n&&this.isPlaying){var h=this.animationManager.getMix(n.key,i);if(h>0)return this.playAfterDelay(i,h)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(i)},playReverse:function(i,l){l===void 0&&(l=!1);var n=typeof i=="string"?i:i.key;return l&&this.isPlaying&&this.currentAnim.key===n?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(i))},startAnimation:function(i){this.load(i);var l=this.currentAnim,n=this.parent;return l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,l.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),n},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(i,l){var n=this.currentAnim;if(n){var a=this.currentFrame,f=this.parent,h=a.textureFrame;f.emit(i,n,a,f,h),l&&f.emit(l+n.key,n,a,f,h)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var i=this.currentFrame;if(!i)return 0;var l=i.progress;return this.inReverse&&(l*=-1),l},setProgress:function(i){return this.forward||(i=1-i),this.setCurrentFrame(this.currentAnim.getFrameByProgress(i)),this.parent},setRepeat:function(i){return this.repeatCounter=i===-1?Number.MAX_VALUE:i,this.parent},globalRemove:function(i,l){l===void 0&&(l=this.currentAnim),this.isPlaying&&l.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(i,l){i===void 0&&(i=!1),l===void 0&&(l=!1);var n=this.currentAnim,a=this.parent;return n?(l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),n.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!i,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(n.frames[0]),this.parent):a},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var i=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(i)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var i=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(i)}return this.parent},stopAfterDelay:function(i){return this._pendingStop=1,this._pendingStopValue=i,this.parent},stopAfterRepeat:function(i){return i===void 0&&(i=1),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=i,this.parent},stopOnFrame:function(i){return this._pendingStop=3,this._pendingStopValue=i,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(i,l){var n=this.currentAnim;if(!(!this.isPlaying||!n||n.paused)){if(this.accumulator+=l*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=l,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?n.nextFrame(this):n.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var a=0;do this.forward?n.nextFrame(this):n.previousFrame(this),a++;while(this.isPlaying&&this.accumulator>this.nextTick&&a<60)}}},setCurrentFrame:function(i){var l=this.parent;return this.currentFrame=i,l.texture=i.frame.texture,l.frame=i.frame,l.isCropped&&l.frame.updateCropUVs(l._crop,l.flipX,l.flipY),i.setAlpha&&(l.alpha=i.alpha),l.setSizeToFrame(),l._originComponent&&(i.frame.customPivot?l.setOrigin(i.frame.pivotX,i.frame.pivotY):l.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===i&&this.stop()),l},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(i){return this.anims?this.anims.get(i):null},exists:function(i){return this.anims?this.anims.has(i):!1},create:function(i){var l=i.key,n=!1;return l&&(n=this.get(l),n?console.warn("Animation key already exists: "+l):(n=new s(this,l,i),this.anims||(this.anims=new v),this.anims.set(l,n))),n},createFromAseprite:function(i,l){return this.animationManager.createFromAseprite(i,l,this.parent)},generateFrameNames:function(i,l){return this.animationManager.generateFrameNames(i,l)},generateFrameNumbers:function(i,l){return this.animationManager.generateFrameNumbers(i,l)},remove:function(i){var l=this.get(i);return l&&(this.currentAnim===l&&this.stop(),this.anims.delete(i)),l},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=e},44509:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},84563:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},61586:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},72175:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},37690:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},58525:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},5243:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},10598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},4860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},31865:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},16938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(44509),ANIMATION_COMPLETE:t(84563),ANIMATION_COMPLETE_KEY:t(61586),ANIMATION_REPEAT:t(72175),ANIMATION_RESTART:t(568),ANIMATION_START:t(37690),ANIMATION_STOP:t(58525),ANIMATION_UPDATE:t(5243),PAUSE_ALL:t(10598),REMOVE_ANIMATION:t(4860),RESUME_ALL:t(31865)}},13517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(85463),AnimationFrame:t(71519),AnimationManager:t(90249),AnimationState:t(16569),Events:t(16938)}},23740:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(33885),o=t(6659),r=t(69773),s=new u({initialize:function(){this.entries=new v,this.events=new o},add:function(e,i){return this.entries.set(e,i),this.events.emit(r.ADD,this,e,i),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var i=this.get(e);return i&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,i.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=s},43474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23740),v=t(56694),o=t(97081),r=new v({initialize:function(e){this.game=e,this.binary=new u,this.bitmapFont=new u,this.json=new u,this.physics=new u,this.shader=new u,this.audio=new u,this.video=new u,this.text=new u,this.html=new u,this.obj=new u,this.tilemap=new u,this.xml=new u,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new u),this.custom[s]},destroy:function(){for(var s=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<s.length;e++)this[s[e]].destroy(),this[s[e]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});p.exports=r},94762:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},75968:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},69773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(94762),REMOVE:t(75968)}},45820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(23740),CacheManager:t(43474),Events:t(69773)}},51052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(75606),r=t(6659),s=t(89787),e=t(74118),i=t(69360),l=t(93222),n=t(93736),a=new u({Extends:r,Mixins:[v.AlphaSingle,v.Visible],initialize:function(h,d,c,g){h===void 0&&(h=0),d===void 0&&(d=0),c===void 0&&(c=0),g===void 0&&(g=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=h,this._y=d,this._width=c,this._height=g,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new i,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new n(c/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,h){return f===void 0&&(f=.5),h===void 0&&(h=f),this.originX=f,this.originY=h,this},getScroll:function(f,h,d){d===void 0&&(d=new n);var c=this.width*.5,g=this.height*.5;return d.x=f-c,d.y=h-g,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var h=this.width*.5;return this.midPoint.x=f,this.scrollX=f-h,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var h=this.height*.5;return this.midPoint.y=f,this.scrollY=f-h,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,h){return this.centerOnX(f),this.centerOnY(h),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,h=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-h,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var h=this.matrix.matrix,d=h[0],c=h[1],g=h[2],x=h[3],m=d*x-c*g;if(!m)return f;var y=h[4],T=h[5],R=this.scrollX,P=this.scrollY,D=this.width,I=this.height,w=this.y,U=w+I,G=this.x,H=G+D,z=this.culledObjects,$=f.length;m=1/m,z.length=0;for(var J=0;J<$;++J){var W=f[J];if(!W.hasOwnProperty("width")||W.parentContainer){z.push(W);continue}var K=W.width,N=W.height,b=W.x-R*W.scrollFactorX-K*W.originX,Y=W.y-P*W.scrollFactorY-N*W.originY,j=b*d+Y*g+y,Q=b*c+Y*x+T,q=(b+K)*d+(Y+N)*g+y,tt=(b+K)*c+(Y+N)*x+T;q>G&&j<H&&tt>w&&Q<U&&z.push(W)}return z},getWorldPoint:function(f,h,d){d===void 0&&(d=new n);var c=this.matrix.matrix,g=c[0],x=c[1],m=c[2],y=c[3],T=c[4],R=c[5],P=g*y-x*m;if(!P)return d.x=f,d.y=h,d;P=1/P;var D=y*P,I=-x*P,w=-m*P,U=g*P,G=(m*R-y*T)*P,H=(x*T-g*R)*P,z=Math.cos(this.rotation),$=Math.sin(this.rotation),J=this.zoomX,W=this.zoomY,K=this.scrollX,N=this.scrollY,b=f+(K*z-N*$)*J,Y=h+(K*$+N*z)*W;return d.x=b*D+Y*w+G,d.y=b*I+Y*U+H,d},ignore:function(f){var h=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var c=f[d];Array.isArray(c)?this.ignore(c):c.isParent?this.ignore(c.getChildren()):c.cameraFilter|=h}return this},preRender:function(){this.renderList.length=0;var f=this.width,h=this.height,d=f*.5,c=h*.5,g=this.zoomX,x=this.zoomY,m=this.matrix,y=f*this.originX,T=h*this.originY,R=this.scrollX,P=this.scrollY;this.useBounds&&(R=this.clampX(R),P=this.clampY(P)),this.roundPixels&&(y=Math.round(y),T=Math.round(T)),this.scrollX=R,this.scrollY=P;var D=R+d,I=P+c;this.midPoint.set(D,I);var w=f/g,U=h/x;this.worldView.setTo(D-w/2,I-U/2,w,U),m.applyITRS(this.x+y,this.y+T,this.rotation,g,x),m.translate(-y,-T)},clampX:function(f){var h=this._bounds,d=this.displayWidth,c=h.x+(d-this.width)/2,g=Math.max(c,c+h.width-d);return f<c?f=c:f>g&&(f=g),f},clampY:function(f){var h=this._bounds,d=this.displayHeight,c=h.y+(d-this.height)/2,g=Math.max(c,c+h.height-d);return f<c?f=c:f>g&&(f=g),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=o(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,h,d,c,g){return g===void 0&&(g=!1),this._bounds.setTo(f,h,d,c),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var h=this._bounds;return f.setTo(h.x,h.y,h.width,h.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,h){return h===void 0&&(h=f),this.x=f,this.y=h,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,h){h===void 0&&(h=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=h;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,h){return h===void 0&&(h=f),this.scrollX=f,this.scrollY=h,this},setSize:function(f,h){return h===void 0&&(h=f),this.width=f,this.height=h,this},setViewport:function(f,h,d,c){return this.x=f,this.y=h,this.width=d,this.height=c,this},setZoom:function(f,h){return f===void 0&&(f=1),h===void 0&&(h=f),f===0&&(f=.001),h===0&&(h=.001),this.zoomX=f,this.zoomY=h,this},setMask:function(f,h){return h===void 0&&(h=!0),this.mask=f,this._maskCamera=h?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,h=this.sceneManager;f&&!this._customViewport?h.customViewports++:!f&&this._customViewport&&h.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=a},47751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(51052),v=t(79993),o=t(82897),r=t(56694),s=t(64937),e=t(53030),i=t(89787),l=t(42798),n=t(74118),a=t(93736),f=new r({Extends:u,Mixins:[s.PostPipeline],initialize:function(d,c,g,x){u.call(this,d,c,g,x),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new a(1,1),this.followOffset=new a,this.deadzone=null,this._follow=null},setDeadzone:function(h,d){if(h===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=h,this.deadzone.height=d):this.deadzone=new n(0,0,h,d),this._follow){var c=this.width/2,g=this.height/2,x=this._follow.x-this.followOffset.x,m=this._follow.y-this.followOffset.y;this.midPoint.set(x,m),this.scrollX=x-c,this.scrollY=m-g}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(h,d,c,g,x,m){return this.fadeEffect.start(!1,h,d,c,g,!0,x,m)},fadeOut:function(h,d,c,g,x,m){return this.fadeEffect.start(!0,h,d,c,g,!0,x,m)},fadeFrom:function(h,d,c,g,x,m,y){return this.fadeEffect.start(!1,h,d,c,g,x,m,y)},fade:function(h,d,c,g,x,m,y){return this.fadeEffect.start(!0,h,d,c,g,x,m,y)},flash:function(h,d,c,g,x,m,y){return this.flashEffect.start(h,d,c,g,x,m,y)},shake:function(h,d,c,g,x){return this.shakeEffect.start(h,d,c,g,x)},pan:function(h,d,c,g,x,m,y){return this.panEffect.start(h,d,c,g,x,m,y)},rotateTo:function(h,d,c,g,x,m,y){return this.rotateToEffect.start(h,d,c,g,x,m,y)},zoomTo:function(h,d,c,g,x,m){return this.zoomEffect.start(h,d,c,g,x,m)},preRender:function(){this.renderList.length=0;var h=this.width,d=this.height,c=h*.5,g=d*.5,x=this.zoom,m=this.matrix,y=h*this.originX,T=d*this.originY,R=this._follow,P=this.deadzone,D=this.scrollX,I=this.scrollY;P&&v(P,this.midPoint.x,this.midPoint.y);var w=!1;if(this.roundPixels&&(y=Math.floor(y),T=Math.floor(T)),R&&!this.panEffect.isRunning){var U=this.lerp,G=R.x-this.followOffset.x,H=R.y-this.followOffset.y;this.roundPixels&&(G=Math.floor(G),H=Math.floor(H)),P?(G<P.x?D=l(D,D-(P.x-G),U.x):G>P.right&&(D=l(D,D+(G-P.right),U.x)),H<P.y?I=l(I,I-(P.y-H),U.y):H>P.bottom&&(I=l(I,I+(H-P.bottom),U.y))):(D=l(D,G-y,U.x),I=l(I,H-T,U.y)),w=!0}this.useBounds&&(D=this.clampX(D),I=this.clampY(I)),this.roundPixels&&(D=Math.floor(D),I=Math.floor(I)),this.scrollX=D,this.scrollY=I;var z=D+c,$=I+g;this.midPoint.set(z,$);var J=h/x,W=d/x,K=z-J/2,N=$-W/2;this.roundPixels&&(K=Math.floor(K),N=Math.floor(N)),this.worldView.setTo(K,N,J,W),m.applyITRS(Math.floor(this.x+y),Math.floor(this.y+T),this.rotation,x,x),m.translate(-y,-T),this.shakeEffect.preRender(),w&&this.emit(i.FOLLOW_UPDATE,this,R)},setLerp:function(h,d){return h===void 0&&(h=1),d===void 0&&(d=h),this.lerp.set(h,d),this},setFollowOffset:function(h,d){return h===void 0&&(h=0),d===void 0&&(d=0),this.followOffset.set(h,d),this},startFollow:function(h,d,c,g,x,m){d===void 0&&(d=!1),c===void 0&&(c=1),g===void 0&&(g=c),x===void 0&&(x=0),m===void 0&&(m=x),this._follow=h,this.roundPixels=d,c=o(c,0,1),g=o(g,0,1),this.lerp.set(c,g),this.followOffset.set(x,m);var y=this.width/2,T=this.height/2,R=h.x-x,P=h.y-m;return this.midPoint.set(R,P),this.scrollX=R-y,this.scrollY=P-T,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(h,d){this.visible&&(this.rotateToEffect.update(h,d),this.panEffect.update(h,d),this.zoomEffect.update(h,d),this.shakeEffect.update(h,d),this.flashEffect.update(h,d),this.fadeEffect.update(h,d))},destroy:function(){this.resetFX(),u.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=f},62382:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(47751),v=t(56694),o=t(72632),r=t(91963),s=t(94287),e=t(40444),i=t(7599),l=new v({initialize:function(a){this.scene=a,this.systems=a.sys,this.roundPixels=a.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,a.sys.events.once(i.BOOT,this.boot,this),a.sys.events.on(i.START,this.start,this)},boot:function(){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new u(0,0,n.scale.width,n.scale.height).setScene(this.scene),n.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){if(!this.main){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0]}var a=this.systems.events;a.on(i.UPDATE,this.update,this),a.once(i.SHUTDOWN,this.shutdown,this)},add:function(n,a,f,h,d,c){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=this.scene.sys.scale.width),h===void 0&&(h=this.scene.sys.scale.height),d===void 0&&(d=!1),c===void 0&&(c="");var g=new u(n,a,f,h);return g.setName(c),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),d&&(this.main=g),g},addExisting:function(n,a){a===void 0&&(a=!1);var f=this.cameras.indexOf(n);return f===-1?(n.id=this.getNextID(),n.setRoundPixels(this.roundPixels),this.cameras.push(n),a&&(this.main=n),n):null},getNextID:function(){for(var n=this.cameras,a=1,f=0;f<32;f++){for(var h=!1,d=0;d<n.length;d++){var c=n[d];if(c&&c.id===a){h=!0;continue}}if(h)a=a<<1;else return a}return 0},getTotal:function(n){n===void 0&&(n=!1);for(var a=0,f=this.cameras,h=0;h<f.length;h++){var d=f[h];(!n||n&&d.visible)&&a++}return a},fromJSON:function(n){Array.isArray(n)||(n=[n]);for(var a=this.scene.sys.scale.width,f=this.scene.sys.scale.height,h=0;h<n.length;h++){var d=n[h],c=o(d,"x",0),g=o(d,"y",0),x=o(d,"width",a),m=o(d,"height",f),y=this.add(c,g,x,m);y.name=o(d,"name",""),y.zoom=o(d,"zoom",1),y.rotation=o(d,"rotation",0),y.scrollX=o(d,"scrollX",0),y.scrollY=o(d,"scrollY",0),y.roundPixels=o(d,"roundPixels",!1),y.visible=o(d,"visible",!0);var T=o(d,"backgroundColor",!1);T&&y.setBackgroundColor(T);var R=o(d,"bounds",null);if(R){var P=o(R,"x",0),D=o(R,"y",0),I=o(R,"width",a),w=o(R,"height",f);y.setBounds(P,D,I,w)}}return this},getCamera:function(n){for(var a=this.cameras,f=0;f<a.length;f++)if(a[f].name===n)return a[f];return null},getCamerasBelowPointer:function(n){for(var a=this.cameras,f=n.x,h=n.y,d=[],c=0;c<a.length;c++){var g=a[c];g.visible&&g.inputEnabled&&s(g,f,h)&&d.unshift(g)}return d},remove:function(n,a){a===void 0&&(a=!0),Array.isArray(n)||(n=[n]);for(var f=0,h=this.cameras,d=0;d<n.length;d++){var c=h.indexOf(n[d]);c!==-1&&(a?h[c].destroy():h[c].renderList=[],h.splice(c,1),f++)}return!this.main&&h[0]&&(this.main=h[0]),f},render:function(n,a){for(var f=this.scene,h=this.cameras,d=0;d<h.length;d++){var c=h[d];if(c.visible&&c.alpha>0){c.preRender();var g=this.getVisibleChildren(a.getChildren(),c);n.render(f,g,c)}}},getVisibleChildren:function(n,a){return n.filter(function(f){return f.willRender(a)})},resetAll:function(){for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(n,a){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(n,a)},onResize:function(n,a,f,h,d){for(var c=0;c<this.cameras.length;c++){var g=this.cameras[c];g._x===0&&g._y===0&&g._width===h&&g._height===d&&g.setSize(a.width,a.height)}},resize:function(n,a){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(n,a)},shutdown:function(){this.main=void 0;for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();this.cameras=[];var a=this.systems.events;a.off(i.UPDATE,this.update,this),a.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(i.START,this.start,this),this.systems.events.off(i.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",l,"cameras"),p.exports=l},92522:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(89787),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,e,i,l,n,a,f,h){if(s===void 0&&(s=!0),e===void 0&&(e=1e3),i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=!1),f===void 0&&(f=null),h===void 0&&(h=this.camera.scene),!a&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=s,this.progress=0,this.red=i,this.green=l,this.blue=n,this.alpha=s?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=h;var d=s?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,i,l,n),this.camera},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(s){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,l=this.red/255,n=this.green/255,a=this.blue/255;return s.drawFillRect(i.x,i.y,i.width,i.height,e(a,n,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var s=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(s,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},22151:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(89787),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(s,e,i,l,n,a,f){return s===void 0&&(s=250),e===void 0&&(e=255),i===void 0&&(i=255),l===void 0&&(l=255),n===void 0&&(n=!1),a===void 0&&(a=null),f===void 0&&(f=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,this.red=e,this.green=i,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=f,this.camera.emit(o.FLASH_START,this.camera,this,s,e,i,l),this.camera)},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(s){if(!this.isRunning)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning)return!1;var i=this.camera,l=this.red/255,n=this.green/255,a=this.blue/255;return s.drawFillRect(i.x,i.y,i.width,i.height,e(a,n,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},37551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(35060),r=t(89787),s=t(93736),e=new v({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,l,n,a,f,h,d){n===void 0&&(n=1e3),a===void 0&&(a=o.Linear),f===void 0&&(f=!1),h===void 0&&(h=null),d===void 0&&(d=this.camera.scene);var c=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(i,l),c.getScroll(i,l,this.current),typeof a=="string"&&o.hasOwnProperty(a)?this.ease=o[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=d,this.camera.emit(r.PAN_START,this.camera,this,n,i,l)),c},update:function(i,l){if(this.isRunning){this._elapsed+=l;var n=u(this._elapsed/this.duration,0,1);this.progress=n;var a=this.camera;if(this._elapsed<this.duration){var f=this.ease(n);a.getScroll(this.destination.x,this.destination.y,this.current);var h=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;a.setScroll(h,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,n,h,d)}else a.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,n,a.scrollX,a.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=e},1771:(p,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var u=t(82897),v=t(56694),o=t(89787),r=t(35060),s=new v({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,i,l,n,a,f,h){l===void 0&&(l=1e3),n===void 0&&(n=r.Linear),a===void 0&&(a=!1),f===void 0&&(f=null),h===void 0&&(h=this.camera.scene),i===void 0&&(i=!1),this.shortestPath=i;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;d=d-Math.floor(d/c)*c;var g=this.camera;if(!a&&this.isRunning)return g;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=g.rotation,this.destination=d,typeof n=="string"&&r.hasOwnProperty(n)?this.ease=r[n]:typeof n=="function"&&(this.ease=n),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=h,this.shortestPath){var x=0,m=0;this.destination>this.source?x=Math.abs(this.destination-this.source):x=Math.abs(this.destination+c)-this.source,this.source>this.destination?m=Math.abs(this.source-this.destination):m=Math.abs(this.source+c)-this.destination,x<m?this.clockwise=!0:x>m&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,d),g},update:function(e,i){if(this.isRunning){this._elapsed+=i;var l=u(this._elapsed/this.duration,0,1);this.progress=l;var n=this.camera;if(this._elapsed<this.duration){var a=this.ease(l);this.current=n.rotation;var f=0,h=360*Math.PI/180,d=this.destination,c=this.current;this.clockwise===!1&&(d=this.current,c=this.destination),d>=c?f=Math.abs(d-c):f=Math.abs(d+h)-c;var g=0;this.clockwise?g=n.rotation+f*a:g=n.rotation-f*a,n.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,l,g)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=s},3241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(89787),r=t(93736),s=new v({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,i,l,n,a){return e===void 0&&(e=100),i===void 0&&(i=.05),l===void 0&&(l=!1),n===void 0&&(n=null),a===void 0&&(a=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof i=="number"?this.intensity.set(i):this.intensity.set(i.x,i.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=a,this.camera.emit(o.SHAKE_START,this.camera,this,e,i),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,i){if(this.isRunning)if(this._elapsed+=i,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,n=this.camera.width,a=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*n*2-l.x*n)*f,this._offsetY=(Math.random()*l.y*a*2-l.y*a)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=s},13383:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(35060),r=t(89787),s=new v({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,i,l,n,a,f){i===void 0&&(i=1e3),l===void 0&&(l=o.Linear),n===void 0&&(n=!1),a===void 0&&(a=null),f===void 0&&(f=this.camera.scene);var h=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source=h.zoom,this.destination=e,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=a,this._onUpdateScope=f,this.camera.emit(r.ZOOM_START,this.camera,this,i,e)),h},update:function(e,i){this.isRunning&&(this._elapsed+=i,this.progress=u(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=s},53030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(92522),Flash:t(22151),Pan:t(37551),Shake:t(3241),RotateTo:t(1771),Zoom:t(13383)}},39577:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},85373:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},92057:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},1903:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},96131:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},85409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},25500:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},44071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},19818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},80002:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},87966:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},74217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},34805:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},30408:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},49856:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},69189:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},67657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},14229:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},89787:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(39577),FADE_IN_COMPLETE:t(85373),FADE_IN_START:t(92057),FADE_OUT_COMPLETE:t(1903),FADE_OUT_START:t(96131),FLASH_COMPLETE:t(85409),FLASH_START:t(25500),FOLLOW_UPDATE:t(44071),PAN_COMPLETE:t(19818),PAN_START:t(80002),POST_RENDER:t(87966),PRE_RENDER:t(74217),ROTATE_COMPLETE:t(34805),ROTATE_START:t(30408),SHAKE_COMPLETE:t(49856),SHAKE_START:t(69189),ZOOM_COMPLETE:t(67657),ZOOM_START:t(14229)}},32356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(47751),BaseCamera:t(51052),CameraManager:t(62382),Effects:t(53030),Events:t(89787)}},84219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(10850),o=new u({initialize:function(s){this.camera=v(s,"camera",null),this.left=v(s,"left",null),this.right=v(s,"right",null),this.up=v(s,"up",null),this.down=v(s,"down",null),this.zoomIn=v(s,"zoomIn",null),this.zoomOut=v(s,"zoomOut",null),this.zoomSpeed=v(s,"zoomSpeed",.01),this.minZoom=v(s,"minZoom",.001),this.maxZoom=v(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=v(s,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=v(s,"speed.x",0),this.speedY=v(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<this.minZoom&&(s.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed,s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=o},69370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(10850),o=new u({initialize:function(s){this.camera=v(s,"camera",null),this.left=v(s,"left",null),this.right=v(s,"right",null),this.up=v(s,"up",null),this.down=v(s,"down",null),this.zoomIn=v(s,"zoomIn",null),this.zoomOut=v(s,"zoomOut",null),this.zoomSpeed=v(s,"zoomSpeed",.01),this.minZoom=v(s,"minZoom",.001),this.maxZoom=v(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=v(s,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=v(s,"acceleration.x",0),this.accelY=v(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=v(s,"drag",null);typeof i=="number"?(this.dragX=i,this.dragY=i):(this.dragX=v(s,"drag.x",0),this.dragY=v(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=v(s,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=v(s,"maxSpeed.x",0),this.maxSpeedY=v(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(s.scrollX-=this._speedX*r|0),this._speedY!==0&&(s.scrollY-=this._speedY*r|0),this._zoom!==0&&(s.zoom+=this._zoom,s.zoom<this.minZoom?s.zoom=this.minZoom:s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=o},6524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(84219),SmoothedKeyControl:t(69370)}},44143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(6524),Scene2D:t(32356)}},86459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={VERSION:"3.60.0",BlendModes:t(95723),ScaleModes:t(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=u},14033:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(86459),o=t(18360),r=t(77290),s=t(72632),e=t(10850),i=t(42911),l=t(72283),n=t(5923),a=t(65641),f=t(93222),h=new u({initialize:function(c){c===void 0&&(c={});var g=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],x="#ffffff",m=e(c,"scale",null);this.width=e(m,"width",1024,c),this.height=e(m,"height",768,c),this.zoom=e(m,"zoom",1,c),this.parent=e(m,"parent",void 0,c),this.scaleMode=e(m,m?"mode":"scaleMode",0,c),this.expandParent=e(m,"expandParent",!0,c),this.autoRound=e(m,"autoRound",!1,c),this.autoCenter=e(m,"autoCenter",0,c),this.resizeInterval=e(m,"resizeInterval",500,c),this.fullscreenTarget=e(m,"fullscreenTarget",null,c),this.minWidth=e(m,"minWidth",0,c),this.maxWidth=e(m,"maxWidth",0,c),this.minHeight=e(m,"minHeight",0,c),this.maxHeight=e(m,"maxHeight",0,c),this.renderType=e(c,"type",v.AUTO),this.canvas=e(c,"canvas",null),this.context=e(c,"context",null),this.canvasStyle=e(c,"canvasStyle",null),this.customEnvironment=e(c,"customEnvironment",!1),this.sceneConfig=e(c,"scene",null),this.seed=e(c,"seed",[(Date.now()*Math.random()).toString()]),n.RND=new n.RandomDataGenerator(this.seed),this.gameTitle=e(c,"title",""),this.gameURL=e(c,"url","https://phaser.io"),this.gameVersion=e(c,"version",""),this.autoFocus=e(c,"autoFocus",!0),this.stableSort=e(c,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(c,"dom.createContainer",!1),this.domPointerEvents=e(c,"dom.pointerEvents","none"),this.inputKeyboard=e(c,"input.keyboard",!0),this.inputKeyboardEventTarget=e(c,"input.keyboard.target",window),this.inputKeyboardCapture=e(c,"input.keyboard.capture",[]),this.inputMouse=e(c,"input.mouse",!0),this.inputMouseEventTarget=e(c,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(c,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(c,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(c,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(c,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(c,"input.touch",r.input.touch),this.inputTouchEventTarget=e(c,"input.touch.target",null),this.inputTouchCapture=e(c,"input.touch.capture",!0),this.inputActivePointers=e(c,"input.activePointers",1),this.inputSmoothFactor=e(c,"input.smoothFactor",0),this.inputWindowEvents=e(c,"input.windowEvents",!0),this.inputGamepad=e(c,"input.gamepad",!1),this.inputGamepadEventTarget=e(c,"input.gamepad.target",window),this.disableContextMenu=e(c,"disableContextMenu",!1),this.audio=e(c,"audio",{}),this.hideBanner=e(c,"banner",null)===!1,this.hidePhaser=e(c,"banner.hidePhaser",!1),this.bannerTextColor=e(c,"banner.text",x),this.bannerBackgroundColor=e(c,"banner.background",g),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(c,"fps",null);var y=e(c,"render",null);this.pipeline=e(y,"pipeline",null,c),this.autoMobilePipeline=e(y,"autoMobilePipeline",!0,c),this.defaultPipeline=e(y,"defaultPipeline",a.MULTI_PIPELINE,c),this.antialias=e(y,"antialias",!0,c),this.antialiasGL=e(y,"antialiasGL",!0,c),this.mipmapFilter=e(y,"mipmapFilter","",c),this.desynchronized=e(y,"desynchronized",!1,c),this.roundPixels=e(y,"roundPixels",!1,c),this.pixelArt=e(y,"pixelArt",this.zoom!==1,c),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(y,"transparent",!1,c),this.clearBeforeRender=e(y,"clearBeforeRender",!0,c),this.preserveDrawingBuffer=e(y,"preserveDrawingBuffer",!1,c),this.premultipliedAlpha=e(y,"premultipliedAlpha",!0,c),this.failIfMajorPerformanceCaveat=e(y,"failIfMajorPerformanceCaveat",!1,c),this.powerPreference=e(y,"powerPreference","default",c),this.batchSize=e(y,"batchSize",4096,c),this.maxTextures=e(y,"maxTextures",-1,c),this.maxLights=e(y,"maxLights",10,c);var T=e(c,"backgroundColor",0);this.backgroundColor=f(T),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(c,"callbacks.preBoot",l),this.postBoot=e(c,"callbacks.postBoot",l),this.physics=e(c,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(c,"loader.baseURL",""),this.loaderPath=e(c,"loader.path",""),this.loaderMaxParallelDownloads=e(c,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(c,"loader.crossOrigin",void 0),this.loaderResponseType=e(c,"loader.responseType",""),this.loaderAsync=e(c,"loader.async",!0),this.loaderUser=e(c,"loader.user",""),this.loaderPassword=e(c,"loader.password",""),this.loaderTimeout=e(c,"loader.timeout",0),this.loaderWithCredentials=e(c,"loader.withCredentials",!1),this.loaderImageLoadType=e(c,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(c,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(c,"fx.glow.quality",.1),this.glowFXDistance=e(c,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=e(c,"plugins",null),P=o.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:i(R)&&(this.installGlobalPlugins=s(R,"global",[]),this.installScenePlugins=s(R,"scene",[]),Array.isArray(R.default)?P=R.default:Array.isArray(R.defaultMerge)&&(P=P.concat(R.defaultMerge)))),this.defaultPlugins=P;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(c,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(c,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(c,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});p.exports=h},50150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70616),v=t(61068),o=t(86459),r=t(90185),s=function(e){var i=e.config;if((i.customEnvironment||i.canvas)&&i.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!i.customEnvironment&&!i.canvas&&i.renderType!==o.HEADLESS)if(i.renderType===o.AUTO&&(i.renderType=r.webGL?o.WEBGL:o.CANVAS),i.renderType===o.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(i.renderType===o.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+i.renderType);i.antialias||v.disableSmoothing();var l=e.scale.baseSize,n=l.width,a=l.height;if(i.canvas?(e.canvas=i.canvas,e.canvas.width=n,e.canvas.height=a):e.canvas=v.create(e,n,a,i.renderType),i.canvasStyle&&(e.canvas.style=i.canvasStyle),i.antialias||u.setCrisp(e.canvas),i.renderType!==o.HEADLESS){var f,h;f=t(91135),h=t(11857),i.renderType===o.WEBGL?e.renderer=new h(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};p.exports=s},77291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(86459),v=function(o){var r=o.config;if(!r.hideBanner){var s="WebGL";r.renderType===u.CANVAS?s="Canvas":r.renderType===u.HEADLESS&&(s="Headless");var e=r.audio,i=o.device.audio,l;if(i.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!i.webAudio&&!i.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+u.VERSION+" / https://phaser.io");else{var n="",a=[n];if(Array.isArray(r.bannerBackgroundColor)){var f;r.bannerBackgroundColor.forEach(function(d){n=n.concat("%c "),a.push("background: "+d),f=d}),a[a.length-1]="color: "+r.bannerTextColor+"; background: "+f}else n=n.concat("%c "),a.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);a.push("background: transparent"),r.gameTitle&&(n=n.concat(r.gameTitle),r.gameVersion&&(n=n.concat(" v"+r.gameVersion)),r.hidePhaser||(n=n.concat(" / ")));var h="";r.hidePhaser||(n=n.concat("Phaser v"+u.VERSION+h+" ("+s+" | "+l+")")),n=n.concat(" %c "+r.gameURL),a[0]=n,console.log.apply(console,a)}}};p.exports=v},15213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99584),v=t(90249),o=t(43474),r=t(61068),s=t(56694),e=t(14033),i=t(85178),l=t(50150),n=t(81078),a=t(77291),f=t(77290),h=t(21546),d=t(6659),c=t(97081),g=t(69898),x=t(91963),m=t(49274),y=t(756),T=t(13553),R=t(38203),P=t(6237),D=t(26617),I=t(26493),w=t(84191),U=new s({initialize:function(H){this.config=new e(H),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new v(this),this.textures=new P(this),this.cache=new o(this),this.registry=new n(this,new d),this.input=new g(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=f,this.scale=new y(this,this.config),this.sound=null,this.sound=w.create(this),this.loop=new D(this,this.config.fps),this.plugins=new m(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,h(this.boot.bind(this))},boot:function(){if(!x.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),i(this),a(this),u(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(c.BOOT)},texturesReady:function(){this.events.emit(c.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),I(this);var G=this.events;G.on(c.HIDDEN,this.onHidden,this),G.on(c.VISIBLE,this.onVisible,this),G.on(c.BLUR,this.onBlur,this),G.on(c.FOCUS,this.onFocus,this)},step:function(G,H){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(c.PRE_STEP,G,H),z.emit(c.STEP,G,H),this.scene.update(G,H),z.emit(c.POST_STEP,G,H);var $=this.renderer;$.preRender(),z.emit(c.PRE_RENDER,$,G,H),this.scene.render($),$.postRender(),z.emit(c.POST_RENDER,$,G,H)}},headlessStep:function(G,H){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(c.PRE_STEP,G,H),z.emit(c.STEP,G,H),this.scene.update(G,H),z.emit(c.POST_STEP,G,H),this.scene.isProcessing=!1,z.emit(c.PRE_RENDER,null,G,H),z.emit(c.POST_RENDER,null,G,H)}},onHidden:function(){this.loop.pause(),this.events.emit(c.PAUSE)},pause:function(){var G=this.isPaused;this.isPaused=!0,G||this.events.emit(c.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(c.RESUME)},resume:function(){var G=this.isPaused;this.isPaused=!1,G&&this.events.emit(c.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(G,H){H===void 0&&(H=!1),this.pendingDestroy=!0,this.removeCanvas=G,this.noReturn=H},runDestroy:function(){this.scene.destroy(),this.events.emit(c.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=U},26617:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(10850),o=t(72283),r=t(27385),s=new u({initialize:function(i,l){this.game=i,this.raf=new r,this.started=!1,this.running=!1,this.minFps=v(l,"min",5),this.targetFps=v(l,"target",60),this.fpsLimit=v(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=v(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(l,"deltaHistory",10),this.panicMax=v(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=Math.min(this._target,this.deltaHistory[i]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var i=this.deltaIndex,l=this.deltaHistory,n=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[i],e=Math.min(e,this._min)),l[i]=e,this.deltaIndex++,this.deltaIndex>=n&&(this.deltaIndex=0);for(var a=0,f=0;f<n;f++)a+=l[f];return a/=n,a},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var i=Math.max(0,e-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta+=i,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var i=Math.max(0,e-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta=i,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,i),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var i=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+i));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=s},26493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97081),v=function(o){var r,s=o.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},r=l+"visibilitychange")})}var i=function(l){document.hidden||l.type==="pause"?s.emit(u.HIDDEN):s.emit(u.VISIBLE)};r&&document.addEventListener(r,i,!1),window.onblur=function(){s.emit(u.BLUR)},window.onfocus=function(){s.emit(u.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};p.exports=v},41651:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},5520:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},51673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},25055:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},23767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},57564:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},38327:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},43807:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},73652:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},780:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},13781:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},38247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},29129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},34994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},98704:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},97081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(41651),BOOT:t(5520),CONTEXT_LOST:t(51673),DESTROY:t(25055),FOCUS:t(23767),HIDDEN:t(57564),PAUSE:t(38327),POST_RENDER:t(43807),POST_STEP:t(73652),PRE_RENDER:t(780),PRE_STEP:t(13781),READY:t(38247),RESUME:t(29129),STEP:t(34994),VISIBLE:t(98704)}},80293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(14033),CreateRenderer:t(50150),DebugHeader:t(77291),Events:t(97081),TimeStep:t(26617),VisibilityHandler:t(26493)}},52780:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(81543),v=t(61068),o=t(10850),r=function(s){var e=o(s,"data",[]),i=o(s,"canvas",null),l=o(s,"palette",u),n=o(s,"pixelWidth",1),a=o(s,"pixelHeight",n),f=o(s,"resizeCanvas",!0),h=o(s,"clearCanvas",!0),d=o(s,"preRender",null),c=o(s,"postRender",null),g=Math.floor(Math.abs(e[0].length*n)),x=Math.floor(Math.abs(e.length*a));i||(i=v.create2D(this,g,x),f=!1,h=!1),f&&(i.width=g,i.height=x);var m=i.getContext("2d",{willReadFrequently:!0});h&&m.clearRect(0,0,g,x),d&&d(i,m);for(var y=0;y<e.length;y++)for(var T=e[y],R=0;R<T.length;R++){var P=T[R];P!=="."&&P!==" "&&(m.fillStyle=l[P],m.fillRect(R*n,y*a,n,a))}return c&&c(i,m),i};p.exports=r},84106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(52780),Palettes:t(25235)}},81543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(81543),C64:t(75846),CGA:t(83206),JMP:t(13194),MSX:t(50686)}},63120:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(34631),o=t(38517),r=t(93736),s=new u({Extends:o,initialize:function(i,l,n,a){o.call(this,"CubicBezierCurve"),Array.isArray(i)&&(a=new r(i[6],i[7]),n=new r(i[4],i[5]),l=new r(i[2],i[3]),i=new r(i[0],i[1])),this.p0=i,this.p1=l,this.p2=n,this.p3=a},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,i){i===void 0&&(i=new r);var l=this.p0,n=this.p1,a=this.p2,f=this.p3;return i.set(v(e,l.x,n.x,a.x,f.x),v(e,l.y,n.y,a.y,f.y))},draw:function(e,i){i===void 0&&(i=32);var l=this.getPoints(i);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<l.length;n++)e.lineTo(l[n].x,l[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(e){var i=e.points,l=new r(i[0],i[1]),n=new r(i[2],i[3]),a=new r(i[4],i[5]),f=new r(i[6],i[7]);return new s(l,n,a,f)},p.exports=s},38517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(80222),o=t(74118),r=t(93736),s=new u({initialize:function(i){this.type=i,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,i){return i===void 0&&(i=32),e.strokePoints(this.getPoints(i))},getBounds:function(e,i){e||(e=new o),i===void 0&&(i=16);var l=this.getLength();i>l&&(i=l/2);var n=Math.max(1,Math.round(l/i));return v(this.getSpacedPoints(n),e)},getDistancePoints:function(e){var i=this.getLength(),l=Math.max(1,i/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var i=[],l,n=this.getPoint(0,this._tmpVec2A),a=0;i.push(0);for(var f=1;f<=e;f++)l=this.getPoint(f/e,this._tmpVec2B),a+=l.distance(n),i.push(a),n.copy(l);return this.cacheArcLengths=i,i},getPointAt:function(e,i){var l=this.getUtoTmapping(e);return this.getPoint(l,i)},getPoints:function(e,i,l){l===void 0&&(l=[]),e||(i?e=this.getLength()/i:e=this.defaultDivisions);for(var n=0;n<=e;n++)l.push(this.getPoint(n/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,i,l){l===void 0&&(l=[]),e||(i?e=this.getLength()/i:e=this.defaultDivisions);for(var n=0;n<=e;n++){var a=this.getUtoTmapping(n/e,null,e);l.push(this.getPoint(a))}return l},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,i){i===void 0&&(i=new r);var l=1e-4,n=e-l,a=e+l;return n<0&&(n=0),a>1&&(a=1),this.getPoint(n,this._tmpVec2A),this.getPoint(a,i),i.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,i){var l=this.getUtoTmapping(e);return this.getTangent(l,i)},getTFromDistance:function(e,i){return e<=0?0:this.getUtoTmapping(0,e,i)},getUtoTmapping:function(e,i,l){var n=this.getLengths(l),a=0,f=n.length,h;i?h=Math.min(i,n[f-1]):h=e*n[f-1];for(var d=0,c=f-1,g;d<=c;)if(a=Math.floor(d+(c-d)/2),g=n[a]-h,g<0)d=a+1;else if(g>0)c=a-1;else{c=a;break}if(a=c,n[a]===h)return a/(f-1);var x=n[a],m=n[a+1],y=m-x,T=(h-x)/y;return(a+T)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=s},48835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(38517),o=t(75606),r=t(10850),s=t(23701),e=t(93736),i=new u({Extends:v,initialize:function(n,a,f,h,d,c,g,x){if(typeof n=="object"){var m=n;n=r(m,"x",0),a=r(m,"y",0),f=r(m,"xRadius",0),h=r(m,"yRadius",f),d=r(m,"startAngle",0),c=r(m,"endAngle",360),g=r(m,"clockwise",!1),x=r(m,"rotation",0)}else h===void 0&&(h=f),d===void 0&&(d=0),c===void 0&&(c=360),g===void 0&&(g=!1),x===void 0&&(x=0);v.call(this,"EllipseCurve"),this.p0=new e(n,a),this._xRadius=f,this._yRadius=h,this._startAngle=o(d),this._endAngle=o(c),this._clockwise=g,this._rotation=o(x)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,n){n===void 0&&(n=new e);for(var a=Math.PI*2,f=this._endAngle-this._startAngle,h=Math.abs(f)<Number.EPSILON;f<0;)f+=a;for(;f>a;)f-=a;f<Number.EPSILON&&(h?f=0:f=a),this._clockwise&&!h&&(f===a?f=-a:f=f-a);var d=this._startAngle+l*f,c=this.p0.x+this._xRadius*Math.cos(d),g=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var x=Math.cos(this._rotation),m=Math.sin(this._rotation),y=c-this.p0.x,T=g-this.p0.y;c=y*x-T*m+this.p0.x,g=y*m+T*x+this.p0.y}return n.set(c,g)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return s(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return s(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return s(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});i.fromJSON=function(l){return new i(l)},p.exports=i},58084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(38517),o=t(80222),r=t(74118),s=t(93736),e=new u({Extends:v,initialize:function(l,n){v.call(this,"LineCurve"),Array.isArray(l)&&(n=new s(l[2],l[3]),l=new s(l[0],l[1])),this.p0=l,this.p1=n,this.arcLengthDivisions=1},getBounds:function(i){return i===void 0&&(i=new r),o([this.p0,this.p1],i)},getStartPoint:function(i){return i===void 0&&(i=new s),i.copy(this.p0)},getResolution:function(i){return i===void 0&&(i=1),i},getPoint:function(i,l){return l===void 0&&(l=new s),i===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(i).add(this.p0),l)},getPointAt:function(i,l){return this.getPoint(i,l)},getTangent:function(i,l){return l===void 0&&(l=new s),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(i,l,n){var a;if(l){var f=this.getLengths(n),h=f[f.length-1],d=Math.min(l,h);a=d/h}else a=i;return a},draw:function(i){return i.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(i){var l=i.points,n=new s(l[0],l[1]),a=new s(l[2],l[3]);return new e(n,a)},p.exports=e},64761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(38517),o=t(16252),r=t(93736),s=new u({Extends:v,initialize:function(i,l,n){v.call(this,"QuadraticBezierCurve"),Array.isArray(i)&&(n=new r(i[4],i[5]),l=new r(i[2],i[3]),i=new r(i[0],i[1])),this.p0=i,this.p1=l,this.p2=n},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,i){i===void 0&&(i=new r);var l=this.p0,n=this.p1,a=this.p2;return i.set(o(e,l.x,n.x,a.x),o(e,l.y,n.y,a.y))},draw:function(e,i){i===void 0&&(i=32);var l=this.getPoints(i);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<l.length;n++)e.lineTo(l[n].x,l[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(e){var i=e.points,l=new r(i[0],i[1]),n=new r(i[2],i[3]),a=new r(i[4],i[5]);return new s(l,n,a)},p.exports=s},11956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(14976),v=t(56694),o=t(38517),r=t(93736),s=new v({Extends:o,initialize:function(i){i===void 0&&(i=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(i)},addPoints:function(e){for(var i=0;i<e.length;i++){var l=new r;typeof e[i]=="number"?(l.x=e[i],l.y=e[i+1],i++):Array.isArray(e[i])?(l.x=e[i][0],l.y=e[i][1]):(l.x=e[i].x,l.y=e[i].y),this.points.push(l)}return this},addPoint:function(e,i){var l=new r(e,i);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,i){i===void 0&&(i=new r);var l=this.points,n=(l.length-1)*e,a=Math.floor(n),f=n-a,h=l[a===0?a:a-1],d=l[a],c=l[a>l.length-2?l.length-1:a+1],g=l[a>l.length-3?l.length-1:a+2];return i.set(u(f,h.x,d.x,c.x,g.x),u(f,h.y,d.y,c.y,g.y))},toJSON:function(){for(var e=[],i=0;i<this.points.length;i++)e.push(this.points[i].x),e.push(this.points[i].y);return{type:this.type,points:e}}});s.fromJSON=function(e){return new s(e.points)},p.exports=s},73962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(12822),MoveTo:t(53639),CubicBezier:t(63120),Curve:t(38517),Ellipse:t(48835),Line:t(58084),QuadraticBezier:t(64761),Spline:t(11956)}},53639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(93736),o=new u({initialize:function(s,e){this.active=!1,this.p0=new v(s,e)},getPoint:function(r,s){return s===void 0&&(s=new v),s.copy(this.p0)},getPointAt:function(r,s){return this.getPoint(r,s)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=o},12822:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(63120),o=t(48835),r=t(61286),s=t(58084),e=t(53639),i=t(64761),l=t(74118),n=t(11956),a=t(93736),f=t(83392),h=new u({initialize:function(c,g){c===void 0&&(c=0),g===void 0&&(g=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new a,this._tmpVec2A=new a,this._tmpVec2B=new a,typeof c=="object"?this.fromJSON(c):this.startPoint.set(c,g)},add:function(d){return this.curves.push(d),this},circleTo:function(d,c,g){return c===void 0&&(c=!1),this.ellipseTo(d,d,0,360,c,g)},closePath:function(){var d=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);return d.equals(c)||this.curves.push(new s(c,d)),this},cubicBezierTo:function(d,c,g,x,m,y){var T=this.getEndPoint(),R,P,D;return d instanceof a?(R=d,P=c,D=g):(R=new a(g,x),P=new a(m,y),D=new a(d,c)),this.add(new v(T,R,P,D))},quadraticBezierTo:function(d,c,g,x){var m=this.getEndPoint(),y,T;return d instanceof a?(y=d,T=c):(y=new a(g,x),T=new a(d,c)),this.add(new i(m,y,T))},draw:function(d,c){for(var g=0;g<this.curves.length;g++){var x=this.curves[g];x.active&&x.draw(d,c)}return d},ellipseTo:function(d,c,g,x,m,y){var T=new o(0,0,d,c,g,x,m,y),R=this.getEndPoint(this._tmpVec2A),P=T.getStartPoint(this._tmpVec2B);return R.subtract(P),T.x=R.x,T.y=R.y,this.add(T)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var c=0;c<d.curves.length;c++){var g=d.curves[c];switch(g.type){case"LineCurve":this.add(s.fromJSON(g));break;case"EllipseCurve":this.add(o.fromJSON(g));break;case"SplineCurve":this.add(n.fromJSON(g));break;case"CubicBezierCurve":this.add(v.fromJSON(g));break;case"QuadraticBezierCurve":this.add(i.fromJSON(g));break}}return this},getBounds:function(d,c){d===void 0&&(d=new l),c===void 0&&(c=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var g=new l,x=f.MIN_SAFE_INTEGER,m=f.MIN_SAFE_INTEGER,y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&(T.getBounds(g,c),d.x=Math.min(d.x,g.x),d.y=Math.min(d.y,g.y),x=Math.max(x,g.right),m=Math.max(m,g.bottom))}return d.right=x,d.bottom=m,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],c=0,g=0;g<this.curves.length;g++)c+=this.curves[g].getLength(),d.push(c);return this.cacheLengths=d,d},getCurveAt:function(d){for(var c=d*this.getLength(),g=this.getCurveLengths(),x=0;x<g.length;){if(g[x]>=c)return this.curves[x];x++}return null},getEndPoint:function(d){return d===void 0&&(d=new a),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,c){c===void 0&&(c=new a);for(var g=d*this.getLength(),x=this.getCurveLengths(),m=0;m<x.length;){if(x[m]>=g){var y=x[m]-g,T=this.curves[m],R=T.getLength(),P=R===0?0:1-y/R;return T.getPointAt(P,c)}m++}return null},getPoints:function(d){d===void 0&&(d=12);for(var c=[],g,x=0;x<this.curves.length;x++){var m=this.curves[x];if(m.active)for(var y=m.getResolution(d),T=m.getPoints(y),R=0;R<T.length;R++){var P=T[R];g&&g.equals(P)||(c.push(P),g=P)}}return this.autoClose&&c.length>1&&!c[c.length-1].equals(c[0])&&c.push(c[0]),c},getRandomPoint:function(d){return d===void 0&&(d=new a),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var c=[],g=0;g<=d;g++)c.push(this.getPoint(g/d));return this.autoClose&&c.push(c[0]),c},getStartPoint:function(d){return d===void 0&&(d=new a),d.copy(this.startPoint)},getTangent:function(d,c){c===void 0&&(c=new a);for(var g=d*this.getLength(),x=this.getCurveLengths(),m=0;m<x.length;){if(x[m]>=g){var y=x[m]-g,T=this.curves[m],R=T.getLength(),P=R===0?0:1-y/R;return T.getTangentAt(P,c)}m++}return null},lineTo:function(d,c){d instanceof a?this._tmpVec2B.copy(d):this._tmpVec2B.set(d,c);var g=this.getEndPoint(this._tmpVec2A);return this.add(new s([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new n(d))},moveTo:function(d,c){return d instanceof a?this.add(new e(d.x,d.y)):this.add(new e(d,c))},toJSON:function(){for(var d=[],c=0;c<this.curves.length;c++)d.push(this.curves[c].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(d,c){return new h(d,c)}),p.exports=h},81078:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(35026),o=new u({initialize:function(s,e){this.parent=s,this.events=e,e||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(r){var s=this.list;if(Array.isArray(r)){for(var e=[],i=0;i<r.length;i++)e.push(s[r[i]]);return e}else return s[r]},getAll:function(){var r={};for(var s in this.list)this.list.hasOwnProperty(s)&&(r[s]=this.list[s]);return r},query:function(r){var s={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(s[e]=this.list[e]);return s},set:function(r,s){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,s);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,s){if(this._frozen)return this;s===void 0&&(s=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+s),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,s){if(this._frozen)return this;if(this.has(r))this.values[r]=s;else{var e=this,i=this.list,l=this.events,n=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return i[r]},set:function(a){if(!e._frozen){var f=i[r];i[r]=a,l.emit(v.CHANGE_DATA,n,r,a,f),l.emit(v.CHANGE_DATA_KEY+r,n,a,f)}}}),i[r]=s,l.emit(v.SET_DATA,n,r,s)}return this},each:function(r,s){for(var e=[this.parent,null,void 0],i=1;i<arguments.length;i++)e.push(arguments[i]);for(var l in this.list)e[1]=l,e[2]=this.list[l],r.apply(s,e);return this},merge:function(r,s){s===void 0&&(s=!0);for(var e in r)r.hasOwnProperty(e)&&(s||!s&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var s=0;s<r.length;s++)this.removeValue(r[s]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var s=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,s)}return this},pop:function(r){var s=void 0;return!this._frozen&&this.has(r)&&(s=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,s)),s},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var s in this.list)this.list[s]!==void 0&&r++;return r}}});p.exports=o},76508:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(81078),o=t(91963),r=t(7599),s=new u({Extends:v,initialize:function(i){v.call(this,i,i.sys.events),this.scene=i,this.systems=i.sys,i.sys.events.once(r.BOOT,this.boot,this),i.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",s,"data"),p.exports=s},73569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},15590:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},37669:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},87090:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},90142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},35026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(73569),CHANGE_DATA_KEY:t(15590),DESTROY:t(37669),REMOVE_DATA:t(87090),SET_DATA:t(90142)}},1999:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(81078),DataManagerPlugin:t(76508),Events:t(35026)}},10720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1350),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),s=!!r.canPlayType;try{if(s){var e=function(n,a){var f=r.canPlayType("audio/"+n).replace(/^no$/,"");return a?!!(f||r.canPlayType("audio/"+a).replace(/^no$/,"")):!!f};if(v.ogg=e('ogg; codecs="vorbis"'),v.opus=e('ogg; codecs="opus"',"opus"),v.mp3=e("mpeg"),v.wav=e("wav"),v.m4a=e("x-m4a"),v.aac=e("aac"),v.flac=e("flac","x-flac"),v.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(u.edge)v.dolby=!0;else if(u.safari&&u.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(i===10&&l>=11||i>10)&&(v.dolby=!0)}}}}catch{}return v}p.exports=o()},1350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36580),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(v.edge=!0,v.es2019=!0):/OPR/.test(r)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(r)&&!u.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit/.test(r)&&u.iOS?v.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(r)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(r)&&!u.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(v.silk=!0),v}p.exports=o()},98581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61068),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",i="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var n=new Image;n.onload=function(){var a=u.create2D(n,6),f=a.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(n,2,0),!f.getImageData(2,0,1,1))return!1;var h=f.getImageData(2,0,1,1).data;u.remove(n),v.supportNewBlendModes=h[0]===255&&h[1]===0&&h[2]===0},n.src=e+"/wCKxvRF"+i},l.src=e+"AP804Oa6"+i,!1}function r(){var e=u.create2D(this,2),i=e.getContext("2d",{willReadFrequently:!0});i.fillStyle="rgba(10, 20, 30, 0.5)",i.fillRect(0,0,1,1);var l=i.getImageData(0,0,1,1);if(l===null)return!1;i.putImageData(l,1,0);var n=i.getImageData(1,0,1,1),a=n.data[0]===l.data[0]&&n.data[1]===l.data[1]&&n.data[2]===l.data[2]&&n.data[3]===l.data[3];return u.remove(this),a}function s(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=o(),v.supportInverseAlpha=r()),v}p.exports=s()},90185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36580),v=t(1350),o=t(61068),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var i=new ArrayBuffer(4),l=new Uint8Array(i),n=new Uint32Array(i);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,n[0]===3569595041?!0:n[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var i=!1,l=function(){if(window.WebGLRenderingContext)try{var n=o.createWebGL(this),a=n.getContext("webgl")||n.getContext("experimental-webgl"),f=o.create2D(this),h=f.getContext("2d",{willReadFrequently:!0}),d=h.createImageData(1,1);return i=d.data instanceof Uint8ClampedArray,o.remove(n),o.remove(f),!!a}catch{return!1}return!1};return r.webGL=l(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(r.getUserMedia=!1),!u.iOS&&(v.ie||v.firefox||v.chrome)&&(r.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=s()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&i,r}p.exports=e()},33553:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var u,v="Fullscreen",o="FullScreen",r=["request"+v,"request"+o,"webkitRequest"+v,"webkitRequest"+o,"msRequest"+v,"msRequest"+o,"mozRequest"+o,"mozRequest"+v];for(u=0;u<r.length;u++)if(document.documentElement[r[u]]){S.available=!0,S.request=r[u];break}var s=["cancel"+o,"exit"+v,"webkitCancel"+o,"webkitExit"+v,"msCancel"+o,"msExit"+v,"mozCancel"+o,"mozExit"+v];if(S.available){for(u=0;u<s.length;u++)if(document[s[u]]){S.cancel=s[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}p.exports=t()},95872:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1350),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||u.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":u.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}p.exports=o()},36580:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var u=navigator.userAgent;/Windows/.test(u)?S.windows=!0:/Mac OS/.test(u)&&!/like Mac OS/.test(u)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(u)?S.android=!0:/Linux/.test(u)?S.linux=!0:/iP[ao]d|iPhone/i.test(u)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=u.toLowerCase().indexOf("iphone")!==-1,S.iPad=u.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(u)||/\bKF[A-Z][A-Z]+/.test(u)||/Silk.*Mobile Safari/.test(u)?S.kindle=!0:/CrOS/.test(u)&&(S.chromeOS=!0),(/Windows Phone/i.test(u)||/IEMobile/i.test(u))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var v=/Silk/.test(u);return(S.windows||S.macOS||S.linux&&!v||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(u)&&/Touch/i.test(u))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(u)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}p.exports=t()},53861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72632),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return v;var r=document.createElement("video"),s=!!r.canPlayType,e=/^no$/;try{s&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(v.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(v.h264=!0,v.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(v.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(v.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(v.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(v.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),v.getVideoURL=function(i){Array.isArray(i)||(i=[i]);for(var l=0;l<i.length;l++){var n=u(i[l],"url",i[l]);if(n.indexOf("blob:")===0)return{url:n,type:""};var a;if(n.indexOf("data:")===0?a=n.split(",")[0].match(/\/(.*?);/):a=n.match(/\.([a-zA-Z0-9]+)($|\?)/),a=u(i[l],"type",a?a[1]:"").toLowerCase(),v[a])return{url:n,type:a}}return null},v}p.exports=o()},77290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(36580),browser:t(1350),features:t(90185),input:t(95872),audio:t(10720),video:t(53861),fullscreen:t(33553),canvasFeatures:t(98581)}},65246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new Float32Array(20),o=new u({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],s)},saturate:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r*2/3+1,i=(e-1)*-.5;return this.multiply([e,i,i,0,0,i,e,i,0,0,i,i,e,0,0,0,0,0,1,0],s)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1),r=r/180*Math.PI;var e=Math.cos(r),i=Math.sin(r),l=.213,n=.715,a=.072;return this.multiply([l+e*(1-l)+i*-l,n+e*-n+i*-n,a+e*-a+i*(1-a),0,0,l+e*-l+i*.143,n+e*(1-n)+i*.14,a+e*-a+i*-.283,0,0,l+e*-l+i*-(1-l),n+e*-n+i*n,a+e*(1-a)+i*a,0,0,0,0,0,1,0],s)},grayscale:function(r,s){return r===void 0&&(r=1),s===void 0&&(s=!1),this.saturate(-r,s)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(o.BLACK_WHITE,r)},contrast:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r+1,i=-.5*(e-1);return this.multiply([e,0,0,0,i,0,e,0,0,i,0,0,e,0,i,0,0,0,1,0],s)},negative:function(r){return r===void 0&&(r=!1),this.multiply(o.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(o.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(o.SEPIA,r)},night:function(r,s){return r===void 0&&(r=.1),s===void 0&&(s=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],s)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(o.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(o.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(o.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(o.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(o.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(o.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(o.SHIFT_BGR,r)},multiply:function(r,s){s===void 0&&(s=!1),s||this.reset();var e=this._matrix,i=v;return i.set(e),e.set([i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=o},39298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72283),o=new u({initialize:function(s,e,i){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(s,e,i)},set:function(r,s,e){return r===void 0&&(r=0),s===void 0&&(s=0),e===void 0&&(e=0),this._rgb=[r,s,e],this.onChange(),this},equals:function(r,s,e){var i=this._rgb;return i[0]===r&&i[1]===s&&i[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=o},84093:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=S},32058:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97328),v=t(59994),o=t(73174),r=t(28417),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,v(i)+l),o(e,u(i)+n),e};p.exports=s},85535:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97328),v=t(40163),o=t(73174),r=t(74465),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,v(i)-l),o(e,u(i)+n),e};p.exports=s},9605:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97328),v=t(70271),o=t(73174),r=t(19298),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,v(i)+l),o(e,u(i)+n),e};p.exports=s},22529:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(21843),v=t(59994),o=t(29568),r=function(s,e,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),u(s,v(e)+i,o(e)+l),s};p.exports=r},5739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29568),v=t(40163),o=t(81711),r=t(74465),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,v(i)-l),o(e,u(i)+n),e};p.exports=s},40327:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84093),v=[];v[u.BOTTOM_CENTER]=t(32058),v[u.BOTTOM_LEFT]=t(85535),v[u.BOTTOM_RIGHT]=t(9605),v[u.CENTER]=t(22529),v[u.LEFT_CENTER]=t(5739),v[u.RIGHT_CENTER]=t(27683),v[u.TOP_CENTER]=t(96439),v[u.TOP_LEFT]=t(81447),v[u.TOP_RIGHT]=t(47888),v[u.LEFT_BOTTOM]=v[u.BOTTOM_LEFT],v[u.LEFT_TOP]=v[u.TOP_LEFT],v[u.RIGHT_BOTTOM]=v[u.BOTTOM_RIGHT],v[u.RIGHT_TOP]=v[u.TOP_RIGHT];var o=function(r,s,e,i,l){return v[e](r,s,i,l)};p.exports=o},27683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29568),v=t(70271),o=t(81711),r=t(19298),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,v(i)+l),o(e,u(i)+n),e};p.exports=s},96439:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(59994),v=t(47196),o=t(28417),r=t(84349),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(e,u(i)+l),r(e,v(i)-n),e};p.exports=s},81447:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40163),v=t(47196),o=t(74465),r=t(84349),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(e,u(i)-l),r(e,v(i)-n),e};p.exports=s},47888:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70271),v=t(47196),o=t(19298),r=t(84349),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(e,u(i)+l),r(e,v(i)-n),e};p.exports=s},46997:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(32058),BottomLeft:t(85535),BottomRight:t(9605),Center:t(22529),LeftCenter:t(5739),QuickSet:t(40327),RightCenter:t(27683),TopCenter:t(96439),TopLeft:t(81447),TopRight:t(47888)}},93545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84093),v=t(98611),o={In:t(46997),To:t(86639)};o=v(!1,o,u),p.exports=o},27118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97328),v=t(59994),o=t(28417),r=t(84349),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(e,v(i)+l),r(e,u(i)+n),e};p.exports=s},84469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97328),v=t(40163),o=t(74465),r=t(84349),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(e,v(i)-l),r(e,u(i)+n),e};p.exports=s},51577:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97328),v=t(70271),o=t(19298),r=t(84349),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(e,v(i)+l),r(e,u(i)+n),e};p.exports=s},90271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97328),v=t(40163),o=t(73174),r=t(19298),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,v(i)-l),o(e,u(i)+n),e};p.exports=s},30466:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29568),v=t(40163),o=t(81711),r=t(19298),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,v(i)-l),o(e,u(i)+n),e};p.exports=s},50087:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40163),v=t(47196),o=t(19298),r=t(84349),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(e,u(i)-l),r(e,v(i)-n),e};p.exports=s},82590:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84093),v=[];v[u.BOTTOM_CENTER]=t(27118),v[u.BOTTOM_LEFT]=t(84469),v[u.BOTTOM_RIGHT]=t(51577),v[u.LEFT_BOTTOM]=t(90271),v[u.LEFT_CENTER]=t(30466),v[u.LEFT_TOP]=t(50087),v[u.RIGHT_BOTTOM]=t(13555),v[u.RIGHT_CENTER]=t(99049),v[u.RIGHT_TOP]=t(67788),v[u.TOP_CENTER]=t(78170),v[u.TOP_LEFT]=t(54145),v[u.TOP_RIGHT]=t(75548);var o=function(r,s,e,i,l){return v[e](r,s,i,l)};p.exports=o},13555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97328),v=t(70271),o=t(73174),r=t(74465),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,v(i)+l),o(e,u(i)+n),e};p.exports=s},99049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29568),v=t(70271),o=t(81711),r=t(74465),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,v(i)+l),o(e,u(i)+n),e};p.exports=s},67788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70271),v=t(47196),o=t(74465),r=t(84349),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(e,u(i)+l),r(e,v(i)-n),e};p.exports=s},78170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(59994),v=t(47196),o=t(73174),r=t(28417),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,u(i)+l),o(e,v(i)-n),e};p.exports=s},54145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40163),v=t(47196),o=t(73174),r=t(74465),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,u(i)-l),o(e,v(i)-n),e};p.exports=s},75548:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70271),v=t(47196),o=t(73174),r=t(19298),s=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),r(e,u(i)+l),o(e,v(i)-n),e};p.exports=s},86639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(27118),BottomLeft:t(84469),BottomRight:t(51577),LeftBottom:t(90271),LeftCenter:t(30466),LeftTop:t(50087),QuickSet:t(82590),RightBottom:t(13555),RightCenter:t(99049),RightTop:t(67788),TopCenter:t(78170),TopLeft:t(54145),TopRight:t(75548)}},21843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28417),v=t(81711),o=function(r,s,e){return u(r,s),v(r,e)};p.exports=o},97328:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};p.exports=S},7126:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97328),v=t(40163),o=t(70271),r=t(47196),s=t(74118),e=function(i,l){l===void 0&&(l=new s);var n=v(i),a=r(i);return l.x=n,l.y=a,l.width=o(i)-n,l.height=u(i)-a,l};p.exports=e},59994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=S},29568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=S},40163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};p.exports=S},52088:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};p.exports=S},23379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};p.exports=S},70271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};p.exports=S},47196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};p.exports=S},73174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.y=u-t.height+t.height*t.originY,t};p.exports=S},28417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.width*t.originX;return t.x=u+v-t.width*.5,t};p.exports=S},81711:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.height*t.originY;return t.y=u+v-t.height*.5,t};p.exports=S},74465:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x=u+t.width*t.originX,t};p.exports=S},19298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x=u-t.width+t.width*t.originX,t};p.exports=S},84349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.y=u+t.height*t.originY,t};p.exports=S},15252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(21843),GetBottom:t(97328),GetBounds:t(7126),GetCenterX:t(59994),GetCenterY:t(29568),GetLeft:t(40163),GetOffsetX:t(52088),GetOffsetY:t(23379),GetRight:t(70271),GetTop:t(47196),SetBottom:t(73174),SetCenterX:t(28417),SetCenterY:t(81711),SetLeft:t(74465),SetRight:t(19298),SetTop:t(84349)}},70616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(v){t.style["image-rendering"]=v}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=S},61068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(86459),v=t(8213),o=[],r=!1,s=function(){var e=function(g,x,m,y,T){x===void 0&&(x=1),m===void 0&&(m=1),y===void 0&&(y=u.CANVAS),T===void 0&&(T=!1);var R,P=n(y);return P===null?(P={parent:g,canvas:document.createElement("canvas"),type:y},y===u.CANVAS&&o.push(P),R=P.canvas):(P.parent=g,R=P.canvas),T&&(P.parent=R),R.width=x,R.height=m,r&&y===u.CANVAS&&v.disable(R.getContext("2d",{willReadFrequently:!1})),R},i=function(g,x,m){return e(g,x,m,u.CANVAS)},l=function(g,x,m){return e(g,x,m,u.WEBGL)},n=function(g){if(g===void 0&&(g=u.CANVAS),g===u.WEBGL)return null;for(var x=0;x<o.length;x++){var m=o[x];if(!m.parent&&m.type===g)return m}return null},a=function(g){var x=g instanceof HTMLCanvasElement;o.forEach(function(m){(x&&m.canvas===g||!x&&m.parent===g)&&(m.parent=null,m.canvas.width=1,m.canvas.height=1)})},f=function(){var g=0;return o.forEach(function(x){x.parent&&g++}),g},h=function(){return o.length-f()},d=function(){r=!0},c=function(){r=!1};return{create2D:i,create:e,createWebGL:l,disableSmoothing:d,enableSmoothing:c,first:n,free:h,pool:o,remove:a,total:f}};p.exports=s()},8213:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var u=function(s){for(var e=["i","webkitI","msI","mozI","oI"],i=0;i<e.length;i++){var l=e[i]+"mageSmoothingEnabled";if(l in s)return l}return null},v=function(s){return S===""&&(S=u(s)),S&&(s[S]=!0),s},o=function(s){return S===""&&(S=u(s)),S&&(s[S]=!1),s},r=function(s){return S!==null?s[S]:null};return{disable:o,enable:v,getPrefix:u,isEnabled:r}};p.exports=t()},59271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===void 0&&(u="none"),t.style.msTouchAction=u,t.style["ms-touch-action"]=u,t.style["touch-action"]=u,t};p.exports=S},36505:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(o){t.style[o+"user-select"]=u}),t.style["-webkit-touch-callout"]=u,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=S},23514:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(70616),CanvasPool:t(61068),Smoothing:t(8213),TouchAction:t(59271),UserSelect:t(36505)}},27119:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(22946),o=t(5657),r=t(24650),s=t(68033),e=new u({initialize:function(l,n,a,f){l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,n,a,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(i,l,n,a,f){return a===void 0&&(a=255),f===void 0&&(f=!0),this._locked=!0,this.red=i,this.green=l,this.blue=n,this.alpha=a,this._locked=!1,this.update(f)},setGLTo:function(i,l,n,a){return a===void 0&&(a=1),this._locked=!0,this.redGL=i,this.greenGL=l,this.blueGL=n,this.alphaGL=a,this._locked=!1,this.update(!0)},setFromRGB:function(i){return this._locked=!0,this.red=i.r,this.green=i.g,this.blue=i.b,i.hasOwnProperty("a")&&(this.alpha=i.a),this._locked=!1,this.update(!0)},setFromHSV:function(i,l,n){return r(i,l,n,this)},update:function(i){if(i===void 0&&(i=!1),this._locked)return this;var l=this.r,n=this.g,a=this.b,f=this.a;return this._color=v(l,n,a),this._color32=o(l,n,a,f),this._rgba="rgba("+l+","+n+","+a+","+f/255+")",i&&s(l,n,a,this),this},updateHSV:function(){var i=this.r,l=this.g,n=this.b;return s(i,l,n,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(i){return this.setTo(i,i,i)},random:function(i,l){i===void 0&&(i=0),l===void 0&&(l=255);var n=Math.floor(i+Math.random()*(l-i)),a=Math.floor(i+Math.random()*(l-i)),f=Math.floor(i+Math.random()*(l-i));return this.setTo(n,a,f)},randomGray:function(i,l){i===void 0&&(i=0),l===void 0&&(l=255);var n=Math.floor(i+Math.random()*(l-i));return this.setTo(n,n,n)},saturate:function(i){return this.s+=i/100,this},desaturate:function(i){return this.s-=i/100,this},lighten:function(i){return this.v+=i/100,this},darken:function(i){return this.v-=i/100,this},brighten:function(i){var l=this.r,n=this.g,a=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(i/100)))),n=Math.max(0,Math.min(255,n-Math.round(255*-(i/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(i/100)))),this.setTo(l,n,a)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(i){this.gl[0]=Math.min(Math.abs(i),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(i){this.gl[1]=Math.min(Math.abs(i),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(i){this.gl[2]=Math.min(Math.abs(i),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(i){this.gl[3]=Math.min(Math.abs(i),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(i){i=Math.floor(Math.abs(i)),this.r=Math.min(i,255),this.gl[0]=i/255,this.update(!0)}},green:{get:function(){return this.g},set:function(i){i=Math.floor(Math.abs(i)),this.g=Math.min(i,255),this.gl[1]=i/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(i){i=Math.floor(Math.abs(i)),this.b=Math.min(i,255),this.gl[2]=i/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(i){i=Math.floor(Math.abs(i)),this.a=Math.min(i,255),this.gl[3]=i/255,this.update()}},h:{get:function(){return this._h},set:function(i){this._h=i,r(i,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(i){this._s=i,r(this._h,i,this._v,this)}},v:{get:function(){return this._v},set:function(i){this._v=i,r(this._h,this._s,i,this)}}});p.exports=e},30245:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22946),v=function(o){o===void 0&&(o=1024);var r=[],s=255,e,i=255,l=0,n=0;for(e=0;e<=s;e++)r.push({r:i,g:e,b:n,color:u(i,e,n)});for(l=255,e=s;e>=0;e--)r.push({r:e,g:l,b:n,color:u(e,l,n)});for(i=0,e=0;e<=s;e++,l--)r.push({r:i,g:l,b:e,color:u(i,l,e)});for(l=0,n=255,e=0;e<=s;e++,n--,i++)r.push({r:i,g:l,b:n,color:u(i,l,n)});if(o===1024)return r;var a=[],f=0,h=1024/o;for(e=0;e<o;e++)a.push(r[Math.floor(f)]),f+=h;return a};p.exports=v},86672:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(u.a=t>>>24),u};p.exports=S},25409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u=t.toString(16);return u.length===1?"0"+u:u};p.exports=S},22946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t<<16|u<<8|v};p.exports=S},5657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){return o<<24|t<<16|u<<8|v};p.exports=S},74777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27119),v=t(59998),o=function(r,s,e){var i=e,l=e,n=e;if(s!==0){var a=e<.5?e*(1+s):e+s-e*s,f=2*e-a;i=v(f,a,r+1/3),l=v(f,a,r),n=v(f,a,r-1/3)}var h=new u;return h.setGLTo(i,l,n,1)};p.exports=o},89263:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(24650),v=function(o,r){o===void 0&&(o=1),r===void 0&&(r=1);for(var s=[],e=0;e<=359;e++)s.push(u(e/359,o,r));return s};p.exports=v},24650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22946);function v(r,s,e,i){var l=(r+s*6)%6,n=Math.min(l,4-l,1);return Math.round(255*(i-i*e*Math.max(0,n)))}var o=function(r,s,e,i){s===void 0&&(s=1),e===void 0&&(e=1);var l=v(5,r,s,e),n=v(3,r,s,e),a=v(1,r,s,e);return i?i.setTo?i.setTo(l,n,a,i.alpha,!0):(i.r=l,i.g=n,i.b=a,i.color=u(l,n,a),i):{r:l,g:n,b:a,color:u(l,n,a)}};p.exports=o},91487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27119),v=function(o){var r=new u;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,a,f,h){return a+a+f+f+h+h});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(s){var e=parseInt(s[1],16),i=parseInt(s[2],16),l=parseInt(s[3],16);r.setTo(e,i,l)}return r};p.exports=v},59998:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?t+(u-t)*6*v:v<.5?u:v<.6666666666666666?t+(u-t)*(.6666666666666666-v)*6:t};p.exports=S},74853:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27119),v=t(15978),o=function(r){var s=v(r);return new u(s.r,s.g,s.b,s.a)};p.exports=o},15978:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=S},53756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(42798),v=function(s,e,i,l,n,a,f,h){f===void 0&&(f=100),h===void 0&&(h=0);var d=h/f;return{r:u(s,l,d),g:u(e,n,d),b:u(i,a,d)}},o=function(s,e,i,l){return i===void 0&&(i=100),l===void 0&&(l=0),v(s.r,s.g,s.b,e.r,e.g,e.b,i,l)},r=function(s,e,i,l,n,a){return n===void 0&&(n=100),a===void 0&&(a=0),v(s.r,s.g,s.b,e,i,l,n,a)};p.exports={RGBWithRGB:v,ColorWithRGB:r,ColorWithColor:o}},73904:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27119),v=function(o){return new u(o.r,o.g,o.b,o.a)};p.exports=v},26841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27119),v=function(o){var r=new u,s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(s){var e=parseInt(s[1],10),i=parseInt(s[2],10),l=parseInt(s[3],10),n=s[4]!==void 0?parseFloat(s[4]):1;r.setTo(e,i,l,n*255)}return r};p.exports=v},68033:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,u/=255,v/=255;var r=Math.min(t,u,v),s=Math.max(t,u,v),e=s-r,i=0,l=s===0?0:e/s,n=s;return s!==r&&(s===t?i=(u-v)/e+(u<v?6:0):s===u?i=(v-t)/e+2:s===v&&(i=(t-u)/e+4),i/=6),o.hasOwnProperty("_h")?(o._h=i,o._s=l,o._v=n):(o.h=i,o.s=l,o.v=n),o};p.exports=S},4880:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25409),v=function(o,r,s,e,i){return e===void 0&&(e=255),i===void 0&&(i="#"),i==="#"?"#"+((1<<24)+(o<<16)+(r<<8)+s).toString(16).slice(1,7):"0x"+u(e)+u(o)+u(r)+u(s)};p.exports=v},37243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(17489),v=t(27119),o=function(r,s){return r===void 0&&(r=0),s===void 0&&(s=255),new v(u(r,s),u(r,s),u(r,s))};p.exports=o},93222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91487),v=t(74853),o=t(73904),r=t(26841),s=function(e){var i=typeof e;switch(i){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):u(e);case"number":return v(e);case"object":return o(e)}};p.exports=s},95509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27119);u.ColorSpectrum=t(30245),u.ColorToRGBA=t(86672),u.ComponentToHex=t(25409),u.GetColor=t(22946),u.GetColor32=t(5657),u.HexStringToColor=t(91487),u.HSLToColor=t(74777),u.HSVColorWheel=t(89263),u.HSVToRGB=t(24650),u.HueToComponent=t(59998),u.IntegerToColor=t(74853),u.IntegerToRGB=t(15978),u.Interpolate=t(53756),u.ObjectToColor=t(73904),u.RandomRGB=t(37243),u.RGBStringToColor=t(26841),u.RGBToHSV=t(68033),u.RGBToString=t(4880),u.ValueToColor=t(93222),p.exports=u},24816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(93545),BaseShader:t(31053),Bounds:t(15252),Canvas:t(23514),Color:t(95509),ColorMatrix:t(65246),Masks:t(93310),RGB:t(39298)}},76756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(61286),o=new u({initialize:function(s,e,i,l,n,a){e||(e=s.sys.make.image({x:i,y:l,key:n,frame:a,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,s,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,e)},postRenderWebGL:function(r,s,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,s,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(r,s,e,i,l){return new o(this.scene,r,s,e,i,l)}),p.exports=o},63037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,r,s){var e=o.gl;o.flush(),o.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:s}),this.applyStencil(o,s,!0),o.maskCount++},applyStencil:function(o,r,s){var e=o.gl,i=this.geometryMask,l=o.maskCount,n=255;e.colorMask(!1,!1,!1,!1),s?(e.stencilFunc(e.EQUAL,l,n),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,n),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,i.renderWebGL(o,i,r),o.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,n):e.stencilFunc(e.EQUAL,l,n)},postRenderWebGL:function(o){var r=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var s=o.currentMask;if(o.maskStack.length===0)s.mask=null,r.disable(r.STENCIL_TEST);else{var e=o.maskStack[o.maskStack.length-1];e.mask.applyStencil(o,e.camera,!1),o.currentCameraMask.mask!==e.mask?(s.mask=e.mask,s.camera=e.camera):s.mask=null}},preRenderCanvas:function(o,r,s){var e=this.geometryMask;o.currentContext.save(),e.renderCanvas(o,e,s,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=v},93310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(76756),GeometryMask:t(63037)}},31053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s,e,i){(!s||s==="")&&(s=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),i===void 0&&(i=null),this.key=r,this.fragmentSrc=s,this.vertexSrc=e,this.uniforms=i}});p.exports=v},99584:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v;if(u)typeof u=="string"?v=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(v=u);else if(t.parentElement||u===null)return t;return v||(v=document.body),v.appendChild(t),t};p.exports=S},85178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99584),v=function(o){var r=o.config;if(!(!r.parent||!r.domCreateContainer)){var s=document.createElement("div");s.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=s,u(s,r.parent)}};p.exports=v},21546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36580),v=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),o()};document.body?u.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};p.exports=v},74181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var u=Math.abs(window.orientation),v={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),v.w=u===90?o.offsetHeight:window.innerWidth,v.h=u===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?v.h:v.w};p.exports=S},9229:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(55301),v=function(o,r){var s=window.screen,e=s?s.orientation||s.mozOrientation||s.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return u.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return u.ORIENTATION.LANDSCAPE}else return r>o?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE};p.exports=v},2893:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u;return t!==""&&(typeof t=="string"?u=document.getElementById(t):t&&t.nodeType===1&&(u=t)),u||(u=document.body),u};p.exports=S},89200:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u="";try{if(window.DOMParser){var v=new DOMParser;u=v.parseFromString(t,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(t)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};p.exports=S},55638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=S},27385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72283),o=new u({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var s=this;this.step=function e(i){s.callback(i),s.isRunning&&(s.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){s.isRunning&&(s.timeOutID=window.setTimeout(e,s.delay)),s.callback(window.performance.now())}},start:function(r,s,e){this.isRunning||(this.callback=r,this.isSetTimeOut=s,this.delay=e,this.isRunning=!0,this.timeOutID=s?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});p.exports=o},3590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={AddToDOM:t(99584),DOMContentLoaded:t(21546),GetInnerHeight:t(74181),GetScreenOrientation:t(9229),GetTarget:t(2893),ParseXML:t(89200),RemoveFromDOM:t(55638),RequestAnimationFrame:t(27385)};p.exports=u},78491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(6659),o=t(91963),r=new u({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",r,"events"),p.exports=r},95146:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(78491)}},20170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i){i===void 0&&(i=1),v.call(this,o.BARREL,e),this.amount=i}});p.exports=r},51182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a,f,h){l===void 0&&(l=1),n===void 0&&(n=1),a===void 0&&(a=1),f===void 0&&(f=1),h===void 0&&(h=4),v.call(this,o.BLOOM,e),this.steps=h,this.offsetX=l,this.offsetY=n,this.blurStrength=a,this.strength=f,this.glcolor=[1,1,1],i!=null&&(this.color=i)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},51498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a,f,h){l===void 0&&(l=2),n===void 0&&(n=2),a===void 0&&(a=1),h===void 0&&(h=4),v.call(this,o.BLUR,e),this.quality=0,this.x=l,this.y=n,this.steps=h,this.strength=a,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},12042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a,f,h,d){i===void 0&&(i=.5),l===void 0&&(l=1),n===void 0&&(n=.2),a===void 0&&(a=!1),f===void 0&&(f=1),h===void 0&&(h=1),d===void 0&&(d=1),v.call(this,o.BOKEH,e),this.radius=i,this.amount=l,this.contrast=n,this.isTiltShift=a,this.strength=d,this.blurX=f,this.blurY=h}});p.exports=r},69900:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a,f){i===void 0&&(i=8),a===void 0&&(a=1),f===void 0&&(f=.005),v.call(this,o.CIRCLE,e),this.scale=a,this.feather=f,this.thickness=i,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),n!=null&&(this.backgroundColor=n)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}},backgroundColor:{get:function(){var s=this.glcolor2;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor2;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},48991:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(65246),o=t(47406),r=new u({Extends:v,initialize:function(e){v.call(this),this.type=o.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=r},47551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s){this.type=r,this.gameObject=s,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=v},47909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n){i===void 0&&(i="__WHITE"),l===void 0&&(l=.005),n===void 0&&(n=.005),v.call(this,o.DISPLACEMENT,e),this.x=l,this.y=n,this.glTexture,this.setTexture(i)},setTexture:function(s){var e=this.gameObject.scene.sys.textures.getFrame(s);return e&&(this.glTexture=e.glTexture),this}});p.exports=r},18919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a){l===void 0&&(l=4),n===void 0&&(n=0),a===void 0&&(a=!1),v.call(this,o.GLOW,e),this.outerStrength=l,this.innerStrength=n,this.knockout=a,this.glcolor=[1,1,1,1],i!==void 0&&(this.color=i)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},62494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a,f,h,d,c){n===void 0&&(n=.2),a===void 0&&(a=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=1),c===void 0&&(c=0),v.call(this,o.GRADIENT,e),this.alpha=n,this.size=c,this.fromX=a,this.fromY=f,this.toX=h,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],i!=null&&(this.color1=i),l!=null&&(this.color2=l)},color1:{get:function(){var s=this.glcolor1;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor1;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}},color2:{get:function(){var s=this.glcolor2;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor2;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}}});p.exports=r},68897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i){i===void 0&&(i=1),v.call(this,o.PIXELATE,e),this.amount=i}});p.exports=r},58575:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a,f,h,d){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=.1),a===void 0&&(a=1),h===void 0&&(h=6),d===void 0&&(d=1),v.call(this,o.SHADOW,e),this.x=i,this.y=l,this.decay=n,this.power=a,this.glcolor=[0,0,0,1],this.samples=h,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},33755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a){i===void 0&&(i=.5),l===void 0&&(l=.5),n===void 0&&(n=3),a===void 0&&(a=!1),v.call(this,o.SHINE,e),this.speed=i,this.lineWidth=l,this.gradient=n,this.reveal=a}});p.exports=r},24949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a){i===void 0&&(i=.5),l===void 0&&(l=.5),n===void 0&&(n=.5),a===void 0&&(a=.5),v.call(this,o.VIGNETTE,e),this.x=i,this.y=l,this.radius=n,this.strength=a}});p.exports=r},66241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47551),o=t(47406),r=new u({Extends:v,initialize:function(e,i,l,n,a){i===void 0&&(i=.1),l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=!1),v.call(this,o.WIPE,e),this.progress=0,this.wipeWidth=i,this.direction=l,this.axis=n,this.reveal=a}});p.exports=r},47406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=S},96910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(98611),v=t(47406),o={Barrel:t(20170),Controller:t(47551),Bloom:t(51182),Blur:t(51498),Bokeh:t(12042),Circle:t(69900),ColorMatrix:t(48991),Displacement:t(47909),Glow:t(18919),Gradient:t(62494),Pixelate:t(68897),Shadow:t(58575),Shine:t(33755),Vignette:t(24949),Wipe:t(66241)};o=u(!1,o,v),p.exports=o},88933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95723),v=t(20494),o=function(r,s,e){s.x=v(e,"x",0),s.y=v(e,"y",0),s.depth=v(e,"depth",0),s.flipX=v(e,"flipX",!1),s.flipY=v(e,"flipY",!1);var i=v(e,"scale",null);typeof i=="number"?s.setScale(i):i!==null&&(s.scaleX=v(i,"x",1),s.scaleY=v(i,"y",1));var l=v(e,"scrollFactor",null);typeof l=="number"?s.setScrollFactor(l):l!==null&&(s.scrollFactorX=v(l,"x",1),s.scrollFactorY=v(l,"y",1)),s.rotation=v(e,"rotation",0);var n=v(e,"angle",null);n!==null&&(s.angle=n),s.alpha=v(e,"alpha",1);var a=v(e,"origin",null);if(typeof a=="number")s.setOrigin(a);else if(a!==null){var f=v(a,"x",.5),h=v(a,"y",.5);s.setOrigin(f,h)}s.blendMode=v(e,"blendMode",u.NORMAL),s.visible=v(e,"visible",!0);var d=v(e,"add",!0);return d&&r.sys.displayList.add(s),s.preUpdate&&r.sys.updateList.add(s),s};p.exports=o},32291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20494),v=function(o,r){var s=u(r,"anims",null);if(s===null)return o;if(typeof s=="string")o.anims.play(s);else if(typeof s=="object"){var e=o.anims,i=u(s,"key",void 0);if(i){var l=u(s,"startFrame",void 0),n=u(s,"delay",0),a=u(s,"repeat",0),f=u(s,"repeatDelay",0),h=u(s,"yoyo",!1),d=u(s,"play",!1),c=u(s,"delayedPlay",0),g={key:i,delay:n,repeat:a,repeatDelay:f,yoyo:h,startFrame:l};d?e.play(g):c>0?e.playAfterDelay(g,c):e.load(g)}}return o};p.exports=v},91713:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(71207),o=t(91963),r=t(56631),s=t(7599),e=t(17922),i=new u({Extends:v,initialize:function(n){v.call(this,n),this.sortChildrenFlag=!1,this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(r.ADDED_TO_SCENE,l,this.scene),this.events.emit(s.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(r.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,n){return l._depth-n._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list;l.length;)l[0].destroy(!0);this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",i,"displayList"),p.exports=i},89980:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(48129),o=t(81078),r=t(6659),s=t(56631),e=t(7599),i=new u({Extends:r,initialize:function(n,a){r.call(this),this.scene=n,this.displayList=null,this.type=a,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),n.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,n){return this.data||(this.data=new o(this)),this.data.set(l,n),this},incData:function(l,n){return this.data||(this.data=new o(this)),this.data.inc(l,n),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,n,a){return this.scene.sys.input.enable(this,l,n,a),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(l){var n=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!n||i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,n=this.parentContainer,a=[];n&&(a.unshift(n.getIndex(l)),l=n,n.parentContainer);)n=n.parentContainer;return this.displayList?a.unshift(this.displayList.getIndex(l)):a.unshift(this.scene.sys.displayList.getIndex(l)),a},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});i.RENDER_MASK=15,p.exports=i},99325:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(91963),o=t(7599),r=new u({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,e){r.prototype.hasOwnProperty(s)||(r.prototype[s]=e)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},v.register("GameObjectCreator",r,"make"),p.exports=r},61286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(91963),o=t(7599),r=new u({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,e){r.prototype.hasOwnProperty(s)||(r.prototype[s]=e)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},v.register("GameObjectFactory",r,"add"),p.exports=r},73329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(69360),v=new u,o=new u,r=new u,s={camera:v,sprite:o,calc:r},e=function(i,l,n){var a=v,f=o,h=r;return f.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),a.copyFrom(l.matrix),n?(a.multiplyWithOffset(n,-l.scrollX*i.scrollFactorX,-l.scrollY*i.scrollFactorY),f.e=i.x,f.f=i.y):(f.e-=l.scrollX*i.scrollFactorX,f.f-=l.scrollY*i.scrollFactorY),a.multiply(f,h),s};p.exports=e},92034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(74623),o=t(91963),r=t(7599),s=new u({Extends:v,initialize:function(i){v.call(this),this.checkQueue=!0,this.scene=i,this.systems=i.sys,i.sys.events.once(r.BOOT,this.boot,this),i.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,i){for(var l=this._active,n=l.length,a=0;a<n;a++){var f=l[a];f.active&&f.preUpdate.call(f,e,i)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var i=this.systems.events;i.off(r.PRE_UPDATE,this.update,this),i.off(r.UPDATE,this.sceneUpdate,this),i.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",s,"updateList"),p.exports=s},8810:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r,s,e,i,l,n,a,f,h,d,c){var g=v.x-u.displayOriginX+r,x=v.y-u.displayOriginY+s,m=g+v.w,y=x+v.h,T=e.getXRound(g,x,i),R=e.getYRound(g,x,i),P=e.getXRound(g,y,i),D=e.getYRound(g,y,i),I=e.getXRound(m,y,i),w=e.getYRound(m,y,i),U=e.getXRound(m,x,i),G=e.getYRound(m,x,i);t.batchQuad(u,T,R,P,D,I,w,U,G,o.u0,o.v0,o.u1,o.v1,l,n,a,f,h,d,c)};p.exports=S},82173:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){if(v===void 0&&(v=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var r=t.text,s=r.length,e=t.maxWidth,i=t.wordWrapCharCode,l=Number.MAX_VALUE,n=Number.MAX_VALUE,a=0,f=0,h=t.fontData.chars,d=t.fontData.lineHeight,c=t.letterSpacing,g=t.lineSpacing,x=0,m=0,y=0,T=null,R=t._align,P=0,D=0,I=t.fontSize/t.fontData.size,w=I*t.scaleX,U=I*t.scaleY,G=null,H=0,z=[],$=Number.MAX_VALUE,J=0,W=0,K=0,N,b=[],Y=[],j=null;if(e>0){for(N=0;N<s;N++){if(y=r.charCodeAt(N),y===10){j!==null&&(b.push({word:j.word,i:j.i,x:j.x*w,y:j.y*U,w:j.w*w,h:j.h*U,cr:!0}),j=null),x=0,m+=d+g,G=null;continue}if(T=h[y],!!T){if(G!==null)var Q=T.kerning[H];y===i?j!==null&&(b.push({word:j.word,i:j.i,x:j.x*w,y:j.y*U,w:j.w*w,h:j.h*U,cr:!1}),j=null):(j===null&&(j={word:"",i:N,x,y:m,w:0,h:d,cr:!1}),j.word=j.word.concat(r[N]),j.w+=T.xOffset+T.xAdvance+(Q!==void 0?Q:0)),x+=T.xAdvance+c,G=T,H=y}}j!==null&&b.push({word:j.word,i:j.i,x:j.x*w,y:j.y*U,w:j.w*w,h:j.h*U,cr:!1}),x=0,m=0,G=null,H=0;var q,tt=0,it=[];for(N=0;N<b.length;N++){var st=b[N],lt=st.x,ut=st.x+st.w;if(q){var vt=lt-(q.x+q.w);tt=lt-(vt+q.w),q=null}var ft=lt-tt,Et=ut-tt;ft>e||Et>e?(it.push(st.i-1),st.cr?(it.push(st.i+st.word.length),tt=0,q=null):q=st):st.cr&&(it.push(st.i+st.word.length),tt=0,q=null)}var It=function(we,Fe,Ge){return we.substr(0,Fe)+Ge+we.substr(Fe+1)};for(N=it.length-1;N>=0;N--)r=It(r,it[N],`
`);o.wrappedText=r,s=r.length,b=[],j=null}var Nt=0;for(N=0;N<s;N++){if(y=r.charCodeAt(N),y===10){j!==null&&(b.push({word:j.word,i:j.i,x:j.x*w,y:j.y*U,w:j.w*w,h:j.h*U}),j=null),x=0,m+=d+g,G=null,z[W]=K,K>J&&(J=K),K<$&&($=K),W++,K=0;continue}if(T=h[y],!!T){if(P=x,D=m,G!==null){var Dt=T.kerning[H];P+=Dt!==void 0?Dt:0}l>P&&(l=P),n>D&&(n=D);var pt=P+T.xAdvance,Pt=D+d;a<pt&&(a=pt),f<Pt&&(f=Pt);var Lt=T.xOffset+T.xAdvance+(Dt!==void 0?Dt:0);y===i?j!==null&&(b.push({word:j.word,i:j.i,x:j.x*w,y:j.y*U,w:j.w*w,h:j.h*U}),j=null):(j===null&&(j={word:"",i:Nt,x,y:m,w:0,h:d}),j.word=j.word.concat(r[N]),j.w+=Lt),Y.push({i:Nt,idx:N,char:r[N],code:y,x:(T.xOffset+P)*I,y:(T.yOffset+m)*I,w:T.width*I,h:T.height*I,t:m*I,r:pt*I,b:d*I,line:W,glyph:T}),x+=T.xAdvance+c+(Dt!==void 0?Dt:0),G=T,H=y,K=pt*I,Nt++}}if(j!==null&&b.push({word:j.word,i:j.i,x:j.x*w,y:j.y*U,w:j.w*w,h:j.h*U}),z[W]=K,K>J&&(J=K),K<$&&($=K),R>0)for(var ee=0;ee<Y.length;ee++){var Jt=Y[ee];if(R===1){var Ee=(J-z[Jt.line])/2;Jt.x+=Ee,Jt.r+=Ee}else if(R===2){var de=J-z[Jt.line];Jt.x+=de,Jt.r+=de}}var oe=o.local,te=o.global,ue=o.lines;return oe.x=l*I,oe.y=n*I,oe.width=a*I,oe.height=f*I,te.x=t.x-t._displayOriginX+l*w,te.y=t.y-t._displayOriginY+n*U,te.width=a*w,te.height=f*U,ue.shortest=$,ue.longest=J,ue.lengths=z,u&&(oe.x=Math.ceil(oe.x),oe.y=Math.ceil(oe.y),oe.width=Math.ceil(oe.width),oe.height=Math.ceil(oe.height),te.x=Math.ceil(te.x),te.y=Math.ceil(te.y),te.width=Math.ceil(te.width),te.height=Math.ceil(te.height),ue.shortest=Math.ceil($),ue.longest=Math.ceil(J)),v&&(t._displayOriginX=t.originX*oe.width,t._displayOriginY=t.originY*oe.height,te.x=t.x-t._displayOriginX*t.scaleX,te.y=t.y-t._displayOriginY*t.scaleY,u&&(te.x=Math.ceil(te.x),te.y=Math.ceil(te.y))),o.words=b,o.characters=Y,o.lines.height=d,o.scale=I,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};p.exports=S},68298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(31476),v=function(o,r,s,e,i,l,n){var a=o.sys.textures.get(s),f=a.get(e),h=o.sys.cache.xml.get(i);if(f&&h){var d=u(h,f,l,n,a);return o.sys.cache.bitmapFont.add(r,{data:d,texture:s,frame:e,fromAtlas:!0}),!0}else return!1};p.exports=v},39860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10850),v=function(o,r){var s=r.width,e=r.height,i=Math.floor(s/2),l=Math.floor(e/2),n=u(r,"chars","");if(n!==""){var a=u(r,"image",""),f=o.sys.textures.getFrame(a),h=f.cutX,d=f.cutY,c=f.source.width,g=f.source.height,x=u(r,"offset.x",0),m=u(r,"offset.y",0),y=u(r,"spacing.x",0),T=u(r,"spacing.y",0),R=u(r,"lineSpacing",0),P=u(r,"charsPerRow",null);P===null&&(P=c/s,P>n.length&&(P=n.length));for(var D=x,I=m,w={retroFont:!0,font:a,size:s,lineHeight:e+R,chars:{}},U=0,G=0;G<n.length;G++){var H=n.charCodeAt(G),z=(h+D)/c,$=(d+I)/g,J=(h+D+s)/c,W=(d+I+e)/g;w.chars[H]={x:D,y:I,width:s,height:e,centerX:i,centerY:l,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:z,v0:$,u1:J,v1:W},U++,U===P?(U=0,D=x,I+=e+T):D+=s+y}var K={data:w,frame:null,texture:a};return K}};p.exports=v},31476:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(u,v){return parseInt(u.getAttribute(v),10)}var t=function(u,v,o,r,s){o===void 0&&(o=0),r===void 0&&(r=0);var e=v.cutX,i=v.cutY,l=v.source.width,n=v.source.height,a=v.sourceIndex,f={},h=u.getElementsByTagName("info")[0],d=u.getElementsByTagName("common")[0];f.font=h.getAttribute("face"),f.size=S(h,"size"),f.lineHeight=S(d,"lineHeight")+r,f.chars={};var c=u.getElementsByTagName("char"),g=v!==void 0&&v.trimmed;if(g)var x=v.height,m=v.width;for(var y=0;y<c.length;y++){var T=c[y],R=S(T,"id"),P=String.fromCharCode(R),D=S(T,"x"),I=S(T,"y"),w=S(T,"width"),U=S(T,"height");g&&(D<m&&(m=D),I<x&&(x=I)),g&&x!==0&&m!==0&&(D-=v.x,I-=v.y);var G=(e+D)/l,H=(i+I)/n,z=(e+D+w)/l,$=(i+I+U)/n;if(f.chars[R]={x:D,y:I,width:w,height:U,centerX:Math.floor(w/2),centerY:Math.floor(U/2),xOffset:S(T,"xoffset"),yOffset:S(T,"yoffset"),xAdvance:S(T,"xadvance")+o,data:{},kerning:{},u0:G,v0:H,u1:z,v1:$},s&&w!==0&&U!==0){var J=s.add(P,a,D,I,w,U);J&&J.setUVs(w,U,G,H,z,$)}}var W=u.getElementsByTagName("kerning");for(y=0;y<W.length;y++){var K=W[y],N=S(K,"first"),b=S(K,"second"),Y=S(K,"amount");f.chars[b].kerning[N]=Y}return f};p.exports=t},55873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66863),v=t(98611),o={Parse:t(39860)};o=v(!1,o,u),p.exports=o},66863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=S},13468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(44616),v=t(56694),o=t(88899),r=new v({Extends:u,Mixins:[o],initialize:function(e,i,l,n,a,f,h){u.call(this,e,i,l,n,a,f,h),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(s,e){return this.cropWidth=s,this.cropHeight=e,this},setDisplayCallback:function(s){return this.displayCallback=s,this},setScrollX:function(s){return this.scrollX=s,this},setScrollY:function(s){return this.scrollY=s,this}});p.exports=r},93438:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(49584),v=function(o,r,s,e){var i=r._text,l=i.length,n=o.currentContext;if(!(l===0||!u(o,n,r,s,e))){s.addToRenderList(r);var a=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.displayCallback,h=r.callbackData,d=r.fontData.chars,c=r.fontData.lineHeight,g=r._letterSpacing,x=0,m=0,y=0,T=null,R=0,P=0,D=0,I=0,w=0,U=0,G=null,H=0,z=r.frame.source.image,$=a.cutX,J=a.cutY,W=0,K=0,N=r._fontSize/r.fontData.size,b=r._align,Y=0,j=0;r.getTextBounds(!1);var Q=r._bounds.lines;b===1?j=(Q.longest-Q.lengths[0])/2:b===2&&(j=Q.longest-Q.lengths[0]),n.translate(-r.displayOriginX,-r.displayOriginY);var q=s.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(n.beginPath(),n.rect(0,0,r.cropWidth,r.cropHeight),n.clip());for(var tt=0;tt<l;tt++){if(K=N,W=0,y=i.charCodeAt(tt),y===10){Y++,b===1?j=(Q.longest-Q.lengths[Y])/2:b===2&&(j=Q.longest-Q.lengths[Y]),x=0,m+=c,G=null;continue}if(T=d[y],!!T){if(R=$+T.x,P=J+T.y,D=T.width,I=T.height,w=T.xOffset+x-r.scrollX,U=T.yOffset+m-r.scrollY,G!==null){var it=T.kerning[H];w+=it!==void 0?it:0}if(f){h.index=tt,h.charCode=y,h.x=w,h.y=U,h.scale=K,h.rotation=W,h.data=T.data;var st=f(h);w=st.x,U=st.y,K=st.scale,W=st.rotation}w*=K,U*=K,w+=j,x+=T.xAdvance+g+(it!==void 0?it:0),G=T,H=y,!(D===0||I===0||y===32)&&(q&&(w=Math.round(w),U=Math.round(U)),n.save(),n.translate(w,U),n.rotate(W),n.scale(K,K),n.drawImage(z,R,P,D,I,0,0,D,I),n.restore())}}n.restore()}};p.exports=v},67513:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13468),v=t(88933),o=t(99325),r=t(20494);o.register("dynamicBitmapText",function(s,e){s===void 0&&(s={});var i=r(s,"font",""),l=r(s,"text",""),n=r(s,"size",!1),a=new u(this.scene,0,0,i,l,n);return e!==void 0&&(s.add=e),v(this.scene,a,s),a})},94145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13468),v=t(61286);v.register("dynamicBitmapText",function(o,r,s,e,i){return this.displayList.add(new u(this.scene,o,r,s,e,i))})},88899:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(16873),o=t(93438),p.exports={renderWebGL:v,renderCanvas:o}},16873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(69360),o=t(75512),r=new v,s=function(e,i,l,n){var a=i.text,f=a.length;if(f!==0){l.addToRenderList(i);var h=e.pipelines.set(i.pipeline,i),d=u(i,l,n);e.pipelines.preBatch(i);var c=d.sprite,g=d.calc,x=r,m=i.cropWidth>0||i.cropHeight>0;m&&(h.flush(),e.pushScissor(g.tx,g.ty,i.cropWidth*g.scaleX,i.cropHeight*g.scaleY));var y=i.frame,T=y.glTexture,R=i.tintFill,P=o.getTintAppendFloatAlpha(i.tintTopLeft,l.alpha*i._alphaTL),D=o.getTintAppendFloatAlpha(i.tintTopRight,l.alpha*i._alphaTR),I=o.getTintAppendFloatAlpha(i.tintBottomLeft,l.alpha*i._alphaBL),w=o.getTintAppendFloatAlpha(i.tintBottomRight,l.alpha*i._alphaBR),U=h.setGameObject(i),G=0,H=0,z=0,$=0,J=i.letterSpacing,W,K=0,N=0,b,Y=i.scrollX,j=i.scrollY,Q=i.fontData,q=Q.chars,tt=Q.lineHeight,it=i.fontSize/Q.size,st=0,lt=i._align,ut=0,vt=0,ft=i.getTextBounds(!1);i.maxWidth>0&&(a=ft.wrappedText,f=a.length);var Et=i._bounds.lines;lt===1?vt=(Et.longest-Et.lengths[0])/2:lt===2&&(vt=Et.longest-Et.lengths[0]);for(var It=l.roundPixels,Nt=i.displayCallback,Dt=i.callbackData,pt=0;pt<f;pt++){if(z=a.charCodeAt(pt),z===10){ut++,lt===1?vt=(Et.longest-Et.lengths[ut])/2:lt===2&&(vt=Et.longest-Et.lengths[ut]),G=0,H+=tt,b=null;continue}if(W=q[z],!!W){K=W.width,N=W.height;var Pt=W.xOffset+G-Y,Lt=W.yOffset+H-j;if(b!==null){var ee=W.kerning[$];Pt+=ee!==void 0?ee:0}if(G+=W.xAdvance+J,b=W,$=z,!(K===0||N===0||z===32)){if(it=i.fontSize/i.fontData.size,st=0,Nt){Dt.color=0,Dt.tint.topLeft=P,Dt.tint.topRight=D,Dt.tint.bottomLeft=I,Dt.tint.bottomRight=w,Dt.index=pt,Dt.charCode=z,Dt.x=Pt,Dt.y=Lt,Dt.scale=it,Dt.rotation=st,Dt.data=W.data;var Jt=Nt(Dt);Pt=Jt.x,Lt=Jt.y,it=Jt.scale,st=Jt.rotation,Jt.color?(P=Jt.color,D=Jt.color,I=Jt.color,w=Jt.color):(P=Jt.tint.topLeft,D=Jt.tint.topRight,I=Jt.tint.bottomLeft,w=Jt.tint.bottomRight),P=o.getTintAppendFloatAlpha(P,l.alpha*i._alphaTL),D=o.getTintAppendFloatAlpha(D,l.alpha*i._alphaTR),I=o.getTintAppendFloatAlpha(I,l.alpha*i._alphaBL),w=o.getTintAppendFloatAlpha(w,l.alpha*i._alphaBR)}Pt*=it,Lt*=it,Pt-=i.displayOriginX,Lt-=i.displayOriginY,Pt+=vt,x.applyITRS(Pt,Lt,st,it,it),g.multiply(x,c);var Ee=W.u0,de=W.v0,oe=W.u1,te=W.v1,ue=K,we=N,Fe=c.e,Ge=c.f,di=we*c.c+c.e,Hi=we*c.d+c.f,Ki=ue*c.a+we*c.c+c.e,$i=ue*c.b+we*c.d+c.f,ji=ue*c.a+c.e,ki=ue*c.b+c.f;It&&(Fe=Math.round(Fe),Ge=Math.round(Ge),di=Math.round(di),Hi=Math.round(Hi),Ki=Math.round(Ki),$i=Math.round($i),ji=Math.round(ji),ki=Math.round(ki)),h.batchQuad(i,Fe,Ge,di,Hi,Ki,$i,ji,ki,Ee,de,oe,te,P,D,I,w,R,T,U)}}}m&&(h.flush(),e.popScissor()),e.pipelines.postBatch(i)}};p.exports=s},44616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(82897),o=t(64937),r=t(89980),s=t(82173),e=t(68298),i=t(31476),l=t(74118),n=t(84557),a=new u({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,n],initialize:function(h,d,c,g,x,m,y){x===void 0&&(x=""),y===void 0&&(y=0),r.call(this,h,"BitmapText"),this.font=g;var T=this.scene.sys.cache.bitmapFont.get(g);T||console.warn("Invalid BitmapText key: "+g),this.fontData=T.data,this._text="",this._fontSize=m||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=y,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=T.fromAtlas,this.setTexture(T.texture,T.frame),this.setPosition(d,c),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(x)},setLeftAlign:function(){return this._align=a.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=a.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=a.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,h,d,c){return f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),c===void 0&&(c=.5),this.dropShadowX=f,this.dropShadowY=h,this.dropShadowColor=d,this.dropShadowAlpha=c,this},setCharacterTint:function(f,h,d,c,g,x,m){f===void 0&&(f=0),h===void 0&&(h=1),d===void 0&&(d=!1),c===void 0&&(c=-1),g===void 0&&(g=c,x=c,m=c);var y=this.text.length;h===-1&&(h=y),f<0&&(f=y+f),f=v(f,0,y-1);for(var T=v(f+h,f,y),R=this.charColors,P=f;P<T;P++){var D=R[P];if(c===-1)R[P]=null;else{var I=d?1:0;D?(D.tintEffect=I,D.tintTL=c,D.tintTR=g,D.tintBL=x,D.tintBR=m):R[P]={tintEffect:I,tintTL:c,tintTR:g,tintBL:x,tintBR:m}}}return this},setWordTint:function(f,h,d,c,g,x,m){h===void 0&&(h=1);for(var y=this.getTextBounds(),T=y.words,R=typeof f=="number",P=0,D=0;D<T.length;D++){var I=T[D];if((R&&D===f||!R&&I.word===f)&&(this.setCharacterTint(I.i,I.word.length,d,c,g,x,m),P++,P===h))return this}return this},getTextBounds:function(f){var h=this._bounds;return(this._dirty||f||this.scaleX!==h.scaleX||this.scaleY!==h.scaleY)&&(s(this,f,!0,h),this._dirty=!1),h},getCharacterAt:function(f,h,d){for(var c=this.getLocalPoint(f,h,null,d),g=this.getTextBounds(),x=g.characters,m=new l,y=0;y<x.length;y++){var T=x[y];if(m.setTo(T.x,T.t,T.r-T.x,T.b),m.contains(c.x,c.y))return T}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,h,d){if(h===void 0&&(h=this._fontSize),d===void 0&&(d=this._align),f!==this.font){var c=this.scene.sys.cache.bitmapFont.get(f);c&&(this.font=f,this.fontData=c.data,this._fontSize=h,this._align=d,this.fromAtlas=c.fromAtlas===!0,this.setTexture(c.texture,c.frame),s(this,!1,!0,this._bounds))}return this},setMaxWidth:function(f,h){return this._maxWidth=f,this._dirty=!0,h!==void 0&&(this.wordWrapCharCode=h),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=o.ToJSON(this),h={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=h,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});a.ALIGN_LEFT=0,a.ALIGN_CENTER=1,a.ALIGN_RIGHT=2,a.ParseFromAtlas=e,a.ParseXMLBitmapFont=i,p.exports=a},97545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(49584),v=function(o,r,s,e){var i=r._text,l=i.length,n=o.currentContext;if(!(l===0||!u(o,n,r,s,e))){s.addToRenderList(r);var a=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.fontData.chars,h=r.fontData.lineHeight,d=r._letterSpacing,c=r._lineSpacing,g=0,x=0,m=0,y=null,T=0,R=0,P=0,D=0,I=0,w=0,U=null,G=0,H=a.source.image,z=a.cutX,$=a.cutY,J=r._fontSize/r.fontData.size,W=r._align,K=0,N=0,b=r.getTextBounds(!1);r.maxWidth>0&&(i=b.wrappedText,l=i.length);var Y=r._bounds.lines;W===1?N=(Y.longest-Y.lengths[0])/2:W===2&&(N=Y.longest-Y.lengths[0]),n.translate(-r.displayOriginX,-r.displayOriginY);for(var j=s.roundPixels,Q=0;Q<l;Q++){if(m=i.charCodeAt(Q),m===10){K++,W===1?N=(Y.longest-Y.lengths[K])/2:W===2&&(N=Y.longest-Y.lengths[K]),g=0,x+=h+c,U=null;continue}if(y=f[m],!!y){if(T=z+y.x,R=$+y.y,P=y.width,D=y.height,I=y.xOffset+g,w=y.yOffset+x,U!==null){var q=y.kerning[G];I+=q!==void 0?q:0}I*=J,w*=J,I+=N,g+=y.xAdvance+d+(q!==void 0?q:0),U=y,G=m,!(P===0||D===0||m===32)&&(j&&(I=Math.round(I),w=Math.round(w)),n.save(),n.translate(I,w),n.scale(J,J),n.drawImage(H,T,R,P,D,0,0,P,D),n.restore())}}n.restore()}};p.exports=v},95499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(44616),v=t(88933),o=t(99325),r=t(20494),s=t(10850);o.register("bitmapText",function(e,i){e===void 0&&(e={});var l=s(e,"font",""),n=r(e,"text",""),a=r(e,"size",!1),f=s(e,"align",0),h=new u(this.scene,0,0,l,n,a,f);return i!==void 0&&(e.add=i),v(this.scene,h,e),h})},21797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(44616),v=t(61286);v.register("bitmapText",function(o,r,s,e,i,l){return this.displayList.add(new u(this.scene,o,r,s,e,i,l))})},84557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(26372),o=t(97545),p.exports={renderWebGL:v,renderCanvas:o}},26372:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8810),v=t(73329),o=t(75512),r=function(s,e,i,l){var n=e._text,a=n.length;if(a!==0){i.addToRenderList(e);var f=s.pipelines.set(e.pipeline,e),h=v(e,i,l).calc;s.pipelines.preBatch(e);var d=i.roundPixels,c=i.alpha,g=e.charColors,x=e.tintFill,m=o.getTintAppendFloatAlpha,y=m(e.tintTopLeft,c*e._alphaTL),T=m(e.tintTopRight,c*e._alphaTR),R=m(e.tintBottomLeft,c*e._alphaBL),P=m(e.tintBottomRight,c*e._alphaBR),D=e.frame.glTexture,I=f.setGameObject(e),w=e.getTextBounds(!1),U,G,H,z=w.characters,$=e.dropShadowX,J=e.dropShadowY,W=$!==0||J!==0;if(W){var K=e.dropShadowColor,N=e.dropShadowAlpha,b=m(K,c*N*e._alphaTL),Y=m(K,c*N*e._alphaTR),j=m(K,c*N*e._alphaBL),Q=m(K,c*N*e._alphaBR);for(U=0;U<z.length;U++)G=z[U],H=G.glyph,!(G.code===32||H.width===0||H.height===0)&&u(f,e,G,H,$,J,h,d,b,Y,j,Q,1,D,I)}for(U=0;U<z.length;U++)if(G=z[U],H=G.glyph,!(G.code===32||H.width===0||H.height===0))if(g[G.i]){var q=g[G.i],tt=q.tintEffect,it=m(q.tintTL,c*e._alphaTL),st=m(q.tintTR,c*e._alphaTR),lt=m(q.tintBL,c*e._alphaBL),ut=m(q.tintBR,c*e._alphaBR);u(f,e,G,H,0,0,h,d,it,st,lt,ut,tt,D,I)}else u(f,e,G,H,0,0,h,d,y,T,R,P,x,D,I);s.pipelines.postBatch(e)}};p.exports=r},52816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(92246),v=t(41664),o=t(56694),r=t(64937),s=t(82047),e=t(89980),i=t(71207),l=new o({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,u],initialize:function(a,f,h,d,c){e.call(this,a,"Blitter"),this.setTexture(d,c),this.setPosition(f,h),this.initPipeline(),this.initPostPipeline(),this.children=new i,this.renderList=[],this.dirty=!1},create:function(n,a,f,h,d){h===void 0&&(h=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof s||(f=this.texture.get(f));var c=new v(this,n,a,f,h);return this.children.addAt(c,d,!1),this.dirty=!0,c},createFromCallback:function(n,a,f,h){for(var d=this.createMultiple(a,f,h),c=0;c<d.length;c++){var g=d[c];n.call(this,g,c)}return d},createMultiple:function(n,a,f){a===void 0&&(a=this.frame.name),f===void 0&&(f=!0),Array.isArray(a)||(a=[a]);var h=[],d=this;return a.forEach(function(c){for(var g=0;g<n;g++)h.push(d.create(0,0,c,f))}),h},childCanRender:function(n){return n.visible&&n.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=l},33177:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=u.getRenderList();if(r.length!==0){var s=t.currentContext,e=v.alpha*u.alpha;if(e!==0){v.addToRenderList(u),s.globalCompositeOperation=t.blendModes[u.blendMode],s.imageSmoothingEnabled=!u.frame.source.scaleMode;var i=u.x-v.scrollX*u.scrollFactorX,l=u.y-v.scrollY*u.scrollFactorY;s.save(),o&&o.copyToContext(s);for(var n=v.roundPixels,a=0;a<r.length;a++){var f=r[a],h=f.flipX||f.flipY,d=f.frame,c=d.canvasData,g=d.x,x=d.y,m=1,y=1,T=f.alpha*e;T!==0&&(s.globalAlpha=T,h?(f.flipX&&(m=-1,g-=c.width),f.flipY&&(y=-1,x-=c.height),c.width>0&&c.height>0&&(s.save(),s.translate(f.x+i,f.y+l),s.scale(m,y),s.drawImage(d.source.image,c.x,c.y,c.width,c.height,g,x,c.width,c.height),s.restore())):(n&&(g=Math.round(g),x=Math.round(x)),c.width>0&&c.height>0&&s.drawImage(d.source.image,c.x,c.y,c.width,c.height,g+f.x+i,x+f.y+l,c.width,c.height)))}s.restore()}}};p.exports=S},68452:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(52816),v=t(88933),o=t(99325),r=t(20494);o.register("blitter",function(s,e){s===void 0&&(s={});var i=r(s,"key",null),l=r(s,"frame",null),n=new u(this.scene,0,0,i,l);return e!==void 0&&(s.add=e),v(this.scene,n,s),n})},38906:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(52816),v=t(61286);v.register("blitter",function(o,r,s,e){return this.displayList.add(new u(this.scene,o,r,s,e))})},92246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(89165),o=t(33177),p.exports={renderWebGL:v,renderCanvas:o}},89165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(69360),v=t(75512),o=new u,r=function(s,e,i,l){var n=e.getRenderList(),a=i.alpha*e.alpha;if(!(n.length===0||a===0)){i.addToRenderList(e);var f=s.pipelines.set(this.pipeline,e),h=i.scrollX*e.scrollFactorX,d=i.scrollY*e.scrollFactorY,c=o.copyFrom(i.matrix);l&&(c.multiplyWithOffset(l,-h,-d),h=0,d=0);var g=e.x-h,x=e.y-d,m=-1,y=!1,T=i.roundPixels;s.pipelines.preBatch(e);for(var R=0;R<n.length;R++){var P=n[R],D=P.frame,I=P.alpha*a;if(I!==0){var w=D.width,U=D.height,G=g+P.x+D.x,H=x+P.y+D.y;P.flipX&&(w*=-1,G+=D.width),P.flipY&&(U*=-1,H+=D.height);var z=c.setQuad(G,H,G+w,H+U,T),$=v.getTintAppendFloatAlpha(P.tint,I);if(D.sourceIndex!==m){var J=f.setGameObject(e,D);m=D.sourceIndex}f.batchQuad(e,z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],D.u0,D.v0,D.u1,D.v1,$,$,$,$,y,D.glTexture,J)&&(m=-1)}}s.pipelines.postBatch(e)}};p.exports=r},41664:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(82047),o=new u({initialize:function(s,e,i,l,n){this.parent=s,this.x=e,this.y=i,this.frame=l,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof v&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,s,e){return this.x=r,this.y=s,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,s){return this.x=r,this.y=s,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,s){return this.flipX=r,this.flipY=s,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});p.exports=o},97123:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,s,e,i){return r===void 0&&(r=1),s===void 0?this.alpha=r:(this._alphaTL=u(r,0,1),this._alphaTR=u(s,0,1),this._alphaBL=u(e,0,1),this._alphaBR=u(i,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var s=u(r,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=~v:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var s=u(r,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var s=u(r,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var s=u(r,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var s=u(r,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=v)}}};p.exports=o},15720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var s=u(r,0,1);this._alpha=s,s===0?this.renderFlags&=~v:this.renderFlags|=v}}};p.exports=o},69732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95723),v={_blendMode:u.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=u[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};p.exports=v},28284:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,u){return this.width=t,this.height=u,this},setDisplaySize:function(t,u){return this.displayWidth=t,this.displayHeight=u,this}};p.exports=S},85293:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,u,v,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,u,v,o,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=S},14975:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};p.exports=S},88677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(96910),o=t(72677),r=new u({initialize:function(e,i){this.gameObject=e,this.isPost=i,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(s){return s===void 0&&(s=0),this.padding=s,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(s){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,s!==void 0&&(this.padding=s),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var s=this.list,e=0;e<s.length;e++)s[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(s){var e;if(this.isPost){var i=this.gameObject.getPostPipeline(String(s.type));for(Array.isArray(i)||(i=[i]),e=0;e<i.length;e++){var l=i[e];if(l.controller===s){this.gameObject.removePostPipeline(l),s.destroy();break}}}else{var n=this.list;for(e=0;e<n.length;e++)n[e]===s&&(o(n,e),s.destroy())}return this.gameObject},disable:function(s){return s===void 0&&(s=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,s&&this.clear(),this.gameObject},add:function(s,e){if(this.isPost){var i=String(s.type);this.gameObject.setPostPipeline(i,e);var l=this.gameObject.getPostPipeline(i);if(l)return Array.isArray(l)&&(l=l.pop()),l.controller=s,s}else return this.enabled||this.enable(),this.list.push(s),s},addGlow:function(s,e,i,l,n,a){return this.add(new v.Glow(this.gameObject,s,e,i,l),{quality:n,distance:a})},addShadow:function(s,e,i,l,n,a,f){return this.add(new v.Shadow(this.gameObject,s,e,i,l,n,a,f))},addPixelate:function(s){return this.add(new v.Pixelate(this.gameObject,s))},addVignette:function(s,e,i,l){return this.add(new v.Vignette(this.gameObject,s,e,i,l))},addShine:function(s,e,i,l){return this.add(new v.Shine(this.gameObject,s,e,i,l))},addBlur:function(s,e,i,l,n,a){return this.add(new v.Blur(this.gameObject,s,e,i,l,n,a))},addGradient:function(s,e,i,l,n,a,f,h){return this.add(new v.Gradient(this.gameObject,s,e,i,l,n,a,f,h))},addBloom:function(s,e,i,l,n,a){return this.add(new v.Bloom(this.gameObject,s,e,i,l,n,a))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(s,e,i,l,n){return this.add(new v.Circle(this.gameObject,s,e,i,l,n))},addBarrel:function(s){return this.add(new v.Barrel(this.gameObject,s))},addDisplacement:function(s,e,i){return this.add(new v.Displacement(this.gameObject,s,e,i))},addWipe:function(s,e,i){return this.add(new v.Wipe(this.gameObject,s,e,i))},addReveal:function(s,e,i){return this.add(new v.Wipe(this.gameObject,s,e,i,!0))},addBokeh:function(s,e,i){return this.add(new v.Bokeh(this.gameObject,s,e,i))},addTiltShift:function(s,e,i,l,n,a){return this.add(new v.Bokeh(this.gameObject,s,e,i,!0,l,n,a))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=r},92972:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,u){return this.flipX=t,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=S},80693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=t(2386),o=t(93736),r={prepareBoundsOutput:function(s,e){if(e===void 0&&(e=!1),this.rotation!==0&&v(s,this.x,this.y,this.rotation),e&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(s.x,s.y,s)}return s},getCenter:function(s,e){return s===void 0&&(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getTopLeft:function(s,e){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopCenter:function(s,e){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopRight:function(s,e){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getLeftCenter:function(s,e){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getRightCenter:function(s,e){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getBottomLeft:function(s,e){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomCenter:function(s,e){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomRight:function(s,e){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBounds:function(s){s===void 0&&(s=new u);var e,i,l,n,a,f,h,d;if(this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),c.transformPoint(s.x,s.y,s),e=s.x,i=s.y,this.getTopRight(s),c.transformPoint(s.x,s.y,s),l=s.x,n=s.y,this.getBottomLeft(s),c.transformPoint(s.x,s.y,s),a=s.x,f=s.y,this.getBottomRight(s),c.transformPoint(s.x,s.y,s),h=s.x,d=s.y}else this.getTopLeft(s),e=s.x,i=s.y,this.getTopRight(s),l=s.x,n=s.y,this.getBottomLeft(s),a=s.x,f=s.y,this.getBottomRight(s),h=s.x,d=s.y;return s.x=Math.min(e,l,a,h),s.y=Math.min(i,n,f,d),s.width=Math.max(e,l,a,h)-s.x,s.height=Math.max(i,n,f,d)-s.y,s}};p.exports=r},39171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(76756),v=t(63037),o={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,s,e,i,l){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new u(this.scene,r,s,e,i,l)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new v(this.scene,r)}};p.exports=o},28072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,u){return t===void 0&&(t=.5),u===void 0&&(u=t),this.originX=t,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,u){return t===void 0&&(t=0),u===void 0&&(u=t),this.displayOriginX=t,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=S},54211:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75606),v=t(63130),o=t(10850),r=t(55303),s=t(93736),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(i,l){l===void 0&&(l=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=i,l&&this.startFollow(l),this},setRotateToPath:function(i,l){return l===void 0&&(l=0),this.rotateToPath=i,this.pathRotationOffset=l,this},isFollowing:function(){var i=this.pathTween;return i&&i.isPlaying()},startFollow:function(i,l){i===void 0&&(i={}),l===void 0&&(l=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),typeof i=="number"&&(i={duration:i}),i.from=o(i,"from",0),i.to=o(i,"to",1);var a=v(i,"positionOnPath",!1);this.rotateToPath=v(i,"rotateToPath",!1),this.pathRotationOffset=o(i,"rotationOffset",0);var f=o(i,"startAt",l);if(f&&(i.onStart=function(d){var c=d.data[0];c.progress=f,c.elapsed=c.duration*f;var g=c.ease(c.progress);c.current=c.start+(c.end-c.start)*g,c.setTargetValue()}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),i.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(i),this.path.getStartPoint(this.pathOffset),a&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var h=this.path.getPoint(.1);this.rotation=Math.atan2(h.y-this.y,h.x-this.x)+u(this.pathRotationOffset)}return this.pathConfig=i,this},pauseFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.pause(),this},resumeFollow:function(){var i=this.pathTween;return i&&i.isPaused()&&i.resume(),this},stopFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this},pathUpdate:function(){var i=this.pathTween;if(i){var l=i.data[0],n=this.pathDelta,a=this.pathVector;if(n.copy(a).negate(),l.state===r.COMPLETE){this.path.getPoint(l.end,a),n.add(a),a.add(this.pathOffset),this.setPosition(a.x,a.y);return}else if(l.state!==r.PLAYING_FORWARD&&l.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(i.getValue(),a),n.add(a),a.add(this.pathOffset);var f=this.x,h=this.y;this.setPosition(a.x,a.y);var d=this.x-f,c=this.y-h;if(d===0&&c===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,d)+u(this.pathRotationOffset))}}};p.exports=e},58210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28699),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var s=r.pipelines;if(s){o===void 0&&(o=s.default);var e=s.get(o);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(o,r,s){var e=this.scene.sys.renderer;if(!e)return this;var i=e.pipelines;if(i){var l=i.get(o);l&&(this.pipeline=l),r&&(this.pipelineData=s?u(r):r)}return this},setPipelineData:function(o,r){var s=this.pipelineData;return r===void 0?delete s[o]:s[o]=r,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};p.exports=v},44086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28699),v=t(88677),o=t(72677),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(s){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),s&&(this.preFX=new v(this,!1))},setPostPipeline:function(s,e,i){var l=this.scene.sys.renderer;if(!l)return this;var n=l.pipelines;if(n){Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++){var f=n.getPostPipeline(s[a],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=i?u(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(s,e){var i=this.postPipelineData;return e===void 0?delete i[s]:i[s]=e,this},getPostPipeline:function(s){for(var e=typeof s=="string",i=this.postPipelines,l=[],n=0;n<i.length;n++){var a=i[n];(e&&a.name===s||!e&&a instanceof s)&&l.push(a)}return l.length===1?l[0]:l},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var e=this.postPipelines,i=0;i<e.length;i++)e[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.postPipelineData={})},removePostPipeline:function(s){for(var e=typeof s=="string",i=this.postPipelines,l=i.length-1;l>=0;l--){var n=i[l];(e&&n.name===s||!e&&n===s)&&(n.destroy(),o(i,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=r},45900:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,u){return u===void 0&&(u=t),this.scrollFactorX=t,this.scrollFactorY=u,this}};p.exports=S},31654:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setSize:function(t,u){return this.width=t,this.height=u,this},setDisplaySize:function(t,u){return this.displayWidth=t,this.displayHeight=u,this}};p.exports=S},82081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82047),v=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(r,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s)},setFrame:function(r,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),r instanceof u?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=o},21850:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82047),v=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(r,s,e,i){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,s,e,i,this.flipX,this.flipY);else{var l=r;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s)},setFrame:function(r,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),r instanceof u?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=o},58072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,u,v,o){return t===void 0&&(t=16777215),u===void 0&&(u=t,v=t,o=t),this.tintTopLeft=t,this.tintTopRight=u,this.tintBottomLeft=v,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,u,v,o){return this.setTint(t,u,v,o),this.tintFill=!0,this},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=S},48129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(u.textureKey=t.texture.key,u.frameKey=t.frame.name),u};p.exports=S},56584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=t(69360),o=t(64462),r=t(35786),s=t(62138),e=t(93736),i=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this._scaleX=n,this._scaleY=n,n===0?this.renderFlags&=~i:this.renderFlags|=i}},scaleX:{get:function(){return this._scaleX},set:function(n){this._scaleX=n,n===0?this.renderFlags&=~i:this._scaleY!==0&&(this.renderFlags|=i)}},scaleY:{get:function(){return this._scaleY},set:function(n){this._scaleY=n,n===0?this.renderFlags&=~i:this._scaleX!==0&&(this.renderFlags|=i)}},angle:{get:function(){return s(this._rotation*u.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*u.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(n){this._rotation=r(n)}},setPosition:function(n,a,f,h){return n===void 0&&(n=0),a===void 0&&(a=n),f===void 0&&(f=0),h===void 0&&(h=0),this.x=n,this.y=a,this.z=f,this.w=h,this},copyPosition:function(n){return n.x!==void 0&&(this.x=n.x),n.y!==void 0&&(this.y=n.y),n.z!==void 0&&(this.z=n.z),n.w!==void 0&&(this.w=n.w),this},setRandomPosition:function(n,a,f,h){return n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=this.scene.sys.scale.width),h===void 0&&(h=this.scene.sys.scale.height),this.x=n+Math.random()*f,this.y=a+Math.random()*h,this},setRotation:function(n){return n===void 0&&(n=0),this.rotation=n,this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,this},setScale:function(n,a){return n===void 0&&(n=1),a===void 0&&(a=n),this.scaleX=n,this.scaleY=a,this},setX:function(n){return n===void 0&&(n=0),this.x=n,this},setY:function(n){return n===void 0&&(n=0),this.y=n,this},setZ:function(n){return n===void 0&&(n=0),this.z=n,this},setW:function(n){return n===void 0&&(n=0),this.w=n,this},getLocalTransformMatrix:function(n){return n===void 0&&(n=new v),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(n,a){n===void 0&&(n=new v);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(n);for(a||(a=new v),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)a.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),a.multiply(n,n),f=f.parentContainer;return n},getLocalPoint:function(n,a,f,h){f||(f=new e),h||(h=this.scene.sys.cameras.main);var d=h.scrollX,c=h.scrollY,g=n+d*this.scrollFactorX-d,x=a+c*this.scrollFactorY-c;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,x,f):o(g,x,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var n=0,a=this.parentContainer;a;)n+=a.rotation,a=a.parentContainer;return n}};p.exports=l},69360:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(83392),o=t(93736),r=new u({initialize:function(e,i,l,n,a,f){e===void 0&&(e=1),i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=1),a===void 0&&(a=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,i,l,n,a,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,e=s[0],i=s[1],l=s[2],n=s[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||n?v.TAU-(n>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,e){var i=this.matrix;return i[4]=i[0]*s+i[2]*e+i[4],i[5]=i[1]*s+i[3]*e+i[5],this},scale:function(s,e){var i=this.matrix;return i[0]*=s,i[1]*=s,i[2]*=e,i[3]*=e,this},rotate:function(s){var e=Math.sin(s),i=Math.cos(s),l=this.matrix,n=l[0],a=l[1],f=l[2],h=l[3];return l[0]=n*i+f*e,l[1]=a*i+h*e,l[2]=n*-e+f*i,l[3]=a*-e+h*i,this},multiply:function(s,e){var i=this.matrix,l=s.matrix,n=i[0],a=i[1],f=i[2],h=i[3],d=i[4],c=i[5],g=l[0],x=l[1],m=l[2],y=l[3],T=l[4],R=l[5],P=e===void 0?i:e.matrix;return P[0]=g*n+x*f,P[1]=g*a+x*h,P[2]=m*n+y*f,P[3]=m*a+y*h,P[4]=T*n+R*f+d,P[5]=T*a+R*h+c,P},multiplyWithOffset:function(s,e,i){var l=this.matrix,n=s.matrix,a=l[0],f=l[1],h=l[2],d=l[3],c=l[4],g=l[5],x=e*a+i*h+c,m=e*f+i*d+g,y=n[0],T=n[1],R=n[2],P=n[3],D=n[4],I=n[5];return l[0]=y*a+T*h,l[1]=y*f+T*d,l[2]=R*a+P*h,l[3]=R*f+P*d,l[4]=D*a+I*h+x,l[5]=D*f+I*d+m,this},transform:function(s,e,i,l,n,a){var f=this.matrix,h=f[0],d=f[1],c=f[2],g=f[3],x=f[4],m=f[5];return f[0]=s*h+e*c,f[1]=s*d+e*g,f[2]=i*h+l*c,f[3]=i*d+l*g,f[4]=n*h+a*c+x,f[5]=n*d+a*g+m,this},transformPoint:function(s,e,i){i===void 0&&(i={x:0,y:0});var l=this.matrix,n=l[0],a=l[1],f=l[2],h=l[3],d=l[4],c=l[5];return i.x=s*n+e*f+d,i.y=s*a+e*h+c,i},invert:function(){var s=this.matrix,e=s[0],i=s[1],l=s[2],n=s[3],a=s[4],f=s[5],h=e*n-i*l;return s[0]=n/h,s[1]=-i/h,s[2]=-l/h,s[3]=e/h,s[4]=(l*f-n*a)/h,s[5]=-(e*f-i*a)/h,this},copyFrom:function(s){var e=this.matrix;return e[0]=s.a,e[1]=s.b,e[2]=s.c,e[3]=s.d,e[4]=s.e,e[5]=s.f,this},copyFromArray:function(s){var e=this.matrix;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],this},copyToContext:function(s){var e=this.matrix;return s.transform(e[0],e[1],e[2],e[3],e[4],e[5]),s},setToContext:function(s){var e=this.matrix;return s.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),s},copyToArray:function(s){var e=this.matrix;return s===void 0?s=[e[0],e[1],e[2],e[3],e[4],e[5]]:(s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5]),s},setTransform:function(s,e,i,l,n,a){var f=this.matrix;return f[0]=s,f[1]=e,f[2]=i,f[3]=l,f[4]=n,f[5]=a,this},decomposeMatrix:function(){var s=this.decomposedMatrix,e=this.matrix,i=e[0],l=e[1],n=e[2],a=e[3],f=i*a-l*n;if(s.translateX=e[4],s.translateY=e[5],i||l){var h=Math.sqrt(i*i+l*l);s.rotation=l>0?Math.acos(i/h):-Math.acos(i/h),s.scaleX=h,s.scaleY=f/h}else if(n||a){var d=Math.sqrt(n*n+a*a);s.rotation=Math.PI*.5-(a>0?Math.acos(-n/d):-Math.acos(n/d)),s.scaleX=f/d,s.scaleY=d}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,e,i,l,n){var a=this.matrix,f=Math.sin(i),h=Math.cos(i);return a[4]=s,a[5]=e,a[0]=h*l,a[1]=f*l,a[2]=-f*n,a[3]=h*n,this},applyInverse:function(s,e,i){i===void 0&&(i=new o);var l=this.matrix,n=l[0],a=l[1],f=l[2],h=l[3],d=l[4],c=l[5],g=1/(n*h+f*-a);return i.x=h*g*s+-f*g*e+(c*f-d*h)*g,i.y=n*g*e+-a*g*s+(-c*n+d*a)*g,i},setQuad:function(s,e,i,l,n,a){a===void 0&&(a=this.quad);var f=this.matrix,h=f[0],d=f[1],c=f[2],g=f[3],x=f[4],m=f[5];return a[0]=s*h+e*c+x,a[1]=s*d+e*g+m,a[2]=s*h+l*c+x,a[3]=s*d+l*g+m,a[4]=i*h+l*c+x,a[5]=i*d+l*g+m,a[6]=i*h+e*c+x,a[7]=i*d+e*g+m,n&&a.forEach(function(y,T){a[T]=Math.round(y)}),a},getX:function(s,e){return s*this.a+e*this.c+this.e},getY:function(s,e){return s*this.b+e*this.d+this.f},getXRound:function(s,e,i){var l=this.getX(s,e);return i&&(l=Math.round(l)),l},getYRound:function(s,e,i){var l=this.getY(s,e);return i&&(l=Math.round(l)),l},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=r},59694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=~S)}},setVisible:function(u){return this.visible=u,this}};p.exports=t},64937:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(97123),AlphaSingle:t(15720),BlendMode:t(69732),ComputedSize:t(28284),Crop:t(85293),Depth:t(14975),Flip:t(92972),FX:t(88677),GetBounds:t(80693),Mask:t(39171),Origin:t(28072),PathFollower:t(54211),Pipeline:t(58210),PostPipeline:t(44086),ScrollFactor:t(45900),Size:t(31654),Texture:t(82081),TextureCrop:t(21850),Tint:t(58072),ToJSON:t(48129),Transform:t(56584),TransformMatrix:t(69360),Visible:t(59694)}},70339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(59959),v=t(95723),o=t(56694),r=t(64937),s=t(56631),e=t(89980),i=t(74118),l=t(98524),n=t(58795),a=t(93736),f=new o({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,l],initialize:function(d,c,g,x){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(c,g),this.setBlendMode(v.SKIP_CHECK),x&&this.add(x)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(h){return h===void 0&&(h=!0),this.exclusive=h,this},getBounds:function(h){if(h===void 0&&(h=new i),h.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),c=d.transformPoint(this.x,this.y);h.setTo(c.x,c.y,0,0)}if(this.list.length>0){var g=this.list,x=new i,m=!1;h.setEmpty();for(var y=0;y<g.length;y++){var T=g[y];T.getBounds&&(T.getBounds(x),m?n(x,h,h):(h.setTo(x.x,x.y,x.width,x.height),m=!0))}}return h},addHandler:function(h){h.once(s.DESTROY,this.remove,this),this.exclusive&&(h.parentContainer&&h.parentContainer.remove(h),h.parentContainer=this,h.removeFromDisplayList(),h.addedToScene())},removeHandler:function(h){h.off(s.DESTROY,this.remove,this),this.exclusive&&(h.parentContainer=null,h.removedFromScene(),h.addToDisplayList())},pointToContainer:function(h,d){d===void 0&&(d=new a),this.parentContainer?this.parentContainer.pointToContainer(h,d):(d.x=h.x,d.y=h.y);var c=this.tempTransformMatrix;return c.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),c.invert(),c.transformPoint(h.x,h.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(h){return u.Add(this.list,h,this.maxSize,this.addHandler,this),this},addAt:function(h,d){return u.AddAt(this.list,h,d,this.maxSize,this.addHandler,this),this},getAt:function(h){return this.list[h]},getIndex:function(h){return this.list.indexOf(h)},sort:function(h,d){return h?(d===void 0&&(d=function(c,g){return c[h]-g[h]}),u.StableSort(this.list,d),this):this},getByName:function(h){return u.GetFirst(this.list,"name",h)},getRandom:function(h,d){return u.GetRandom(this.list,h,d)},getFirst:function(h,d,c,g){return u.GetFirst(this.list,h,d,c,g)},getAll:function(h,d,c,g){return u.GetAll(this.list,h,d,c,g)},count:function(h,d,c,g){return u.CountAllMatching(this.list,h,d,c,g)},swap:function(h,d){return u.Swap(this.list,h,d),this},moveTo:function(h,d){return u.MoveTo(this.list,h,d),this},moveAbove:function(h,d){return u.MoveAbove(this.list,h,d),this},moveBelow:function(h,d){return u.MoveBelow(this.list,h,d),this},remove:function(h,d){var c=u.Remove(this.list,h,this.removeHandler,this);if(d&&c){Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++)c[g].destroy()}return this},removeAt:function(h,d){var c=u.RemoveAt(this.list,h,this.removeHandler,this);return d&&c&&c.destroy(),this},removeBetween:function(h,d,c){var g=u.RemoveBetween(this.list,h,d,this.removeHandler,this);if(c)for(var x=0;x<g.length;x++)g[x].destroy();return this},removeAll:function(h){var d=this.list;if(h){for(var c=0;c<d.length;c++)d[c]&&d[c].scene&&(d[c].off(s.DESTROY,this.remove,this),d[c].destroy());this.list=[]}else u.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(h){return u.BringToTop(this.list,h),this},sendToBack:function(h){return u.SendToBack(this.list,h),this},moveUp:function(h){return u.MoveUp(this.list,h),this},moveDown:function(h){return u.MoveDown(this.list,h),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(h,d,c){var g=u.Replace(this.list,h,d);return g&&(this.addHandler(d),this.removeHandler(h),c&&h.destroy()),this},exists:function(h){return this.list.indexOf(h)>-1},setAll:function(h,d,c,g){return u.SetAll(this.list,h,d,c,g),this},each:function(h,d){var c=[null],g,x=this.list.slice(),m=x.length;for(g=2;g<arguments.length;g++)c.push(arguments[g]);for(g=0;g<m;g++)c[0]=x[g],h.apply(d,c);return this},iterate:function(h,d){var c=[null],g;for(g=2;g<arguments.length;g++)c.push(arguments[g]);for(g=0;g<this.list.length;g++)c[0]=this.list[g],h.apply(d,c);return this},setScrollFactor:function(h,d,c){return d===void 0&&(d=h),c===void 0&&(c=!1),this.scrollFactorX=h,this.scrollFactorY=d,c&&(u.SetAll(this.list,"scrollFactorX",h),u.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});p.exports=f},13916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v.addToRenderList(u);var r=u.list;if(r.length!==0){var s=u.localTransform;o?(s.loadIdentity(),s.multiply(o),s.translate(u.x,u.y),s.rotate(u.rotation),s.scale(u.scaleX,u.scaleY)):s.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var e=u.blendMode!==-1;e||t.setBlendMode(0);var i=u._alpha,l=u.scrollFactorX,n=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(t,null,v);for(var a=0;a<r.length;a++){var f=r[a];if(f.willRender(v)){var h=f.alpha,d=f.scrollFactorX,c=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*l,c*n),f.setAlpha(h*i),f.renderCanvas(t,f,v,s),f.setAlpha(h),f.setScrollFactor(d,c)}}u.mask&&u.mask.postRenderCanvas(t)}};p.exports=S},44516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(70339),o=t(99325),r=t(20494);o.register("container",function(s,e){s===void 0&&(s={});var i=r(s,"x",0),l=r(s,"y",0),n=r(s,"children",null),a=new v(this.scene,i,l,n);return e!==void 0&&(s.add=e),u(this.scene,a,s),a})},23400:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70339),v=t(61286);v.register("container",function(o,r,s){return this.displayList.add(new u(this.scene,o,r,s))})},98524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(36934),o=t(13916),p.exports={renderWebGL:v,renderCanvas:o}},36934:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v.addToRenderList(u);var r=u.list,s=r.length;if(s!==0){var e=u.localTransform;o?(e.loadIdentity(),e.multiply(o),e.translate(u.x,u.y),e.rotate(u.rotation),e.scale(u.scaleX,u.scaleY)):e.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),t.pipelines.preBatch(u);var i=u.blendMode!==-1;i||t.setBlendMode(0);for(var l=u.alpha,n=u.scrollFactorX,a=u.scrollFactorY,f=0;f<s;f++){var h=r[f];if(h.willRender(v)){var d,c,g,x;if(h.alphaTopLeft!==void 0)d=h.alphaTopLeft,c=h.alphaTopRight,g=h.alphaBottomLeft,x=h.alphaBottomRight;else{var m=h.alpha;d=m,c=m,g=m,x=m}var y=h.scrollFactorX,T=h.scrollFactorY;!i&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode);var R=h.mask;R&&R.preRenderWebGL(t,h,v);var P=h.type;P!==t.currentType&&(t.newType=!0,t.currentType=P),t.nextTypeMatch=f<s-1?r[f+1].type===t.currentType:!1,h.setScrollFactor(y*n,T*a),h.setAlpha(d*l,c*l,g*l,x*l),h.renderWebGL(t,h,v,e,u),h.setAlpha(d,c,g,x),h.setScrollFactor(y,T),R&&R.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(u)}};p.exports=S},2452:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(11603),r=t(89980),s=t(42911),e=t(55638),i=t(7599),l=t(51729),n=new u({Extends:r,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,o],initialize:function(f,h,d,c,g,x){r.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(h,d),typeof c=="string"?c[0]==="#"?this.setElement(c.substr(1),g,x):this.createElement(c,g,x):c&&this.setElement(c,g,x),f.sys.events.on(i.SLEEP,this.handleSceneEvent,this),f.sys.events.on(i.WAKE,this.handleSceneEvent,this),f.sys.events.on(i.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(a){var f=this.node,h=f.style;f&&(h.display=a.settings.visible?"block":"none")},setSkew:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.skewX=a,this.skewY=f,this},setPerspective:function(a){return this.parent.style.perspective=a+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(a){this.parent.style.perspective=a+"px"}},addListener:function(a){if(this.node){a=a.split(" ");for(var f=0;f<a.length;f++)this.node.addEventListener(a[f],this.handler,!1)}return this},removeListener:function(a){if(this.node){a=a.split(" ");for(var f=0;f<a.length;f++)this.node.removeEventListener(a[f],this.handler)}return this},dispatchNativeEvent:function(a){this.emit(a.type,a)},createElement:function(a,f,h){return this.setElement(document.createElement(a),f,h)},setElement:function(a,f,h){this.removeElement();var d;if(typeof a=="string"?(a[0]==="#"&&(a=a.substr(1)),d=document.getElementById(a)):typeof a=="object"&&a.nodeType===1&&(d=a),!d)return this;if(this.node=d,f&&s(f))for(var c in f)d.style[c]=f[c];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),h&&(d.innerText=h),this.updateSize()},createFromCache:function(a,f){var h=this.cache.get(a);return h&&this.createFromHTML(h,f),this},createFromHTML:function(a,f){f===void 0&&(f="div"),this.removeElement();var h=document.createElement(f);return this.node=h,h.style.zIndex="0",h.style.display="inline",h.style.position="absolute",h.phaser=this,this.parent&&this.parent.appendChild(h),h.innerHTML=a,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var a=this.node,f=a.getBoundingClientRect();return this.width=a.clientWidth,this.height=a.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(a,f){if(this.node){for(var h=this.node.querySelectorAll("*"),d=0;d<h.length;d++)if(h[d][a]===f)return h[d]}return null},getChildByID:function(a){return this.getChildByProperty("id",a)},getChildByName:function(a){return this.getChildByProperty("name",a)},setClassName:function(a){return this.node&&(this.node.className=a,this.updateSize()),this},setText:function(a){return this.node&&(this.node.innerText=a,this.updateSize()),this},setHTML:function(a){return this.node&&(this.node.innerHTML=a,this.updateSize()),this},preRender:function(){var a=this.parentContainer,f=this.node;f&&a&&!a.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(i.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(i.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(i.PRE_RENDER,this.preRender,this)}});p.exports=n},66070:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2452),v=t(89980),o=t(69360),r=new o,s=new o,e=new o,i=function(l,n,a,f){if(n.node){var h=n.node.style,d=n.scene.sys.settings;if(!h||!d.visible||v.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&a.id||n.parentContainer&&!n.parentContainer.willRender()){h.display="none";return}var c=n.parentContainer,g=a.alpha*n.alpha;c&&(g*=c.alpha);var x=r,m=s,y=e,T=0,R=0,P="0%",D="0%";f?(T=n.width*n.scaleX*n.originX,R=n.height*n.scaleY*n.originY,m.applyITRS(n.x-T,n.y-R,n.rotation,n.scaleX,n.scaleY),x.copyFrom(a.matrix),x.multiplyWithOffset(f,-a.scrollX*n.scrollFactorX,-a.scrollY*n.scrollFactorY),m.e=n.x-T,m.f=n.y-R,x.multiply(m,y)):(T=n.width*n.originX,R=n.height*n.originY,m.applyITRS(n.x-T,n.y-R,n.rotation,n.scaleX,n.scaleY),x.copyFrom(a.matrix),P=100*n.originX+"%",D=100*n.originY+"%",m.e-=a.scrollX*n.scrollFactorX,m.f-=a.scrollY*n.scrollFactorY,x.multiply(m,y)),n.transformOnly||(h.display="block",h.opacity=g,h.zIndex=n._depth,h.pointerEvents=n.pointerEvents,h.mixBlendMode=u[n._blendMode]),h.transform=y.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",h.transformOrigin=P+" "+D}};p.exports=i},66788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(38943),v=t(61286);v.register("dom",function(o,r,s,e,i){var l=new u(this.scene,o,r,s,e,i);return this.displayList.add(l),l})},11603:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(66070),o=t(66070),p.exports={renderWebGL:v,renderCanvas:o}},65492:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},98398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},40239:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},17286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},31496:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},89587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},59792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},96342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},6017:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},49614:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},24418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},87318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},50009:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},61922:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},79501:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4052:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},54857:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},56631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(65492),DESTROY:t(98398),REMOVED_FROM_SCENE:t(40239),VIDEO_COMPLETE:t(17286),VIDEO_CREATED:t(31496),VIDEO_ERROR:t(89587),VIDEO_LOCKED:t(59792),VIDEO_LOOP:t(96342),VIDEO_PLAY:t(49614),VIDEO_PLAYING:t(6017),VIDEO_SEEKED:t(24418),VIDEO_SEEKING:t(87318),VIDEO_STALLED:t(50009),VIDEO_STOP:t(61922),VIDEO_TEXTURE:t(79501),VIDEO_UNLOCKED:t(4052),VIDEO_UNSUPPORTED:t(54857)}},39419:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(89980),r=t(79394),s=new u({Extends:o,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,r],initialize:function(i){o.call(this,i,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=s},96699:()=>{},41155:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39419),v=t(61286);v.register("extern",function(){var o=new u(this.scene);return this.displayList.add(o),o})},79394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(81410),o=t(96699),p.exports={renderWebGL:v,renderCanvas:o}},81410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=function(o,r,s,e){o.pipelines.clear();var i=u(r,s,e).calc;r.render.call(r,o,s,i),o.pipelines.rebind()};p.exports=v},36266:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(51052),v=t(56694),o=t(36266),r=t(64937),s=t(95669),e=t(89980),i=t(72632),l=t(10850),n=t(83392),a=t(60898),f=new v({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,a],initialize:function(d,c){var g=l(c,"x",0),x=l(c,"y",0);e.call(this,d,"Graphics"),this.setPosition(g,x),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(c)},setDefaultStyles:function(h){return l(h,"lineStyle",null)&&(this.defaultStrokeWidth=l(h,"lineStyle.width",1),this.defaultStrokeColor=l(h,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(h,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(h,"fillStyle",null)&&(this.defaultFillColor=l(h,"fillStyle.color",16777215),this.defaultFillAlpha=l(h,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(h,d,c){return c===void 0&&(c=1),this.commandBuffer.push(o.LINE_STYLE,h,d,c),this._lineWidth=h,this},fillStyle:function(h,d){return d===void 0&&(d=1),this.commandBuffer.push(o.FILL_STYLE,h,d),this},fillGradientStyle:function(h,d,c,g,x,m,y,T){return x===void 0&&(x=1),m===void 0&&(m=x),y===void 0&&(y=x),T===void 0&&(T=x),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,x,m,y,T,h,d,c,g),this},lineGradientStyle:function(h,d,c,g,x,m){return m===void 0&&(m=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,h,m,d,c,g,x),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(h){return this.fillCircle(h.x,h.y,h.radius)},strokeCircleShape:function(h){return this.strokeCircle(h.x,h.y,h.radius)},fillCircle:function(h,d,c){return this.beginPath(),this.arc(h,d,c,0,n.PI2),this.fillPath(),this},strokeCircle:function(h,d,c){return this.beginPath(),this.arc(h,d,c,0,n.PI2),this.strokePath(),this},fillRectShape:function(h){return this.fillRect(h.x,h.y,h.width,h.height)},strokeRectShape:function(h){return this.strokeRect(h.x,h.y,h.width,h.height)},fillRect:function(h,d,c,g){return this.commandBuffer.push(o.FILL_RECT,h,d,c,g),this},strokeRect:function(h,d,c,g){var x=this._lineWidth/2,m=h-x,y=h+x;return this.beginPath(),this.moveTo(h,d),this.lineTo(h,d+g),this.strokePath(),this.beginPath(),this.moveTo(h+c,d),this.lineTo(h+c,d+g),this.strokePath(),this.beginPath(),this.moveTo(m,d),this.lineTo(y+c,d),this.strokePath(),this.beginPath(),this.moveTo(m,d+g),this.lineTo(y+c,d+g),this.strokePath(),this},fillRoundedRect:function(h,d,c,g,x){x===void 0&&(x=20);var m=x,y=x,T=x,R=x;typeof x!="number"&&(m=i(x,"tl",20),y=i(x,"tr",20),T=i(x,"bl",20),R=i(x,"br",20));var P=m>=0,D=y>=0,I=T>=0,w=R>=0;return m=Math.abs(m),y=Math.abs(y),T=Math.abs(T),R=Math.abs(R),this.beginPath(),this.moveTo(h+m,d),this.lineTo(h+c-y,d),D?this.arc(h+c-y,d+y,y,-n.TAU,0):this.arc(h+c,d,y,Math.PI,n.TAU,!0),this.lineTo(h+c,d+g-R),w?this.arc(h+c-R,d+g-R,R,0,n.TAU):this.arc(h+c,d+g,R,-n.TAU,Math.PI,!0),this.lineTo(h+T,d+g),I?this.arc(h+T,d+g-T,T,n.TAU,Math.PI):this.arc(h,d+g,T,0,-n.TAU,!0),this.lineTo(h,d+m),P?this.arc(h+m,d+m,m,-Math.PI,-n.TAU):this.arc(h,d,m,n.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(h,d,c,g,x){x===void 0&&(x=20);var m=x,y=x,T=x,R=x,P=Math.min(c,g)/2;typeof x!="number"&&(m=i(x,"tl",20),y=i(x,"tr",20),T=i(x,"bl",20),R=i(x,"br",20));var D=m>=0,I=y>=0,w=T>=0,U=R>=0;return m=Math.min(Math.abs(m),P),y=Math.min(Math.abs(y),P),T=Math.min(Math.abs(T),P),R=Math.min(Math.abs(R),P),this.beginPath(),this.moveTo(h+m,d),this.lineTo(h+c-y,d),this.moveTo(h+c-y,d),I?this.arc(h+c-y,d+y,y,-n.TAU,0):this.arc(h+c,d,y,Math.PI,n.TAU,!0),this.lineTo(h+c,d+g-R),this.moveTo(h+c,d+g-R),U?this.arc(h+c-R,d+g-R,R,0,n.TAU):this.arc(h+c,d+g,R,-n.TAU,Math.PI,!0),this.lineTo(h+T,d+g),this.moveTo(h+T,d+g),w?this.arc(h+T,d+g-T,T,n.TAU,Math.PI):this.arc(h,d+g,T,0,-n.TAU,!0),this.lineTo(h,d+m),this.moveTo(h,d+m),D?this.arc(h+m,d+m,m,-Math.PI,-n.TAU):this.arc(h,d,m,n.TAU,0,!0),this.strokePath(),this},fillPointShape:function(h,d){return this.fillPoint(h.x,h.y,d)},fillPoint:function(h,d,c){return!c||c<1?c=1:(h-=c/2,d-=c/2),this.commandBuffer.push(o.FILL_RECT,h,d,c,c),this},fillTriangleShape:function(h){return this.fillTriangle(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)},strokeTriangleShape:function(h){return this.strokeTriangle(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)},fillTriangle:function(h,d,c,g,x,m){return this.commandBuffer.push(o.FILL_TRIANGLE,h,d,c,g,x,m),this},strokeTriangle:function(h,d,c,g,x,m){return this.commandBuffer.push(o.STROKE_TRIANGLE,h,d,c,g,x,m),this},strokeLineShape:function(h){return this.lineBetween(h.x1,h.y1,h.x2,h.y2)},lineBetween:function(h,d,c,g){return this.beginPath(),this.moveTo(h,d),this.lineTo(c,g),this.strokePath(),this},lineTo:function(h,d){return this.commandBuffer.push(o.LINE_TO,h,d),this},moveTo:function(h,d){return this.commandBuffer.push(o.MOVE_TO,h,d),this},strokePoints:function(h,d,c,g){d===void 0&&(d=!1),c===void 0&&(c=!1),g===void 0&&(g=h.length),this.beginPath(),this.moveTo(h[0].x,h[0].y);for(var x=1;x<g;x++)this.lineTo(h[x].x,h[x].y);return d&&this.lineTo(h[0].x,h[0].y),c&&this.closePath(),this.strokePath(),this},fillPoints:function(h,d,c,g){d===void 0&&(d=!1),c===void 0&&(c=!1),g===void 0&&(g=h.length),this.beginPath(),this.moveTo(h[0].x,h[0].y);for(var x=1;x<g;x++)this.lineTo(h[x].x,h[x].y);return d&&this.lineTo(h[0].x,h[0].y),c&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(h,d){d===void 0&&(d=32);var c=h.getPoints(d);return this.strokePoints(c,!0)},strokeEllipse:function(h,d,c,g,x){x===void 0&&(x=32);var m=new s(h,d,c,g),y=m.getPoints(x);return this.strokePoints(y,!0)},fillEllipseShape:function(h,d){d===void 0&&(d=32);var c=h.getPoints(d);return this.fillPoints(c,!0)},fillEllipse:function(h,d,c,g,x){x===void 0&&(x=32);var m=new s(h,d,c,g),y=m.getPoints(x);return this.fillPoints(y,!0)},arc:function(h,d,c,g,x,m,y){return m===void 0&&(m=!1),y===void 0&&(y=0),this.commandBuffer.push(o.ARC,h,d,c,g,x,m,y),this},slice:function(h,d,c,g,x,m,y){return m===void 0&&(m=!1),y===void 0&&(y=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,h,d),this.commandBuffer.push(o.ARC,h,d,c,g,x,m,y),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(h,d){return this.commandBuffer.push(o.TRANSLATE,h,d),this},scaleCanvas:function(h,d){return this.commandBuffer.push(o.SCALE,h,d),this},rotateCanvas:function(h){return this.commandBuffer.push(o.ROTATE,h),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(h,d,c){var g=this.scene.sys,x=g.game.renderer;d===void 0&&(d=g.scale.width),c===void 0&&(c=g.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,c),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var m,y,T={willReadFrequently:!0};if(typeof h=="string")if(g.textures.exists(h)){m=g.textures.get(h);var R=m.getSourceImage();R instanceof HTMLCanvasElement&&(y=R.getContext("2d",T))}else m=g.textures.createCanvas(h,d,c),y=m.getSourceImage().getContext("2d",T);else h instanceof HTMLCanvasElement&&(y=h.getContext("2d",T));return y&&(this.renderCanvas(x,this,f.TargetCamera,null,y,!1),m&&m.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new u,p.exports=f},91543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36266),v=t(49584),o=function(r,s,e,i,l,n){var a=s.commandBuffer,f=a.length,h=l||r.currentContext;if(!(f===0||!v(r,h,s,e,i))){e.addToRenderList(s);var d=1,c=1,g=0,x=0,m=1,y=0,T=0,R=0;h.beginPath();for(var P=0;P<f;++P){var D=a[P];switch(D){case u.ARC:h.arc(a[P+1],a[P+2],a[P+3],a[P+4],a[P+5],a[P+6]),P+=7;break;case u.LINE_STYLE:m=a[P+1],g=a[P+2],d=a[P+3],y=(g&16711680)>>>16,T=(g&65280)>>>8,R=g&255,h.strokeStyle="rgba("+y+","+T+","+R+","+d+")",h.lineWidth=m,P+=3;break;case u.FILL_STYLE:x=a[P+1],c=a[P+2],y=(x&16711680)>>>16,T=(x&65280)>>>8,R=x&255,h.fillStyle="rgba("+y+","+T+","+R+","+c+")",P+=2;break;case u.BEGIN_PATH:h.beginPath();break;case u.CLOSE_PATH:h.closePath();break;case u.FILL_PATH:n||h.fill();break;case u.STROKE_PATH:n||h.stroke();break;case u.FILL_RECT:n?h.rect(a[P+1],a[P+2],a[P+3],a[P+4]):h.fillRect(a[P+1],a[P+2],a[P+3],a[P+4]),P+=4;break;case u.FILL_TRIANGLE:h.beginPath(),h.moveTo(a[P+1],a[P+2]),h.lineTo(a[P+3],a[P+4]),h.lineTo(a[P+5],a[P+6]),h.closePath(),n||h.fill(),P+=6;break;case u.STROKE_TRIANGLE:h.beginPath(),h.moveTo(a[P+1],a[P+2]),h.lineTo(a[P+3],a[P+4]),h.lineTo(a[P+5],a[P+6]),h.closePath(),n||h.stroke(),P+=6;break;case u.LINE_TO:h.lineTo(a[P+1],a[P+2]),P+=2;break;case u.MOVE_TO:h.moveTo(a[P+1],a[P+2]),P+=2;break;case u.LINE_FX_TO:h.lineTo(a[P+1],a[P+2]),P+=5;break;case u.MOVE_FX_TO:h.moveTo(a[P+1],a[P+2]),P+=5;break;case u.SAVE:h.save();break;case u.RESTORE:h.restore();break;case u.TRANSLATE:h.translate(a[P+1],a[P+2]),P+=2;break;case u.SCALE:h.scale(a[P+1],a[P+2]),P+=2;break;case u.ROTATE:h.rotate(a[P+1]),P+=1;break;case u.GRADIENT_FILL_STYLE:P+=5;break;case u.GRADIENT_LINE_STYLE:P+=6;break}}h.restore()}};p.exports=o},41286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99325),v=t(33182);u.register("graphics",function(o,r){o===void 0&&(o={}),r!==void 0&&(o.add=r);var s=new v(this.scene,o);return o.add&&this.scene.sys.displayList.add(s),s})},13122:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(33182),v=t(61286);v.register("graphics",function(o){return this.displayList.add(new u(this.scene,o))})},60898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(34429),o=t(91543),o=t(91543),p.exports={renderWebGL:v,renderCanvas:o}},34429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36266),v=t(73329),o=t(69360),r=t(75512),s=function(a,f,h){this.x=a,this.y=f,this.width=h},e=function(a,f,h){this.points=[],this.pointsLength=1,this.points[0]=new s(a,f,h)},i=[],l=new o,n=function(a,f,h,d){if(f.commandBuffer.length!==0){h.addToRenderList(f);var c=a.pipelines.set(f.pipeline,f);a.pipelines.preBatch(f);for(var g=v(f,h,d).calc,x=l.loadIdentity(),m=f.commandBuffer,y=h.alpha*f.alpha,T=1,R=c.fillTint,P=c.strokeTint,D=0,I=0,w=0,U=.01,G=Math.PI*2,H,z=[],$=0,J=!0,W=null,K=r.getTintAppendFloatAlpha,N=0;N<m.length;N++)switch(H=m[N],H){case u.BEGIN_PATH:{z.length=0,W=null,J=!0;break}case u.CLOSE_PATH:{J=!1,W&&W.points.length&&W.points.push(W.points[0]);break}case u.FILL_PATH:{for($=0;$<z.length;$++)c.batchFillPath(z[$].points,x,g);break}case u.STROKE_PATH:{for($=0;$<z.length;$++)c.batchStrokePath(z[$].points,T,J,x,g);break}case u.LINE_STYLE:{T=m[++N];var b=m[++N],Y=m[++N]*y,j=K(b,Y);P.TL=j,P.TR=j,P.BL=j,P.BR=j;break}case u.FILL_STYLE:{var Q=m[++N],q=m[++N]*y,tt=K(Q,q);R.TL=tt,R.TR=tt,R.BL=tt,R.BR=tt;break}case u.GRADIENT_FILL_STYLE:{var it=m[++N]*y,st=m[++N]*y,lt=m[++N]*y,ut=m[++N]*y;R.TL=K(m[++N],it),R.TR=K(m[++N],st),R.BL=K(m[++N],lt),R.BR=K(m[++N],ut);break}case u.GRADIENT_LINE_STYLE:{T=m[++N];var vt=m[++N]*y;P.TL=K(m[++N],vt),P.TR=K(m[++N],vt),P.BL=K(m[++N],vt),P.BR=K(m[++N],vt);break}case u.ARC:{var ft=0,Et=m[++N],It=m[++N],Nt=m[++N],Dt=m[++N],pt=m[++N],Pt=m[++N],Lt=m[++N];for(pt-=Dt,Pt?pt<-G?pt=-G:pt>0&&(pt=-G+pt%G):pt>G?pt=G:pt<0&&(pt=G+pt%G),W===null&&(W=new e(Et+Math.cos(Dt)*Nt,It+Math.sin(Dt)*Nt,T),z.push(W),ft+=U);ft<1+Lt;)w=pt*ft+Dt,D=Et+Math.cos(w)*Nt,I=It+Math.sin(w)*Nt,W.points.push(new s(D,I,T)),ft+=U;w=pt+Dt,D=Et+Math.cos(w)*Nt,I=It+Math.sin(w)*Nt,W.points.push(new s(D,I,T));break}case u.FILL_RECT:{c.batchFillRect(m[++N],m[++N],m[++N],m[++N],x,g);break}case u.FILL_TRIANGLE:{c.batchFillTriangle(m[++N],m[++N],m[++N],m[++N],m[++N],m[++N],x,g);break}case u.STROKE_TRIANGLE:{c.batchStrokeTriangle(m[++N],m[++N],m[++N],m[++N],m[++N],m[++N],T,x,g);break}case u.LINE_TO:{W!==null?W.points.push(new s(m[++N],m[++N],T)):(W=new e(m[++N],m[++N],T),z.push(W));break}case u.MOVE_TO:{W=new e(m[++N],m[++N],T),z.push(W);break}case u.SAVE:{i.push(x.copyToArray());break}case u.RESTORE:{x.copyFromArray(i.pop());break}case u.TRANSLATE:{Et=m[++N],It=m[++N],x.translate(Et,It);break}case u.SCALE:{Et=m[++N],It=m[++N],x.scale(Et,It);break}case u.ROTATE:{x.rotate(m[++N]);break}}a.pipelines.postBatch(f)}};p.exports=n},59192:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83979),v=t(56694),o=t(56631),r=t(6659),s=t(71608),e=t(72632),i=t(10850),l=t(19256),n=t(42911),a=t(75757),f=t(58403),h=t(13747),d=new v({Extends:r,initialize:function(g,x,m){r.call(this),m?x&&!Array.isArray(x)&&(x=[x]):Array.isArray(x)?n(x[0])&&(m=x,x=null):n(x)&&(m=x,x=null),this.scene=g,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(m,"classType",h),this.name=e(m,"name",""),this.active=e(m,"active",!0),this.maxSize=e(m,"maxSize",-1),this.defaultKey=e(m,"defaultKey",null),this.defaultFrame=e(m,"defaultFrame",null),this.runChildUpdate=e(m,"runChildUpdate",!1),this.createCallback=e(m,"createCallback",null),this.removeCallback=e(m,"removeCallback",null),this.createMultipleCallback=e(m,"createMultipleCallback",null),this.internalCreateCallback=e(m,"internalCreateCallback",null),this.internalRemoveCallback=e(m,"internalRemoveCallback",null),x&&this.addMultiple(x),m&&this.createMultiple(m),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(c,g,x,m,y,T){if(c===void 0&&(c=0),g===void 0&&(g=0),x===void 0&&(x=this.defaultKey),m===void 0&&(m=this.defaultFrame),y===void 0&&(y=!0),T===void 0&&(T=!0),this.isFull())return null;var R=new this.classType(this.scene,c,g,x,m);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=y,R.setActive(T),this.add(R),R},createMultiple:function(c){if(this.isFull())return[];Array.isArray(c)||(c=[c]);var g=[];if(c[0].key)for(var x=0;x<c.length;x++){var m=this.createFromConfig(c[x]);g=g.concat(m)}return g},createFromConfig:function(c){if(this.isFull())return[];this.classType=e(c,"classType",this.classType);var g=e(c,"key",void 0),x=e(c,"frame",null),m=e(c,"visible",!0),y=e(c,"active",!0),T=[];if(g===void 0)return T;Array.isArray(g)||(g=[g]),Array.isArray(x)||(x=[x]);var R=e(c,"repeat",0),P=e(c,"randomKey",!1),D=e(c,"randomFrame",!1),I=e(c,"yoyo",!1),w=e(c,"quantity",!1),U=e(c,"frameQuantity",1),G=e(c,"max",0),H=a(g,x,{max:G,qty:w||U,random:P,randomB:D,repeat:R,yoyo:I});c.createCallback&&(this.createCallback=c.createCallback),c.removeCallback&&(this.removeCallback=c.removeCallback);for(var z=0;z<H.length;z++){var $=this.create(0,0,H[z].a,H[z].b,m,y);if(!$)break;T.push($)}if(l(c,"setXY")){var J=i(c,"setXY.x",0),W=i(c,"setXY.y",0),K=i(c,"setXY.stepX",0),N=i(c,"setXY.stepY",0);u.SetXY(T,J,W,K,N)}if(l(c,"setRotation")){var b=i(c,"setRotation.value",0),Y=i(c,"setRotation.step",0);u.SetRotation(T,b,Y)}if(l(c,"setScale")){var j=i(c,"setScale.x",1),Q=i(c,"setScale.y",j),q=i(c,"setScale.stepX",0),tt=i(c,"setScale.stepY",0);u.SetScale(T,j,Q,q,tt)}if(l(c,"setOrigin")){var it=i(c,"setOrigin.x",.5),st=i(c,"setOrigin.y",it),lt=i(c,"setOrigin.stepX",0),ut=i(c,"setOrigin.stepY",0);u.SetOrigin(T,it,st,lt,ut)}if(l(c,"setAlpha")){var vt=i(c,"setAlpha.value",1),ft=i(c,"setAlpha.step",0);u.SetAlpha(T,vt,ft)}if(l(c,"setDepth")){var Et=i(c,"setDepth.value",0),It=i(c,"setDepth.step",0);u.SetDepth(T,Et,It)}if(l(c,"setScrollFactor")){var Nt=i(c,"setScrollFactor.x",1),Dt=i(c,"setScrollFactor.y",Nt),pt=i(c,"setScrollFactor.stepX",0),Pt=i(c,"setScrollFactor.stepY",0);u.SetScrollFactor(T,Nt,Dt,pt,Pt)}var Lt=e(c,"hitArea",null),ee=e(c,"hitAreaCallback",null);Lt&&u.SetHitArea(T,Lt,ee);var Jt=e(c,"gridAlign",!1);return Jt&&u.GridAlign(T,Jt),this.createMultipleCallback&&this.createMultipleCallback.call(this,T),T},preUpdate:function(c,g){if(!(!this.runChildUpdate||this.children.size===0))for(var x=this.children.entries.slice(),m=0;m<x.length;m++){var y=x[m];y.active&&y.update(c,g)}},add:function(c,g){return g===void 0&&(g=!1),this.isFull()?this:(this.children.set(c),this.internalCreateCallback&&this.internalCreateCallback.call(this,c),this.createCallback&&this.createCallback.call(this,c),g&&(c.addToDisplayList(this.scene.sys.displayList),c.addToUpdateList()),c.on(o.DESTROY,this.remove,this),this)},addMultiple:function(c,g){if(g===void 0&&(g=!1),Array.isArray(c))for(var x=0;x<c.length;x++)this.add(c[x],g);return this},remove:function(c,g,x){return g===void 0&&(g=!1),x===void 0&&(x=!1),this.children.contains(c)?(this.children.delete(c),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,c),this.removeCallback&&this.removeCallback.call(this,c),c.off(o.DESTROY,this.remove,this),x?c.destroy():g&&(c.removeFromDisplayList(),c.removeFromUpdateList()),this):this},clear:function(c,g){c===void 0&&(c=!1),g===void 0&&(g=!1);for(var x=this.children,m=0;m<x.size;m++){var y=x.entries[m];y.off(o.DESTROY,this.remove,this),g?y.destroy():c&&(y.removeFromDisplayList(),y.removeFromUpdateList())}return this.children.clear(),this},contains:function(c){return this.children.contains(c)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(c,g,x,m){return s(this.children.entries,c,g,x,m)},getFirst:function(c,g,x,m,y,T,R){return this.getHandler(!0,1,c,g,x,m,y,T,R)},getFirstNth:function(c,g,x,m,y,T,R,P){return this.getHandler(!0,c,g,x,m,y,T,R,P)},getLast:function(c,g,x,m,y,T,R){return this.getHandler(!1,1,c,g,x,m,y,T,R)},getLastNth:function(c,g,x,m,y,T,R,P){return this.getHandler(!1,c,g,x,m,y,T,R,P)},getHandler:function(c,g,x,m,y,T,R,P,D){x===void 0&&(x=!1),m===void 0&&(m=!1);var I,w,U=0,G=this.children.entries;if(c)for(w=0;w<G.length;w++)if(I=G[w],I.active===x){if(U++,U===g)break}else I=null;else for(w=G.length-1;w>=0;w--)if(I=G[w],I.active===x){if(U++,U===g)break}else I=null;return I?(typeof y=="number"&&(I.x=y),typeof T=="number"&&(I.y=T),I):m?this.create(y,T,R,P,D):null},get:function(c,g,x,m,y){return this.getFirst(!1,!0,c,g,x,m,y)},getFirstAlive:function(c,g,x,m,y,T){return this.getFirst(!0,c,g,x,m,y,T)},getFirstDead:function(c,g,x,m,y,T){return this.getFirst(!1,c,g,x,m,y,T)},playAnimation:function(c,g){return u.PlayAnimation(this.children.entries,c,g),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(c){c===void 0&&(c=!0);for(var g=0,x=0;x<this.children.size;x++)this.children.entries[x].active===c&&g++;return g},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var c=this.getTotalUsed(),g=this.maxSize===-1?999999999999:this.maxSize;return g-c},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},propertyValueSet:function(c,g,x,m,y){return u.PropertyValueSet(this.children.entries,c,g,x,m,y),this},propertyValueInc:function(c,g,x,m,y){return u.PropertyValueInc(this.children.entries,c,g,x,m,y),this},setX:function(c,g){return u.SetX(this.children.entries,c,g),this},setY:function(c,g){return u.SetY(this.children.entries,c,g),this},setXY:function(c,g,x,m){return u.SetXY(this.children.entries,c,g,x,m),this},incX:function(c,g){return u.IncX(this.children.entries,c,g),this},incY:function(c,g){return u.IncY(this.children.entries,c,g),this},incXY:function(c,g,x,m){return u.IncXY(this.children.entries,c,g,x,m),this},shiftPosition:function(c,g,x){return u.ShiftPosition(this.children.entries,c,g,x),this},angle:function(c,g){return u.Angle(this.children.entries,c,g),this},rotate:function(c,g){return u.Rotate(this.children.entries,c,g),this},rotateAround:function(c,g){return u.RotateAround(this.children.entries,c,g),this},rotateAroundDistance:function(c,g,x){return u.RotateAroundDistance(this.children.entries,c,g,x),this},setAlpha:function(c,g){return u.SetAlpha(this.children.entries,c,g),this},setTint:function(c,g,x,m){return u.SetTint(this.children.entries,c,g,x,m),this},setOrigin:function(c,g,x,m){return u.SetOrigin(this.children.entries,c,g,x,m),this},scaleX:function(c,g){return u.ScaleX(this.children.entries,c,g),this},scaleY:function(c,g){return u.ScaleY(this.children.entries,c,g),this},scaleXY:function(c,g,x,m){return u.ScaleXY(this.children.entries,c,g,x,m),this},setDepth:function(c,g){return u.SetDepth(this.children.entries,c,g),this},setBlendMode:function(c){return u.SetBlendMode(this.children.entries,c),this},setHitArea:function(c,g){return u.SetHitArea(this.children.entries,c,g),this},shuffle:function(){return u.Shuffle(this.children.entries),this},kill:function(c){this.children.contains(c)&&c.setActive(!1)},killAndHide:function(c){this.children.contains(c)&&(c.setActive(!1),c.setVisible(!1))},setVisible:function(c,g,x){return u.SetVisible(this.children.entries,c,g,x),this},toggleVisible:function(){return u.ToggleVisible(this.children.entries),this},destroy:function(c,g){c===void 0&&(c=!1),g===void 0&&(g=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(g,c),this.scene=void 0,this.children=void 0)}});p.exports=d},61295:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99325),v=t(59192);u.register("group",function(o){return new v(this.scene,null,o)})},62598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(59192),v=t(61286);v.register("group",function(o,r){return this.updateList.add(new u(this.scene,o,r))})},1539:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(89980),r=t(57322),s=new u({Extends:o,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,r],initialize:function(i,l,n,a,f){o.call(this,i,"Image"),this._crop=this.resetCropObject(),this.setTexture(a,f),this.setPosition(l,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=s},57786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v.addToRenderList(u),t.batchSprite(u,u.frame,v,o)};p.exports=S},83556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(1539);v.register("image",function(s,e){s===void 0&&(s={});var i=o(s,"key",null),l=o(s,"frame",null),n=new r(this.scene,0,0,i,l);return e!==void 0&&(s.add=e),u(this.scene,n,s),n})},20927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1539),v=t(61286);v.register("image",function(o,r,s,e){return this.displayList.add(new u(this.scene,o,r,s,e))})},57322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(59390),o=t(57786),p.exports={renderWebGL:v,renderCanvas:o}},59390:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v.addToRenderList(u),this.pipeline.batchSprite(u,v,o)};p.exports=S},48013:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Events:t(56631),DisplayList:t(91713),GameObjectCreator:t(99325),GameObjectFactory:t(61286),UpdateList:t(92034),Components:t(64937),GetCalcMatrix:t(73329),BuildGameObject:t(88933),BuildGameObjectAnimation:t(32291),GameObject:t(89980),BitmapText:t(44616),Blitter:t(52816),Bob:t(41664),Container:t(70339),DOMElement:t(38943),DynamicBitmapText:t(13468),Extern:t(39419),Graphics:t(33182),Group:t(59192),Image:t(1539),Layer:t(85305),Particles:t(27684),PathFollower:t(29598),RenderTexture:t(15996),RetroFont:t(55873),Rope:t(79968),Sprite:t(13747),Text:t(76555),GetTextSize:t(32979),MeasureText:t(27030),TextStyle:t(74744),TileSprite:t(35856),Zone:t(71030),Video:t(8630),Shape:t(91461),Arc:t(28593),Curve:t(15220),Ellipse:t(28591),Grid:t(39169),IsoBox:t(4415),IsoTriangle:t(65159),Line:t(579),Polygon:t(91249),Rectangle:t(517),Star:t(77843),Triangle:t(21873),Factories:{Blitter:t(38906),Container:t(23400),DOMElement:t(66788),DynamicBitmapText:t(94145),Extern:t(41155),Graphics:t(13122),Group:t(62598),Image:t(20927),Layer:t(17676),Particles:t(81212),PathFollower:t(19626),RenderTexture:t(29599),Rope:t(31982),Sprite:t(66135),StaticBitmapText:t(21797),Text:t(94627),TileSprite:t(20509),Zone:t(34546),Video:t(215),Arc:t(10369),Curve:t(10147),Ellipse:t(99869),Grid:t(9326),IsoBox:t(88154),IsoTriangle:t(67765),Line:t(85665),Polygon:t(88203),Rectangle:t(94355),Star:t(23962),Triangle:t(79296)},Creators:{Blitter:t(68452),Container:t(44516),DynamicBitmapText:t(67513),Graphics:t(41286),Group:t(61295),Image:t(83556),Layer:t(56378),Particles:t(765),RenderTexture:t(85692),Rope:t(96027),Sprite:t(89219),StaticBitmapText:t(95499),Text:t(75397),TileSprite:t(63950),Zone:t(24067),Video:t(65601)}};u.Shader=t(27902),u.Mesh=t(83321),u.NineSlice=t(44139),u.PointLight=t(13171),u.Plane=t(33412),u.Factories.Shader=t(51979),u.Factories.Mesh=t(8767),u.Factories.NineSlice=t(53778),u.Factories.PointLight=t(91201),u.Factories.Plane=t(58322),u.Creators.Shader=t(13908),u.Creators.Mesh=t(41839),u.Creators.NineSlice=t(40964),u.Creators.PointLight=t(162),u.Creators.Plane=t(10912),u.Light=t(14455),u.LightsManager=t(26193),u.LightsPlugin=t(50296),p.exports=u},85305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95723),v=t(56694),o=t(64937),r=t(48129),s=t(81078),e=t(6659),i=t(56631),l=t(71207),n=t(58010),a=t(7599),f=t(17922),h=new v({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,e,n],initialize:function(c,g){l.call(this,c),e.call(this),this.scene=c,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=c.sys,this.events=c.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),g&&this.add(g),c.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(d,c){return this.data||(this.data=new s(this)),this.data.set(d,c),this},incData:function(d,c){return this.data||(this.data=new s(this)),this.data.inc(d,c),this},toggleData:function(d){return this.data||(this.data=new s(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new s(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,c=this.parentContainer,g=[];c&&(g.unshift(c.getIndex(d)),d=c,c.parentContainer);)c=c.parentContainer;return g.unshift(this.displayList.getIndex(d)),g},addChildCallback:function(d){d.displayList&&d.displayList!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(i.ADDED_TO_SCENE,d,this.scene),this.events.emit(a.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(i.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,c){return d._depth-c._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(i.ADDED_TO_SCENE,this,this.scene),d.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(i.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(i.DESTROY,this);for(var c=this.list;c.length;)c[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=h},834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=u.list;if(o.length!==0){u.depthSort();var r=u.blendMode!==-1;r||t.setBlendMode(0);var s=u._alpha;u.mask&&u.mask.preRenderCanvas(t,null,v);for(var e=0;e<o.length;e++){var i=o[e];if(i.willRender(v)){var l=i.alpha;!r&&i.blendMode!==t.currentBlendMode&&t.setBlendMode(i.blendMode),i.setAlpha(l*s),i.renderCanvas(t,i,v),i.setAlpha(l)}}u.mask&&u.mask.postRenderCanvas(t)}};p.exports=S},56378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(85305),o=t(99325),r=t(20494);o.register("layer",function(s,e){s===void 0&&(s={});var i=r(s,"children",null),l=new v(this.scene,i);return e!==void 0&&(s.add=e),u(this.scene,l,s),l})},17676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85305),v=t(61286);v.register("layer",function(o){return this.displayList.add(new u(this.scene,o))})},58010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(17576),o=t(834),p.exports={renderWebGL:v,renderCanvas:o}},17576:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=u.list,r=o.length;if(r!==0){u.depthSort(),t.pipelines.preBatch(u);var s=u.blendMode!==-1;s||t.setBlendMode(0);for(var e=u.alpha,i=0;i<r;i++){var l=o[i];if(l.willRender(v)){var n,a,f,h;if(l.alphaTopLeft!==void 0)n=l.alphaTopLeft,a=l.alphaTopRight,f=l.alphaBottomLeft,h=l.alphaBottomRight;else{var d=l.alpha;n=d,a=d,f=d,h=d}!s&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var c=l.mask;c&&c.preRenderWebGL(t,l,v);var g=l.type;g!==t.currentType&&(t.newType=!0,t.currentType=g),t.nextTypeMatch=i<r-1?o[i+1].type===t.currentType:!1,l.setAlpha(n*e,a*e,f*e,h*e),l.renderWebGL(t,l,v),l.setAlpha(n,a,f,h),c&&c.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(u)}};p.exports=S},14455:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26673),v=t(56694),o=t(64937),r=t(39298),s=t(75512),e=new v({Extends:u,Mixins:[o.Origin,o.ScrollFactor,o.Transform,o.Visible],initialize:function(l,n,a,f,h,d,c){u.call(this,l,n,a),this.color=new r(f,h,d),this.intensity=c,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(a)},displayWidth:{get:function(){return this.diameter},set:function(i){this.diameter=i}},displayHeight:{get:function(){return this.diameter},set:function(i){this.diameter=i}},width:{get:function(){return this.diameter},set:function(i){this.diameter=i}},height:{get:function(){return this.diameter},set:function(i){this.diameter=i}},willRender:function(i){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&i.id)},setColor:function(i){var l=s.getFloatsFromUintRGB(i);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(i){return this.intensity=i,this},setRadius:function(i){return this.radius=i,this}});e.RENDER_MASK=15,p.exports=e},26193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26535),v=t(56694),o=t(53996),r=t(14455),s=t(13171),e=t(39298),i=t(72677),l=t(17922),n=t(75512),a=new v({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,h,d,c,g,x){return this.systems.displayList.add(new s(this.scene,f,h,d,c,g,x))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var h=this.lights,d=f.worldView,c=[],g=0;g<h.length;g++){var x=h[g];x.willRender(f)&&u(x,d)&&c.push({light:x,distance:o(x.x,x.y,d.centerX,d.centerY)})}return c.length>this.maxLights&&(l(c,this.sortByDistance),c=c.slice(0,this.maxLights)),this.visibleLights=c.length,c},sortByDistance:function(f,h){return f.distance>=h.distance},setAmbientColor:function(f){var h=n.getFloatsFromUintRGB(f);return this.ambientColor.set(h[0],h[1],h[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,h,d,c,g){f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=128),c===void 0&&(c=16777215),g===void 0&&(g=1);var x=n.getFloatsFromUintRGB(c),m=new r(f,h,d,x[0],x[1],x[2],g);return this.lights.push(m),m},removeLight:function(f){var h=this.lights.indexOf(f);return h>=0&&i(this.lights,h),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=a},50296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(26193),o=t(91963),r=t(7599),s=new u({Extends:v,initialize:function(i){this.scene=i,this.systems=i.sys,i.sys.settings.isBooted||i.sys.events.once(r.BOOT,this.boot,this),v.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",s,"lights"),p.exports=s},83321:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(75606),r=t(18693),s=t(89980),e=t(53267),i=t(67623),l=t(73329),n=t(16650),a=t(23464),f=t(23701),h=t(17922),d=t(70015),c=t(85769),g=new u({Extends:s,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,a],initialize:function(m,y,T,R,P,D,I,w,U,G,H,z){y===void 0&&(y=0),T===void 0&&(T=0),R===void 0&&(R="__WHITE"),s.call(this,m,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new n,this.viewPosition=new d,this.viewMatrix=new n,this.projectionMatrix=new n,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var $=m.sys.renderer;this.setPosition(y,T),this.setTexture(R,P),this.setSize($.width,$.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective($.width,$.height),D&&this.addVertices(D,I,w,U,G,H,z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(x){return this.viewPosition.addScale(d.LEFT,x),this.dirtyCache[10]=1,this},panY:function(x){return this.viewPosition.y+=d.DOWN.y*x,this.dirtyCache[10]=1,this},panZ:function(x){return this.viewPosition.z+=x,this.dirtyCache[10]=1,this},setPerspective:function(x,m,y,T,R){return y===void 0&&(y=45),T===void 0&&(T=.01),R===void 0&&(R=1e3),this.fov=y,this.projectionMatrix.perspective(o(y),x/m,T,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(x,m,y,T){return x===void 0&&(x=this.scene.sys.renderer.getAspectRatio()),m===void 0&&(m=1),y===void 0&&(y=-1e3),T===void 0&&(T=1e3),this.fov=0,this.projectionMatrix.ortho(-x,x,-m,m,y,T),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(x){x.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(x,m,y,T,R,P,D,I,w){var U=this.scene.sys.cache.obj.get(x),G;return U&&(G=e(U,this,m,y,T,R,P,D,I,w)),(!G||G.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",x),this},sortByDepth:function(x,m){return x.depth-m.depth},depthSort:function(){return h(this.faces,this.sortByDepth),this},addVertex:function(x,m,y,T,R,P,D){var I=new c(x,m,y,T,R,P,D);return this.vertices.push(I),I},addFace:function(x,m,y){var T=new r(x,m,y);return this.faces.push(T),this.dirtyCache[9]=-1,T},addVertices:function(x,m,y,T,R,P,D){var I=i(x,m,y,T,R,P,D);return I?(this.faces=this.faces.concat(I.faces),this.vertices=this.vertices.concat(I.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(x){return this.faces[x]},hasFaceAt:function(x,m,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=l(this,y).calc,R=this.faces,P=0;P<R.length;P++){var D=R[P];if(D.contains(x,m,T))return!0}return!1},getFaceAt:function(x,m,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=l(this,y).calc,R=this.faces,P=[],D=0;D<R.length;D++){var I=R[D];I.contains(x,m,T)&&P.push(I)}return h(P,this.sortByDepth)},setDebug:function(x,m){return this.debugGraphic=x,!x&&!m?this.debugCallback=null:m?this.debugCallback=m:this.debugCallback=this.renderDebug,this},isDirty:function(){var x=this.modelPosition,m=this.modelRotation,y=this.modelScale,T=this.dirtyCache,R=x.x,P=x.y,D=x.z,I=m.x,w=m.y,U=m.z,G=y.x,H=y.y,z=y.z,$=this.getFaceCount(),J=T[0],W=T[1],K=T[2],N=T[3],b=T[4],Y=T[5],j=T[6],Q=T[7],q=T[8],tt=T[9];return T[0]=R,T[1]=P,T[2]=D,T[3]=I,T[4]=w,T[5]=U,T[6]=G,T[7]=H,T[8]=z,T[9]=$,J!==R||W!==P||K!==D||N!==I||b!==w||Y!==U||j!==G||Q!==H||q!==z||tt!==$},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var x=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!x[10]&&!this.isDirty())){var m=this.width,y=this.height,T=this.viewMatrix,R=this.viewPosition;x[10]&&(T.identity(),T.translate(R),T.invert(),x[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=R.z,I=this.faces,w=0;w<I.length;w++)I[w].transformCoordinatesLocal(P,m,y,D);this.depthSort()}},renderDebug:function(x,m){for(var y=x.debugGraphic,T=0;T<m.length;T++){var R=m[T],P=R.vertex1.tx,D=R.vertex1.ty,I=R.vertex2.tx,w=R.vertex2.ty,U=R.vertex3.tx,G=R.vertex3.ty;y.strokeTriangle(P,D,I,w,U,G)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var x=this.faces,m=function(y,T,R){for(var P=0;P<x.length;P++){var D=x[P];if(D.contains(T,R))return!0}return!1};return this.scene.sys.input.enable(this,m),this},setTint:function(x){x===void 0&&(x=16777215);for(var m=this.vertices,y=0;y<m.length;y++)m[y].color=x;return this},uvScroll:function(x,m){for(var y=this.faces,T=0;T<y.length;T++)y[T].scrollUV(x,m);return this},uvScale:function(x,m){for(var y=this.faces,T=0;T<y.length;T++)y[T].scaleUV(x,m);return this},tint:{set:function(x){this.setTint(x)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(x){this.modelRotation.x=o(x)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(x){this.modelRotation.y=o(x)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(x){this.modelRotation.z=o(x)}}});p.exports=g},6317:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},41839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(10850),s=t(83321);v.register("mesh",function(e,i){e===void 0&&(e={});var l=o(e,"key",null),n=o(e,"frame",null),a=r(e,"vertices",[]),f=r(e,"uvs",[]),h=r(e,"indicies",[]),d=r(e,"containsZ",!1),c=r(e,"normals",[]),g=r(e,"colors",16777215),x=r(e,"alphas",1),m=new s(this.scene,0,0,l,n,a,f,h,d,c,g,x);return i!==void 0&&(e.add=i),u(this.scene,m,e),m})},8767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83321),v=t(61286);v.register("mesh",function(o,r,s,e,i,l,n,a,f,h,d){return this.displayList.add(new u(this.scene,o,r,s,e,i,l,n,a,f,h,d))})},23464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(57410),o=t(6317),p.exports={renderWebGL:v,renderCanvas:o}},57410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=function(o,r,s,e){var i=r.faces,l=i.length;if(l!==0){s.addToRenderList(r);var n=o.pipelines.set(r.pipeline,r),a=u(r,s,e).calc;o.pipelines.preBatch(r);for(var f=n.setGameObject(r),h=n.vertexViewF32,d=n.vertexViewU32,c=n.vertexCount*n.currentShader.vertexComponentCount-1,g=r.tintFill,x=[],m=r.debugCallback,y=a.a,T=a.b,R=a.c,P=a.d,D=a.e,I=a.f,w=r.viewPosition.z,U=r.hideCCW,G=s.roundPixels,H=s.alpha*r.alpha,z=0,$=0;$<l;$++){var J=i[$];J.isInView(s,U,w,H,y,T,R,P,D,I,G)&&(n.shouldFlush(3)&&(n.flush(),f=n.setGameObject(r),c=0),c=J.load(h,d,c,f,g),z++,n.vertexCount+=3,n.currentBatch.count=n.vertexCount-n.currentBatch.start,m&&x.push(J))}r.totalFrame+=z,m&&m.call(r,r,x),o.pipelines.postBatch(r)}};p.exports=v},44139:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(89980),r=t(94456),s=t(85769),e=new u({Extends:o,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,r],initialize:function(l,n,a,f,h,d,c,g,x,m,y){d===void 0&&(d=256),c===void 0&&(c=256),g===void 0&&(g=10),x===void 0&&(x=10),m===void 0&&(m=0),y===void 0&&(y=0),o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=m===0&&y===0;for(var T=this.is3Slice?18:54,R=0;R<T;R++)this.vertices.push(new s);this.setPosition(n,a),this.setTexture(f,h),this.setSlices(d,c,g,x,m,y),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(i,l,n,a,f,h){i===void 0&&(i=256),l===void 0&&(l=256),n===void 0&&(n=10),a===void 0&&(a=10),f===void 0&&(f=0),h===void 0&&(h=0);var d=f===0&&h===0;return this.is3Slice!==d?console.warn("Cannot change 9 slice to 3 slice"):(this._width=i,this._height=l,this.leftWidth=n,this.rightWidth=a,this.topHeight=f,this.bottomHeight=h,this.is3Slice&&(l=this.frame.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var i=this.leftWidth,l=this.rightWidth,n=this.topHeight,a=this.bottomHeight,f=this.frame.width,h=this.frame.height;this.updateQuadUVs(0,0,0,i/f,n/h),this.updateQuadUVs(6,i/f,0,1-l/f,n/h),this.updateQuadUVs(12,1-l/f,0,1,n/h),this.is3Slice||(this.updateQuadUVs(18,0,n/h,i/f,1-a/h),this.updateQuadUVs(24,i/f,n/h,1-l/f,1-a/h),this.updateQuadUVs(30,1-l/f,n/h,1,1-a/h),this.updateQuadUVs(36,0,1-a/h,i/f,1),this.updateQuadUVs(42,i/f,1-a/h,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-a/h,1,1))},updateVertices:function(){var i=this.leftWidth,l=this.rightWidth,n=this.topHeight,a=this.bottomHeight,f=this.width,h=this.height;this.updateQuad(0,-.5,.5,-.5+i/f,.5-n/h),this.updateQuad(6,-.5+i/f,.5,.5-l/f,.5-n/h),this.updateQuad(12,.5-l/f,.5,.5,.5-n/h),this.is3Slice||(this.updateQuad(18,-.5,.5-n/h,-.5+i/f,-.5+a/h),this.updateQuad(24,-.5+i/f,.5-n/h,.5-l/f,-.5+a/h),this.updateQuad(30,.5-l/f,.5-n/h,.5,-.5+a/h),this.updateQuad(36,-.5,-.5+a/h,-.5+i/f,-.5),this.updateQuad(42,-.5+i/f,-.5+a/h,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+a/h,.5,-.5))},updateQuad:function(i,l,n,a,f){var h=this.width,d=this.height,c=this.originX,g=this.originY,x=this.vertices;x[i+0].resize(l,n,h,d,c,g),x[i+1].resize(l,f,h,d,c,g),x[i+2].resize(a,n,h,d,c,g),x[i+3].resize(l,f,h,d,c,g),x[i+4].resize(a,f,h,d,c,g),x[i+5].resize(a,n,h,d,c,g)},updateQuadUVs:function(i,l,n,a,f){var h=this.vertices,d=this.frame,c=d.u0,g=d.v0,x=d.u1,m=d.v1;if(c!==0||x!==1){var y=x-c;l=c+l*y,a=c+a*y}if(g!==0||m!==1){var T=m-g;n=g+n*T,f=g+f*T}h[i+0].setUVs(l,n),h[i+1].setUVs(l,f),h[i+2].setUVs(a,n),h[i+3].setUVs(l,f),h[i+4].setUVs(a,f),h[i+5].setUVs(a,n)},clearTint:function(){return this.setTint(16777215),this},setTint:function(i){return i===void 0&&(i=16777215),this.tint=i,this.tintFill=!1,this},setTintFill:function(i){return this.setTint(i),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(i){this._width=Math.max(i,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(i){this.is3Slice||(this._height=Math.max(i,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,l){this.width=i,this.height=l;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},setDisplaySize:function(i,l){return this.displayWidth=i,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(i){this._originX=i,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(i){this._originY=i,this.updateVertices()}},setOrigin:function(i,l){return i===void 0&&(i=.5),l===void 0&&(l=i),this._originX=i,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var i=this.frame.height;this._height=i,this.topHeight=i,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=e},40964:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(10850),s=t(44139);v.register("nineslice",function(e,i){e===void 0&&(e={});var l=o(e,"key",null),n=o(e,"frame",null),a=r(e,"width",256),f=r(e,"height",256),h=r(e,"leftWidth",10),d=r(e,"rightWidth",10),c=r(e,"topHeight",0),g=r(e,"bottomHeight",0),x=new s(this.scene,0,0,l,n,a,f,h,d,c,g);return i!==void 0&&(e.add=i),u(this.scene,x,e),x})},53778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(44139),v=t(61286);v.register("nineslice",function(o,r,s,e,i,l,n,a,f,h){return this.displayList.add(new u(this.scene,o,r,s,e,i,l,n,a,f,h))})},94456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(27420),p.exports={renderWebGL:v,renderCanvas:o}},27420:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(75512),o=function(r,s,e,i){var l=s.vertices,n=l.length;if(n!==0){e.addToRenderList(s);var a=r.pipelines.set(s.pipeline,s),f=u(s,e,i,!1).calc;r.pipelines.preBatch(s);var h=a.setGameObject(s),d=a.vertexViewF32,c=a.vertexViewU32,g=a.vertexCount*a.currentShader.vertexComponentCount-1,x=e.roundPixels,m=s.tintFill,y=e.alpha*s.alpha,T=v.getTintAppendFloatAlpha(s.tint,y),R=a.vertexAvailable(),P=-1;R<n&&(P=R);for(var D=0;D<n;D++){var I=l[D];D===P&&(a.flush(),h=a.setGameObject(s),g=0),d[++g]=f.getXRound(I.vx,I.vy,x),d[++g]=f.getYRound(I.vx,I.vy,x),d[++g]=I.u,d[++g]=I.v,d[++g]=h,d[++g]=m,c[++g]=T,a.vertexCount++,a.currentBatch.count=a.vertexCount-a.currentBatch.start}r.pipelines.postBatch(s)}};p.exports=o},19737:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(93025),o=t(22946),r=t(21902),s=t(4840),e=t(15978),i=new u({Extends:v,initialize:function(n){v.call(this,n,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,n=l,a=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=r("Linear"),this.interpolation=s("linear"),a=this.easedValueEmit,f=this.easeValueUpdate,n=l[0],this.active=!0;for(var h=0;h<l.length;h++){var d=e(l[h]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=a,this.onUpdate=f,this.current=n,this},setEase:function(l){this.easeName=l,this.ease=r(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,n,a){var f=this.ease(a),h=this.interpolation(this.r,f),d=this.interpolation(this.g,f),c=this.interpolation(this.b,f),g=o(h,d,c);return this.current=g,g}});p.exports=i},93025:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(17489),v=t(82897),o=t(56694),r=t(61616),s=t(21902),e=t(72632),i=t(4840),l=t(88462),n=t(1071),a=new o({initialize:function(h,d,c){c===void 0&&(c=!1),this.propertyKey=h,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=c,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,h){f===void 0&&(f={}),h&&(this.propertyKey=h),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var h;switch(this.method){case 1:case 3:case 8:h=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(h=f);break;case 4:var d=(this.end-this.start)/this.steps;h=l(f,d),this.counter=h;break;case 5:case 6:case 7:h=v(f,this.start,this.end);break;case 9:h=this.start[0];break}return this.current=h,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var h=typeof f;if(h==="number")return 1;if(Array.isArray(f))return 2;if(h==="function")return 3;if(h==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.has(f,"interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,h=f,d=this.defaultEmit,c=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,h=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,h=this.start;break;case 5:this.start=f.start,this.end=f.end;var g=this.has(f,"ease")?f.ease:"Linear";this.ease=s(g,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,c=this.easeValueUpdate,h=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,h=this.start;break;case 7:var x=f.random;Array.isArray(x)&&(this.start=x[0],this.end=x[1]),d=this.randomRangedIntEmit,h=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,c=this.proxyUpdate;break;case 9:this.start=f.values;var m=this.has(f,"ease")?f.ease:"Linear";this.ease=s(m,f.easeParams),this.interpolation=i(f.interpolation),d=this.easedValueEmit,c=this.easeValueUpdate,h=this.start[0];break}return this.onEmit=d,this.onUpdate=c,this.current=h,this},has:function(f,h){return f.hasOwnProperty(h)},hasBoth:function(f,h,d){return f.hasOwnProperty(h)&&f.hasOwnProperty(d)},hasEither:function(f,h,d){return f.hasOwnProperty(h)||f.hasOwnProperty(d)},defaultEmit:function(f,h,d){return d},defaultUpdate:function(f,h,d,c){return c},proxyEmit:function(f,h,d){var c=this._onEmit(f,h,d);return this.current=c,c},proxyUpdate:function(f,h,d,c){var g=this._onUpdate(f,h,d,c);return this.current=g,g},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,h){var d=r(this.start,this.end);return f&&f.data[h]&&(f.data[h].min=d,f.data[h].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,h){var d=u(this.start,this.end);return f&&f.data[h]&&(f.data[h].min=d,f.data[h].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,h=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var c;this.direction===0?(h+=d,h>=this.end&&(c=h-this.end,h=this.end-c,this.direction=1)):(h-=d,h<=this.start&&(c=this.start-h,h=this.start+c,this.direction=0)),this.counter=h}else this.counter=n(h+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,h){if(f&&f.data[h]){var d=f.data[h];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,h,d){var c=f.data[h],g,x=this.ease(d);return this.interpolation?g=this.interpolation(this.start,x):g=(c.max-c.min)*x+c.min,this.current=g,g},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=a},87811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=t(30891),r=new u({Extends:o,initialize:function(e,i,l,n,a){if(typeof e=="object"){var f=e;e=v(f,"x",0),i=v(f,"y",0),l=v(f,"power",0),n=v(f,"epsilon",100),a=v(f,"gravity",50)}else e===void 0&&(e=0),i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=100),a===void 0&&(a=50);o.call(this,e,i,!0),this._gravity=a,this._power=l*a,this._epsilon=n*n},update:function(s,e){var i=this.x-s.x,l=this.y-s.y,n=i*i+l*l;if(n!==0){var a=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var f=this._power*e/(n*a)*100;s.velocityX+=i*f,s.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(s){this._epsilon=s*s}},power:{get:function(){return this._power/this._gravity},set:function(s){this._power=s*this._gravity}},gravity:{get:function(){return this._gravity},set:function(s){var e=this.power;this._gravity=s,this.power=e}}});p.exports=r},14909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16569),v=t(82897),o=t(56694),r=t(75606),s=t(74118),e=t(2386),i=t(93736),l=new o({initialize:function(a){this.emitter=a,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new i,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=a.scene,this.anims=new u(this),this.bounds=new s},emit:function(n,a,f,h,d,c){return this.emitter.emit(n,a,f,h,d,c)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(n,a){n===void 0&&(n=0),a===void 0&&(a=0),this.x=n,this.y=a},fire:function(n,a){var f=this.emitter,h=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),n===void 0?this.x+=h.x.onEmit(this,"x"):h.x.steps>0?this.x+=n+h.x.onEmit(this,"x"):this.x+=n,a===void 0?this.y+=h.y.onEmit(this,"y"):h.y.steps>0?this.y+=a+h.y.onEmit(this,"y"):this.y+=a,this.life=h.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=h.delay.onEmit(this,"delay"),this.holdCurrent=h.hold.onEmit(this,"hold"),this.scaleX=h.scaleX.onEmit(this,"scaleX"),this.scaleY=h.scaleY.active?h.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=h.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var c=h.speedX.onEmit(this,"speedX"),g=h.speedY.active?h.speedY.onEmit(this,"speedY"):c;if(f.radial){var x=r(h.angle.onEmit(this,"angle"));this.velocityX=Math.cos(x)*Math.abs(c),this.velocityY=Math.sin(x)*Math.abs(g)}else if(f.moveTo){var m=h.moveToX.onEmit(this,"moveToX"),y=h.moveToY.onEmit(this,"moveToY"),T=this.life/1e3;this.velocityX=(m-this.x)/T,this.velocityY=(y-this.y)/T}else this.velocityX=c,this.velocityY=g;return f.acceleration&&(this.accelerationX=h.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=h.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=h.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=h.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=h.bounce.onEmit(this,"bounce"),this.alpha=h.alpha.onEmit(this,"alpha"),h.color.active?this.tint=h.color.onEmit(this,"tint"):this.tint=h.tint.onEmit(this,"tint"),!0},update:function(n,a,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=n,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=n,!1;this.anims.update(0,n);var h=this.emitter,d=h.ops,c=1-this.lifeCurrent/this.life;if(this.lifeT=c,this.x=d.x.onUpdate(this,"x",c,this.x),this.y=d.y.onUpdate(this,"y",c,this.y),h.moveTo){var g=d.moveToX.onUpdate(this,"moveToX",c,h.moveToX),x=d.moveToY.onUpdate(this,"moveToY",c,h.moveToY),m=this.lifeCurrent/1e3;this.velocityX=(g-this.x)/m,this.velocityY=(x-this.y)/m}return this.computeVelocity(h,n,a,f,c),this.scaleX=d.scaleX.onUpdate(this,"scaleX",c,this.scaleX),this.scaleY=this.scaleX,d.scaleY.active&&(this.scaleY=d.scaleY.onUpdate(this,"scaleY",c,this.scaleY)),this.angle=d.rotate.onUpdate(this,"rotate",c,this.angle),this.rotation=r(this.angle),h.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=d.alpha.onUpdate(this,"alpha",c,this.alpha),d.color.active?this.tint=d.color.onUpdate(this,"color",c,this.tint):this.tint=d.tint.onUpdate(this,"tint",c,this.tint),this.lifeCurrent-=n,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(n,a,f,h,d){var c=n.ops,g=this.velocityX,x=this.velocityY,m=c.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),y=c.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),T=c.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),R=c.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=c.bounce.onUpdate(this,"bounce",d,this.bounce),g+=n.gravityX*f+m*f,x+=n.gravityY*f+y*f,g=v(g,-T,T),x=v(x,-R,R),this.velocityX=g,this.velocityY=x,this.x+=g*f,this.y+=x*f,n.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var P=0;P<h.length;P++){var D=h[P];D.active&&D.update(this,a,f,d)}},setSizeToFrame:function(){},getBounds:function(n){n===void 0&&(n=this.emitter.getWorldTransformMatrix());var a=Math.abs(n.scaleX)*this.scaleX,f=Math.abs(n.scaleY)*this.scaleY,h=this.x,d=this.y,c=this.rotation,g=this.frame.width*a/2,x=this.frame.height*f/2,m=this.bounds,y=new i(h-g,d-x),T=new i(h+g,d-x),R=new i(h-g,d+x),P=new i(h+g,d+x);return c!==0&&(e(y,h,d,c),e(T,h,d,c),e(R,h,d,c),e(P,h,d,c)),n.transformPoint(y.x,y.y,y),n.transformPoint(T.x,T.y,T),n.transformPoint(R.x,R.y,R),n.transformPoint(P.x,P.y,P),m.x=Math.min(y.x,T.x,R.x,P.x),m.y=Math.min(y.y,T.y,R.y,P.y),m.width=Math.max(y.x,T.x,R.x,P.x)-m.x,m.height=Math.max(y.y,T.y,R.y,P.y)-m.y,m},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=l},73106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(30891),o=t(74118),r=new u({Extends:v,initialize:function(e,i,l,n,a,f,h,d){a===void 0&&(a=!0),f===void 0&&(f=!0),h===void 0&&(h=!0),d===void 0&&(d=!0),v.call(this,e,i,!0),this.bounds=new o(e,i,l,n),this.collideLeft=a,this.collideRight=f,this.collideTop=h,this.collideBottom=d},update:function(s){var e=this.bounds,i=-s.bounce,l=s.worldPosition;l.x<e.x&&this.collideLeft?(s.x+=e.x-l.x,s.velocityX*=i):l.x>e.right&&this.collideRight&&(s.x-=l.x-e.right,s.velocityX*=i),l.y<e.y&&this.collideTop?(s.y+=e.y-l.y,s.velocityY*=i):l.y>e.bottom&&this.collideBottom&&(s.y-=l.y-e.bottom,s.velocityY*=i)}});p.exports=r},9216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(48129),r=t(29538),s=t(69361),e=t(54213),i=t(19737),l=t(93025),n=t(40629),a=t(89980),f=t(72632),h=t(72861),d=t(87811),c=t(53523),g=t(19256),x=t(7782),m=t(71207),y=t(14655),T=t(14909),R=t(68433),P=t(74118),D=t(90205),I=t(66458),w=t(69116),U=t(17922),G=t(69360),H=t(93736),z=t(1071),$=t(73106),J=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],W=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],K=new u({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,w],initialize:function(b,Y,j,Q,q){a.call(this,b,"ParticleEmitter"),this.particleClass=T,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new i("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new H,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new G,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new m(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(Y,j),this.setTexture(Q),q&&this.setConfig(q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(N){if(!N)return this;var b=0,Y="",j=this.ops;for(b=0;b<W.length;b++)Y=W[b],j[Y].loadConfig(N);for(b=0;b<J.length;b++)Y=J[b],g(N,Y)&&(this[Y]=f(N,Y));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,g(N,"speed")&&(j.speedX.loadConfig(N,"speed"),j.speedY.active=!1),(c(N,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),g(N,"scale")&&(j.scaleX.loadConfig(N,"scale"),j.scaleY.active=!1),g(N,"callbackScope")){var Q=f(N,"callbackScope",null);this.emitCallbackScope=Q,this.deathCallbackScope=Q}if(g(N,"emitZone")&&this.addEmitZone(N.emitZone),g(N,"deathZone")&&this.addDeathZone(N.deathZone),g(N,"bounds")){var q=this.addParticleBounds(N.bounds);q.collideLeft=f(N,"collideLeft",!0),q.collideRight=f(N,"collideRight",!0),q.collideTop=f(N,"collideTop",!0),q.collideBottom=f(N,"collideBottom",!0)}return g(N,"followOffset")&&this.followOffset.setFromObject(f(N,"followOffset",0)),g(N,"texture")&&this.setTexture(N.texture),g(N,"frame")?this.setEmitterFrame(N.frame):g(N,"anim")&&this.setAnim(N.anim),g(N,"reserve")&&this.reserve(N.reserve),g(N,"advance")&&this.fastForward(N.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(n.START,this),this},toJSON:function(){var N=o(this),b=0,Y="";for(b=0;b<J.length;b++)Y=J[b],N[Y]=this[Y];var j=this.ops;for(b=0;b<W.length;b++)Y=W[b],j[Y]&&(N[Y]=j[Y].toJSON());return j.speedY.active||(delete N.speedX,N.speed=j.speedX.toJSON()),this.scaleX===this.scaleY&&(delete N.scaleX,delete N.scaleY,N.scale=j.scaleX.toJSON()),N},resetCounters:function(N,b){var Y=this.counters;Y.fill(0),Y[0]=N,b&&(Y[5]=1)},startFollow:function(N,b,Y,j){return b===void 0&&(b=0),Y===void 0&&(Y=0),j===void 0&&(j=!1),this.follow=N,this.followOffset.set(b,Y),this.trackVisible=j,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var N=this.frames,b=N.length,Y;return b===1?Y=N[0]:this.randomFrame?Y=h(N):(Y=N[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===b&&(this.currentFrame=0))),this.texture.get(Y)},setEmitterFrame:function(N,b,Y){b===void 0&&(b=!0),Y===void 0&&(Y=1),this.randomFrame=b,this.frameQuantity=Y,this.currentFrame=0;var j=typeof N;if(this.frames.length=0,Array.isArray(N))this.frames=this.frames.concat(N);else if(j==="string"||j==="number")this.frames.push(N);else if(j==="object"){var Q=N;N=f(Q,"frames",null),N&&(this.frames=this.frames.concat(N));var q=f(Q,"cycle",!1);this.randomFrame=!q,this.frameQuantity=f(Q,"quantity",Y)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var N=this.anims,b=N.length;if(b===0)return null;if(b===1)return N[0];if(this.randomAnim)return h(N);var Y=N[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=z(this.currentAnim+1,0,b-1)),Y},setAnim:function(N,b,Y){b===void 0&&(b=!0),Y===void 0&&(Y=1),this.randomAnim=b,this.animQuantity=Y,this.currentAnim=0;var j=typeof N;if(this.anims.length=0,Array.isArray(N))this.anims=this.anims.concat(N);else if(j==="string")this.anims.push(N);else if(j==="object"){var Q=N;N=f(Q,"anims",null),N&&(this.anims=this.anims.concat(N));var q=f(Q,"cycle",!1);this.randomAnim=!q,this.animQuantity=f(Q,"quantity",Y)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(N){return N===void 0&&(N=!0),this.radial=N,this},addParticleBounds:function(N,b,Y,j,Q,q,tt,it){if(typeof N=="object"){var st=N;N=st.x,b=st.y,Y=g(st,"w")?st.w:st.width,j=g(st,"h")?st.h:st.height}return this.addParticleProcessor(new $(N,b,Y,j,Q,q,tt,it))},setParticleSpeed:function(N,b){return b===void 0&&(b=N),this.ops.speedX.onChange(N),N===b?this.ops.speedY.active=!1:this.ops.speedY.onChange(b),this.radial=!0,this},setParticleScale:function(N,b){return N===void 0&&(N=1),b===void 0&&(b=N),this.ops.scaleX.onChange(N),this.ops.scaleY.onChange(b),this},setParticleGravity:function(N,b){return this.gravityX=N,this.gravityY=b,this},setParticleAlpha:function(N){return this.ops.alpha.onChange(N),this},setParticleTint:function(N){return this.ops.tint.onChange(N),this},setEmitterAngle:function(N){return this.ops.angle.onChange(N),this},setParticleLifespan:function(N){return this.ops.lifespan.onChange(N),this},setQuantity:function(N){return this.quantity=N,this},setFrequency:function(N,b){return this.frequency=N,this.flowCounter=N>0?N:0,b&&(this.quantity=b),this},addDeathZone:function(N){Array.isArray(N)||(N=[N]);for(var b,Y=this.deathZones,j=0;j<N.length;j++)if(b=N[j],b instanceof s)Y.push(b);else if(typeof b.contains=="function")b=new s(b,!0),Y.push(b);else{var Q=f(b,"type","onEnter"),q=f(b,"source",null);if(q&&typeof q.contains=="function"){var tt=Q==="onEnter";b=new s(q,tt),Y.push(b)}}return b},removeDeathZone:function(N){return I(this.deathZones,N),this},addEmitZone:function(N){Array.isArray(N)||(N=[N]);for(var b,Y=this.emitZones,j=[],Q=0;Q<N.length;Q++){if(b=N[Q],b instanceof R||b instanceof e)Y.push(b);else{var q=f(b,"type","random"),tt=f(b,"source",null);if(q==="random")b=new R(tt);else if(q==="edge"){var it=f(b,"quantity",1),st=f(b,"stepRate",0),lt=f(b,"yoyo",!1),ut=f(b,"seamless",!0),vt=f(b,"total",-1);b=new e(tt,it,st,lt,ut,vt)}b&&Y.push(b)}j.push(b)}return j},removeEmitZone:function(N){return I(this.emitZones,N),this.zoneIndex=0,this},getEmitZone:function(N){var b=this.emitZones,Y=b.length;if(Y!==0){var j=b[this.zoneIndex];j.getPoint(N),j.total>-1&&(this.zoneTotal++,this.zoneTotal===j.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===Y&&(this.zoneIndex=0)))}},getDeathZone:function(N){for(var b=this.deathZones,Y=0;Y<b.length;Y++){var j=b[Y];if(j.willKill(N))return this.emit(n.DEATH_ZONE,this,N,j),!0}return!1},setEmitZone:function(N){var b;return isFinite(N)?b=N:b=this.emitZones.indexOf(N),b>=0&&(this.zoneIndex=b),this},addParticleProcessor:function(N){return this.processors.exists(N)||(N.emitter&&N.emitter.removeParticleProcessor(N),this.processors.add(N),N.emitter=this),N},removeParticleProcessor:function(N){return this.processors.exists(N)&&(this.processors.remove(N,!0),N.emitter=null),N},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(N){return this.addParticleProcessor(new d(N))},reserve:function(N){var b=this.dead;if(this.maxParticles>0){var Y=this.getParticleCount();Y+N>this.maxParticles&&(N=this.maxParticles-(Y+N))}for(var j=0;j<N;j++)b.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(N,b){return N===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof N=="function"&&(this.emitCallback=N,b&&(this.emitCallbackScope=b)),this},onParticleDeath:function(N,b){return N===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof N=="function"&&(this.deathCallback=N,b&&(this.deathCallbackScope=b)),this},killAll:function(){for(var N=this.dead,b=this.alive;b.length>0;)N.push(b.pop());return this},forEachAlive:function(N,b){for(var Y=this.alive,j=Y.length,Q=0;Q<j;Q++)N.call(b,Y[Q],this);return this},forEachDead:function(N,b){for(var Y=this.dead,j=Y.length,Q=0;Q<j;Q++)N.call(b,Y[Q],this);return this},start:function(N,b){return N===void 0&&(N=0),this.emitting||(N>0&&this.fastForward(N),this.emitting=!0,this.resetCounters(this.frequency,!0),b!==void 0&&(this.duration=Math.abs(b)),this.emit(n.START,this)),this},stop:function(N){return N===void 0&&(N=!1),this.emitting&&(this.emitting=!1,N&&this.killAll(),this.emit(n.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(N,b){return N===void 0&&(N=""),b===void 0&&(b=this.true),this.sortProperty=N,this.sortOrderAsc=b,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(N){return this.sortProperty!==""?N=this.depthSortCallback:N=null,this.sortCallback=N,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(N,b){var Y=this.sortProperty;return this.sortOrderAsc?N[Y]-b[Y]:b[Y]-N[Y]},flow:function(N,b,Y){return b===void 0&&(b=1),this.emitting=!1,this.frequency=N,this.quantity=b,Y!==void 0&&(this.stopAfter=Y),this.start()},explode:function(N,b,Y){this.frequency=-1,this.resetCounters(-1,!0);var j=this.emitParticle(N,b,Y);return this.emit(n.EXPLODE,this,j),j},emitParticleAt:function(N,b,Y){return this.emitParticle(Y,N,b)},emitParticle:function(N,b,Y){if(!this.atLimit()){N===void 0&&(N=this.ops.quantity.onEmit());for(var j=this.dead,Q=this.stopAfter,q=this.follow?this.follow.x+this.followOffset.x:b,tt=this.follow?this.follow.y+this.followOffset.y:Y,it=0;it<N;it++){var st=j.pop();if(st||(st=new this.particleClass(this)),st.fire(q,tt)?(this.particleBringToTop?this.alive.push(st):this.alive.unshift(st),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,st,this)):this.dead.push(st),Q>0&&(this.stopCounter++,this.stopCounter>=Q)||this.atLimit())break}return st}},fastForward:function(N,b){b===void 0&&(b=1e3/60);var Y=0;for(this.skipping=!0;Y<Math.abs(N);)this.preUpdate(0,b),Y+=b;return this.skipping=!1,this},preUpdate:function(N,b){b*=this.timeScale;var Y=b/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var j=this.getProcessors(),Q=this.alive,q=this.dead,tt=0,it=[],st=Q.length;for(tt=0;tt<st;tt++){var lt=Q[tt];lt.update(b,Y,j)&&it.push({index:tt,particle:lt})}if(st=it.length,st>0){var ut=this.deathCallback,vt=this.deathCallbackScope;for(tt=st-1;tt>=0;tt--){var ft=it[tt];Q.splice(ft.index,1),q.push(ft.particle),ut&&ut.call(vt,ft.particle),ft.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Q.length===0&&(this.completeFlag=0,this.emit(n.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=b;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=b,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(N){for(var b=this.getWorldTransformMatrix(),Y=this.alive,j=Y.length,Q=[],q=0;q<j;q++){var tt=Y[q];D(N,tt.getBounds(b))&&Q.push(tt)}return Q},getBounds:function(N,b,Y,j){N===void 0&&(N=0),b===void 0&&(b=0),Y===void 0&&(Y=1e3/60),j===void 0&&(j=new P);var Q=this.getWorldTransformMatrix(),q,tt,it=this.alive,st=!1;if(j.setTo(0,0,0,0),b>0){var lt=0;for(this.skipping=!0;lt<Math.abs(b);){for(this.preUpdate(0,Y),q=0;q<it.length;q++)tt=it[q].getBounds(Q),st?y(j,tt):(st=!0,r(tt,j));lt+=Y}this.skipping=!1}else for(q=0;q<it.length;q++)tt=it[q].getBounds(Q),st?y(j,tt):(st=!0,r(tt,j));return N>0&&x(j,N,N),j},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(N){this.ops.x.onChange(N)}},particleY:{get:function(){return this.ops.y.current},set:function(N){this.ops.y.onChange(N)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(N){this.ops.accelerationX.onChange(N)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(N){this.ops.accelerationY.onChange(N)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(N){this.ops.maxVelocityX.onChange(N)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(N){this.ops.maxVelocityY.onChange(N)}},speed:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N),this.ops.speedY.onChange(N)}},speedX:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N)}},speedY:{get:function(){return this.ops.speedY.current},set:function(N){this.ops.speedY.onChange(N)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(N){this.ops.moveToX.onChange(N)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(N){this.ops.moveToY.onChange(N)}},bounce:{get:function(){return this.ops.bounce.current},set:function(N){this.ops.bounce.onChange(N)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(N){this.ops.scaleX.onChange(N)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(N){this.ops.scaleY.onChange(N)}},particleColor:{get:function(){return this.ops.color.current},set:function(N){this.ops.color.onChange(N)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(N){this.ops.color.setEase(N)}},particleTint:{get:function(){return this.ops.tint.current},set:function(N){this.ops.tint.onChange(N)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(N){this.ops.alpha.onChange(N)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(N){this.ops.lifespan.onChange(N)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(N){this.ops.angle.onChange(N)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(N){this.ops.rotate.onChange(N)}},quantity:{get:function(){return this.ops.quantity.current},set:function(N){this.ops.quantity.onChange(N)}},delay:{get:function(){return this.ops.delay.current},set:function(N){this.ops.delay.onChange(N)}},hold:{get:function(){return this.ops.hold.current},set:function(N){this.ops.hold.onChange(N)}},flowCounter:{get:function(){return this.counters[0]},set:function(N){this.counters[0]=N}},frameCounter:{get:function(){return this.counters[1]},set:function(N){this.counters[1]=N}},animCounter:{get:function(){return this.counters[2]},set:function(N){this.counters[2]=N}},elapsed:{get:function(){return this.counters[3]},set:function(N){this.counters[3]=N}},stopCounter:{get:function(){return this.counters[4]},set:function(N){this.counters[4]=N}},completeFlag:{get:function(){return this.counters[5]},set:function(N){this.counters[5]=N}},zoneIndex:{get:function(){return this.counters[6]},set:function(N){this.counters[6]=N}},zoneTotal:{get:function(){return this.counters[7]},set:function(N){this.counters[7]=N}},currentFrame:{get:function(){return this.counters[8]},set:function(N){this.counters[8]=N}},currentAnim:{get:function(){return this.counters[9]},set:function(N){this.counters[9]=N}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var N,b=this.ops;for(N=0;N<W.length;N++){var Y=W[N];b[Y].destroy()}for(N=0;N<this.alive.length;N++)this.alive[N].destroy();for(N=0;N<this.dead.length;N++)this.dead[N].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=K},10456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(90205),v=t(69360),o=new v,r=new v,s=new v,e=new v,i=function(l,n,a,f){var h=o,d=r,c=s,g=e;f?(g.loadIdentity(),g.multiply(f),g.translate(n.x,n.y),g.rotate(n.rotation),g.scale(n.scaleX,n.scaleY)):g.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY);var x=l.currentContext,m=a.roundPixels,y=a.alpha,T=n.alpha,R=n.alive,P=R.length,D=n.viewBounds;if(!(!n.visible||P===0||D&&!u(D,a.worldView))){n.sortCallback&&n.depthSort(),a.addToRenderList(n);var I=n.scrollFactorX,w=n.scrollFactorY;x.save(),x.globalCompositeOperation=l.blendModes[n.blendMode];for(var U=0;U<P;U++){var G=R[U],H=G.alpha*T*y;if(!(H<=0||G.scaleX===0||G.scaleY===0)){c.applyITRS(G.x,G.y,G.rotation,G.scaleX,G.scaleY),h.copyFrom(a.matrix),h.multiplyWithOffset(g,-a.scrollX*I,-a.scrollY*w),c.e=G.x,c.f=G.y,h.multiply(c,d);var z=G.frame,$=z.canvasData;if($.width>0&&$.height>0){var J=-z.halfWidth,W=-z.halfHeight;x.globalAlpha=H,x.save(),d.setToContext(x),m&&(J=Math.round(J),W=Math.round(W)),x.imageSmoothingEnabled=!z.source.scaleMode,x.drawImage(z.source.image,$.x,$.y,$.width,$.height,J,W,$.width,$.height),x.restore()}}}x.restore()}};p.exports=i},765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(72632),s=t(9216);v.register("particles",function(e,i){e===void 0&&(e={});var l=o(e,"key",null),n=r(e,"config",null),a=new s(this.scene,0,0,l);return i!==void 0&&(e.add=i),u(this.scene,a,e),n&&a.setConfig(n),a})},81212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(9216);u.register("particles",function(o,r,s,e){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,o,r,s,e))})},69116:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(10275),o=t(10456),p.exports={renderWebGL:v,renderCanvas:o}},10275:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(90205),v=t(69360),o=t(75512),r=new v,s=new v,e=new v,i=new v,l=function(n,a,f,h){var d=n.pipelines.set(a.pipeline),c=r,g=s,x=e,m=i;h?(m.loadIdentity(),m.multiply(h),m.translate(a.x,a.y),m.rotate(a.rotation),m.scale(a.scaleX,a.scaleY)):m.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var y=f.roundPixels,T=o.getTintAppendFloatAlpha,R=f.alpha,P=a.alpha,D=a.frame.glTexture;n.pipelines.preBatch(a);var I=a.alive,w=I.length,U=a.viewBounds;if(!(w===0||U&&!u(U,f.worldView))){a.sortCallback&&a.depthSort();var G=d.setGameObject(a,a.frame);f.addToRenderList(a),c.copyFrom(f.matrix),c.multiplyWithOffset(m,-f.scrollX*a.scrollFactorX,-f.scrollY*a.scrollFactorY),n.setBlendMode(a.blendMode),a.mask&&(a.mask.preRenderWebGL(n,a,f),n.pipelines.set(a.pipeline));for(var H=a.tintFill,z=0;z<w;z++){var $=I[z],J=$.alpha*P*R;if(!(J<=0||$.scaleX===0||$.scaleY===0)){x.applyITRS($.x,$.y,$.rotation,$.scaleX,$.scaleY),x.e=$.x,x.f=$.y,c.multiply(x,g);var W=$.frame,K=-W.halfWidth,N=-W.halfHeight,b=g.setQuad(K,N,K+W.width,N+W.height,y),Y=T($.tint,J);d.shouldFlush(6)&&(d.flush(),G=d.setGameObject(a,a.frame)),d.batchQuad(a,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],W.u0,W.v0,W.u1,W.v1,Y,Y,Y,Y,H,D,G)}}a.mask&&a.mask.postRenderWebGL(n,f),n.pipelines.postBatch(a)}};p.exports=l},30891:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s,e){r===void 0&&(r=0),s===void 0&&(s=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=s,this.active=e},update:function(){},destroy:function(){this.emitter=null}});p.exports=v},76100:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},26677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},62736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},56490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},85715:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},40629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(76100),DEATH_ZONE:t(26677),EXPLODE:t(62736),START:t(56490),STOP:t(85715)}},27684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(19737),EmitterOp:t(93025),Events:t(40629),GravityWell:t(87811),Particle:t(14909),ParticleBounds:t(73106),ParticleEmitter:t(9216),ParticleProcessor:t(30891),Zones:t(25962)}},69361:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s){this.source=r,this.killOnEnter=s},willKill:function(o){var r=o.worldPosition,s=this.source.contains(r.x,r.y);return s&&this.killOnEnter||!s&&!this.killOnEnter}});p.exports=v},54213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s,e,i,l,n){i===void 0&&(i=!1),l===void 0&&(l=!0),n===void 0&&(n=-1),this.source=r,this.points=[],this.quantity=s,this.stepRate=e,this.yoyo=i,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=n,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],r=this.points[this.points.length-1];o.x===r.x&&o.y===r.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(o.x=r.x,o.y=r.y)}});p.exports=v},68433:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(93736),o=new u({initialize:function(s){this.source=s,this._tempVec=new v,this.total=-1},getPoint:function(r){var s=this._tempVec;this.source.getRandomPoint(s),r.x=s.x,r.y=s.y}});p.exports=o},25962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(69361),EdgeZone:t(54213),RandomZone:t(68433)}},29598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(13747),r=new u({Extends:o,Mixins:[v.PathFollower],initialize:function(e,i,l,n,a,f){o.call(this,e,l,n,a,f),this.path=i},preUpdate:function(s,e){this.anims.update(s,e),this.pathUpdate(s)}});p.exports=r},19626:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(29598);u.register("follower",function(o,r,s,e,i){var l=new v(this.scene,o,r,s,e,i);return this.displayList.add(l),this.updateList.add(l),l})},33412:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16569),v=t(56694),o=t(99425),r=t(15978),s=t(83321),e=t(76583),i=new v({Extends:s,initialize:function(n,a,f,h,d,c,g,x){h||(h="__DEFAULT"),s.call(this,n,a,f,h,d),this.type="Plane",this.anims=new u(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(c,g,x),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(l,n,a){l===void 0&&(l=8),n===void 0&&(n=8),a===void 0&&(a=!1);var f=!1;return a&&(f=!0),this.gridWidth=l,this.gridHeight=n,this.isTiled=a,this.clear(),o({mesh:this,widthSegments:l,heightSegments:n,isOrtho:!1,tile:a,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var n=this.frame;if(this.setPerspective(this.width/n.width,this.height/n.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var a=this.gridWidth,f=this.gridHeight,h=this.vertices,d=n.u0,c=n.u1,g=n.v0,x=n.v1,m,y,T=0;if(this.isTiled)for(g=n.v1,x=n.v0,y=0;y<f;y++)for(m=0;m<a;m++)h[T++].setUVs(d,x),h[T++].setUVs(d,g),h[T++].setUVs(c,x),h[T++].setUVs(d,g),h[T++].setUVs(c,g),h[T++].setUVs(c,x);else{var R=a+1,P=f+1,D=c-d,I=x-g,w=[];for(y=0;y<P;y++)for(m=0;m<R;m++){var U=d+D*(m/a),G=g+I*(y/f);w.push(U,G)}for(y=0;y<f;y++)for(m=0;m<a;m++){var H=(m+R*y)*2,z=(m+R*(y+1))*2,$=(m+1+R*(y+1))*2,J=(m+1+R*y)*2;h[T++].setUVs(w[H],w[H+1]),h[T++].setUVs(w[z],w[z+1]),h[T++].setUVs(w[J],w[J+1]),h[T++].setUVs(w[z],w[z+1]),h[T++].setUVs(w[$],w[$+1]),h[T++].setUVs(w[J],w[J+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var n=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(n/2),this.dirtyCache[10]=1},createCheckerboard:function(l,n,a,f,h){l===void 0&&(l=16777215),n===void 0&&(n=255),a===void 0&&(a=255),f===void 0&&(f=255),h===void 0&&(h=128);var d=this.scene.sys.renderer.gl,c=d.createTexture();d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,c),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST);for(var g=r(l),x=r(n),m=[],y=0;y<16;y++)for(var T=0;T<16;T++)y<8&&T<8||y>7&&T>7?m.push(g.r,g.g,g.b,a):m.push(x.r,x.g,x.b,f);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(m)),c.isAlphaPremultiplied=!0,c.isRenderTexture=!1,c.width=16,c.height=16;var R=this.scene.sys.textures.addGLTexture(e(),c,16,16);return this.removeCheckerboard(),this._checkerboard=R,d.bindTexture(d.TEXTURE_2D,null),this.setTexture(R),this.setSizeToFrame(),this.setViewHeight(h),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,n){return this.anims.play(l,n)},playReverse:function(l,n){return this.anims.playReverse(l,n)},playAfterDelay:function(l,n){return this.anims.playAfterDelay(l,n)},playAfterRepeat:function(l,n){return this.anims.playAfterRepeat(l,n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,n){s.prototype.preUpdate.call(this,l,n),this.anims.update(l,n)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=i},10912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(32291),o=t(99325),r=t(20494),s=t(10850),e=t(33412);o.register("plane",function(i,l){i===void 0&&(i={});var n=r(i,"key",null),a=r(i,"frame",null),f=s(i,"width",8),h=s(i,"height",8),d=s(i,"tile",!1),c=new e(this.scene,0,0,n,a,f,h,d);l!==void 0&&(i.add=l);var g=s(i,"checkerboard",null);if(g){var x=s(g,"color1",16777215),m=s(g,"color2",255),y=s(g,"alpha1",255),T=s(g,"alpha2",255),R=s(g,"height",128);c.createCheckerboard(x,m,y,T,R)}return u(this.scene,c,i),v(c,i),c})},58322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(33412),v=t(61286);v.register("plane",function(o,r,s,e,i,l,n){return this.displayList.add(new u(this.scene,o,r,s,e,i,l,n))})},13171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(89980),r=t(74853),s=t(65641),e=t(71606),i=new u({Extends:o,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,e],initialize:function(n,a,f,h,d,c,g){h===void 0&&(h=16777215),d===void 0&&(d=128),c===void 0&&(c=1),g===void 0&&(g=.1),o.call(this,n,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(a,f),this.color=r(h),this.intensity=c,this.attenuation=g,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=i},162:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(13171);v.register("pointlight",function(s,e){s===void 0&&(s={});var i=o(s,"color",16777215),l=o(s,"radius",128),n=o(s,"intensity",1),a=o(s,"attenuation",.1),f=new r(this.scene,0,0,i,l,n,a);return e!==void 0&&(s.add=e),u(this.scene,f,s),f})},91201:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(13171);u.register("pointlight",function(o,r,s,e,i,l){return this.displayList.add(new v(this.scene,o,r,s,e,i,l))})},71606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(80590),p.exports={renderWebGL:v,renderCanvas:o}},80590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=function(o,r,s,e){s.addToRenderList(r);var i=o.pipelines.set(r.pipeline),l=u(r,s,e).calc,n=r.width,a=r.height,f=-r._radius,h=-r._radius,d=f+n,c=h+a,g=l.getX(0,0),x=l.getY(0,0),m=l.getX(f,h),y=l.getY(f,h),T=l.getX(f,c),R=l.getY(f,c),P=l.getX(d,c),D=l.getY(d,c),I=l.getX(d,h),w=l.getY(d,h);o.pipelines.preBatch(r),i.batchPointLight(r,s,m,y,T,R,P,D,I,w,g,x),o.pipelines.postBatch(r)};p.exports=v},15996:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(845),o=t(1539),r=new u({Extends:o,initialize:function(e,i,l,n,a){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=32),a===void 0&&(a=32);var f=new v(e.sys.textures,"",n,a);o.call(this,e,i,l,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(s,e){this.width=s,this.height=e,this.texture.setSize(s,e),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=s,i.hitArea.height=e),this},resize:function(s,e){return this.setSize(s,e),this},saveTexture:function(s){var e=this.texture;return e.key=s,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(s,e,i,l,n,a){return this.texture.fill(s,e,i,l,n,a),this},clear:function(){return this.texture.clear(),this},stamp:function(s,e,i,l,n){return this.texture.stamp(s,e,i,l,n),this},erase:function(s,e,i){return this.texture.erase(s,e,i),this},draw:function(s,e,i,l,n){return this.texture.draw(s,e,i,l,n),this},drawFrame:function(s,e,i,l,n,a){return this.texture.drawFrame(s,e,i,l,n,a),this},repeat:function(s,e,i,l,n,a,f,h,d){return this.texture.repeat(s,e,i,l,n,a,f,h,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(s,e,i,l,n){return this.texture.batchDraw(s,e,i,l,n),this},batchDrawFrame:function(s,e,i,l,n,a){return this.texture.batchDrawFrame(s,e,i,l,n,a),this},endDraw:function(s){return this.texture.endDraw(s),this},snapshotArea:function(s,e,i,l,n,a,f){return this.texture.snapshotArea(s,e,i,l,n,a,f),this},snapshot:function(s,e,i){return this.snapshotArea(0,0,this.width,this.height,s,e,i)},snapshotPixel:function(s,e,i){return this.snapshotArea(s,e,1,1,i,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});p.exports=r},85692:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(15996);v.register("renderTexture",function(s,e){s===void 0&&(s={});var i=o(s,"x",0),l=o(s,"y",0),n=o(s,"width",32),a=o(s,"height",32),f=new r(this.scene,i,l,n,a);return e!==void 0&&(s.add=e),u(this.scene,f,s),f})},29599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(15996);u.register("renderTexture",function(o,r,s,e){return this.displayList.add(new v(this.scene,o,r,s,e))})},79968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16569),v=t(56694),o=t(64937),r=t(89980),s=t(65641),e=t(58912),i=t(93736),l=new v({Extends:r,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,e],initialize:function(a,f,h,d,c,g,x,m,y){d===void 0&&(d="__DEFAULT"),g===void 0&&(g=2),x===void 0&&(x=!0),r.call(this,a,"Rope"),this.anims=new u(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=x,this._flipX=!1,this._flipY=!1,this._perp=new i,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,c),this.setPosition(f,h),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,m,y),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,a){var f=this.anims.currentFrame;this.anims.update(n,a),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(n,a,f){return this.anims.play(n,a,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(n,a,f){return n===void 0&&(n=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(n,a,f))},setVertical:function(n,a,f){return n===void 0&&(n=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(n,a,f)):this},setTintFill:function(n){return n===void 0&&(n=!1),this.tintFill=n,this},setAlphas:function(n,a){var f=this.points.length;if(f<1)return this;var h=this.alphas;n===void 0?n=[1]:!Array.isArray(n)&&a===void 0&&(n=[n]);var d,c=0;if(a!==void 0)for(d=0;d<f;d++)c=d*2,h[c]=n,h[c+1]=a;else if(n.length===f)for(d=0;d<f;d++)c=d*2,h[c]=n[d],h[c+1]=n[d];else{var g=n[0];for(d=0;d<f;d++)c=d*2,n.length>c&&(g=n[c]),h[c]=g,n.length>c+1&&(g=n[c+1]),h[c+1]=g}return this},setColors:function(n){var a=this.points.length;if(a<1)return this;var f=this.colors;n===void 0?n=[16777215]:Array.isArray(n)||(n=[n]);var h,d=0;if(n.length===a)for(h=0;h<a;h++)d=h*2,f[d]=n[h],f[d+1]=n[h];else{var c=n[0];for(h=0;h<a;h++)d=h*2,n.length>d&&(c=n[d]),f[d]=c,n.length>d+1&&(c=n[d+1]),f[d+1]=c}return this},setPoints:function(n,a,f){if(n===void 0&&(n=2),typeof n=="number"){var h=n;h<2&&(h=2),n=[];var d,c,g;if(this.horizontal)for(g=-this.frame.halfWidth,c=this.frame.width/(h-1),d=0;d<h;d++)n.push({x:g+d*c,y:0});else for(g=-this.frame.halfHeight,c=this.frame.height/(h-1),d=0;d<h;d++)n.push({x:0,y:g+d*c})}var x=n.length,m=this.points.length;return x<1?(console.warn("Rope: Not enough points given"),this):(x===1&&(n.unshift({x:0,y:0}),x++),m!==x&&this.resizeArrays(x),this.dirty=!0,this.points=n,this.updateUVs(),a!=null&&this.setColors(a),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var n=this.uv,a=this.points.length,f=this.frame.u0,h=this.frame.v0,d=this.frame.u1,c=this.frame.v1,g=(d-f)/(a-1),x=(c-h)/(a-1),m=0;m<a;m++){var y=m*4,T,R,P,D;this.horizontal?(this._flipX?(T=d-m*g,P=d-m*g):(T=f+m*g,P=f+m*g),this._flipY?(R=c,D=h):(R=h,D=c)):(this._flipX?(T=f,P=d):(T=d,P=f),this._flipY?(R=c-m*x,D=c-m*x):(R=h+m*x,D=h+m*x)),n[y+0]=T,n[y+1]=R,n[y+2]=P,n[y+3]=D}return this},resizeArrays:function(n){var a=this.colors,f=this.alphas;this.vertices=new Float32Array(n*4),this.uv=new Float32Array(n*4),a=new Uint32Array(n*2),f=new Float32Array(n*2);for(var h=0;h<n*2;h++)a[h]=16777215,f[h]=1;return this.colors=a,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var n=this._perp,a=this.points,f=this.vertices,h=a.length;if(this.dirty=!1,!(h<1)){for(var d,c=a[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,x=0;x<h;x++){var m=a[x],y=x*4;x<h-1?d=a[x+1]:d=m,n.x=d.y-c.y,n.y=-(d.x-c.x);var T=n.length();n.x/=T,n.y/=T,n.x*=g,n.y*=g,f[y]=m.x+n.x,f[y+1]=m.y+n.y,f[y+2]=m.x-n.x,f[y+3]=m.y-n.y,c=m}return this}},setDebug:function(n,a){return this.debugGraphic=n,!n&&!a?this.debugCallback=null:a?this.debugCallback=a:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(n,a,f){var h=n.debugGraphic,d=f[0],c=f[1],g=f[2],x=f[3];h.lineBetween(d,c,g,x);for(var m=4;m<a;m+=4){var y=f[m+0],T=f[m+1],R=f[m+2],P=f[m+3];h.lineBetween(d,c,y,T),h.lineBetween(g,x,R,P),h.lineBetween(g,x,y,T),h.lineBetween(y,T,R,P),d=y,c=T,g=R,x=P}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(n){return this._flipX=n,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(n){return this._flipY=n,this.updateUVs()}}});p.exports=l},44598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},96027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(10850),s=t(79968);v.register("rope",function(e,i){e===void 0&&(e={});var l=o(e,"key",null),n=o(e,"frame",null),a=o(e,"horizontal",!0),f=r(e,"points",void 0),h=r(e,"colors",void 0),d=r(e,"alphas",void 0),c=new s(this.scene,0,0,l,n,f,a,h,d);return i!==void 0&&(e.add=i),u(this.scene,c,e),c})},31982:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79968),v=t(61286);v.register("rope",function(o,r,s,e,i,l,n,a){return this.displayList.add(new u(this.scene,o,r,s,e,i,l,n,a))})},58912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(49489),o=t(44598),p.exports={renderWebGL:v,renderCanvas:o}},49489:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(75512),o=function(r,s,e,i){e.addToRenderList(s);var l=r.pipelines.set(s.pipeline,s),n=u(s,e,i).calc,a=s.vertices,f=s.uv,h=s.colors,d=s.alphas,c=s.alpha,g=v.getTintAppendFloatAlpha,x=e.roundPixels,m=a.length,y=Math.floor(m*.5);l.flush(),r.pipelines.preBatch(s);var T=l.setGameObject(s),R=l.vertexViewF32,P=l.vertexViewU32,D=l.vertexCount*l.currentShader.vertexComponentCount-1,I=0,w=s.tintFill;s.dirty&&s.updateVertices();for(var U=s.debugCallback,G=[],H=0;H<m;H+=2){var z=a[H+0],$=a[H+1],J=z*n.a+$*n.c+n.e,W=z*n.b+$*n.d+n.f;x&&(J=Math.round(J),W=Math.round(W)),R[++D]=J,R[++D]=W,R[++D]=f[H+0],R[++D]=f[H+1],R[++D]=T,R[++D]=w,P[++D]=g(h[I],e.alpha*(d[I]*c)),I++,U&&(G[H+0]=J,G[H+1]=W)}U&&U.call(s,s,m,G),l.vertexCount+=y,l.currentBatch.count=l.vertexCount-l.currentBatch.start,r.pipelines.postBatch(s)};p.exports=o},27902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(89980),r=t(72632),s=t(98611),e=t(22440),i=t(24252),l=t(69360),n=new u({Extends:o,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,i],initialize:function(f,h,d,c,g,x,m,y){d===void 0&&(d=0),c===void 0&&(c=0),g===void 0&&(g=128),x===void 0&&(x=128),o.call(this,f,"Shader"),this.blendMode=-1,this.shader;var T=f.sys.renderer;this.renderer=T,this.gl=T.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=T.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=T.width,this._rendererHeight=T.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(d,c),this.setSize(g,x),this.setOrigin(.5,.5),this.setShader(h,m,y)},willRender:function(a){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&a.id)},setRenderToTexture:function(a,f){if(f===void 0&&(f=!1),!this.renderToTexture){var h=this.width,d=this.height,c=this.renderer;this.glTexture=c.createTextureFromSource(null,h,d,0),this.glTexture.flipY=f,this.framebuffer=c.createFramebuffer(h,d,this.glTexture,!1),this._rendererWidth=h,this._rendererHeight=d,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),a&&(this.texture=this.scene.sys.textures.addGLTexture(a,this.glTexture,h,d))}return this.shader&&(c.pipelines.clear(),this.load(),this.flush(),c.pipelines.rebind()),this},setShader:function(a,f,h){if(f===void 0&&(f=[]),typeof a=="string"){var d=this.scene.sys.cache.shader;if(!d.has(a))return console.warn("Shader missing: "+a),this;this.shader=d.get(a)}else this.shader=a;var c=this.gl,g=this.renderer;this.program&&c.deleteProgram(this.program);var x=g.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);c.uniformMatrix4fv(c.getUniformLocation(x,"uViewMatrix"),!1,this.viewMatrix),c.uniformMatrix4fv(c.getUniformLocation(x,"uProjectionMatrix"),!1,this.projectionMatrix),c.uniform2f(c.getUniformLocation(x,"uResolution"),this.width,this.height),this.program=x;var m=new Date,y={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[m.getFullYear(),m.getMonth(),m.getDate(),m.getHours()*60*60+m.getMinutes()*60+m.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,y):this.uniforms=y;for(var T=0;T<4;T++)f[T]&&this.setSampler2D("iChannel"+T,f[T],T,h);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(a){return this.pointer=a,this},projOrtho:function(a,f,h,d){var c=-1e3,g=1e3,x=1/(a-f),m=1/(h-d),y=1/(c-g),T=this.projectionMatrix;T[0]=-2*x,T[5]=-2*m,T[10]=2*y,T[12]=(a+f)*x,T[13]=(d+h)*m,T[14]=(g+c)*y;var R=this.program,P=this.gl,D=this.renderer;D.setProgram(R),P.uniformMatrix4fv(P.getUniformLocation(R,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=h},initUniforms:function(){var a=this.gl,f=this.renderer.glFuncMap,h=this.program;this._textureCount=0;for(var d in this.uniforms){var c=this.uniforms[d],g=c.type,x=f[g];c.uniformLocation=a.getUniformLocation(h,d),g!=="sampler2D"&&(c.glMatrix=x.matrix,c.glValueLength=x.length,c.glFunc=x.func)}},setSampler2DBuffer:function(a,f,h,d,c,g){c===void 0&&(c=0),g===void 0&&(g={});var x=this.uniforms[a];return x.value=f,g.width=h,g.height=d,x.textureData=g,this._textureCount=c,this.initSampler2D(x),this},setSampler2D:function(a,f,h,d){h===void 0&&(h=0);var c=this.scene.sys.textures;if(c.exists(f)){var g=c.getFrame(f);if(g.glTexture&&g.glTexture.isRenderTexture)return this.setSampler2DBuffer(a,g.glTexture,g.width,g.height,h,d);var x=this.uniforms[a],m=g.source;x.textureKey=f,x.source=m.image,x.value=g.glTexture,m.isGLTexture&&(d||(d={}),d.width=m.width,d.height=m.height),d&&(x.textureData=d),this._textureCount=h,this.initSampler2D(x)}return this},setUniform:function(a,f){return e(this.uniforms,a,f),this},getUniform:function(a){return r(this.uniforms,a,null)},setChannel0:function(a,f){return this.setSampler2D("iChannel0",a,0,f)},setChannel1:function(a,f){return this.setSampler2D("iChannel1",a,1,f)},setChannel2:function(a,f){return this.setSampler2D("iChannel2",a,2,f)},setChannel3:function(a,f){return this.setSampler2D("iChannel3",a,3,f)},initSampler2D:function(a){if(a.value){var f=this.gl;f.activeTexture(f.TEXTURE0+this._textureCount),f.bindTexture(f.TEXTURE_2D,a.value);var h=a.textureData;if(h&&!a.value.isRenderTexture){var d=f[r(h,"magFilter","linear").toUpperCase()],c=f[r(h,"minFilter","linear").toUpperCase()],g=f[r(h,"wrapS","repeat").toUpperCase()],x=f[r(h,"wrapT","repeat").toUpperCase()],m=f[r(h,"format","rgba").toUpperCase()];if(h.repeat&&(g=f.REPEAT,x=f.REPEAT),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!!h.flipY),h.width){var y=r(h,"width",512),T=r(h,"height",2),R=r(h,"border",0);f.texImage2D(f.TEXTURE_2D,0,m,y,T,R,m,f.UNSIGNED_BYTE,null)}else f.texImage2D(f.TEXTURE_2D,0,m,f.RGBA,f.UNSIGNED_BYTE,a.source);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,d),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,c),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,g),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,x)}this.renderer.setProgram(this.program),f.uniform1i(a.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var a=this.gl,f=this.uniforms,h,d,c,g,x,m=0;for(var y in f)h=f[y],c=h.glFunc,d=h.glValueLength,g=h.uniformLocation,x=h.value,x!==null&&(d===1?h.glMatrix?c.call(a,g,h.transpose,x):c.call(a,g,x):d===2?c.call(a,g,x.x,x.y):d===3?c.call(a,g,x.x,x.y,x.z):d===4?c.call(a,g,x.x,x.y,x.z,x.w):h.type==="sampler2D"&&(a.activeTexture(a.TEXTURE0+m),a.bindTexture(a.TEXTURE_2D,x),a.uniform1i(g,m),m++))},load:function(a){var f=this.gl,h=this.width,d=this.height,c=this.renderer,g=this.program,x=this.viewMatrix;if(!this.renderToTexture){var m=-this._displayOriginX,y=-this._displayOriginY;x[0]=a[0],x[1]=a[1],x[4]=a[2],x[5]=a[3],x[8]=a[4],x[9]=a[5],x[12]=x[0]*m+x[4]*y,x[13]=x[1]*m+x[5]*y}f.useProgram(g),f.uniformMatrix4fv(f.getUniformLocation(g,"uViewMatrix"),!1,x),f.uniform2f(f.getUniformLocation(g,"uResolution"),this.width,this.height);var T=this.uniforms,R=T.resolution;R.value.x=h,R.value.y=d,T.time.value=c.game.loop.getDuration();var P=this.pointer;if(P){var D=T.mouse,I=P.x/h,w=1-P.y/d;D.value.x=I.toFixed(2),D.value.y=w.toFixed(2)}this.syncUniforms()},flush:function(){var a=this.width,f=this.height,h=this.program,d=this.gl,c=this.vertexBuffer,g=this.renderer,x=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(g.setFramebuffer(this.framebuffer),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT)),d.bindBuffer(d.ARRAY_BUFFER,c);var m=d.getAttribLocation(h,"inPosition");m!==-1&&(d.enableVertexAttribArray(m),d.vertexAttribPointer(m,2,d.FLOAT,!1,x,0));var y=this.vertexViewF32;y[3]=f,y[4]=a,y[5]=f,y[8]=a,y[9]=f,y[10]=a;var T=6;d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,T*x)),d.drawArrays(d.TRIANGLES,0,T),this.renderToTexture&&g.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var a=this.gl;a.deleteProgram(this.program),a.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});p.exports=n},10612:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},13908:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(27902);v.register("shader",function(s,e){s===void 0&&(s={});var i=o(s,"key",null),l=o(s,"x",0),n=o(s,"y",0),a=o(s,"width",128),f=o(s,"height",128),h=new r(this.scene,i,l,n,a,f);return e!==void 0&&(s.add=e),u(this.scene,h,s),h})},51979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27902),v=t(61286);v.register("shader",function(o,r,s,e,i,l,n){return this.displayList.add(new u(this.scene,o,r,s,e,i,l,n))})},24252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(19782),o=t(10612),p.exports={renderWebGL:v,renderCanvas:o}},19782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=function(o,r,s,e){if(r.shader){if(s.addToRenderList(r),o.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var i=u(r,s,e).calc;(o.width!==r._rendererWidth||o.height!==r._rendererHeight)&&r.projOrtho(0,o.width,o.height,0),r.load(i.matrix),r.flush()}o.pipelines.rebind()}};p.exports=v},19543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75512),v=function(o,r,s,e,i,l){for(var n=u.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*e),a=s.pathData,f=s.pathIndexes,h=0;h<f.length;h+=3){var d=f[h]*2,c=f[h+1]*2,g=f[h+2]*2,x=a[d+0]-i,m=a[d+1]-l,y=a[c+0]-i,T=a[c+1]-l,R=a[g+0]-i,P=a[g+1]-l,D=r.getX(x,m),I=r.getY(x,m),w=r.getX(y,T),U=r.getY(y,T),G=r.getX(R,P),H=r.getY(R,P);o.batchTri(s,D,I,w,U,G,H,0,0,1,1,n,n,n,2)}};p.exports=v},15608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=v||u.fillColor,s=o||u.fillAlpha,e=(r&16711680)>>>16,i=(r&65280)>>>8,l=r&255;t.fillStyle="rgba("+e+","+i+","+l+","+s+")"};p.exports=S},17876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=v||u.strokeColor,s=o||u.strokeAlpha,e=(r&16711680)>>>16,i=(r&65280)>>>8,l=r&255;t.strokeStyle="rgba("+e+","+i+","+l+","+s+")",t.lineWidth=u.lineWidth};p.exports=S},91461:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(89980),r=t(88829),s=new u({Extends:o,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(i,l,n){l===void 0&&(l="Shape"),o.call(this,i,l),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,i){return i===void 0&&(i=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=i,this.isFilled=!0),this},setStrokeStyle:function(e,i,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=i,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,i){return this.width=e,this.height=i,this},setDisplaySize:function(e,i){return this.displayWidth=e,this.displayHeight=i,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});p.exports=s},50262:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75512),v=function(o,r,s,e,i){var l=o.strokeTint,n=u.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*s);l.TL=n,l.TR=n,l.BL=n,l.BR=n;var a=r.pathData,f=a.length-1,h=r.lineWidth,d=h/2,c=a[0]-e,g=a[1]-i;r.closePath||(f-=2);for(var x=2;x<f;x+=2){var m=a[x]-e,y=a[x+1]-i;o.batchLine(c,g,m,y,d,d,h,x-2,r.closePath?x===f-1:!1),c=m,g=y}};p.exports=v},28593:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2213),v=t(56694),o=t(75606),r=t(11117),s=t(26673),e=t(83392),i=t(91461),l=new v({Extends:i,Mixins:[u],initialize:function(a,f,h,d,c,g,x,m,y){f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=128),c===void 0&&(c=0),g===void 0&&(g=360),x===void 0&&(x=!1),i.call(this,a,"Arc",new s(0,0,d)),this._startAngle=c,this._endAngle=g,this._anticlockwise=x,this._iterations=.01,this.setPosition(f,h);var T=this.geom.radius*2;this.setSize(T,T),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(n){this._iterations=n,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(n){this.geom.radius=n;var a=n*2;this.setSize(a,a),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(n){this._startAngle=n,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(n){this._endAngle=n,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(n){this._anticlockwise=n,this.updateData()}},setRadius:function(n){return this.radius=n,this},setIterations:function(n){return n===void 0&&(n=.01),this.iterations=n,this},setStartAngle:function(n,a){return this._startAngle=n,a!==void 0&&(this._anticlockwise=a),this.updateData()},setEndAngle:function(n,a){return this._endAngle=n,a!==void 0&&(this._anticlockwise=a),this.updateData()},updateData:function(){var n=this._iterations,a=n,f=this.geom.radius,h=o(this._startAngle),d=o(this._endAngle),c=this._anticlockwise,g=f,x=f;d-=h,c?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var m=[g+Math.cos(h)*f,x+Math.sin(h)*f],y;a<1;)y=d*a+h,m.push(g+Math.cos(y)*f,x+Math.sin(y)*f),a+=n;return y=d+h,m.push(g+Math.cos(y)*f,x+Math.sin(y)*f),m.push(g+Math.cos(h)*f,x+Math.sin(h)*f),this.pathIndexes=r(m),this.pathData=m,this}});p.exports=l},23560:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75606),v=t(15608),o=t(17876),r=t(49584),s=function(e,i,l,n){l.addToRenderList(i);var a=e.currentContext;if(r(e,a,i,l,n)){var f=i.radius;a.beginPath(),a.arc(f-i.originX*(f*2),f-i.originY*(f*2),f,u(i._startAngle),u(i._endAngle),i.anticlockwise),i.closePath&&a.closePath(),i.isFilled&&(v(a,i),a.fill()),i.isStroked&&(o(a,i),a.stroke()),a.restore()}};p.exports=s},10369:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28593),v=t(61286);v.register("arc",function(o,r,s,e,i,l,n,a){return this.displayList.add(new u(this.scene,o,r,s,e,i,l,n,a))}),v.register("circle",function(o,r,s,e,i){return this.displayList.add(new u(this.scene,o,r,s,0,360,!1,e,i))})},2213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(58356),o=t(23560),p.exports={renderWebGL:v,renderCanvas:o}},58356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(19543),o=t(50262),r=function(s,e,i,l){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=u(e,i,l),f=n.calcMatrix.copyFrom(a.calc),h=e._displayOriginX,d=e._displayOriginY,c=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&v(n,f,e,c,h,d),e.isStroked&&o(n,e,c,h,d),s.pipelines.postBatch(e)};p.exports=r},15220:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(87203),o=t(11117),r=t(74118),s=t(91461),e=new u({Extends:s,Mixins:[v],initialize:function(l,n,a,f,h,d){n===void 0&&(n=0),a===void 0&&(a=0),s.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(n,a),h!==void 0&&this.setFillStyle(h,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){var i=this._curveBounds,l=this._smoothness;this.geom.getBounds(i,l),this.setSize(i.width,i.height),this.updateDisplayOrigin();for(var n=[],a=this.geom.getPoints(l),f=0;f<a.length;f++)n.push(a[f].x,a[f].y);return n.push(a[0].x,a[0].y),this.pathIndexes=o(n),this.pathData=n,this}});p.exports=e},4024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15608),v=t(17876),o=t(49584),r=function(s,e,i,l){i.addToRenderList(e);var n=s.currentContext;if(o(s,n,e,i,l)){var a=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,h=e.pathData,d=h.length-1,c=h[0]-a,g=h[1]-f;n.beginPath(),n.moveTo(c,g),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var m=h[x]-a,y=h[x+1]-f;n.lineTo(m,y)}e.closePath&&n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};p.exports=r},10147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(15220);u.register("curve",function(o,r,s,e,i){return this.displayList.add(new v(this.scene,o,r,s,e,i))})},87203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(82958),o=t(4024),p.exports={renderWebGL:v,renderCanvas:o}},82958:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19543),v=t(73329),o=t(50262),r=function(s,e,i,l){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=v(e,i,l),f=n.calcMatrix.copyFrom(a.calc),h=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,c=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&u(n,f,e,c,h,d),e.isStroked&&o(n,e,c,h,d),s.pipelines.postBatch(e)};p.exports=r},28591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(11117),o=t(84171),r=t(95669),s=t(91461),e=new u({Extends:s,Mixins:[o],initialize:function(l,n,a,f,h,d,c){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=128),h===void 0&&(h=128),s.call(this,l,"Ellipse",new r(f/2,h/2,f,h)),this._smoothness=64,this.setPosition(n,a),this.width=f,this.height=h,d!==void 0&&this.setFillStyle(d,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSize:function(i,l){return this.width=i,this.height=l,this.geom.setPosition(i/2,l/2),this.geom.setSize(i,l),this.updateData()},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){for(var i=[],l=this.geom.getPoints(this._smoothness),n=0;n<l.length;n++)i.push(l[n].x,l[n].y);return i.push(l[0].x,l[0].y),this.pathIndexes=v(i),this.pathData=i,this}});p.exports=e},55881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15608),v=t(17876),o=t(49584),r=function(s,e,i,l){i.addToRenderList(e);var n=s.currentContext;if(o(s,n,e,i,l)){var a=e._displayOriginX,f=e._displayOriginY,h=e.pathData,d=h.length-1,c=h[0]-a,g=h[1]-f;n.beginPath(),n.moveTo(c,g),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var m=h[x]-a,y=h[x+1]-f;n.lineTo(m,y)}n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};p.exports=r},99869:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28591),v=t(61286);v.register("ellipse",function(o,r,s,e,i,l){return this.displayList.add(new u(this.scene,o,r,s,e,i,l))})},84171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(17554),o=t(55881),p.exports={renderWebGL:v,renderCanvas:o}},17554:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19543),v=t(73329),o=t(50262),r=function(s,e,i,l){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=v(e,i,l),f=n.calcMatrix.copyFrom(a.calc),h=e._displayOriginX,d=e._displayOriginY,c=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&u(n,f,e,c,h,d),e.isStroked&&o(n,e,c,h,d),s.pipelines.postBatch(e)};p.exports=r},39169:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(91461),o=t(88059),r=new u({Extends:v,Mixins:[o],initialize:function(e,i,l,n,a,f,h,d,c,g,x){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=128),a===void 0&&(a=128),f===void 0&&(f=32),h===void 0&&(h=32),v.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=h,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(i,l),this.setSize(n,a),this.setFillStyle(d,c),g!==void 0&&this.setOutlineStyle(g,x),this.updateDisplayOrigin()},setFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showCells=!1:(this.fillColor=s,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showAltCells=!1:(this.altFillColor=s,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showOutline=!1:(this.outlineFillColor=s,this.outlineFillAlpha=e,this.showOutline=!0),this}});p.exports=r},95525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15608),v=t(17876),o=t(49584),r=function(s,e,i,l){i.addToRenderList(e);var n=s.currentContext;if(o(s,n,e,i,l)){var a=-e._displayOriginX,f=-e._displayOriginY,h=i.alpha*e.alpha,d=e.width,c=e.height,g=e.cellWidth,x=e.cellHeight,m=Math.ceil(d/g),y=Math.ceil(c/x),T=g,R=x,P=g-(m*g-d),D=x-(y*x-c),I=e.showCells,w=e.showAltCells,U=e.showOutline,G=0,H=0,z=0,$=0,J=0;if(U&&(T--,R--,P===g&&P--,D===x&&D--),I&&e.fillAlpha>0)for(u(n,e),H=0;H<y;H++)for(w&&(z=H%2),G=0;G<m;G++){if(w&&z){z=0;continue}z++,$=G<m-1?T:P,J=H<y-1?R:D,n.fillRect(a+G*g,f+H*x,$,J)}if(w&&e.altFillAlpha>0)for(u(n,e,e.altFillColor,e.altFillAlpha*h),H=0;H<y;H++)for(w&&(z=H%2),G=0;G<m;G++){if(w&&!z){z=1;continue}z=0,$=G<m-1?T:P,J=H<y-1?R:D,n.fillRect(a+G*g,f+H*x,$,J)}if(U&&e.outlineFillAlpha>0){for(v(n,e,e.outlineFillColor,e.outlineFillAlpha*h),G=1;G<m;G++){var W=G*g;n.beginPath(),n.moveTo(W+a,f),n.lineTo(W+a,c+f),n.stroke()}for(H=1;H<y;H++){var K=H*x;n.beginPath(),n.moveTo(a,K+f),n.lineTo(a+d,K+f),n.stroke()}}n.restore()}};p.exports=r},9326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(39169);u.register("grid",function(o,r,s,e,i,l,n,a,f,h){return this.displayList.add(new v(this.scene,o,r,s,e,i,l,n,a,f,h))})},88059:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(50639),o=t(95525),p.exports={renderWebGL:v,renderCanvas:o}},50639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(75512),o=function(r,s,e,i){e.addToRenderList(s);var l=r.pipelines.set(s.pipeline),n=u(s,e,i),a=l.calcMatrix.copyFrom(n.calc);a.translate(-s._displayOriginX,-s._displayOriginY);var f=e.alpha*s.alpha,h=s.width,d=s.height,c=s.cellWidth,g=s.cellHeight,x=Math.ceil(h/c),m=Math.ceil(d/g),y=c,T=g,R=c-(x*c-h),P=g-(m*g-d),D,I,w=s.showCells,U=s.showAltCells,G=s.showOutline,H=0,z=0,$=0,J=0,W=0;if(G&&(y--,T--,R===c&&R--,P===g&&P--),r.pipelines.preBatch(s),w&&s.fillAlpha>0)for(D=l.fillTint,I=v.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*f),D.TL=I,D.TR=I,D.BL=I,D.BR=I,z=0;z<m;z++)for(U&&($=z%2),H=0;H<x;H++){if(U&&$){$=0;continue}$++,J=H<x-1?y:R,W=z<m-1?T:P,l.batchFillRect(H*c,z*g,J,W)}if(U&&s.altFillAlpha>0)for(D=l.fillTint,I=v.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*f),D.TL=I,D.TR=I,D.BL=I,D.BR=I,z=0;z<m;z++)for(U&&($=z%2),H=0;H<x;H++){if(U&&!$){$=1;continue}$=0,J=H<x-1?y:R,W=z<m-1?T:P,l.batchFillRect(H*c,z*g,J,W)}if(G&&s.outlineFillAlpha>0){var K=l.strokeTint,N=v.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*f);for(K.TL=N,K.TR=N,K.BL=N,K.BR=N,H=1;H<x;H++){var b=H*c;l.batchLine(b,0,b,d,1,1,1,0,!1)}for(z=1;z<m;z++){var Y=z*g;l.batchLine(0,Y,h,Y,1,1,1,0,!1)}}r.pipelines.postBatch(s)};p.exports=o},4415:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72296),v=t(56694),o=t(91461),r=new v({Extends:o,Mixins:[u],initialize:function(e,i,l,n,a,f,h,d){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=48),a===void 0&&(a=32),f===void 0&&(f=15658734),h===void 0&&(h=10066329),d===void 0&&(d=13421772),o.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=h,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(i,l),this.setSize(n,a),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setFaces:function(s,e,i){return s===void 0&&(s=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=s,this.showLeft=e,this.showRight=i,this},setFillStyle:function(s,e,i){return this.fillTop=s,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});p.exports=r},32884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15608),v=t(49584),o=function(r,s,e,i){e.addToRenderList(s);var l=r.currentContext;if(v(r,l,s,e,i)&&s.isFilled){var n=s.width,a=s.height,f=n/2,h=n/s.projection;s.showTop&&(u(l,s,s.fillTop),l.beginPath(),l.moveTo(-f,-a),l.lineTo(0,-h-a),l.lineTo(f,-a),l.lineTo(f,-1),l.lineTo(0,h-1),l.lineTo(-f,-1),l.lineTo(-f,-a),l.fill()),s.showLeft&&(u(l,s,s.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,h),l.lineTo(0,h-a),l.lineTo(-f,-a),l.lineTo(-f,0),l.fill()),s.showRight&&(u(l,s,s.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,h),l.lineTo(0,h-a),l.lineTo(f,-a),l.lineTo(f,0),l.fill()),l.restore()}};p.exports=o},88154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(4415);u.register("isobox",function(o,r,s,e,i,l,n){return this.displayList.add(new v(this.scene,o,r,s,e,i,l,n))})},72296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(33101),o=t(32884),p.exports={renderWebGL:v,renderCanvas:o}},33101:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(75512),o=function(r,s,e,i){e.addToRenderList(s);var l=r.pipelines.set(s.pipeline),n=u(s,e,i),a=l.calcMatrix.copyFrom(n.calc),f=s.width,h=s.height,d=f/2,c=f/s.projection,g=e.alpha*s.alpha;if(s.isFilled){var x,m,y,T,R,P,D,I,w;r.pipelines.preBatch(s),s.showTop&&(x=v.getTintAppendFloatAlpha(s.fillTop,g),m=a.getX(-d,-h),y=a.getY(-d,-h),T=a.getX(0,-c-h),R=a.getY(0,-c-h),P=a.getX(d,-h),D=a.getY(d,-h),I=a.getX(0,c-h),w=a.getY(0,c-h),l.batchQuad(s,m,y,T,R,P,D,I,w,0,0,1,1,x,x,x,x,2)),s.showLeft&&(x=v.getTintAppendFloatAlpha(s.fillLeft,g),m=a.getX(-d,0),y=a.getY(-d,0),T=a.getX(0,c),R=a.getY(0,c),P=a.getX(0,c-h),D=a.getY(0,c-h),I=a.getX(-d,-h),w=a.getY(-d,-h),l.batchQuad(s,m,y,T,R,P,D,I,w,0,0,1,1,x,x,x,x,2)),s.showRight&&(x=v.getTintAppendFloatAlpha(s.fillRight,g),m=a.getX(d,0),y=a.getY(d,0),T=a.getX(0,c),R=a.getY(0,c),P=a.getX(0,c-h),D=a.getY(0,c-h),I=a.getX(d,-h),w=a.getY(d,-h),l.batchQuad(s,m,y,T,R,P,D,I,w,0,0,1,1,x,x,x,x,2)),r.pipelines.postBatch(s)}};p.exports=o},65159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(93387),o=t(91461),r=new u({Extends:o,Mixins:[v],initialize:function(e,i,l,n,a,f,h,d,c){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=48),a===void 0&&(a=32),f===void 0&&(f=!1),h===void 0&&(h=15658734),d===void 0&&(d=10066329),c===void 0&&(c=13421772),o.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=h,this.fillLeft=d,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(i,l),this.setSize(n,a),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setReversed:function(s){return this.isReversed=s,this},setFaces:function(s,e,i){return s===void 0&&(s=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=s,this.showLeft=e,this.showRight=i,this},setFillStyle:function(s,e,i){return this.fillTop=s,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});p.exports=r},9923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15608),v=t(49584),o=function(r,s,e,i){e.addToRenderList(s);var l=r.currentContext;if(v(r,l,s,e,i)&&s.isFilled){var n=s.width,a=s.height,f=n/2,h=n/s.projection,d=s.isReversed;s.showTop&&d&&(u(l,s,s.fillTop),l.beginPath(),l.moveTo(-f,-a),l.lineTo(0,-h-a),l.lineTo(f,-a),l.lineTo(0,h-a),l.fill()),s.showLeft&&(u(l,s,s.fillLeft),l.beginPath(),d?(l.moveTo(-f,-a),l.lineTo(0,h),l.lineTo(0,h-a)):(l.moveTo(-f,0),l.lineTo(0,h),l.lineTo(0,h-a)),l.fill()),s.showRight&&(u(l,s,s.fillRight),l.beginPath(),d?(l.moveTo(f,-a),l.lineTo(0,h),l.lineTo(0,h-a)):(l.moveTo(f,0),l.lineTo(0,h),l.lineTo(0,h-a)),l.fill()),l.restore()}};p.exports=o},67765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(65159);u.register("isotriangle",function(o,r,s,e,i,l,n,a){return this.displayList.add(new v(this.scene,o,r,s,e,i,l,n,a))})},93387:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(54946),o=t(9923),p.exports={renderWebGL:v,renderCanvas:o}},54946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(75512),o=function(r,s,e,i){e.addToRenderList(s);var l=r.pipelines.set(s.pipeline),n=u(s,e,i),a=l.calcMatrix.copyFrom(n.calc),f=s.width,h=s.height,d=f/2,c=f/s.projection,g=s.isReversed,x=e.alpha*s.alpha;if(s.isFilled){r.pipelines.preBatch(s);var m,y,T,R,P,D,I;if(s.showTop&&g){m=v.getTintAppendFloatAlpha(s.fillTop,x),y=a.getX(-d,-h),T=a.getY(-d,-h),R=a.getX(0,-c-h),P=a.getY(0,-c-h),D=a.getX(d,-h),I=a.getY(d,-h);var w=a.getX(0,c-h),U=a.getY(0,c-h);l.batchQuad(s,y,T,R,P,D,I,w,U,0,0,1,1,m,m,m,m,2)}s.showLeft&&(m=v.getTintAppendFloatAlpha(s.fillLeft,x),g?(y=a.getX(-d,-h),T=a.getY(-d,-h),R=a.getX(0,c),P=a.getY(0,c),D=a.getX(0,c-h),I=a.getY(0,c-h)):(y=a.getX(-d,0),T=a.getY(-d,0),R=a.getX(0,c),P=a.getY(0,c),D=a.getX(0,c-h),I=a.getY(0,c-h)),l.batchTri(s,y,T,R,P,D,I,0,0,1,1,m,m,m,2)),s.showRight&&(m=v.getTintAppendFloatAlpha(s.fillRight,x),g?(y=a.getX(d,-h),T=a.getY(d,-h),R=a.getX(0,c),P=a.getY(0,c),D=a.getX(0,c-h),I=a.getY(0,c-h)):(y=a.getX(d,0),T=a.getY(d,0),R=a.getX(0,c),P=a.getY(0,c),D=a.getX(0,c-h),I=a.getY(0,c-h)),l.batchTri(s,y,T,R,P,D,I,0,0,1,1,m,m,m,2)),r.pipelines.postBatch(s)}};p.exports=o},579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(91461),o=t(88829),r=t(52660),s=new u({Extends:v,Mixins:[r],initialize:function(i,l,n,a,f,h,d,c,g){l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),h===void 0&&(h=128),d===void 0&&(d=0),v.call(this,i,"Line",new o(a,f,h,d));var x=Math.max(1,this.geom.right-this.geom.left),m=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,n),this.setSize(x,m),c!==void 0&&this.setStrokeStyle(1,c,g),this.updateDisplayOrigin()},setLineWidth:function(e,i){return i===void 0&&(i=e),this._startWidth=e,this._endWidth=i,this.lineWidth=e,this},setTo:function(e,i,l,n){return this.geom.setTo(e,i,l,n),this}});p.exports=s},52044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(17876),v=t(49584),o=function(r,s,e,i){e.addToRenderList(s);var l=r.currentContext;if(v(r,l,s,e,i)){var n=s._displayOriginX,a=s._displayOriginY;s.isStroked&&(u(l,s),l.beginPath(),l.moveTo(s.geom.x1-n,s.geom.y1-a),l.lineTo(s.geom.x2-n,s.geom.y2-a),l.stroke()),l.restore()}};p.exports=o},85665:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(579);u.register("line",function(o,r,s,e,i,l,n,a){return this.displayList.add(new v(this.scene,o,r,s,e,i,l,n,a))})},52660:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(46952),o=t(52044),p.exports={renderWebGL:v,renderCanvas:o}},46952:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(75512),o=function(r,s,e,i){e.addToRenderList(s);var l=r.pipelines.set(s.pipeline),n=u(s,e,i);l.calcMatrix.copyFrom(n.calc);var a=s._displayOriginX,f=s._displayOriginY,h=e.alpha*s.alpha;if(r.pipelines.preBatch(s),s.isStroked){var d=l.strokeTint,c=v.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*h);d.TL=c,d.TR=c,d.BL=c,d.BR=c;var g=s._startWidth,x=s._endWidth;l.batchLine(s.geom.x1-a,s.geom.y1-f,s.geom.x2-a,s.geom.y2-f,g,x,1,0,!1,n.sprite,n.camera)}r.pipelines.postBatch(s)};p.exports=o},91249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70573),v=t(56694),o=t(11117),r=t(14045),s=t(8580),e=t(91461),i=t(18974),l=new v({Extends:e,Mixins:[u],initialize:function(a,f,h,d,c,g){f===void 0&&(f=0),h===void 0&&(h=0),e.call(this,a,"Polygon",new s(d));var x=r(this.geom);this.setPosition(f,h),this.setSize(x.width,x.height),c!==void 0&&this.setFillStyle(c,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(n){n===void 0&&(n=1);for(var a=0;a<n;a++)i(this.geom);return this.updateData()},setTo:function(n){this.geom.setTo(n);var a=r(this.geom);return this.setSize(a.width,a.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var n=[],a=this.geom.points,f=0;f<a.length;f++)n.push(a[f].x,a[f].y);return n.push(a[0].x,a[0].y),this.pathIndexes=o(n),this.pathData=n,this}});p.exports=l},40834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15608),v=t(17876),o=t(49584),r=function(s,e,i,l){i.addToRenderList(e);var n=s.currentContext;if(o(s,n,e,i,l)){var a=e._displayOriginX,f=e._displayOriginY,h=e.pathData,d=h.length-1,c=h[0]-a,g=h[1]-f;n.beginPath(),n.moveTo(c,g),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var m=h[x]-a,y=h[x+1]-f;n.lineTo(m,y)}e.closePath&&n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};p.exports=r},88203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(91249);u.register("polygon",function(o,r,s,e,i){return this.displayList.add(new v(this.scene,o,r,s,e,i))})},70573:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(72841),o=t(40834),p.exports={renderWebGL:v,renderCanvas:o}},72841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19543),v=t(73329),o=t(50262),r=function(s,e,i,l){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=v(e,i,l),f=n.calcMatrix.copyFrom(a.calc),h=e._displayOriginX,d=e._displayOriginY,c=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&u(n,f,e,c,h,d),e.isStroked&&o(n,e,c,h,d),s.pipelines.postBatch(e)};p.exports=r},517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(74118),o=t(91461),r=t(37673),s=new u({Extends:o,Mixins:[r],initialize:function(i,l,n,a,f,h,d){l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=128),f===void 0&&(f=128),o.call(this,i,"Rectangle",new v(0,0,a,f)),this.setPosition(l,n),this.setSize(a,f),h!==void 0&&this.setFillStyle(h,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,i){this.width=e,this.height=i,this.geom.setSize(e,i),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=e,l.hitArea.height=i),this},updateData:function(){var e=[],i=this.geom,l=this._tempLine;return i.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),i.getLineB(l),e.push(l.x2,l.y2),i.getLineC(l),e.push(l.x2,l.y2),i.getLineD(l),e.push(l.x2,l.y2),this.pathData=e,this}});p.exports=s},4091:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15608),v=t(17876),o=t(49584),r=function(s,e,i,l){i.addToRenderList(e);var n=s.currentContext;if(o(s,n,e,i,l)){var a=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(u(n,e),n.fillRect(-a,-f,e.width,e.height)),e.isStroked&&(v(n,e),n.beginPath(),n.rect(-a,-f,e.width,e.height),n.stroke()),n.restore()}};p.exports=r},94355:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(517);u.register("rectangle",function(o,r,s,e,i,l){return this.displayList.add(new v(this.scene,o,r,s,e,i,l))})},37673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(43532),o=t(4091),p.exports={renderWebGL:v,renderCanvas:o}},43532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(50262),o=t(75512),r=function(s,e,i,l){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=u(e,i,l);n.calcMatrix.copyFrom(a.calc);var f=e._displayOriginX,h=e._displayOriginY,d=i.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var c=n.fillTint,g=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);c.TL=g,c.TR=g,c.BL=g,c.BR=g,n.batchFillRect(-f,-h,e.width,e.height)}e.isStroked&&v(n,e,d,f,h),s.pipelines.postBatch(e)};p.exports=r},77843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87956),v=t(56694),o=t(11117),r=t(91461),s=new v({Extends:r,Mixins:[u],initialize:function(i,l,n,a,f,h,d,c){l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=5),f===void 0&&(f=32),h===void 0&&(h=64),r.call(this,i,"Star",null),this._points=a,this._innerRadius=f,this._outerRadius=h,this.setPosition(l,n),this.setSize(h*2,h*2),d!==void 0&&this.setFillStyle(d,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],i=this._points,l=this._innerRadius,n=this._outerRadius,a=Math.PI/2*3,f=Math.PI/i,h=n,d=n;e.push(h,d+-n);for(var c=0;c<i;c++)e.push(h+Math.cos(a)*n,d+Math.sin(a)*n),a+=f,e.push(h+Math.cos(a)*l,d+Math.sin(a)*l),a+=f;return e.push(h,d+-n),this.pathIndexes=o(e),this.pathData=e,this}});p.exports=s},11401:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15608),v=t(17876),o=t(49584),r=function(s,e,i,l){i.addToRenderList(e);var n=s.currentContext;if(o(s,n,e,i,l)){var a=e._displayOriginX,f=e._displayOriginY,h=e.pathData,d=h.length-1,c=h[0]-a,g=h[1]-f;n.beginPath(),n.moveTo(c,g),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var m=h[x]-a,y=h[x+1]-f;n.lineTo(m,y)}n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};p.exports=r},23962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(77843),v=t(61286);v.register("star",function(o,r,s,e,i,l,n){return this.displayList.add(new u(this.scene,o,r,s,e,i,l,n))})},87956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(12037),o=t(11401),p.exports={renderWebGL:v,renderCanvas:o}},12037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19543),v=t(73329),o=t(50262),r=function(s,e,i,l){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=v(e,i,l),f=n.calcMatrix.copyFrom(a.calc),h=e._displayOriginX,d=e._displayOriginY,c=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&u(n,f,e,c,h,d),e.isStroked&&o(n,e,c,h,d),s.pipelines.postBatch(e)};p.exports=r},21873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(91461),o=t(66349),r=t(70498),s=new u({Extends:v,Mixins:[r],initialize:function(i,l,n,a,f,h,d,c,g,x,m){l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=128),h===void 0&&(h=64),d===void 0&&(d=0),c===void 0&&(c=128),g===void 0&&(g=128),v.call(this,i,"Triangle",new o(a,f,h,d,c,g));var y=this.geom.right-this.geom.left,T=this.geom.bottom-this.geom.top;this.setPosition(l,n),this.setSize(y,T),x!==void 0&&this.setFillStyle(x,m),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,i,l,n,a,f){return this.geom.setTo(e,i,l,n,a,f),this.updateData()},updateData:function(){var e=[],i=this.geom,l=this._tempLine;return i.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),i.getLineB(l),e.push(l.x2,l.y2),i.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});p.exports=s},60213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15608),v=t(17876),o=t(49584),r=function(s,e,i,l){i.addToRenderList(e);var n=s.currentContext;if(o(s,n,e,i,l)){var a=e._displayOriginX,f=e._displayOriginY,h=e.geom.x1-a,d=e.geom.y1-f,c=e.geom.x2-a,g=e.geom.y2-f,x=e.geom.x3-a,m=e.geom.y3-f;n.beginPath(),n.moveTo(h,d),n.lineTo(c,g),n.lineTo(x,m),n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(v(n,e),n.stroke()),n.restore()}};p.exports=r},79296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(21873);u.register("triangle",function(o,r,s,e,i,l,n,a,f,h){return this.displayList.add(new v(this.scene,o,r,s,e,i,l,n,a,f,h))})},70498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(72291),o=t(60213),p.exports={renderWebGL:v,renderCanvas:o}},72291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=t(50262),o=t(75512),r=function(s,e,i,l){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=u(e,i,l);n.calcMatrix.copyFrom(a.calc);var f=e._displayOriginX,h=e._displayOriginY,d=i.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var c=n.fillTint,g=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);c.TL=g,c.TR=g,c.BL=g,c.BR=g;var x=e.geom.x1-f,m=e.geom.y1-h,y=e.geom.x2-f,T=e.geom.y2-h,R=e.geom.x3-f,P=e.geom.y3-h;n.batchFillTriangle(x,m,y,T,R,P,a.sprite,a.camera)}e.isStroked&&v(n,e,d,f,h),s.pipelines.postBatch(e)};p.exports=r},13747:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16569),v=t(56694),o=t(64937),r=t(89980),s=t(20791),e=new v({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,s],initialize:function(l,n,a,f,h){r.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(f,h),this.setPosition(n,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,l){this.anims.update(i,l)},play:function(i,l){return this.anims.play(i,l)},playReverse:function(i,l){return this.anims.playReverse(i,l)},playAfterDelay:function(i,l){return this.anims.playAfterDelay(i,l)},playAfterRepeat:function(i,l){return this.anims.playAfterRepeat(i,l)},chain:function(i){return this.anims.chain(i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(i){return this.anims.stopAfterDelay(i)},stopAfterRepeat:function(i){return this.anims.stopAfterRepeat(i)},stopOnFrame:function(i){return this.anims.stopOnFrame(i)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=e},27573:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v.addToRenderList(u),t.batchSprite(u,u.frame,v,o)};p.exports=S},89219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(32291),o=t(99325),r=t(20494),s=t(13747);o.register("sprite",function(e,i){e===void 0&&(e={});var l=r(e,"key",null),n=r(e,"frame",null),a=new s(this.scene,0,0,l,n);return i!==void 0&&(e.add=i),u(this.scene,a,e),v(a,e),a})},66135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(13747);u.register("sprite",function(o,r,s,e){return this.displayList.add(new v(this.scene,o,r,s,e))})},20791:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(21034),o=t(27573),p.exports={renderWebGL:v,renderCanvas:o}},21034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v.addToRenderList(u),u.pipeline.batchSprite(u,v,o)};p.exports=S},32979:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=t.canvas,r=t.context,s=t.style,e=[],i=0,l=v.length;s.maxLines>0&&s.maxLines<v.length&&(l=s.maxLines),s.syncFont(o,r);for(var n=0;n<l;n++){var a=s.strokeThickness;a+=r.measureText(v[n]).width,s.wordWrap&&(a-=r.measureText(" ").width),e[n]=Math.ceil(a),i=Math.max(i,e[n])}var f=u.fontSize+s.strokeThickness,h=f*l,d=t.lineSpacing;return l>1&&(h+=d*(l-1)),{width:i,height:h,lines:l,lineWidths:e,lineSpacing:d,lineHeight:f}};p.exports=S},27030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61068),v=function(o){var r=u.create(this),s=r.getContext("2d",{willReadFrequently:!0});o.syncFont(r,s);var e=s.measureText(o.testString);if("actualBoundingBoxAscent"in e){var i=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return u.remove(r),{ascent:i,descent:l,fontSize:i+l}}var n=Math.ceil(e.width*o.baselineX),a=n,f=2*a;a=a*o.baselineY|0,r.width=n,r.height=f,s.fillStyle="#f00",s.fillRect(0,0,n,f),s.font=o._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o.testString,0,a);var h={ascent:0,descent:0,fontSize:0},d=s.getImageData(0,0,n,f);if(!d)return h.ascent=a,h.descent=a+6,h.fontSize=h.ascent+h.descent,u.remove(r),h;var c=d.data,g=c.length,x=n*4,m,y,T=0,R=!1;for(m=0;m<a;m++){for(y=0;y<x;y+=4)if(c[T+y]!==255){R=!0;break}if(!R)T+=x;else break}for(h.ascent=a-m,T=g-x,R=!1,m=f;m>a;m--){for(y=0;y<x;y+=4)if(c[T+y]!==255){R=!0;break}if(!R)T-=x;else break}return h.descent=m-a,h.fontSize=h.ascent+h.descent,u.remove(r),h};p.exports=v},76555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99584),v=t(61068),o=t(56694),r=t(64937),s=t(89980),e=t(32979),i=t(10850),l=t(55638),n=t(80032),a=t(74744),f=new o({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,n],initialize:function(d,c,g,x,m){c===void 0&&(c=0),g===void 0&&(g=0),s.call(this,d,"Text"),this.renderer=d.sys.renderer,this.setPosition(c,g),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new a(this,m),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=d.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(x),m&&m.padding&&this.setPadding(m.padding),m&&m.lineSpacing&&this.setLineSpacing(m.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(h){var d=this.style;if(d.wordWrapCallback){var c=d.wordWrapCallback.call(d.wordWrapCallbackScope,h,this);return Array.isArray(c)&&(c=c.join(`
`)),c}else return d.wordWrapWidth?d.wordWrapUseAdvanced?this.advancedWordWrap(h,this.context,this.style.wordWrapWidth):this.basicWordWrap(h,this.context,this.style.wordWrapWidth):h},advancedWordWrap:function(h,d,c){for(var g="",x=h.replace(/ +/gi," ").split(this.splitRegExp),m=x.length,y=0;y<m;y++){var T=x[y],R="";T=T.replace(/^ *|\s*$/gi,"");var P=d.measureText(T).width;if(P<c){g+=T+`
`;continue}for(var D=c,I=T.split(" "),w=0;w<I.length;w++){var U=I[w],G=U+" ",H=d.measureText(G).width;if(H>D){if(w===0){for(var z=G;z.length&&(z=z.slice(0,-1),H=d.measureText(z).width,!(H<=D)););if(!z.length)throw new Error("wordWrapWidth < a single character");var $=U.substr(z.length);I[w]=$,R+=z}var J=I[w].length?w:w+1,W=I.slice(J).join(" ").replace(/[ \n]*$/gi,"");x.splice(y+1,0,W),m=x.length;break}else R+=G,D-=H}g+=R.replace(/[ \n]*$/gi,"")+`
`}return g=g.replace(/[\s|\n]*$/gi,""),g},basicWordWrap:function(h,d,c){for(var g="",x=h.split(this.splitRegExp),m=x.length-1,y=d.measureText(" ").width,T=0;T<=m;T++){for(var R=c,P=x[T].split(" "),D=P.length-1,I=0;I<=D;I++){var w=P[I],U=d.measureText(w).width,G=U;I<D&&(G+=y),G>R&&I>0&&(g+=`
`,R=c),g+=w,I<D?(g+=" ",R-=G):R-=U}T<m&&(g+=`
`)}return g},getWrappedText:function(h){h===void 0&&(h=this._text),this.style.syncFont(this.canvas,this.context);var d=this.runWordWrap(h);return d.split(this.splitRegExp)},setText:function(h){return!h&&h!==0&&(h=""),Array.isArray(h)&&(h=h.join(`
`)),h!==this._text&&(this._text=h.toString(),this.updateText()),this},appendText:function(h,d){d===void 0&&(d=!0),!h&&h!==0&&(h=""),Array.isArray(h)&&(h=h.join(`
`)),h=h.toString();var c=this._text.concat(d?`
`+h:h);return c!==this._text&&(this._text=c,this.updateText()),this},setStyle:function(h){return this.style.setStyle(h)},setFont:function(h){return this.style.setFont(h)},setFontFamily:function(h){return this.style.setFontFamily(h)},setFontSize:function(h){return this.style.setFontSize(h)},setFontStyle:function(h){return this.style.setFontStyle(h)},setFixedSize:function(h,d){return this.style.setFixedSize(h,d)},setBackgroundColor:function(h){return this.style.setBackgroundColor(h)},setFill:function(h){return this.style.setFill(h)},setColor:function(h){return this.style.setColor(h)},setStroke:function(h,d){return this.style.setStroke(h,d)},setShadow:function(h,d,c,g,x,m){return this.style.setShadow(h,d,c,g,x,m)},setShadowOffset:function(h,d){return this.style.setShadowOffset(h,d)},setShadowColor:function(h){return this.style.setShadowColor(h)},setShadowBlur:function(h){return this.style.setShadowBlur(h)},setShadowStroke:function(h){return this.style.setShadowStroke(h)},setShadowFill:function(h){return this.style.setShadowFill(h)},setWordWrapWidth:function(h,d){return this.style.setWordWrapWidth(h,d)},setWordWrapCallback:function(h,d){return this.style.setWordWrapCallback(h,d)},setAlign:function(h){return this.style.setAlign(h)},setResolution:function(h){return this.style.setResolution(h)},setLineSpacing:function(h){return this.lineSpacing=h,this.updateText()},setPadding:function(h,d,c,g){if(typeof h=="object"){var x=h,m=i(x,"x",null);m!==null?(h=m,c=m):(h=i(x,"left",0),c=i(x,"right",h));var y=i(x,"y",null);y!==null?(d=y,g=y):(d=i(x,"top",0),g=i(x,"bottom",d))}else h===void 0&&(h=0),d===void 0&&(d=h),c===void 0&&(c=h),g===void 0&&(g=d);return this.padding.left=h,this.padding.top=d,this.padding.right=c,this.padding.bottom=g,this.updateText()},setMaxLines:function(h){return this.style.setMaxLines(h)},updateText:function(){var h=this.canvas,d=this.context,c=this.style,g=c.resolution,x=c.metrics;c.syncFont(h,d);var m=this._text;(c.wordWrapWidth||c.wordWrapCallback)&&(m=this.runWordWrap(this._text));var y=m.split(this.splitRegExp),T=e(this,x,y),R=this.padding,P;c.fixedWidth===0?(this.width=T.width+R.left+R.right,P=T.width):(this.width=c.fixedWidth,P=this.width-R.left-R.right,P<T.width&&(P=T.width)),c.fixedHeight===0?this.height=T.height+R.top+R.bottom:this.height=c.fixedHeight;var D=this.width,I=this.height;this.updateDisplayOrigin(),D*=g,I*=g,D=Math.max(D,1),I=Math.max(I,1),h.width!==D||h.height!==I?(h.width=D,h.height=I,this.frame.setSize(D,I),c.syncFont(h,d),c.rtl&&(d.direction="rtl")):d.clearRect(0,0,D,I),d.save(),d.scale(g,g),c.backgroundColor&&(d.fillStyle=c.backgroundColor,d.fillRect(0,0,D,I)),c.syncStyle(h,d),d.translate(R.left,R.top);for(var w,U,G=0;G<T.lines;G++){if(w=c.strokeThickness/2,U=c.strokeThickness/2+G*T.lineHeight+x.ascent,G>0&&(U+=T.lineSpacing*G),c.rtl)w=D-w-R.left-R.right;else if(c.align==="right")w+=P-T.lineWidths[G];else if(c.align==="center")w+=(P-T.lineWidths[G])/2;else if(c.align==="justify"){var H=.85;if(T.lineWidths[G]/T.width>=H){var z=T.width-T.lineWidths[G],$=d.measureText(" ").width,J=y[G].trim(),W=J.split(" ");z+=(y[G].length-J.length)*$;for(var K=Math.floor(z/$),N=0;K>0;)W[N]+=" ",N=(N+1)%(W.length-1||1),--K;y[G]=W.join(" ")}}this.autoRound&&(w=Math.round(w),U=Math.round(U)),c.strokeThickness&&(c.syncShadow(d,c.shadowStroke),d.strokeText(y[G],w,U)),c.color&&(c.syncShadow(d,c.shadowFill),d.fillText(y[G],w,U))}d.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(h,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var b=this.input;return b&&!b.customHitArea&&(b.hitArea.width=this.width,b.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(h){this.setText(h)}},toJSON:function(){var h=r.ToJSON(this),d={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return h.data=d,h},preDestroy:function(){this.style.rtl&&l(this.canvas),v.remove(this.canvas),this.texture.destroy()}});p.exports=f},71649:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){u.width===0||u.height===0||(v.addToRenderList(u),t.batchSprite(u,u.frame,v,o))};p.exports=S},75397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(76555);v.register("text",function(s,e){s===void 0&&(s={});var i=o(s,"text",""),l=o(s,"style",null),n=o(s,"padding",null);n!==null&&(l.padding=n);var a=new r(this.scene,0,0,i,l);return e!==void 0&&(s.add=e),u(this.scene,a,s),a.autoRound=o(s,"autoRound",!0),a.resolution=o(s,"resolution",1),a})},94627:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(76555),v=t(61286);v.register("text",function(o,r,s,e){return this.displayList.add(new u(this.scene,o,r,s,e))})},80032:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(76128),o=t(71649),p.exports={renderWebGL:v,renderCanvas:o}},74744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(20494),o=t(10850),r=t(27030),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new u({initialize:function(l,n){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(n,!1,!0)},setStyle:function(i,l,n){l===void 0&&(l=!0),n===void 0&&(n=!1),i&&i.hasOwnProperty("fontSize")&&typeof i.fontSize=="number"&&(i.fontSize=i.fontSize.toString()+"px");for(var a in s){var f=n?s[a][1]:this[a];a==="wordWrapCallback"||a==="wordWrapCallbackScope"?this[a]=o(i,s[a][0],f):this[a]=v(i,s[a][0],f)}var h=o(i,"font",null);h!==null&&this.setFont(h,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=o(i,"fill",null);d!==null&&(this.color=d);var c=o(i,"metrics",!1);return c?this.metrics={ascent:o(c,"ascent",0),descent:o(c,"descent",0),fontSize:o(c,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=r(this)),l?this.parent.updateText():this.parent},syncFont:function(i,l){l.font=this._font},syncStyle:function(i,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(i,l){l?(i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY,i.shadowColor=this.shadowColor,i.shadowBlur=this.shadowBlur):(i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowColor=0,i.shadowBlur=0)},update:function(i){return i&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(i,l){l===void 0&&(l=!0);var n=i,a="",f="";if(typeof i!="string")n=o(i,"fontFamily","Courier"),a=o(i,"fontSize","16px"),f=o(i,"fontStyle","");else{var h=i.split(" "),d=0;f=h.length>2?h[d++]:"",a=h[d++]||"16px",n=h[d++]||"Courier"}return(n!==this.fontFamily||a!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=n,this.fontSize=a,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(i){return this.fontFamily!==i&&(this.fontFamily=i,this.update(!0)),this.parent},setFontStyle:function(i){return this.fontStyle!==i&&(this.fontStyle=i,this.update(!0)),this.parent},setFontSize:function(i){return typeof i=="number"&&(i=i.toString()+"px"),this.fontSize!==i&&(this.fontSize=i,this.update(!0)),this.parent},setTestString:function(i){return this.testString=i,this.update(!0)},setFixedSize:function(i,l){return this.fixedWidth=i,this.fixedHeight=l,i&&(this.parent.width=i),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(i){return this.backgroundColor=i,this.update(!1)},setFill:function(i){return this.color=i,this.update(!1)},setColor:function(i){return this.color=i,this.update(!1)},setResolution:function(i){return this.resolution=i,this.update(!1)},setStroke:function(i,l){return l===void 0&&(l=this.strokeThickness),i===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==i||this.strokeThickness!==l)&&(this.stroke=i,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(i,l,n,a,f,h){return i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n="#000"),a===void 0&&(a=0),f===void 0&&(f=!1),h===void 0&&(h=!0),this.shadowOffsetX=i,this.shadowOffsetY=l,this.shadowColor=n,this.shadowBlur=a,this.shadowStroke=f,this.shadowFill=h,this.update(!1)},setShadowOffset:function(i,l){return i===void 0&&(i=0),l===void 0&&(l=i),this.shadowOffsetX=i,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(i){return i===void 0&&(i="#000"),this.shadowColor=i,this.update(!1)},setShadowBlur:function(i){return i===void 0&&(i=0),this.shadowBlur=i,this.update(!1)},setShadowStroke:function(i){return this.shadowStroke=i,this.update(!1)},setShadowFill:function(i){return this.shadowFill=i,this.update(!1)},setWordWrapWidth:function(i,l){return l===void 0&&(l=!1),this.wordWrapWidth=i,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(i,l){return l===void 0&&(l=null),this.wordWrapCallback=i,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(i){return i===void 0&&(i="left"),this.align=i,this.update(!1)},setMaxLines:function(i){return i===void 0&&(i=0),this.maxLines=i,this.update(!1)},getTextMetrics:function(){var i=this.metrics;return{ascent:i.ascent,descent:i.descent,fontSize:i.fontSize}},toJSON:function(){var i={};for(var l in s)i[l]=this[l];return i.metrics=this.getTextMetrics(),i},destroy:function(){this.parent=void 0}});p.exports=e},76128:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75512),v=function(o,r,s,e){if(!(r.width===0||r.height===0)){s.addToRenderList(r);var i=r.frame,l=i.width,n=i.height,a=u.getTintAppendFloatAlpha,f=o.pipelines.set(r.pipeline,r),h=f.setTexture2D(i.glTexture,r);f.batchTexture(r,i.glTexture,l,n,r.x,r.y,l/r.style.resolution,n/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,l,n,a(r.tintTopLeft,s.alpha*r._alphaTL),a(r.tintTopRight,s.alpha*r._alphaTR),a(r.tintBottomLeft,s.alpha*r._alphaBL),a(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,0,0,s,e,!1,h)}};p.exports=v},35856:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61068),v=t(56694),o=t(64937),r=t(89980),s=t(3504),e=t(8213),i=t(9271),l=t(93736),n=8,a=new v({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,i],initialize:function(h,d,c,g,x,m,y){var T=h.sys.renderer;r.call(this,h,"TileSprite");var R=h.sys.textures.get(m),P=R.get(y);P.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),R=h.sys.textures.get("__MISSING"),P=R.get()),R.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),R=h.sys.textures.get("__MISSING"),P=R.get()),!g||!x?(g=P.width,x=P.height):(g=Math.floor(g),x=Math.floor(x)),this._tilePosition=new l,this._tileScale=new l(1,1),this.dirty=!1,this.renderer=T,this.canvas=u.create(this,g,x),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=R,this.displayFrame=P,this._crop=this.resetCropObject(),this.texture=h.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=s(P.width),this.potHeight=s(P.height),this.fillCanvas=u.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(d,c),this.setSize(g,x),this.setFrame(y),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,h){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(h)},setFrame:function(f){var h=this.displayTexture.get(f);return this.potWidth=s(h.width),this.potHeight=s(h.height),this.canvas.width=0,!h.cutWidth||!h.cutHeight?this.renderFlags&=~n:this.renderFlags|=n,this.displayFrame=h,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,h){return f!==void 0&&(this.tilePositionX=f),h!==void 0&&(this.tilePositionY=h),this},setTileScale:function(f,h){return f===void 0&&(f=this.tileScaleX),h===void 0&&(h=f),this.tileScaleX=f,this.tileScaleY=h,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var h=this.fillContext,d=this.fillCanvas,c=this.potWidth,g=this.potHeight;(!this.renderer||!this.renderer.gl)&&(c=f.cutWidth,g=f.cutHeight),h.clearRect(0,0,c,g),d.width=c,d.height=g,h.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,c,g),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(d,this.fillPattern):this.fillPattern=h.createPattern(d,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var h=this.context;this.scene.sys.game.config.antialias||e.disable(h);var d=this._tileScale.x,c=this._tileScale.y,g=this._tilePosition.x,x=this._tilePosition.y;h.clearRect(0,0,this.width,this.height),h.save(),h.scale(d,c),h.translate(-g,-x),h.fillStyle=this.fillPattern,h.fillRect(g,x,this.width/d,this.height/c),h.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),u.remove(this.canvas),u.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});p.exports=a},93305:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){u.updateCanvas(),v.addToRenderList(u),t.batchSprite(u,u.frame,v,o)};p.exports=S},63950:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(35856);v.register("tileSprite",function(s,e){s===void 0&&(s={});var i=o(s,"x",0),l=o(s,"y",0),n=o(s,"width",512),a=o(s,"height",512),f=o(s,"key",""),h=o(s,"frame",""),d=new r(this.scene,i,l,n,a,f,h);return e!==void 0&&(s.add=e),u(this.scene,d,s),d})},20509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35856),v=t(61286);v.register("tileSprite",function(o,r,s,e,i,l){return this.displayList.add(new u(this.scene,o,r,s,e,i,l))})},9271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(74287),o=t(93305),p.exports={renderWebGL:v,renderCanvas:o}},74287:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75512),v=function(o,r,s,e){r.updateCanvas();var i=r.width,l=r.height;if(!(i===0||l===0)){s.addToRenderList(r);var n=u.getTintAppendFloatAlpha,a=o.pipelines.set(r.pipeline,r),f=a.setTexture2D(r.fillPattern,r);a.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,i,l,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*i,r.originY*l,0,0,i,l,n(r.tintTopLeft,s.alpha*r._alphaTL),n(r.tintTopRight,s.alpha*r._alphaTR),n(r.tintBottomLeft,s.alpha*r._alphaBL),n(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,s,e,!1,f)}};p.exports=v},8630:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(64937),r=t(56631),s=t(97081),e=t(89980),i=t(83392),l=t(76038),n=t(76583),a=t(77974),f=new v({Extends:e,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,a],initialize:function(d,c,g,x){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=n(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var m=d.sys.game;this._device=m.device.video,this.setPosition(c,g),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),m.events.on(s.PAUSE,this.globalPause,this),m.events.on(s.RESUME,this.globalResume,this);var y=d.sys.sound;y&&y.on(l.GLOBAL_MUTE,this.globalMute,this),x&&this.load(x)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(h){var d=this.scene.sys.cache.video.get(h);return d?(this.cacheKey=h,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+h),this},changeSource:function(h,d,c,g,x){d===void 0&&(d=!0),c===void 0&&(c=!1),this.cacheKey!==h&&(this.load(h),d&&this.play(c,g,x))},getVideoKey:function(){return this.cacheKey},loadURL:function(h,d,c){d===void 0&&(d=!1);var g=this._device.getVideoURL(h);return g?(this.cacheKey="",this.loadHandler(g.url,d,c)):console.warn("No supported video format found for "+h),this},loadMediaStream:function(h,d,c){return this.loadHandler(null,d,c,h)},loadHandler:function(h,d,c,g){d||(d=!1);var x=this.video;if(x?(this.removeLoadEventHandlers(),this.stop()):(x=document.createElement("video"),x.controls=!1,x.setAttribute("playsinline","playsinline"),x.setAttribute("preload","auto"),x.setAttribute("disablePictureInPicture","true")),d?(x.muted=!0,x.defaultMuted=!0,x.setAttribute("autoplay","autoplay")):(x.muted=!1,x.defaultMuted=!1,x.removeAttribute("autoplay")),c?x.setAttribute("crossorigin",c):x.removeAttribute("crossorigin"),g)if("srcObject"in x)try{x.srcObject=g}catch(m){if(m.name!=="TypeError")throw m;x.src=URL.createObjectURL(g)}else x.src=URL.createObjectURL(g);else x.src=h;return this.addLoadEventHandlers(),this.retry=0,this.video=x,this._playCalled=!1,x.load(),this},requestVideoFrame:function(h,d){var c=this.video;if(c){var g=d.width,x=d.height,m=this.videoTexture,y=this.videoTextureSource,T=!m||y.source!==c;T?(this._codePaused=c.paused,this._codeMuted=c.muted,m?(y.source=c,y.width=g,y.height=x,m.get().setSize(g,x)):(m=this.scene.sys.textures.create(this._key,c,g,x),m.add("__BASE",0,0,0,g,x),this.setTexture(m),this.videoTexture=m,this.videoTextureSource=m.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,m)),this.setSizeToFrame(),this.updateDisplayOrigin()):y.update(),this.isStalled=!1,this.metadata=d;var R=d.mediaTime;T&&(this._lastUpdate=R,this.emit(r.VIDEO_CREATED,this,g,x),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(c.loop?(c.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=R,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(h,d,c){d===void 0&&(d=-1),c===void 0&&(c=i.MAX_SAFE_INTEGER);var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(h===void 0&&(h=g.loop),g.loop=h,this._markerIn=d,this._markerOut=c,this._playingMarker=d>-1&&c>d&&c<i.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var h=this.video;h&&(h.addEventListener("error",this._loadCallbackHandler),h.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var h=this.video;h&&(h.removeEventListener("error",this._loadCallbackHandler),h.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var h=this.video;if(h){var d=this._callbacks;for(var c in d)h.addEventListener(c,d[c])}},removeEventHandlers:function(){var h=this.video;if(h){var d=this._callbacks;for(var c in d)h.removeEventListener(c,d[c])}},createPlayPromise:function(h){h===void 0&&(h=!0);var d=this.video,c=d.play();if(c!==void 0){var g=this.playSuccess.bind(this),x=this.playError.bind(this);if(!h){var m=this;x=function(){m.failedPlayAttempts++}}c.then(g).catch(x)}else d.addEventListener("playing",this._callbacks.legacy),h||this.failedPlayAttempts++},addMarker:function(h,d,c){return!isNaN(d)&&d>=0&&!isNaN(c)&&c>d&&(this.markers[h]=[d,c]),this},playMarker:function(h,d){var c=this.markers[h];return c&&this.play(d,c[0],c[1]),this},removeMarker:function(h){return delete this.markers[h],this},snapshot:function(h,d){return h===void 0&&(h=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,h,d)},snapshotArea:function(h,d,c,g,x,m){h===void 0&&(h=0),d===void 0&&(d=0),c===void 0&&(c=this.width),g===void 0&&(g=this.height),x===void 0&&(x=c),m===void 0&&(m=g);var y=this.video,T=this.snapshotTexture;return T?(T.setSize(x,m),y&&T.context.drawImage(y,h,d,c,g,0,0,x,m)):(T=this.scene.sys.textures.createCanvas(n(),x,m),this.snapshotTexture=T,y&&T.context.drawImage(y,h,d,c,g,0,0,x,m)),T.update()},saveSnapshotTexture:function(h){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,h):this.snapshotTexture=this.scene.sys.textures.createCanvas(h,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var h=this.scene.sys.sound;h&&h.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(h){var d=h.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,h)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,h))},legacyPlayHandler:function(){var h=this.video;h&&(this.playSuccess(),h.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(h){this.stop(!1),this.emit(r.VIDEO_ERROR,this,h)},stalledHandler:function(h){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,h)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(h,d){var c=this.video;!c||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(h){var d=this.video;if(d){var c=d.duration;if(c!==1/0&&!isNaN(c)){var g=c*h;this.setCurrentTime(g)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(h){var d=this.video;if(d){if(typeof h=="string"){var c=h[0],g=parseFloat(h.substr(1));c==="+"?h=d.currentTime+g:c==="-"&&(h=d.currentTime-g)}d.currentTime=h}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var h=this.video;if(h){var d=h.duration;if(d!==1/0&&!isNaN(d))return h.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(h){h===void 0&&(h=!0),this._codeMuted=h;var d=this.video;return d&&(d.muted=this._systemMuted?!0:h),this},isMuted:function(){return this._codeMuted},globalMute:function(h,d){this._systemMuted=d;var c=this.video;c&&(c.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(h){h===void 0&&(h=!0);var d=this.video;return this._codePaused=h,d&&!d.ended&&(h?d.paused||(this.removeEventHandlers(),d.pause()):h||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(h){return h===void 0&&(h=1),this.video&&(this.video.volume=u(h,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(h){return this.video&&(this.video.playbackRate=h),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(h){return h===void 0&&(h=!0),this.video&&(this.video.loop=h),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(h,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,h),this.videoTextureSource.setFlipY(d)),this._key=h,this.flipY=d,!!this.videoTexture},stop:function(h){h===void 0&&(h=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,h&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var h=this.video;if(h){for(h.parentNode&&h.parentNode.removeChild(h);h.hasChildNodes();)h.removeChild(h.firstChild);h.removeAttribute("autoplay"),h.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var h=this.scene.sys.game.events;h.off(s.PAUSE,this.globalPause,this),h.off(s.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(l.GLOBAL_MUTE,this.globalMute,this)}});p.exports=f},56933:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){u.videoTexture&&(v.addToRenderList(u),t.batchSprite(u,u.frame,v,o))};p.exports=S},65601:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88933),v=t(99325),o=t(20494),r=t(8630);v.register("video",function(s,e){s===void 0&&(s={});var i=o(s,"key",null),l=new r(this.scene,0,0,i);return e!==void 0&&(s.add=e),u(this.scene,l,s),l})},215:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8630),v=t(61286);v.register("video",function(o,r,s){return this.displayList.add(new u(this.scene,o,r,s))})},77974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(83572),o=t(56933),p.exports={renderWebGL:v,renderCanvas:o}},83572:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){u.videoTexture&&(v.addToRenderList(u),u.pipeline.batchSprite(u,v,o))};p.exports=S},71030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95723),v=t(26673),o=t(65650),r=t(56694),s=t(64937),e=t(89980),i=t(74118),l=t(94287),n=new r({Extends:e,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(f,h,d,c,g){c===void 0&&(c=1),g===void 0&&(g=c),e.call(this,f,"Zone"),this.setPosition(h,d),this.width=c,this.height=g,this.blendMode=u.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}},setSize:function(a,f,h){h===void 0&&(h=!0),this.width=a,this.height=f,this.updateDisplayOrigin();var d=this.input;return h&&d&&!d.customHitArea&&(d.hitArea.width=a,d.hitArea.height=f),this},setDisplaySize:function(a,f){return this.displayWidth=a,this.displayHeight=f,this},setCircleDropZone:function(a){return this.setDropZone(new v(0,0,a),o)},setRectangleDropZone:function(a,f){return this.setDropZone(new i(0,0,a,f),l)},setDropZone:function(a,f){return this.input||this.setInteractive(a,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(a,f,h){h.addToRenderList(f)},renderWebGL:function(a,f,h){h.addToRenderList(f)}});p.exports=n},24067:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99325),v=t(20494),o=t(71030);u.register("zone",function(r){var s=v(r,"x",0),e=v(r,"y",0),i=v(r,"width",1),l=v(r,"height",i);return new o(this.scene,s,e,i,l)})},34546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(71030),v=t(61286);v.register("zone",function(o,r,s,e){return this.displayList.add(new u(this.scene,o,r,s,e))})},95847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=S},26673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(65650),o=t(94026),r=t(62941),s=t(52394),e=t(30977),i=new u({initialize:function(n,a,f){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),this.type=s.CIRCLE,this.x=n,this.y=a,this._radius=f,this._diameter=f*2},contains:function(l,n){return v(this,l,n)},getPoint:function(l,n){return o(this,l,n)},getPoints:function(l,n,a){return r(this,l,n,a)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,n,a){return this.x=l,this.y=n,this._radius=a,this._diameter=a*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,n){return n===void 0&&(n=l),this.x=l,this.y=n,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});p.exports=i},37964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};p.exports=S},72233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r,s){return s===void 0&&(s=new u),s.x=o.x+o.radius*Math.cos(r),s.y=o.y+o.radius*Math.sin(r),s};p.exports=v},61761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26673),v=function(o){return new u(o.x,o.y,o.radius)};p.exports=v},65650:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(t.radius>0&&u>=t.left&&u<=t.right&&v>=t.top&&v<=t.bottom){var o=(t.x-u)*(t.x-u),r=(t.y-v)*(t.y-v);return o+r<=t.radius*t.radius}else return!1};p.exports=S},39187:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65650),v=function(o,r){return u(o,r.x,r.y)};p.exports=v},58672:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65650),v=function(o,r){return u(o,r.x,r.y)&&u(o,r.right,r.y)&&u(o,r.x,r.bottom)&&u(o,r.right,r.bottom)};p.exports=v},42997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u.setTo(t.x,t.y,t.radius)};p.exports=S},94894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x===u.x&&t.y===u.y&&t.radius===u.radius};p.exports=S},48027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=function(o,r){return r===void 0&&(r=new u),r.x=o.left,r.y=o.top,r.width=o.diameter,r.height=o.diameter,r};p.exports=v},94026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72233),v=t(91806),o=t(83392),r=t(79967),s=function(e,i,l){l===void 0&&(l=new r);var n=v(i,0,o.PI2);return u(e,n,l)};p.exports=s},62941:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37964),v=t(72233),o=t(91806),r=t(83392),s=function(e,i,l,n){n===void 0&&(n=[]),!i&&l>0&&(i=u(e)/l);for(var a=0;a<i;a++){var f=o(a/i,0,r.PI2);n.push(v(e,f))}return n};p.exports=s},34585:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t.x+=u,t.y+=v,t};p.exports=S},88665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x+=u.x,t.y+=u.y,t};p.exports=S},30977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){r===void 0&&(r=new u);var s=2*Math.PI*Math.random(),e=Math.random()+Math.random(),i=e>1?2-e:e,l=i*Math.cos(s),n=i*Math.sin(s);return r.x=o.x+l*o.radius,r.y=o.y+n*o.radius,r};p.exports=v},6112:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26673);u.Area=t(95847),u.Circumference=t(37964),u.CircumferencePoint=t(72233),u.Clone=t(61761),u.Contains=t(65650),u.ContainsPoint=t(39187),u.ContainsRect=t(58672),u.CopyFrom=t(42997),u.Equals=t(94894),u.GetBounds=t(48027),u.GetPoint=t(94026),u.GetPoints=t(62941),u.Offset=t(34585),u.OffsetPoint=t(88665),u.Random=t(30977),p.exports=u},52394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=S},58605:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=S},39507:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u=t.width/2,v=t.height/2,o=Math.pow(u-v,2)/Math.pow(u+v,2);return Math.PI*(u+v)*(1+3*o/(10+Math.sqrt(4-3*o)))};p.exports=S},86998:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r,s){s===void 0&&(s=new u);var e=o.width/2,i=o.height/2;return s.x=o.x+e*Math.cos(r),s.y=o.y+i*Math.sin(r),s};p.exports=v},81773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95669),v=function(o){return new u(o.x,o.y,o.width,o.height)};p.exports=v},72313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(t.width<=0||t.height<=0)return!1;var o=(u-t.x)/t.width,r=(v-t.y)/t.height;return o*=o,r*=r,o+r<.25};p.exports=S},34368:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72313),v=function(o,r){return u(o,r.x,r.y)};p.exports=v},71431:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72313),v=function(o,r){return u(o,r.x,r.y)&&u(o,r.right,r.y)&&u(o,r.x,r.bottom)&&u(o,r.right,r.bottom)};p.exports=v},75459:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u.setTo(t.x,t.y,t.width,t.height)};p.exports=S},95669:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72313),o=t(95340),r=t(54978),s=t(52394),e=t(72006),i=new u({initialize:function(n,a,f,h){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),h===void 0&&(h=0),this.type=s.ELLIPSE,this.x=n,this.y=a,this.width=f,this.height=h},contains:function(l,n){return v(this,l,n)},getPoint:function(l,n){return o(this,l,n)},getPoints:function(l,n,a){return r(this,l,n,a)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,n,a,f){return this.x=l,this.y=n,this.width=a,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,n){return n===void 0&&(n=l),this.x=l,this.y=n,this},setSize:function(l,n){return n===void 0&&(n=l),this.width=l,this.height=n,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});p.exports=i},98068:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x===u.x&&t.y===u.y&&t.width===u.width&&t.height===u.height};p.exports=S},72897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=function(o,r){return r===void 0&&(r=new u),r.x=o.left,r.y=o.top,r.width=o.width,r.height=o.height,r};p.exports=v},95340:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(86998),v=t(91806),o=t(83392),r=t(79967),s=function(e,i,l){l===void 0&&(l=new r);var n=v(i,0,o.PI2);return u(e,n,l)};p.exports=s},54978:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39507),v=t(86998),o=t(91806),r=t(83392),s=function(e,i,l,n){n===void 0&&(n=[]),!i&&l>0&&(i=u(e)/l);for(var a=0;a<i;a++){var f=o(a/i,0,r.PI2);n.push(v(e,f))}return n};p.exports=s},77951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t.x+=u,t.y+=v,t};p.exports=S},36233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x+=u.x,t.y+=u.y,t};p.exports=S},72006:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){r===void 0&&(r=new u);var s=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=o.x+e*Math.cos(s)*o.width/2,r.y=o.y+e*Math.sin(s)*o.height/2,r};p.exports=v},40652:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95669);u.Area=t(58605),u.Circumference=t(39507),u.CircumferencePoint=t(86998),u.Clone=t(81773),u.Contains=t(72313),u.ContainsPoint=t(34368),u.ContainsRect=t(71431),u.CopyFrom=t(75459),u.Equals=t(98068),u.GetBounds=t(72897),u.GetPoint=t(95340),u.GetPoints=t(54978),u.Offset=t(77951),u.OffsetPoint=t(36233),u.Random=t(72006),p.exports=u},84068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(52394),v=t(98611),o={Circle:t(6112),Ellipse:t(40652),Intersects:t(7563),Line:t(28482),Mesh:t(14293),Point:t(63472),Polygon:t(44359),Rectangle:t(66658),Triangle:t(87619)};o=v(!1,o,u),p.exports=o},22184:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(53996),v=function(o,r){return u(o.x,o.y,r.x,r.y)<=o.radius+r.radius};p.exports=v},26535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=u.width/2,o=u.height/2,r=Math.abs(t.x-u.x-v),s=Math.abs(t.y-u.y-o),e=v+t.radius,i=o+t.radius;if(r>e||s>i)return!1;if(r<=v||s<=o)return!0;var l=r-v,n=s-o,a=l*l,f=n*n,h=t.radius*t.radius;return a+f<=h};p.exports=S},71145:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=t(22184),o=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var i=r.x,l=r.y,n=r.radius,a=s.x,f=s.y,h=s.radius,d,c,g,x,m;if(l===f)m=(h*h-n*n-a*a+i*i)/(2*(i-a)),d=1,c=-2*f,g=a*a+m*m-2*a*m+f*f-h*h,x=c*c-4*d*g,x===0?e.push(new u(m,-c/(2*d))):x>0&&(e.push(new u(m,(-c+Math.sqrt(x))/(2*d))),e.push(new u(m,(-c-Math.sqrt(x))/(2*d))));else{var y=(i-a)/(l-f),T=(h*h-n*n-a*a+i*i-f*f+l*l)/(2*(l-f));d=y*y+1,c=2*l*y-2*T*y-2*i,g=i*i+l*l+T*T-n*n-2*l*T,x=c*c-4*d*g,x===0?(m=-c/(2*d),e.push(new u(m,T-m*y))):x>0&&(m=(-c+Math.sqrt(x))/(2*d),e.push(new u(m,T-m*y)),m=(-c-Math.sqrt(x))/(2*d),e.push(new u(m,T-m*y)))}}return e};p.exports=o},62508:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26111),v=t(26535),o=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var i=s.getLineA(),l=s.getLineB(),n=s.getLineC(),a=s.getLineD();u(i,r,e),u(l,r,e),u(n,r,e),u(a,r,e)}return e};p.exports=o},26111:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=t(61472),o=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var i=r.x1,l=r.y1,n=r.x2,a=r.y2,f=s.x,h=s.y,d=s.radius,c=n-i,g=a-l,x=i-f,m=l-h,y=c*c+g*g,T=2*(c*x+g*m),R=x*x+m*m-d*d,P=T*T-4*y*R,D,I;if(P===0){var w=-T/(2*y);D=i+w*c,I=l+w*g,w>=0&&w<=1&&e.push(new u(D,I))}else if(P>0){var U=(-T-Math.sqrt(P))/(2*y);D=i+U*c,I=l+U*g,U>=0&&U<=1&&e.push(new u(D,I));var G=(-T+Math.sqrt(P))/(2*y);D=i+G*c,I=l+G*g,G>=0&&G<=1&&e.push(new u(D,I))}}return e};p.exports=o},96537:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70015),v=function(o,r,s,e){s===void 0&&(s=!1);var i=o.x1,l=o.y1,n=o.x2,a=o.y2,f=r.x1,h=r.y1,d=r.x2,c=r.y2,g=n-i,x=a-l,m=d-f,y=c-h,T=g*y-x*m;if(T===0)return null;var R,P,D;if(s){if(R=(g*(h-l)+x*(i-f))/(m*x-y*g),P=(f+m*R-i)/g,P<0||R<0||R>1)return null;D=P}else{if(R=((f-i)*y-(h-l)*m)/T,P=((l-h)*g-(i-f)*x)/T,R<0||R>1||P<0||P>1)return null;D=R}return e===void 0&&(e=new u),e.set(i+g*D,l+x*D,D)};p.exports=v},17647:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(96537),v=t(88829),o=t(70015),r=new v,s=new o,e=function(i,l,n,a){n===void 0&&(n=!1),a===void 0&&(a=new o);var f=!1;a.set(),s.set();for(var h=l[0],d=1;d<l.length;d++){var c=l[d];r.setTo(h.x,h.y,c.x,c.y),h=c,u(i,r,n,s)&&(!f||s.z<a.z)&&(a.copy(s),f=!0)}return f?a:null};p.exports=e},68439:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70015),v=t(51729),o=t(17647),r=new u,s=function(e,i,l,n){n===void 0&&(n=new v),Array.isArray(i)||(i=[i]);var a=!1;n.set(),r.set();for(var f=0;f<i.length;f++)o(e,i[f].points,l,r)&&(!a||r.z<n.z)&&(n.set(r.x,r.y,r.z,f),a=!0);return a?n:null};p.exports=s},9569:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=t(25227),o=t(47910),r=function(s,e,i){if(i===void 0&&(i=[]),o(s,e))for(var l=e.getLineA(),n=e.getLineB(),a=e.getLineC(),f=e.getLineD(),h=[new u,new u,new u,new u],d=[v(l,s,h[0]),v(n,s,h[1]),v(a,s,h[2]),v(f,s,h[3])],c=0;c<4;c++)d[c]&&i.push(h[c]);return i};p.exports=r},7449:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(51729),v=t(68439),o=t(88829),r=new o;function s(l,n,a,f,h){var d=Math.cos(l),c=Math.sin(l);r.setTo(n,a,n+d,a+c);var g=v(r,f,!0);g&&h.push(new u(g.x,g.y,l,g.w))}function e(l,n){return l.z-n.z}var i=function(l,n,a){Array.isArray(a)||(a=[a]);for(var f=[],h=[],d=0;d<a.length;d++)for(var c=a[d].points,g=0;g<c.length;g++){var x=Math.atan2(c[g].y-n,c[g].x-l);h.indexOf(x)===-1&&(s(x,l,n,a,f),s(x-1e-5,l,n,a,f),s(x+1e-5,l,n,a,f),h.push(x))}return f.sort(e)};p.exports=i},82931:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=t(90205),o=function(r,s,e){return e===void 0&&(e=new u),v(r,s)&&(e.x=Math.max(r.x,s.x),e.y=Math.max(r.y,s.y),e.width=Math.min(r.right,s.right)-e.x,e.height=Math.min(r.bottom,s.bottom)-e.y),e};p.exports=o},1946:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(9569),v=t(90205),o=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var i=r.getLineA(),l=r.getLineB(),n=r.getLineC(),a=r.getLineD();u(i,s,e),u(l,s,e),u(n,s,e),u(a,s,e)}return e};p.exports=o},34211:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20370),v=t(9569),o=function(r,s,e){if(e===void 0&&(e=[]),u(r,s)){var i=s.getLineA(),l=s.getLineB(),n=s.getLineC();v(i,r,e),v(l,r,e),v(n,r,e)}return e};p.exports=o},80511:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26111),v=t(48411),o=function(r,s,e){if(e===void 0&&(e=[]),v(r,s)){var i=r.getLineA(),l=r.getLineB(),n=r.getLineC();u(i,s,e),u(l,s,e),u(n,s,e)}return e};p.exports=o},31343:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=t(86117),o=t(25227),r=function(s,e,i){if(i===void 0&&(i=[]),v(s,e))for(var l=s.getLineA(),n=s.getLineB(),a=s.getLineC(),f=[new u,new u,new u],h=[o(l,e,f[0]),o(n,e,f[1]),o(a,e,f[2])],d=0;d<3;d++)h[d]&&i.push(f[d]);return i};p.exports=r},70534:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23589),v=t(31343),o=function(r,s,e){if(e===void 0&&(e=[]),u(r,s)){var i=s.getLineA(),l=s.getLineB(),n=s.getLineC();v(r,i,e),v(r,l,e),v(r,n,e)}return e};p.exports=o},61472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65650),v=t(79967),o=new v,r=function(s,e,i){if(i===void 0&&(i=o),u(e,s.x1,s.y1))return i.x=s.x1,i.y=s.y1,!0;if(u(e,s.x2,s.y2))return i.x=s.x2,i.y=s.y2,!0;var l=s.x2-s.x1,n=s.y2-s.y1,a=e.x-s.x1,f=e.y-s.y1,h=l*l+n*n,d=l,c=n;if(h>0){var g=(a*l+f*n)/h;d*=g,c*=g}i.x=s.x1+d,i.y=s.y1+c;var x=d*d+c*c;return x<=h&&d*l+c*n>=0&&u(e,i.x,i.y)};p.exports=r},25227:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=t.x1,r=t.y1,s=t.x2,e=t.y2,i=u.x1,l=u.y1,n=u.x2,a=u.y2;if(o===s&&r===e||i===n&&l===a)return!1;var f=(a-l)*(s-o)-(n-i)*(e-r);if(f===0)return!1;var h=((n-i)*(r-l)-(a-l)*(o-i))/f,d=((s-o)*(r-l)-(e-r)*(o-i))/f;return h<0||h>1||d<0||d>1?!1:(v&&(v.x=o+h*(s-o),v.y=r+h*(e-r)),!0)};p.exports=S},47910:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.x1,o=t.y1,r=t.x2,s=t.y2,e=u.x,i=u.y,l=u.right,n=u.bottom,a=0;if(v>=e&&v<=l&&o>=i&&o<=n||r>=e&&r<=l&&s>=i&&s<=n)return!0;if(v<e&&r>=e){if(a=o+(s-o)*(e-v)/(r-v),a>i&&a<=n)return!0}else if(v>l&&r<=l&&(a=o+(s-o)*(l-v)/(r-v),a>=i&&a<=n))return!0;if(o<i&&s>=i){if(a=v+(r-v)*(i-o)/(s-o),a>=e&&a<=l)return!0}else if(o>n&&s<=n&&(a=v+(r-v)*(n-o)/(s-o),a>=e&&a<=l))return!0;return!1};p.exports=S},34426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){v===void 0&&(v=1);var o=u.x1,r=u.y1,s=u.x2,e=u.y2,i=t.x,l=t.y,n=(s-o)*(s-o)+(e-r)*(e-r);if(n===0)return!1;var a=((i-o)*(s-o)+(l-r)*(e-r))/n;if(a<0)return Math.sqrt((o-i)*(o-i)+(r-l)*(r-l))<=v;if(a>=0&&a<=1){var f=((r-l)*(s-o)-(o-i)*(e-r))/n;return Math.abs(f)*Math.sqrt(n)<=v}else return Math.sqrt((s-i)*(s-i)+(e-l)*(e-l))<=v};p.exports=S},81414:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(34426),v=function(o,r){if(!u(o,r))return!1;var s=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),i=Math.min(r.y1,r.y2),l=Math.max(r.y1,r.y2);return o.x>=s&&o.x<=e&&o.y>=i&&o.y<=l};p.exports=v},90205:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.width<=0||t.height<=0||u.width<=0||u.height<=0?!1:!(t.right<u.x||t.bottom<u.y||t.x>u.right||t.y>u.bottom)};p.exports=S},20370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25227),v=t(94287),o=t(86875),r=t(87279),s=function(e,i){if(i.left>e.right||i.right<e.left||i.top>e.bottom||i.bottom<e.top)return!1;var l=i.getLineA(),n=i.getLineB(),a=i.getLineC();if(v(e,l.x1,l.y1)||v(e,l.x2,l.y2)||v(e,n.x1,n.y1)||v(e,n.x2,n.y2)||v(e,a.x1,a.y1)||v(e,a.x2,a.y2))return!0;var f=e.getLineA(),h=e.getLineB(),d=e.getLineC(),c=e.getLineD();if(u(l,f)||u(l,h)||u(l,d)||u(l,c)||u(n,f)||u(n,h)||u(n,d)||u(n,c)||u(a,f)||u(a,h)||u(a,d)||u(a,c))return!0;var g=r(e),x=o(i,g,!0);return x.length>0};p.exports=s},8786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r,s){return s===void 0&&(s=0),!(u>t.right+s||v<t.left-s||o>t.bottom+s||r<t.top-s)};p.exports=S},48411:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61472),v=t(60689),o=function(r,s){return r.left>s.right||r.right<s.left||r.top>s.bottom||r.bottom<s.top?!1:!!(v(r,s.x,s.y)||u(r.getLineA(),s)||u(r.getLineB(),s)||u(r.getLineC(),s))};p.exports=o},86117:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25227),v=function(o,r){return!!(o.contains(r.x1,r.y1)||o.contains(r.x2,r.y2)||u(o.getLineA(),r)||u(o.getLineB(),r)||u(o.getLineC(),r))};p.exports=v},23589:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(86875),v=t(18680),o=t(25227),r=function(s,e){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var i=s.getLineA(),l=s.getLineB(),n=s.getLineC(),a=e.getLineA(),f=e.getLineB(),h=e.getLineC();if(o(i,a)||o(i,f)||o(i,h)||o(l,a)||o(l,f)||o(l,h)||o(n,a)||o(n,f)||o(n,h))return!0;var d=v(s),c=u(e,d,!0);return c.length>0||(d=v(e),c=u(s,d,!0),c.length>0)};p.exports=r},7563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(22184),CircleToRectangle:t(26535),GetCircleToCircle:t(71145),GetCircleToRectangle:t(62508),GetLineToCircle:t(26111),GetLineToLine:t(96537),GetLineToPoints:t(17647),GetLineToPolygon:t(68439),GetLineToRectangle:t(9569),GetRaysFromPointToPolygon:t(7449),GetRectangleIntersection:t(82931),GetRectangleToRectangle:t(1946),GetRectangleToTriangle:t(34211),GetTriangleToCircle:t(80511),GetTriangleToLine:t(31343),GetTriangleToTriangle:t(70534),LineToCircle:t(61472),LineToLine:t(25227),LineToRectangle:t(47910),PointToLine:t(34426),PointToLineSegment:t(81414),RectangleToRectangle:t(90205),RectangleToTriangle:t(20370),RectangleToValues:t(8786),TriangleToCircle:t(48411),TriangleToLine:t(86117),TriangleToTriangle:t(23589)}},50599:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=S},58813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){u===void 0&&(u=1),v===void 0&&(v=[]);var o=Math.round(t.x1),r=Math.round(t.y1),s=Math.round(t.x2),e=Math.round(t.y2),i=Math.abs(s-o),l=Math.abs(e-r),n=o<s?1:-1,a=r<e?1:-1,f=i-l;v.push({x:o,y:r});for(var h=1;!(o===s&&r===e);){var d=f<<1;d>-l&&(f-=l,o+=n),d<i&&(f+=i,r+=a),h%u===0&&v.push({x:o,y:r}),h++}return v};p.exports=S},88513:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=u-(t.x1+t.x2)/2,r=v-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=r,t.x2+=o,t.y2+=r,t};p.exports=S},26718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88829),v=function(o){return new u(o.x1,o.y1,o.x2,o.y2)};p.exports=v},88930:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=S},90656:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x1===u.x1&&t.y1===u.y1&&t.x2===u.x2&&t.y2===u.y2};p.exports=S},30897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16028),v=function(o,r,s){s===void 0&&(s=r);var e=u(o),i=o.x2-o.x1,l=o.y2-o.y1;return r&&(o.x1=o.x1-i/e*r,o.y1=o.y1-l/e*r),s&&(o.x2=o.x2+i/e*s,o.y2=o.y2+l/e*s),o};p.exports=v},30684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(92951),v=t(21902),o=t(79967),r=function(s,e,i,l,n){l===void 0&&(l=0),n===void 0&&(n=[]);var a=[],f=s.x1,h=s.y1,d=s.x2-f,c=s.y2-h,g=v(e,n),x,m,y=i-1;for(x=0;x<y;x++)m=g(x/y),a.push(new o(f+d*m,h+c*m));if(m=g(1),a.push(new o(f+d*m,h+c*m)),l>0){var T=a[0],R=[T];for(x=1;x<a.length-1;x++){var P=a[x];u(T,P)>=l&&(R.push(P),T=P)}var D=a[a.length-1];return u(T,D)<l&&R.pop(),R.push(D),R}else return a};p.exports=r},20487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){return r===void 0&&(r=new u),r.x=(o.x1+o.x2)/2,r.y=(o.y1+o.y2)/2,r};p.exports=v},11222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r,s){s===void 0&&(s=new u);var e=o.x1,i=o.y1,l=o.x2,n=o.y2,a=(l-e)*(l-e)+(n-i)*(n-i);if(a===0)return s;var f=((r.x-e)*(l-e)+(r.y-i)*(n-i))/a;return s.x=e+f*(l-e),s.y=i+f*(n-i),s};p.exports=v},7377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=t(50599),o=t(79967),r=function(s,e){e===void 0&&(e=new o);var i=v(s)-u.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e};p.exports=r},66464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r,s){return s===void 0&&(s=new u),s.x=o.x1+(o.x2-o.x1)*r,s.y=o.y1+(o.y2-o.y1)*r,s};p.exports=v},8570:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16028),v=t(79967),o=function(r,s,e,i){i===void 0&&(i=[]),!s&&e>0&&(s=u(r)/e);for(var l=r.x1,n=r.y1,a=r.x2,f=r.y2,h=0;h<s;h++){var d=h/s,c=l+(a-l)*d,g=n+(f-n)*d;i.push(new v(c,g))}return i};p.exports=o},65269:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.x1,o=t.y1,r=t.x2,s=t.y2,e=(r-v)*(r-v)+(s-o)*(s-o);if(e===0)return!1;var i=((o-u.y)*(r-v)-(v-u.x)*(s-o))/e;return Math.abs(i)*Math.sqrt(e)};p.exports=S},82996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};p.exports=S},16028:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=S},88829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(66464),o=t(8570),r=t(52394),s=t(74077),e=t(93736),i=new u({initialize:function(n,a,f,h){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),h===void 0&&(h=0),this.type=r.LINE,this.x1=n,this.y1=a,this.x2=f,this.y2=h},getPoint:function(l,n){return v(this,l,n)},getPoints:function(l,n,a){return o(this,l,n,a)},getRandomPoint:function(l){return s(this,l)},setTo:function(l,n,a,f){return l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),this.x1=l,this.y1=n,this.x2=a,this.y2=f,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});p.exports=i},73273:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=t(1071),o=t(50599),r=function(s){var e=o(s)-u.TAU;return v(e,-Math.PI,Math.PI)};p.exports=r},96936:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=t(50599),o=function(r){return Math.cos(v(r)-u.TAU)};p.exports=o},43581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=t(50599),o=function(r){return Math.sin(v(r)-u.TAU)};p.exports=o},13990:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t.x1+=u,t.y1+=v,t.x2+=u,t.y2+=v,t};p.exports=S},1298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=S},74077:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){r===void 0&&(r=new u);var s=Math.random();return r.x=o.x1+s*(o.x2-o.x1),r.y=o.y1+s*(o.y2-o.y1),r};p.exports=v},30473:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50599),v=t(73273),o=function(r,s){return 2*v(s)-Math.PI-u(r)};p.exports=o},25968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1809),v=function(o,r){var s=(o.x1+o.x2)/2,e=(o.y1+o.y2)/2;return u(o,s,e,r)};p.exports=v},24296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1809),v=function(o,r,s){return u(o,r.x,r.y,s)};p.exports=v},1809:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=Math.cos(o),s=Math.sin(o),e=t.x1-u,i=t.y1-v;return t.x1=e*r-i*s+u,t.y1=e*s+i*r+v,e=t.x2-u,i=t.y2-v,t.x2=e*r-i*s+u,t.y2=e*s+i*r+v,t};p.exports=S},88171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r){return t.x1=u,t.y1=v,t.x2=u+Math.cos(o)*r,t.y2=v+Math.sin(o)*r,t};p.exports=S},82797:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=S},41067:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};p.exports=S},28482:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88829);u.Angle=t(50599),u.BresenhamPoints=t(58813),u.CenterOn=t(88513),u.Clone=t(26718),u.CopyFrom=t(88930),u.Equals=t(90656),u.Extend=t(30897),u.GetEasedPoints=t(30684),u.GetMidPoint=t(20487),u.GetNearestPoint=t(11222),u.GetNormal=t(7377),u.GetPoint=t(66464),u.GetPoints=t(8570),u.GetShortestDistance=t(65269),u.Height=t(82996),u.Length=t(16028),u.NormalAngle=t(73273),u.NormalX=t(96936),u.NormalY=t(43581),u.Offset=t(13990),u.PerpSlope=t(1298),u.Random=t(74077),u.ReflectAngle=t(30473),u.Rotate=t(25968),u.RotateAroundPoint=t(24296),u.RotateAroundXY=t(1809),u.SetToAngle=t(88171),u.Slope=t(82797),u.Width=t(41067),p.exports=u},18693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(74118),o=t(93736);function r(e,i,l,n){var a=e-l,f=i-n,h=a*a+f*f;return Math.sqrt(h)}var s=new u({initialize:function(i,l,n){this.vertex1=i,this.vertex2=l,this.vertex3=n,this.bounds=new v,this._inCenter=new o},getInCenter:function(e){e===void 0&&(e=!0);var i=this.vertex1,l=this.vertex2,n=this.vertex3,a,f,h,d,c,g;e?(a=i.x,f=i.y,h=l.x,d=l.y,c=n.x,g=n.y):(a=i.vx,f=i.vy,h=l.vx,d=l.vy,c=n.vx,g=n.vy);var x=r(c,g,h,d),m=r(a,f,c,g),y=r(h,d,a,f),T=x+m+y;return this._inCenter.set((a*x+h*m+c*y)/T,(f*x+d*m+g*y)/T)},contains:function(e,i,l){var n=this.vertex1,a=this.vertex2,f=this.vertex3,h=n.vx,d=n.vy,c=a.vx,g=a.vy,x=f.vx,m=f.vy;if(l){var y=l.a,T=l.b,R=l.c,P=l.d,D=l.e,I=l.f;h=n.vx*y+n.vy*R+D,d=n.vx*T+n.vy*P+I,c=a.vx*y+a.vy*R+D,g=a.vx*T+a.vy*P+I,x=f.vx*y+f.vy*R+D,m=f.vx*T+f.vy*P+I}var w=x-h,U=m-d,G=c-h,H=g-d,z=e-h,$=i-d,J=w*w+U*U,W=w*G+U*H,K=w*z+U*$,N=G*G+H*H,b=G*z+H*$,Y=J*N-W*W,j=Y===0?0:1/Y,Q=(N*K-W*b)*j,q=(J*b-W*K)*j;return Q>=0&&q>=0&&Q+q<1},isCounterClockwise:function(e){var i=this.vertex1,l=this.vertex2,n=this.vertex3,a=(l.vx-i.vx)*(n.vy-i.vy)-(l.vy-i.vy)*(n.vx-i.vx);return e<=0?a>=0:a<0},load:function(e,i,l,n,a){return l=this.vertex1.load(e,i,l,n,a),l=this.vertex2.load(e,i,l,n,a),l=this.vertex3.load(e,i,l,n,a),l},transformCoordinatesLocal:function(e,i,l,n){return this.vertex1.transformCoordinatesLocal(e,i,l,n),this.vertex2.transformCoordinatesLocal(e,i,l,n),this.vertex3.transformCoordinatesLocal(e,i,l,n),this},updateBounds:function(){var e=this.vertex1,i=this.vertex2,l=this.vertex3,n=this.bounds;return n.x=Math.min(e.vx,i.vx,l.vx),n.y=Math.min(e.vy,i.vy,l.vy),n.width=Math.max(e.vx,i.vx,l.vx)-n.x,n.height=Math.max(e.vy,i.vy,l.vy)-n.y,this},isInView:function(e,i,l,n,a,f,h,d,c,g,x){this.update(n,a,f,h,d,c,g,x);var m=this.vertex1,y=this.vertex2,T=this.vertex3;if(m.ta<=0&&y.ta<=0&&T.ta<=0||i&&!this.isCounterClockwise(l))return!1;var R=this.bounds;R.x=Math.min(m.tx,y.tx,T.tx),R.y=Math.min(m.ty,y.ty,T.ty),R.width=Math.max(m.tx,y.tx,T.tx)-R.x,R.height=Math.max(m.ty,y.ty,T.ty)-R.y;var P=e.x+e.width,D=e.y+e.height;return R.width<=0||R.height<=0||e.width<=0||e.height<=0?!1:!(R.right<e.x||R.bottom<e.y||R.x>P||R.y>D)},scrollUV:function(e,i){return this.vertex1.scrollUV(e,i),this.vertex2.scrollUV(e,i),this.vertex3.scrollUV(e,i),this},scaleUV:function(e,i){return this.vertex1.scaleUV(e,i),this.vertex2.scaleUV(e,i),this.vertex3.scaleUV(e,i),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,i,l,n,a,f,h,d){return this.vertex1.update(i,l,n,a,f,h,d,e),this.vertex2.update(i,l,n,a,f,h,d,e),this.vertex3.update(i,l,n,a,f,h,d,e),this},translate:function(e,i){i===void 0&&(i=0);var l=this.vertex1,n=this.vertex2,a=this.vertex3;return l.x+=e,l.y+=i,n.x+=e,n.y+=i,a.x+=e,a.y+=i,this},x:{get:function(){return this.getInCenter().x},set:function(e){var i=this.getInCenter();this.translate(e-i.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var i=this.getInCenter();this.translate(0,e-i.y)}},alpha:{get:function(){var e=this.vertex1,i=this.vertex2,l=this.vertex3;return(e.alpha+i.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,i=this.vertex2,l=this.vertex3;return(e.vz+i.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=s},99425:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(18693),v=t(72632),o=t(16650),r=t(70015),s=t(85769),e=new r,i=new r,l=new o,n=function(a){var f=v(a,"mesh"),h=v(a,"texture",null),d=v(a,"frame"),c=v(a,"width",1),g=v(a,"height",c),x=v(a,"widthSegments",1),m=v(a,"heightSegments",x),y=v(a,"x",0),T=v(a,"y",0),R=v(a,"z",0),P=v(a,"rotateX",0),D=v(a,"rotateY",0),I=v(a,"rotateZ",0),w=v(a,"zIsUp",!0),U=v(a,"isOrtho",f?f.dirtyCache[11]:!1),G=v(a,"colors",[16777215]),H=v(a,"alphas",[1]),z=v(a,"tile",!1),$=v(a,"flipY",!1),J=v(a,"width",null),W={faces:[],verts:[]};e.set(y,T,R),i.set(P,D,I),l.fromRotationXYTranslation(i,e,w);var K;if(!h&&f)h=f.texture,d||(K=f.frame);else if(f&&typeof h=="string")h=f.scene.sys.textures.get(h);else if(!h)return W;K||(K=h.get(d)),!J&&U&&h&&f&&(c=K.width/f.height,g=K.height/f.height);var N=c/2,b=g/2,Y=Math.floor(x),j=Math.floor(m),Q=Y+1,q=j+1,tt=c/Y,it=g/j,st=[],lt=[],ut,vt,ft=0,Et=1,It=0,Nt=1;K&&(ft=K.u0,Et=K.u1,$?(It=K.v1,Nt=K.v0):(It=K.v0,Nt=K.v1));var Dt=Et-ft,pt=Nt-It;for(vt=0;vt<q;vt++){var Pt=vt*it-b;for(ut=0;ut<Q;ut++){var Lt=ut*tt-N;lt.push(Lt,-Pt);var ee=ft+Dt*(ut/Y),Jt=It+pt*(vt/j);st.push(ee,Jt)}}Array.isArray(G)||(G=[G]),Array.isArray(H)||(H=[H]);var Ee=0,de=0;for(vt=0;vt<j;vt++)for(ut=0;ut<Y;ut++){var oe=(ut+Q*vt)*2,te=(ut+Q*(vt+1))*2,ue=(ut+1+Q*(vt+1))*2,we=(ut+1+Q*vt)*2,Fe=G[de],Ge=H[Ee],di=new s(lt[oe],lt[oe+1],0,st[oe],st[oe+1],Fe,Ge).transformMat4(l),Hi=new s(lt[te],lt[te+1],0,st[te],st[te+1],Fe,Ge).transformMat4(l),Ki=new s(lt[we],lt[we+1],0,st[we],st[we+1],Fe,Ge).transformMat4(l),$i=new s(lt[te],lt[te+1],0,st[te],st[te+1],Fe,Ge).transformMat4(l),ji=new s(lt[ue],lt[ue+1],0,st[ue],st[ue+1],Fe,Ge).transformMat4(l),ki=new s(lt[we],lt[we+1],0,st[we],st[we+1],Fe,Ge).transformMat4(l);z&&(di.setUVs(ft,Nt),Hi.setUVs(ft,It),Ki.setUVs(Et,Nt),$i.setUVs(ft,It),ji.setUVs(Et,It),ki.setUVs(Et,Nt)),de++,de===G.length&&(de=0),Ee++,Ee===H.length&&(Ee=0),W.verts.push(di,Hi,Ki,$i,ji,ki),W.faces.push(new u(di,Hi,Ki),new u($i,ji,ki))}return f&&(f.faces=f.faces.concat(W.faces),f.vertices=f.vertices.concat(W.verts)),W};p.exports=n},53267:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(18693),v=t(16650),o=t(70015),r=t(85769),s=new o,e=new o,i=new v,l=function(n,a,f,h,d,c,g,x,m,y){f===void 0&&(f=1),h===void 0&&(h=0),d===void 0&&(d=0),c===void 0&&(c=0),g===void 0&&(g=0),x===void 0&&(x=0),m===void 0&&(m=0),y===void 0&&(y=!0);var T={faces:[],verts:[]},R=n.materials;s.set(h,d,c),e.set(g,x,m),i.fromRotationXYTranslation(e,s,y);for(var P=0;P<n.models.length;P++)for(var D=n.models[P],I=D.vertices,w=D.textureCoords,U=D.faces,G=0;G<U.length;G++){var H=U[G],z=H.vertices[0],$=H.vertices[1],J=H.vertices[2],W=I[z.vertexIndex],K=I[$.vertexIndex],N=I[J.vertexIndex],b=z.textureCoordsIndex,Y=$.textureCoordsIndex,j=J.textureCoordsIndex,Q=b===-1?{u:0,v:1}:w[b],q=Y===-1?{u:0,v:0}:w[Y],tt=j===-1?{u:1,v:1}:w[j],it=16777215;H.material!==""&&R[H.material]&&(it=R[H.material]);var st=new r(W.x*f,W.y*f,W.z*f,Q.u,Q.v,it).transformMat4(i),lt=new r(K.x*f,K.y*f,K.z*f,q.u,q.v,it).transformMat4(i),ut=new r(N.x*f,N.y*f,N.z*f,tt.u,tt.v,it).transformMat4(i);T.verts.push(st,lt,ut),T.faces.push(new u(st,lt,ut))}return a&&(a.faces=a.faces.concat(T.faces),a.vertices=a.vertices.concat(T.verts)),T};p.exports=l},67623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(18693),v=t(85769),o=function(r,s,e,i,l,n,a,f){if(i===void 0&&(i=!1),n===void 0&&(n=16777215),a===void 0&&(a=1),f===void 0&&(f=!1),r.length!==s.length&&!i){console.warn("GenerateVerts: vertices and uvs count not equal");return}var h={faces:[],vertices:[]},d,c,g,x,m,y,T,R,P,D,I,w=i?3:2,U=Array.isArray(n),G=Array.isArray(a);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var H=e[d],z=e[d]*2,$=e[d]*w;c=r[$],g=r[$+1],x=i?r[$+2]:0,m=s[z],y=s[z+1],f&&(y=1-y),T=U?n[H]:n,R=G?a[H]:a,P=0,D=0,I=0,l&&(P=l[$],D=l[$+1],I=i?l[$+2]:0),h.vertices.push(new v(c,g,x,m,y,T,R,P,D,I))}else{var J=0,W=0;for(d=0;d<r.length;d+=w)c=r[d],g=r[d+1],x=i?r[d+2]:0,m=s[J],y=s[J+1],T=U?n[W]:n,R=G?a[W]:a,P=0,D=0,I=0,l&&(P=l[d],D=l[d+1],I=i?l[d+2]:0),h.vertices.push(new v(c,g,x,m,y,T,R,P,D,I)),J+=2,W++}for(d=0;d<h.vertices.length;d+=3){var K=h.vertices[d],N=h.vertices[d+1],b=h.vertices[d+2];h.faces.push(new u(K,N,b))}return h};p.exports=o},27291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",u="",v="";function o(c){var g=c.indexOf("#");return g>-1?c.substring(0,g):c}function r(c){return c.models.length===0&&c.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),u="",c.models[c.models.length-1]}function s(c,g){var x=c.length>=2?c[1]:t;g.models.push({faces:[],name:x,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function e(c){c.length===2&&(u=c[1])}function i(c,g){var x=c.length,m=x>=2?parseFloat(c[1]):0,y=x>=3?parseFloat(c[2]):0,T=x>=4?parseFloat(c[3]):0;r(g).vertices.push({x:m,y,z:T})}function l(c,g){var x=c.length,m=x>=2?parseFloat(c[1]):0,y=x>=3?parseFloat(c[2]):0,T=x>=4?parseFloat(c[3]):0;isNaN(m)&&(m=0),isNaN(y)&&(y=0),isNaN(T)&&(T=0),S&&(y=1-y),r(g).textureCoords.push({u:m,v:y,w:T})}function n(c,g){var x=c.length,m=x>=2?parseFloat(c[1]):0,y=x>=3?parseFloat(c[2]):0,T=x>=4?parseFloat(c[3]):0;r(g).vertexNormals.push({x:m,y,z:T})}function a(c,g){var x=c.length-1;if(!(x<3)){for(var m={group:u,material:v,vertices:[]},y=0;y<x;y++){var T=c[y+1],R=T.split("/"),P=R.length;if(!(P<1||P>3)){var D=0,I=0,w=0;D=parseInt(R[0],10),P>1&&R[1]!==""&&(I=parseInt(R[1],10)),P>2&&(w=parseInt(R[2],10)),D!==0&&(D<0&&(D=r(g).vertices.length+1+D),I-=1,D-=1,w-=1,m.vertices.push({textureCoordsIndex:I,vertexIndex:D,vertexNormalIndex:w}))}}r(g).faces.push(m)}}function f(c,g){c.length>=2&&g.materialLibraries.push(c[1])}function h(c){c.length>=2&&(v=c[1])}var d=function(c,g){g===void 0&&(g=!0),S=g;var x={materials:{},materialLibraries:[],models:[]};u="",v="";for(var m=c.split(`
`),y=0;y<m.length;y++){var T=o(m[y]),R=T.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":s(R,x);break;case"g":e(R);break;case"v":i(R,x);break;case"vt":l(R,x);break;case"vn":n(R,x);break;case"f":a(R,x);break;case"mtllib":f(R,x);break;case"usemtl":h(R);break}}return x};p.exports=d},76799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22946),v=function(o){for(var r={},s=o.split(`
`),e="",i=0;i<s.length;i++){var l=s[i].trim();if(!(l.indexOf("#")===0||l==="")){var n=l.replace(/\s\s+/g," ").trim().split(" ");switch(n[0].toLowerCase()){case"newmtl":{e=n[1];break}case"kd":{var a=Math.floor(n[1]*255),f=n.length>=2?Math.floor(n[2]*255):a,h=n.length>=3?Math.floor(n[3]*255):a;r[e]=u(a,f,h);break}}}}return r};p.exports=v},15313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r,s;if(v===void 0&&o===void 0){var e=t.getInCenter();r=e.x,s=e.y}var i=Math.cos(u),l=Math.sin(u),n=t.vertex1,a=t.vertex2,f=t.vertex3,h=n.x-r,d=n.y-s;n.set(h*i-d*l+r,h*l+d*i+s),h=a.x-r,d=a.y-s,a.set(h*i-d*l+r,h*l+d*i+s),h=f.x-r,d=f.y-s,f.set(h*i-d*l+r,h*l+d*i+s)};p.exports=S},85769:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(75512),o=t(70015),r=new u({Extends:o,initialize:function(e,i,l,n,a,f,h,d,c,g){f===void 0&&(f=16777215),h===void 0&&(h=1),d===void 0&&(d=0),c===void 0&&(c=0),g===void 0&&(g=0),o.call(this,e,i,l),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=c,this.nz=g,this.u=n,this.v=a,this.color=f,this.alpha=h,this.tx=0,this.ty=0,this.ta=0,this.tu=n,this.tv=a},setUVs:function(s,e){return this.u=s,this.v=e,this.tu=s,this.tv=e,this},scrollUV:function(s,e){return this.tu+=s,this.tv+=e,this},scaleUV:function(s,e){return this.tu=this.u*s,this.tv=this.v*e,this},transformCoordinatesLocal:function(s,e,i,l){var n=this.x,a=this.y,f=this.z,h=s.val,d=n*h[0]+a*h[4]+f*h[8]+h[12],c=n*h[1]+a*h[5]+f*h[9]+h[13],g=n*h[2]+a*h[6]+f*h[10]+h[14],x=n*h[3]+a*h[7]+f*h[11]+h[15];this.vx=d/x*e,this.vy=-(c/x)*i,l<=0?this.vz=g/x:this.vz=-(g/x)},resize:function(s,e,i,l,n,a){return this.x=s,this.y=e,this.vx=this.x*i,this.vy=-this.y*l,this.vz=0,n<.5?this.vx+=i*(.5-n):n>.5&&(this.vx-=i*(n-.5)),a<.5?this.vy+=l*(.5-a):a>.5&&(this.vy-=l*(a-.5)),this},update:function(s,e,i,l,n,a,f,h){var d=this.vx*s+this.vy*i+n,c=this.vx*e+this.vy*l+a;return f&&(d=Math.round(d),c=Math.round(c)),this.tx=d,this.ty=c,this.ta=this.alpha*h,this},load:function(s,e,i,l,n){return s[++i]=this.tx,s[++i]=this.ty,s[++i]=this.tu,s[++i]=this.tv,s[++i]=l,s[++i]=n,e[++i]=v.getTintAppendFloatAlpha(this.color,this.ta),i}});p.exports=r},14293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Face:t(18693),GenerateGridVerts:t(99425),GenerateObjVerts:t(53267),GenerateVerts:t(67623),ParseObj:t(27291),ParseObjMaterial:t(76799),RotateFace:t(15313),Vertex:t(85769)};p.exports=u},77601:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=S},38933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o){return new u(o.x,o.y)};p.exports=v},47103:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u.setTo(t.x,t.y)};p.exports=S},13625:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x===u.x&&t.y===u.y};p.exports=S},12536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=S},54205:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){if(r===void 0&&(r=new u),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var s=o.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)r.x=o[0].x,r.y=o[0].y;else{for(var e=0;e<s;e++)r.x+=o[e].x,r.y+=o[e].y;r.x/=s,r.y/=s}return r};p.exports=v},50083:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=S},82712:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};p.exports=S},20052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=function(o,r){r===void 0&&(r=new u);for(var s=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,n=0;n<o.length;n++){var a=o[n];a.x>s&&(s=a.x),a.x<e&&(e=a.x),a.y>i&&(i=a.y),a.y<l&&(l=a.y)}return r.x=e,r.y=l,r.width=s-e,r.height=i-l,r};p.exports=v},77154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r,s,e){return s===void 0&&(s=0),e===void 0&&(e=new u),e.x=o.x+(r.x-o.x)*s,e.y=o.y+(r.y-o.y)*s,e};p.exports=v},42397:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};p.exports=S},59464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){return r===void 0&&(r=new u),r.setTo(-o.x,-o.y)};p.exports=v},79967:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(52394),o=new u({initialize:function(s,e){s===void 0&&(s=0),e===void 0&&(e=s),this.type=v.POINT,this.x=s,this.y=e},setTo:function(r,s){return r===void 0&&(r=0),s===void 0&&(s=r),this.x=r,this.y=s,this}});p.exports=o},53581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=t(82712),o=function(r,s,e){e===void 0&&(e=new u);var i=r.x*s.x+r.y*s.y,l=i/v(s);return l!==0&&(e.x=l*s.x,e.y=l*s.y),e};p.exports=o},50817:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r,s){s===void 0&&(s=new u);var e=o.x*r.x+o.y*r.y;return e!==0&&(s.x=e*r.x,s.y=e*r.y),s};p.exports=v},40525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50083),v=function(o,r){if(o.x!==0||o.y!==0){var s=u(o);o.x/=s,o.y/=s}return o.x*=r,o.y*=r,o};p.exports=v},63472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967);u.Ceil=t(77601),u.Clone=t(38933),u.CopyFrom=t(47103),u.Equals=t(13625),u.Floor=t(12536),u.GetCentroid=t(54205),u.GetMagnitude=t(50083),u.GetMagnitudeSq=t(82712),u.GetRectangleFromPoints=t(20052),u.Interpolate=t(77154),u.Invert=t(42397),u.Negative=t(59464),u.Project=t(53581),u.ProjectUnit=t(50817),u.SetMagnitude=t(40525),p.exports=u},19631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8580),v=function(o){return new u(o.points)};p.exports=v},45604:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){for(var o=!1,r=-1,s=t.points.length-1;++r<t.points.length;s=r){var e=t.points[r].x,i=t.points[r].y,l=t.points[s].x,n=t.points[s].y;(i<=v&&v<n||n<=v&&v<i)&&u<(l-e)*(v-i)/(n-i)+e&&(o=!o)}return o};p.exports=S},87289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45604),v=function(o,r){return u(o,r.x,r.y)};p.exports=v},11117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(W,K,N){N=N||2;var b=K&&K.length,Y=b?K[0]*N:W.length,j=t(W,0,Y,N,!0),Q=[];if(!j||j.next===j.prev)return Q;var q,tt,it,st,lt,ut,vt;if(b&&(j=i(W,K,j,N)),W.length>80*N){q=it=W[0],tt=st=W[1];for(var ft=N;ft<Y;ft+=N)lt=W[ft],ut=W[ft+1],lt<q&&(q=lt),ut<tt&&(tt=ut),lt>it&&(it=lt),ut>st&&(st=ut);vt=Math.max(it-q,st-tt),vt=vt!==0?32767/vt:0}return v(j,Q,N,q,tt,vt,0),Q}function t(W,K,N,b,Y){var j,Q;if(Y===J(W,K,N,b)>0)for(j=K;j<N;j+=b)Q=H(j,W[j],W[j+1],Q);else for(j=N-b;j>=K;j-=b)Q=H(j,W[j],W[j+1],Q);return Q&&T(Q,Q.next)&&(z(Q),Q=Q.next),Q}function u(W,K){if(!W)return W;K||(K=W);var N=W,b;do if(b=!1,!N.steiner&&(T(N,N.next)||y(N.prev,N,N.next)===0)){if(z(N),N=K=N.prev,N===N.next)break;b=!0}else N=N.next;while(b||N!==K);return K}function v(W,K,N,b,Y,j,Q){if(W){!Q&&j&&h(W,b,Y,j);for(var q=W,tt,it;W.prev!==W.next;){if(tt=W.prev,it=W.next,j?r(W,b,Y,j):o(W)){K.push(tt.i/N|0),K.push(W.i/N|0),K.push(it.i/N|0),z(W),W=it.next,q=it.next;continue}if(W=it,W===q){Q?Q===1?(W=s(u(W),K,N),v(W,K,N,b,Y,j,2)):Q===2&&e(W,K,N,b,Y,j):v(u(W),K,N,b,Y,j,1);break}}}}function o(W){var K=W.prev,N=W,b=W.next;if(y(K,N,b)>=0)return!1;for(var Y=K.x,j=N.x,Q=b.x,q=K.y,tt=N.y,it=b.y,st=Y<j?Y<Q?Y:Q:j<Q?j:Q,lt=q<tt?q<it?q:it:tt<it?tt:it,ut=Y>j?Y>Q?Y:Q:j>Q?j:Q,vt=q>tt?q>it?q:it:tt>it?tt:it,ft=b.next;ft!==K;){if(ft.x>=st&&ft.x<=ut&&ft.y>=lt&&ft.y<=vt&&x(Y,q,j,tt,Q,it,ft.x,ft.y)&&y(ft.prev,ft,ft.next)>=0)return!1;ft=ft.next}return!0}function r(W,K,N,b){var Y=W.prev,j=W,Q=W.next;if(y(Y,j,Q)>=0)return!1;for(var q=Y.x,tt=j.x,it=Q.x,st=Y.y,lt=j.y,ut=Q.y,vt=q<tt?q<it?q:it:tt<it?tt:it,ft=st<lt?st<ut?st:ut:lt<ut?lt:ut,Et=q>tt?q>it?q:it:tt>it?tt:it,It=st>lt?st>ut?st:ut:lt>ut?lt:ut,Nt=c(vt,ft,K,N,b),Dt=c(Et,It,K,N,b),pt=W.prevZ,Pt=W.nextZ;pt&&pt.z>=Nt&&Pt&&Pt.z<=Dt;){if(pt.x>=vt&&pt.x<=Et&&pt.y>=ft&&pt.y<=It&&pt!==Y&&pt!==Q&&x(q,st,tt,lt,it,ut,pt.x,pt.y)&&y(pt.prev,pt,pt.next)>=0||(pt=pt.prevZ,Pt.x>=vt&&Pt.x<=Et&&Pt.y>=ft&&Pt.y<=It&&Pt!==Y&&Pt!==Q&&x(q,st,tt,lt,it,ut,Pt.x,Pt.y)&&y(Pt.prev,Pt,Pt.next)>=0))return!1;Pt=Pt.nextZ}for(;pt&&pt.z>=Nt;){if(pt.x>=vt&&pt.x<=Et&&pt.y>=ft&&pt.y<=It&&pt!==Y&&pt!==Q&&x(q,st,tt,lt,it,ut,pt.x,pt.y)&&y(pt.prev,pt,pt.next)>=0)return!1;pt=pt.prevZ}for(;Pt&&Pt.z<=Dt;){if(Pt.x>=vt&&Pt.x<=Et&&Pt.y>=ft&&Pt.y<=It&&Pt!==Y&&Pt!==Q&&x(q,st,tt,lt,it,ut,Pt.x,Pt.y)&&y(Pt.prev,Pt,Pt.next)>=0)return!1;Pt=Pt.nextZ}return!0}function s(W,K,N){var b=W;do{var Y=b.prev,j=b.next.next;!T(Y,j)&&R(Y,b,b.next,j)&&w(Y,j)&&w(j,Y)&&(K.push(Y.i/N|0),K.push(b.i/N|0),K.push(j.i/N|0),z(b),z(b.next),b=W=j),b=b.next}while(b!==W);return u(b)}function e(W,K,N,b,Y,j){var Q=W;do{for(var q=Q.next.next;q!==Q.prev;){if(Q.i!==q.i&&m(Q,q)){var tt=G(Q,q);Q=u(Q,Q.next),tt=u(tt,tt.next),v(Q,K,N,b,Y,j,0),v(tt,K,N,b,Y,j,0);return}q=q.next}Q=Q.next}while(Q!==W)}function i(W,K,N,b){var Y=[],j,Q,q,tt,it;for(j=0,Q=K.length;j<Q;j++)q=K[j]*b,tt=j<Q-1?K[j+1]*b:W.length,it=t(W,q,tt,b,!1),it===it.next&&(it.steiner=!0),Y.push(g(it));for(Y.sort(l),j=0;j<Y.length;j++)N=n(Y[j],N);return N}function l(W,K){return W.x-K.x}function n(W,K){var N=a(W,K);if(!N)return K;var b=G(N,W);return u(b,b.next),u(N,N.next)}function a(W,K){var N=K,b=W.x,Y=W.y,j=-1/0,Q;do{if(Y<=N.y&&Y>=N.next.y&&N.next.y!==N.y){var q=N.x+(Y-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(q<=b&&q>j&&(j=q,Q=N.x<N.next.x?N:N.next,q===b))return Q}N=N.next}while(N!==K);if(!Q)return null;var tt=Q,it=Q.x,st=Q.y,lt=1/0,ut;N=Q;do b>=N.x&&N.x>=it&&b!==N.x&&x(Y<st?b:j,Y,it,st,Y<st?j:b,Y,N.x,N.y)&&(ut=Math.abs(Y-N.y)/(b-N.x),w(N,W)&&(ut<lt||ut===lt&&(N.x>Q.x||N.x===Q.x&&f(Q,N)))&&(Q=N,lt=ut)),N=N.next;while(N!==tt);return Q}function f(W,K){return y(W.prev,W,K.prev)<0&&y(K.next,W,W.next)<0}function h(W,K,N,b){var Y=W;do Y.z===0&&(Y.z=c(Y.x,Y.y,K,N,b)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==W);Y.prevZ.nextZ=null,Y.prevZ=null,d(Y)}function d(W){var K,N,b,Y,j,Q,q,tt,it=1;do{for(N=W,W=null,j=null,Q=0;N;){for(Q++,b=N,q=0,K=0;K<it&&(q++,b=b.nextZ,!!b);K++);for(tt=it;q>0||tt>0&&b;)q!==0&&(tt===0||!b||N.z<=b.z)?(Y=N,N=N.nextZ,q--):(Y=b,b=b.nextZ,tt--),j?j.nextZ=Y:W=Y,Y.prevZ=j,j=Y;N=b}j.nextZ=null,it*=2}while(Q>1);return W}function c(W,K,N,b,Y){return W=(W-N)*Y|0,K=(K-b)*Y|0,W=(W|W<<8)&16711935,W=(W|W<<4)&252645135,W=(W|W<<2)&858993459,W=(W|W<<1)&1431655765,K=(K|K<<8)&16711935,K=(K|K<<4)&252645135,K=(K|K<<2)&858993459,K=(K|K<<1)&1431655765,W|K<<1}function g(W){var K=W,N=W;do(K.x<N.x||K.x===N.x&&K.y<N.y)&&(N=K),K=K.next;while(K!==W);return N}function x(W,K,N,b,Y,j,Q,q){return(Y-Q)*(K-q)>=(W-Q)*(j-q)&&(W-Q)*(b-q)>=(N-Q)*(K-q)&&(N-Q)*(j-q)>=(Y-Q)*(b-q)}function m(W,K){return W.next.i!==K.i&&W.prev.i!==K.i&&!I(W,K)&&(w(W,K)&&w(K,W)&&U(W,K)&&(y(W.prev,W,K.prev)||y(W,K.prev,K))||T(W,K)&&y(W.prev,W,W.next)>0&&y(K.prev,K,K.next)>0)}function y(W,K,N){return(K.y-W.y)*(N.x-K.x)-(K.x-W.x)*(N.y-K.y)}function T(W,K){return W.x===K.x&&W.y===K.y}function R(W,K,N,b){var Y=D(y(W,K,N)),j=D(y(W,K,b)),Q=D(y(N,b,W)),q=D(y(N,b,K));return!!(Y!==j&&Q!==q||Y===0&&P(W,N,K)||j===0&&P(W,b,K)||Q===0&&P(N,W,b)||q===0&&P(N,K,b))}function P(W,K,N){return K.x<=Math.max(W.x,N.x)&&K.x>=Math.min(W.x,N.x)&&K.y<=Math.max(W.y,N.y)&&K.y>=Math.min(W.y,N.y)}function D(W){return W>0?1:W<0?-1:0}function I(W,K){var N=W;do{if(N.i!==W.i&&N.next.i!==W.i&&N.i!==K.i&&N.next.i!==K.i&&R(N,N.next,W,K))return!0;N=N.next}while(N!==W);return!1}function w(W,K){return y(W.prev,W,W.next)<0?y(W,K,W.next)>=0&&y(W,W.prev,K)>=0:y(W,K,W.prev)<0||y(W,W.next,K)<0}function U(W,K){var N=W,b=!1,Y=(W.x+K.x)/2,j=(W.y+K.y)/2;do N.y>j!=N.next.y>j&&N.next.y!==N.y&&Y<(N.next.x-N.x)*(j-N.y)/(N.next.y-N.y)+N.x&&(b=!b),N=N.next;while(N!==W);return b}function G(W,K){var N=new $(W.i,W.x,W.y),b=new $(K.i,K.x,K.y),Y=W.next,j=K.prev;return W.next=K,K.prev=W,N.next=Y,Y.prev=N,b.next=N,N.prev=b,j.next=b,b.prev=j,b}function H(W,K,N,b){var Y=new $(W,K,N);return b?(Y.next=b.next,Y.prev=b,b.next.prev=Y,b.next=Y):(Y.prev=Y,Y.next=Y),Y}function z(W){W.next.prev=W.prev,W.prev.next=W.next,W.prevZ&&(W.prevZ.nextZ=W.nextZ),W.nextZ&&(W.nextZ.prevZ=W.prevZ)}function $(W,K,N){this.i=W,this.x=K,this.y=N,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(W,K,N,b){var Y=K&&K.length,j=Y?K[0]*N:W.length,Q=Math.abs(J(W,0,j,N));if(Y)for(var q=0,tt=K.length;q<tt;q++){var it=K[q]*N,st=q<tt-1?K[q+1]*N:W.length;Q-=Math.abs(J(W,it,st,N))}var lt=0;for(q=0;q<b.length;q+=3){var ut=b[q]*N,vt=b[q+1]*N,ft=b[q+2]*N;lt+=Math.abs((W[ut]-W[ft])*(W[vt+1]-W[ut+1])-(W[ut]-W[vt])*(W[ft+1]-W[ut+1]))}return Q===0&&lt===0?0:Math.abs((lt-Q)/Q)};function J(W,K,N,b){for(var Y=0,j=K,Q=N-b;j<N;j+=b)Y+=(W[Q]-W[j])*(W[j+1]+W[Q+1]),Q=j;return Y}S.flatten=function(W){for(var K=W[0][0].length,N={vertices:[],holes:[],dimensions:K},b=0,Y=0;Y<W.length;Y++){for(var j=0;j<W[Y].length;j++)for(var Q=0;Q<K;Q++)N.vertices.push(W[Y][j][Q]);Y>0&&(b+=W[Y-1].length,N.holes.push(b))}return N},p.exports=S},14045:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=function(o,r){r===void 0&&(r=new u);for(var s=1/0,e=1/0,i=-s,l=-e,n,a=0;a<o.points.length;a++)n=o.points[a],s=Math.min(s,n.x),e=Math.min(e,n.y),i=Math.max(i,n.x),l=Math.max(l,n.y);return r.x=s,r.y=e,r.width=i-s,r.height=l-e,r};p.exports=v},98286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u=[]);for(var v=0;v<t.points.length;v++)u.push(t.points[v].x),u.push(t.points[v].y);return u};p.exports=S},89294:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16028),v=t(88829),o=t(5159),r=function(s,e,i,l){l===void 0&&(l=[]);var n=s.points,a=o(s);!e&&i>0&&(e=a/i);for(var f=0;f<e;f++)for(var h=a*(f/e),d=0,c=0;c<n.length;c++){var g=n[c],x=n[(c+1)%n.length],m=new v(g.x,g.y,x.x,x.y),y=u(m);if(h<d||h>d+y){d+=y;continue}var T=m.getPoint((h-d)/y);l.push(T);break}return l};p.exports=r},5159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16028),v=t(88829),o=function(r){for(var s=r.points,e=0,i=0;i<s.length;i++){var l=s[i],n=s[(i+1)%s.length],a=new v(l.x,l.y,n.x,n.y);e+=u(a)}return e};p.exports=o},8580:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(45604),o=t(89294),r=t(52394),s=new u({initialize:function(i){this.type=r.POLYGON,this.area=0,this.points=[],i&&this.setTo(i)},contains:function(e,i){return v(this,e,i)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var i,l=Number.MAX_VALUE,n=0;n<e.length;n++)i={x:0,y:0},typeof e[n]=="number"||typeof e[n]=="string"?(i.x=parseFloat(e[n]),i.y=parseFloat(e[n+1]),n++):Array.isArray(e[n])?(i.x=e[n][0],i.y=e[n][1]):(i.x=e[n].x,i.y=e[n].y),this.points.push(i),i.y<l&&(l=i.y);return this.calculateArea(l),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,i,l,n=0;n<this.points.length-1;n++)i=this.points[n],l=this.points[n+1],e+=(l.x-i.x)*(i.y+l.y);return i=this.points[0],l=this.points[this.points.length-1],e+=(i.x-l.x)*(l.y+i.y),this.area=-e*.5,this.area},getPoints:function(e,i,l){return o(this,e,i,l)}});p.exports=s},32244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};p.exports=S},95874:p=>{function S(s,e){var i=s.x-e.x,l=s.y-e.y;return i*i+l*l}function t(s,e,i){var l=e.x,n=e.y,a=i.x-l,f=i.y-n;if(a!==0||f!==0){var h=((s.x-l)*a+(s.y-n)*f)/(a*a+f*f);h>1?(l=i.x,n=i.y):h>0&&(l+=a*h,n+=f*h)}return a=s.x-l,f=s.y-n,a*a+f*f}function u(s,e){for(var i=s[0],l=[i],n,a=1,f=s.length;a<f;a++)n=s[a],S(n,i)>e&&(l.push(n),i=n);return i!==n&&l.push(n),l}function v(s,e,i,l,n){for(var a=l,f,h=e+1;h<i;h++){var d=t(s[h],s[e],s[i]);d>a&&(f=h,a=d)}a>l&&(f-e>1&&v(s,e,f,l,n),n.push(s[f]),i-f>1&&v(s,f,i,l,n))}function o(s,e){var i=s.length-1,l=[s[0]];return v(s,0,i,e,l),l.push(s[i]),l}var r=function(s,e,i){e===void 0&&(e=1),i===void 0&&(i=!1);var l=s.points;if(l.length>2){var n=e*e;i||(l=u(l,n)),s.setTo(o(l,n))}return s};p.exports=r},18974:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(u,v){return u[0]=v[0],u[1]=v[1],u},t=function(u){var v,o=[],r=u.points;for(v=0;v<r.length;v++)o.push([r[v].x,r[v].y]);var s=[];for(o.length>0&&s.push(S([0,0],o[0])),v=0;v<o.length-1;v++){var e=o[v],i=o[v+1],l=e[0],n=e[1],a=i[0],f=i[1];s.push([.85*l+.15*a,.85*n+.15*f]),s.push([.15*l+.85*a,.15*n+.85*f])}return o.length>1&&s.push(S([0,0],o[o.length-1])),u.setTo(s)};p.exports=t},23490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){for(var o=t.points,r=0;r<o.length;r++)o[r].x+=u,o[r].y+=v;return t};p.exports=S},44359:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8580);u.Clone=t(19631),u.Contains=t(45604),u.ContainsPoint=t(87289),u.Earcut=t(11117),u.GetAABB=t(14045),u.GetNumberArray=t(98286),u.GetPoints=t(89294),u.Perimeter=t(5159),u.Reverse=t(32244),u.Simplify=t(95874),u.Smooth=t(18974),u.Translate=t(23490),p.exports=u},1653:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};p.exports=S},33943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=S},58662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=S},79993:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t.x=u-t.width/2,t.y=v-t.height/2,t};p.exports=S},81572:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=function(o){return new u(o.x,o.y,o.width,o.height)};p.exports=v},94287:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t.width<=0||t.height<=0?!1:t.x<=u&&t.x+t.width>=u&&t.y<=v&&t.y+t.height>=v};p.exports=S},28687:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(94287),v=function(o,r){return u(o,r.x,r.y)};p.exports=v},73222:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u.width*u.height>t.width*t.height?!1:u.x>t.x&&u.x<t.right&&u.right>t.x&&u.right<t.right&&u.y>t.y&&u.y<t.bottom&&u.bottom>t.y&&u.bottom<t.bottom};p.exports=S},29538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u.setTo(t.x,t.y,t.width,t.height)};p.exports=S},87279:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===void 0&&(u=[]),u.push({x:t.x,y:t.y}),u.push({x:t.right,y:t.y}),u.push({x:t.right,y:t.bottom}),u.push({x:t.x,y:t.bottom}),u};p.exports=S},19989:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x===u.x&&t.y===u.y&&t.width===u.width&&t.height===u.height};p.exports=S},92628:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6700),v=function(o,r){var s=u(o);return s<u(r)?o.setSize(r.height*s,r.height):o.setSize(r.width,r.width/s),o.setPosition(r.centerX-o.width/2,r.centerY-o.height/2)};p.exports=v},85028:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6700),v=function(o,r){var s=u(o);return s>u(r)?o.setSize(r.height*s,r.height):o.setSize(r.width,r.width/s),o.setPosition(r.centerX-o.width/2,r.centerY-o.height/2)};p.exports=v},71356:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=S},21687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=S},80222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=t(83392),o=function(r,s){if(s===void 0&&(s=new u),r.length===0)return s;for(var e=Number.MAX_VALUE,i=Number.MAX_VALUE,l=v.MIN_SAFE_INTEGER,n=v.MIN_SAFE_INTEGER,a,f,h,d=0;d<r.length;d++)a=r[d],Array.isArray(a)?(f=a[0],h=a[1]):(f=a.x,h=a.y),e=Math.min(e,f),i=Math.min(i,h),l=Math.max(l,f),n=Math.max(n,h);return s.x=e,s.y=i,s.width=l-e,s.height=n-i,s};p.exports=o},75785:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=function(o,r,s,e,i){return i===void 0&&(i=new u),i.setTo(Math.min(o,s),Math.min(r,e),Math.abs(o-s),Math.abs(r-e))};p.exports=v},6700:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};p.exports=S},35242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){return r===void 0&&(r=new u),r.x=o.centerX,r.y=o.centerY,r};p.exports=v},47698:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85876),v=t(79967),o=function(r,s,e){if(e===void 0&&(e=new v),s<=0||s>=1)return e.x=r.x,e.y=r.y,e;var i=u(r)*s;return s>.5?(i-=r.width+r.height,i<=r.width?(e.x=r.right-i,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(i-r.width))):i<=r.width?(e.x=r.x+i,e.y=r.y):(e.x=r.right,e.y=r.y+(i-r.width)),e};p.exports=o},54932:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(47698),v=t(85876),o=function(r,s,e,i){i===void 0&&(i=[]),!s&&e>0&&(s=v(r)/e);for(var l=0;l<s;l++){var n=l/s;i.push(u(r,n))}return i};p.exports=o},31591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){return r===void 0&&(r=new u),r.x=o.width,r.y=o.height,r};p.exports=v},7782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79993),v=function(o,r,s){var e=o.centerX,i=o.centerY;return o.setSize(o.width+r*2,o.height+s*2),u(o,e,i)};p.exports=v},66217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=t(90205),o=function(r,s,e){return e===void 0&&(e=new u),v(r,s)?(e.x=Math.max(r.x,s.x),e.y=Math.max(r.y,s.y),e.width=Math.min(r.right,s.right)-e.x,e.height=Math.min(r.bottom,s.bottom)-e.y):e.setEmpty(),e};p.exports=o},40053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85876),v=t(79967),o=function(r,s,e,i){if(i===void 0&&(i=[]),!s&&!e)return i;s?e=Math.round(u(r)/s):s=u(r)/e;for(var l=r.x,n=r.y,a=0,f=0;f<e;f++)switch(i.push(new v(l,n)),a){case 0:l+=s,l>=r.right&&(a=1,n+=l-r.right,l=r.right);break;case 1:n+=s,n>=r.bottom&&(a=2,l-=n-r.bottom,n=r.bottom);break;case 2:l-=s,l<=r.left&&(a=3,n-=r.left-l,l=r.left);break;case 3:n-=s,n<=r.top&&(a=0,n=r.top);break}return i};p.exports=o},86673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){for(var v=t.x,o=t.right,r=t.y,s=t.bottom,e=0;e<u.length;e++)v=Math.min(v,u[e].x),o=Math.max(o,u[e].x),r=Math.min(r,u[e].y),s=Math.max(s,u[e].y);return t.x=v,t.y=r,t.width=o-v,t.height=s-r,t};p.exports=S},14655:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=Math.min(t.x,u.x),o=Math.max(t.right,u.right);t.x=v,t.width=o-v;var r=Math.min(t.y,u.y),s=Math.max(t.bottom,u.bottom);return t.y=r,t.height=s-r,t};p.exports=S},44755:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=Math.min(t.x,u),r=Math.max(t.right,u);t.x=o,t.width=r-o;var s=Math.min(t.y,v),e=Math.max(t.bottom,v);return t.y=s,t.height=e-s,t};p.exports=S},74466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t.x+=u,t.y+=v,t};p.exports=S},55946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x+=u.x,t.y+=u.y,t};p.exports=S},97474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x<u.right&&t.right>u.x&&t.y<u.bottom&&t.bottom>u.y};p.exports=S},85876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};p.exports=S},20243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=t(75606),o=function(r,s,e){e===void 0&&(e=new u),s=v(s);var i=Math.sin(s),l=Math.cos(s),n=l>0?r.width/2:r.width/-2,a=i>0?r.height/2:r.height/-2;return Math.abs(n*i)<Math.abs(a*l)?a=n*i/l:n=a*l/i,e.x=n+r.centerX,e.y=a+r.centerY,e};p.exports=o},30001:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){return r===void 0&&(r=new u),r.x=o.x+Math.random()*o.width,r.y=o.y+Math.random()*o.height,r};p.exports=v},97691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(17489),v=t(73222),o=t(79967),r=function(s,e,i){if(i===void 0&&(i=new o),v(s,e))switch(u(0,3)){case 0:i.x=s.x+Math.random()*(e.right-s.x),i.y=s.y+Math.random()*(e.top-s.y);break;case 1:i.x=e.x+Math.random()*(s.right-e.x),i.y=e.bottom+Math.random()*(s.bottom-e.bottom);break;case 2:i.x=s.x+Math.random()*(e.x-s.x),i.y=e.y+Math.random()*(s.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(s.right-e.right),i.y=s.y+Math.random()*(e.bottom-s.y);break}return i};p.exports=r},74118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(94287),o=t(47698),r=t(54932),s=t(52394),e=t(88829),i=t(30001),l=new u({initialize:function(a,f,h,d){a===void 0&&(a=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),this.type=s.RECTANGLE,this.x=a,this.y=f,this.width=h,this.height=d},contains:function(n,a){return v(this,n,a)},getPoint:function(n,a){return o(this,n,a)},getPoints:function(n,a,f){return r(this,n,a,f)},getRandomPoint:function(n){return i(this,n)},setTo:function(n,a,f,h){return this.x=n,this.y=a,this.width=f,this.height=h,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(n,a){return a===void 0&&(a=n),this.x=n,this.y=a,this},setSize:function(n,a){return a===void 0&&(a=n),this.width=n,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.y,this.right,this.y),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.y,this.right,this.bottom),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.bottom,this.x,this.bottom),n},getLineD:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.bottom,this.x,this.y),n},left:{get:function(){return this.x},set:function(n){n>=this.right?this.width=0:this.width=this.right-n,this.x=n}},right:{get:function(){return this.x+this.width},set:function(n){n<=this.x?this.width=0:this.width=n-this.x}},top:{get:function(){return this.y},set:function(n){n>=this.bottom?this.height=0:this.height=this.bottom-n,this.y=n}},bottom:{get:function(){return this.y+this.height},set:function(n){n<=this.y?this.height=0:this.height=n-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(n){this.x=n-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(n){this.y=n-this.height/2}}});p.exports=l},51828:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.width===u.width&&t.height===u.height};p.exports=S},5691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return v===void 0&&(v=u),t.width*=u,t.height*=v,t};p.exports=S},58795:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=function(o,r,s){s===void 0&&(s=new u);var e=Math.min(o.x,r.x),i=Math.min(o.y,r.y),l=Math.max(o.right,r.right)-e,n=Math.max(o.bottom,r.bottom)-i;return s.setTo(e,i,l,n)};p.exports=v},66658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118);u.Area=t(1653),u.Ceil=t(33943),u.CeilAll=t(58662),u.CenterOn=t(79993),u.Clone=t(81572),u.Contains=t(94287),u.ContainsPoint=t(28687),u.ContainsRect=t(73222),u.CopyFrom=t(29538),u.Decompose=t(87279),u.Equals=t(19989),u.FitInside=t(92628),u.FitOutside=t(85028),u.Floor=t(71356),u.FloorAll=t(21687),u.FromPoints=t(80222),u.FromXY=t(75785),u.GetAspectRatio=t(6700),u.GetCenter=t(35242),u.GetPoint=t(47698),u.GetPoints=t(54932),u.GetSize=t(31591),u.Inflate=t(7782),u.Intersection=t(66217),u.MarchingAnts=t(40053),u.MergePoints=t(86673),u.MergeRect=t(14655),u.MergeXY=t(44755),u.Offset=t(74466),u.OffsetPoint=t(55946),u.Overlaps=t(97474),u.Perimeter=t(85876),u.PerimeterPoint=t(20243),u.Random=t(30001),u.RandomOutside=t(97691),u.SameDimensions=t(51828),u.Scale=t(5691),u.Union=t(58795),p.exports=u},19108:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u=t.x1,v=t.y1,o=t.x2,r=t.y2,s=t.x3,e=t.y3;return Math.abs(((s-u)*(r-v)-(o-u)*(e-v))/2)};p.exports=S},41199:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66349),v=function(o,r,s){var e=s*(Math.sqrt(3)/2),i=o,l=r,n=o+s/2,a=r+e,f=o-s/2,h=r+e;return new u(i,l,n,a,f,h)};p.exports=v},88730:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(11117),v=t(66349),o=function(r,s,e,i,l){s===void 0&&(s=null),e===void 0&&(e=1),i===void 0&&(i=1),l===void 0&&(l=[]);for(var n=u(r,s),a,f,h,d,c,g,x,m,y,T=0;T<n.length;T+=3)a=n[T],f=n[T+1],h=n[T+2],d=r[a*2]*e,c=r[a*2+1]*i,g=r[f*2]*e,x=r[f*2+1]*i,m=r[h*2]*e,y=r[h*2+1]*i,l.push(new v(d,c,g,x,m,y));return l};p.exports=o},3635:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66349),v=function(o,r,s,e){e===void 0&&(e=s);var i=o,l=r,n=o,a=r-e,f=o+s,h=r;return new u(i,l,n,a,f,h)};p.exports=v},1882:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56595),v=t(9640),o=function(r,s,e,i){i===void 0&&(i=u);var l=i(r),n=s-l.x,a=e-l.y;return v(r,n,a)};p.exports=o},56595:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){return r===void 0&&(r=new u),r.x=(o.x1+o.x2+o.x3)/3,r.y=(o.y1+o.y2+o.y3)/3,r};p.exports=v},91835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736);function v(r,s,e,i){return r*i-s*e}var o=function(r,s){s===void 0&&(s=new u);var e=r.x3,i=r.y3,l=r.x1-e,n=r.y1-i,a=r.x2-e,f=r.y2-i,h=2*v(l,n,a,f),d=v(n,l*l+n*n,f,a*a+f*f),c=v(l,l*l+n*n,a,a*a+f*f);return s.x=e-d/h,s.y=i+c/h,s};p.exports=o},97073:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26673),v=function(o,r){r===void 0&&(r=new u);var s=o.x1,e=o.y1,i=o.x2,l=o.y2,n=o.x3,a=o.y3,f=i-s,h=l-e,d=n-s,c=a-e,g=f*(s+i)+h*(e+l),x=d*(s+n)+c*(e+a),m=2*(f*(a-l)-h*(n-i)),y,T;if(Math.abs(m)<1e-6){var R=Math.min(s,i,n),P=Math.min(e,l,a);y=(Math.max(s,i,n)-R)*.5,T=(Math.max(e,l,a)-P)*.5,r.x=R+y,r.y=P+T,r.radius=Math.sqrt(y*y+T*T)}else r.x=(c*g-h*x)/m,r.y=(f*x-d*g)/m,y=r.x-s,T=r.y-e,r.radius=Math.sqrt(y*y+T*T);return r};p.exports=v},75974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66349),v=function(o){return new u(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};p.exports=v},60689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=t.x3-t.x1,r=t.y3-t.y1,s=t.x2-t.x1,e=t.y2-t.y1,i=u-t.x1,l=v-t.y1,n=o*o+r*r,a=o*s+r*e,f=o*i+r*l,h=s*s+e*e,d=s*i+e*l,c=n*h-a*a,g=c===0?0:1/c,x=(h*f-a*d)*g,m=(n*d-a*f)*g;return x>=0&&m>=0&&x+m<1};p.exports=S},86875:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v===void 0&&(v=!1),o===void 0&&(o=[]);for(var r=t.x3-t.x1,s=t.y3-t.y1,e=t.x2-t.x1,i=t.y2-t.y1,l=r*r+s*s,n=r*e+s*i,a=e*e+i*i,f=l*a-n*n,h=f===0?0:1/f,d,c,g,x,m,y,T=t.x1,R=t.y1,P=0;P<u.length&&(g=u[P].x-T,x=u[P].y-R,m=r*g+s*x,y=e*g+i*x,d=(a*m-n*y)*h,c=(l*y-n*m)*h,!(d>=0&&c>=0&&d+c<1&&(o.push({x:u[P].x,y:u[P].y}),v)));P++);return o};p.exports=S},51532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(60689),v=function(o,r){return u(o,r.x,r.y)};p.exports=v},42538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=S},18680:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===void 0&&(u=[]),u.push({x:t.x1,y:t.y1}),u.push({x:t.x2,y:t.y2}),u.push({x:t.x3,y:t.y3}),u};p.exports=S},29977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.x1===u.x1&&t.y1===u.y1&&t.x2===u.x2&&t.y2===u.y2&&t.x3===u.x3&&t.y3===u.y3};p.exports=S},56088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=t(16028),o=function(r,s,e){e===void 0&&(e=new u);var i=r.getLineA(),l=r.getLineB(),n=r.getLineC();if(s<=0||s>=1)return e.x=i.x1,e.y=i.y1,e;var a=v(i),f=v(l),h=v(n),d=a+f+h,c=d*s,g=0;return c<a?(g=c/a,e.x=i.x1+(i.x2-i.x1)*g,e.y=i.y1+(i.y2-i.y1)*g):c>a+f?(c-=a+f,g=c/h,e.x=n.x1+(n.x2-n.x1)*g,e.y=n.y1+(n.y2-n.y1)*g):(c-=a,g=c/f,e.x=l.x1+(l.x2-l.x1)*g,e.y=l.y1+(l.y2-l.y1)*g),e};p.exports=o},24402:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16028),v=t(79967),o=function(r,s,e,i){i===void 0&&(i=[]);var l=r.getLineA(),n=r.getLineB(),a=r.getLineC(),f=u(l),h=u(n),d=u(a),c=f+h+d;!s&&e>0&&(s=c/e);for(var g=0;g<s;g++){var x=c*(g/s),m=0,y=new v;x<f?(m=x/f,y.x=l.x1+(l.x2-l.x1)*m,y.y=l.y1+(l.y2-l.y1)*m):x>f+h?(x-=f+h,m=x/d,y.x=a.x1+(a.x2-a.x1)*m,y.y=a.y1+(a.y2-a.y1)*m):(x-=f,m=x/h,y.x=n.x1+(n.x2-n.x1)*m,y.y=n.y1+(n.y2-n.y1)*m),i.push(y)}return i};p.exports=o},83648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967);function v(r,s,e,i){var l=r-e,n=s-i,a=l*l+n*n;return Math.sqrt(a)}var o=function(r,s){s===void 0&&(s=new u);var e=r.x1,i=r.y1,l=r.x2,n=r.y2,a=r.x3,f=r.y3,h=v(a,f,l,n),d=v(e,i,a,f),c=v(l,n,e,i),g=h+d+c;return s.x=(e*h+l*d+a*c)/g,s.y=(i*h+n*d+f*c)/g,s};p.exports=o},9640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t.x1+=u,t.y1+=v,t.x2+=u,t.y2+=v,t.x3+=u,t.y3+=v,t};p.exports=S},95290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16028),v=function(o){var r=o.getLineA(),s=o.getLineB(),e=o.getLineC();return u(r)+u(s)+u(e)};p.exports=v},99761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79967),v=function(o,r){r===void 0&&(r=new u);var s=o.x2-o.x1,e=o.y2-o.y1,i=o.x3-o.x1,l=o.y3-o.y1,n=Math.random(),a=Math.random();return n+a>=1&&(n=1-n,a=1-a),r.x=o.x1+(s*n+i*a),r.y=o.y1+(e*n+l*a),r};p.exports=v},21934:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19211),v=t(83648),o=function(r,s){var e=v(r);return u(r,e.x,e.y,s)};p.exports=o},68454:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19211),v=function(o,r,s){return u(o,r.x,r.y,s)};p.exports=v},19211:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=Math.cos(o),s=Math.sin(o),e=t.x1-u,i=t.y1-v;return t.x1=e*r-i*s+u,t.y1=e*s+i*r+v,e=t.x2-u,i=t.y2-v,t.x2=e*r-i*s+u,t.y2=e*s+i*r+v,e=t.x3-u,i=t.y3-v,t.x3=e*r-i*s+u,t.y3=e*s+i*r+v,t};p.exports=S},66349:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(60689),o=t(56088),r=t(24402),s=t(52394),e=t(88829),i=t(99761),l=new u({initialize:function(a,f,h,d,c,g){a===void 0&&(a=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),c===void 0&&(c=0),g===void 0&&(g=0),this.type=s.TRIANGLE,this.x1=a,this.y1=f,this.x2=h,this.y2=d,this.x3=c,this.y3=g},contains:function(n,a){return v(this,n,a)},getPoint:function(n,a){return o(this,n,a)},getPoints:function(n,a,f){return r(this,n,a,f)},getRandomPoint:function(n){return i(this,n)},setTo:function(n,a,f,h,d,c){return n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),c===void 0&&(c=0),this.x1=n,this.y1=a,this.x2=f,this.y2=h,this.x3=d,this.y3=c,this},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x1,this.y1,this.x2,this.y2),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.x2,this.y2,this.x3,this.y3),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.x3,this.y3,this.x1,this.y1),n},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(n){var a=0;this.x1<=this.x2&&this.x1<=this.x3?a=this.x1-n:this.x2<=this.x1&&this.x2<=this.x3?a=this.x2-n:a=this.x3-n,this.x1-=a,this.x2-=a,this.x3-=a}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(n){var a=0;this.x1>=this.x2&&this.x1>=this.x3?a=this.x1-n:this.x2>=this.x1&&this.x2>=this.x3?a=this.x2-n:a=this.x3-n,this.x1-=a,this.x2-=a,this.x3-=a}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(n){var a=0;this.y1<=this.y2&&this.y1<=this.y3?a=this.y1-n:this.y2<=this.y1&&this.y2<=this.y3?a=this.y2-n:a=this.y3-n,this.y1-=a,this.y2-=a,this.y3-=a}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(n){var a=0;this.y1>=this.y2&&this.y1>=this.y3?a=this.y1-n:this.y2>=this.y1&&this.y2>=this.y3?a=this.y2-n:a=this.y3-n,this.y1-=a,this.y2-=a,this.y3-=a}}});p.exports=l},87619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66349);u.Area=t(19108),u.BuildEquilateral=t(41199),u.BuildFromPolygon=t(88730),u.BuildRight=t(3635),u.CenterOn=t(1882),u.Centroid=t(56595),u.CircumCenter=t(91835),u.CircumCircle=t(97073),u.Clone=t(75974),u.Contains=t(60689),u.ContainsArray=t(86875),u.ContainsPoint=t(51532),u.CopyFrom=t(42538),u.Decompose=t(18680),u.Equals=t(29977),u.GetPoint=t(56088),u.GetPoints=t(24402),u.InCenter=t(83648),u.Perimeter=t(95290),u.Offset=t(9640),u.Random=t(99761),u.Rotate=t(21934),u.RotateAroundPoint=t(68454),u.RotateAroundXY=t(19211),p.exports=u},27395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};p.exports=S},18104:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return function(v,o,r,s){var e=t.getPixelAlpha(o,r,s.texture.key,s.frame.name);return e&&e>=u}};p.exports=S},69898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72687),o=t(6659),r=t(33963),s=t(97081),e=t(71064),i=t(7905),l=t(40398),n=t(37579),a=t(69360),f=t(64462),h=new u({initialize:function(c,g){this.game=c,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new e(this):null,this.mouse=g.inputMouse?new i(this):null,this.touch=g.inputTouch?new n(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers,g.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var x=0;x<=this.pointersTotal;x++){var m=new l(this,x);m.smoothFactor=g.inputSmoothFactor,this.pointers.push(m)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new a,this._tempMatrix2=new a,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],c.events.once(s.BOOT,this.boot,this)},boot:function(){var d=this.game,c=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(r.MANAGER_BOOT),c.on(s.PRE_RENDER,this.preRender,this),c.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(r.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(r.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,c=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(r.MANAGER_UPDATE);for(var x=0;x<g.length;x++){var m=g[x];if(m.sys.input&&m.sys.input.updatePoll(d,c)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var c=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var g=0;g<d;g++){var x=this.pointers.length,m=new l(this,x);m.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(m),this.pointersTotal++,c.push(m)}return c},updateInputPlugins:function(d,c){var g=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var x=0;x<g.length;x++){var m=g[x];if(m.sys.input){var y=m.sys.input.update(d,c);if(y&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var c=this.pointers,g=[],x=0;x<d.changedTouches.length;x++)for(var m=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=c[y];if(!T.active){T.touchstart(m,d),this.activePointer=T,g.push(T);break}}this.updateInputPlugins(v.TOUCH_START,g)},onTouchMove:function(d){for(var c=this.pointers,g=[],x=0;x<d.changedTouches.length;x++)for(var m=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=c[y];if(T.active&&T.identifier===m.identifier){var R=document.elementFromPoint(m.pageX,m.pageY),P=R===this.canvas;!this.isOver&&P?this.setCanvasOver(d):this.isOver&&!P&&this.setCanvasOut(d),this.isOver&&(T.touchmove(m,d),this.activePointer=T,g.push(T));break}}this.updateInputPlugins(v.TOUCH_MOVE,g)},onTouchEnd:function(d){for(var c=this.pointers,g=[],x=0;x<d.changedTouches.length;x++)for(var m=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=c[y];if(T.active&&T.identifier===m.identifier){T.touchend(m,d),g.push(T);break}}this.updateInputPlugins(v.TOUCH_END,g)},onTouchCancel:function(d){for(var c=this.pointers,g=[],x=0;x<d.changedTouches.length;x++)for(var m=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=c[y];if(T.active&&T.identifier===m.identifier){T.touchcancel(m,d),g.push(T);break}}this.updateInputPlugins(v.TOUCH_CANCEL,g)},onMouseDown:function(d){var c=this.mousePointer;c.down(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var c=this.mousePointer;c.move(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var c=this.mousePointer;c.up(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var c=this.mousePointer;c.wheel(d),this.activePointer=c,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var c=this.mouse.locked;this.mousePointer.locked=c,this.events.emit(r.POINTERLOCK_CHANGE,d,c)},inputCandidate:function(d,c){var g=d.input;if(!g||!g.enabled||!d.willRender(c))return!1;var x=!0,m=d.parentContainer;if(m)do{if(!m.willRender(c)){x=!1;break}m=m.parentContainer}while(m);return x},hitTest:function(d,c,g,x){x===void 0&&(x=this._tempHitTest);var m=this._tempPoint,y=g.scrollX,T=g.scrollY;x.length=0;var R=d.x,P=d.y;g.getWorldPoint(R,P,m),d.worldX=m.x,d.worldY=m.y;for(var D={x:0,y:0},I=this._tempMatrix,w=this._tempMatrix2,U=0;U<c.length;U++){var G=c[U];if(this.inputCandidate(G,g)){var H=m.x+y*G.scrollFactorX-y,z=m.y+T*G.scrollFactorY-T;G.parentContainer?(G.getWorldTransformMatrix(I,w),I.applyInverse(H,z,D)):f(H,z,G.x,G.y,G.rotation,G.scaleX,G.scaleY,D),this.pointWithinHitArea(G,D.x,D.y)&&x.push(G)}}return x},pointWithinHitArea:function(d,c,g){c+=d.displayOriginX,g+=d.displayOriginY;var x=d.input;return x&&x.hitAreaCallback(x.hitArea,c,g,d)?(x.localX=c,x.localY=g,!0):!1},pointWithinInteractiveObject:function(d,c,g){return d.hitArea?(c+=d.gameObject.displayOriginX,g+=d.gameObject.displayOriginY,d.localX=c,d.localY=g,d.hitAreaCallback(d.hitArea,c,g,d)):!1},transformPointer:function(d,c,g,x){var m=d.position,y=d.prevPosition;y.x=m.x,y.y=m.y;var T=this.scaleManager.transformX(c),R=this.scaleManager.transformY(g),P=d.smoothFactor;!x||P===0?(m.x=T,m.y=R):(m.x=T*P+y.x*(1-P),m.y=R*P+y.y*(1-P))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=h},12499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26673),v=t(65650),o=t(56694),r=t(72687),s=t(27395),e=t(18104),i=t(53996),l=t(95669),n=t(72313),a=t(33963),f=t(6659),h=t(72632),d=t(52394),c=t(63399),g=t(42911),x=t(91963),m=t(74118),y=t(94287),T=t(7599),R=t(66349),P=t(60689),D=new o({Extends:f,initialize:function(w){f.call(this),this.scene=w,this.systems=w.sys,this.settings=w.sys.settings,this.manager=w.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,c.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var U={cancelled:!1};this._eventContainer={stopPropagation:function(){U.cancelled=!0}},this._eventData=U,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,w.sys.events.once(T.BOOT,this.boot,this),w.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(T.DESTROY,this.destroy,this),this.pluginEvents.emit(a.BOOT)},start:function(){var I=this.systems.events;I.on(T.TRANSITION_START,this.transitionIn,this),I.on(T.TRANSITION_OUT,this.transitionOut,this),I.on(T.TRANSITION_COMPLETE,this.transitionComplete,this),I.on(T.PRE_UPDATE,this.preUpdate,this),I.once(T.SHUTDOWN,this.shutdown,this),this.manager.events.on(a.GAME_OUT,this.onGameOut,this),this.manager.events.on(a.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(a.START)},onGameOver:function(I){this.isActive()&&this.emit(a.GAME_OVER,I.timeStamp,I)},onGameOut:function(I){this.isActive()&&this.emit(a.GAME_OUT,I.timeStamp,I)},preUpdate:function(){this.pluginEvents.emit(a.PRE_UPDATE);var I=this._pendingRemoval,w=this._pendingInsertion,U=I.length,G=w.length;if(!(U===0&&G===0)){for(var H=this._list,z=0;z<U;z++){var $=I[z],J=H.indexOf($);J>-1&&(H.splice(J,1),this.clear($,!0))}this._pendingRemoval.length=0,this._list=H.concat(w.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(I,w){if(!this.isActive())return!1;if(this.pluginEvents.emit(a.UPDATE,I,w),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var U,G=this.manager,H=G.pointers,z=G.pointersTotal;for(U=0;U<z;U++)H[U].updateMotion();if(this._list.length===0)return!1;var $=this.pollRate;if($===-1)return!1;if($>0)if(this._pollTimer-=w,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var J=!1;for(U=0;U<z;U++){var W=0,K=H[U];this._tempZones=[],this._temp=this.hitTestPointer(K),this.sortGameObjects(this._temp,K),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),W+=this.processOverOutEvents(K),this.getDragState(K)===2&&this.processDragThresholdEvent(K,I),W>0&&(J=!0)}return J},update:function(I,w){if(!this.isActive())return!1;for(var U=w.length,G=!1,H=0;H<U;H++){var z=0,$=w[H];switch(this._tempZones=[],this._temp=this.hitTestPointer($),this.sortGameObjects(this._temp,$),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),I){case r.MOUSE_DOWN:z+=this.processDragDownEvent($),z+=this.processDownEvents($),z+=this.processOverOutEvents($);break;case r.MOUSE_UP:z+=this.processDragUpEvent($),z+=this.processUpEvents($),z+=this.processOverOutEvents($);break;case r.TOUCH_START:z+=this.processDragDownEvent($),z+=this.processDownEvents($),z+=this.processOverEvents($);break;case r.TOUCH_END:case r.TOUCH_CANCEL:z+=this.processDragUpEvent($),z+=this.processUpEvents($),z+=this.processOutEvents($);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:z+=this.processDragMoveEvent($),z+=this.processMoveEvents($),z+=this.processOverOutEvents($);break;case r.MOUSE_WHEEL:z+=this.processWheelEvent($);break}z>0&&(G=!0)}return this._updatedThisFrame=!0,G},clear:function(I,w){w===void 0&&(w=!1),this.disable(I);var U=I.input;U&&(this.removeDebug(I),U.gameObject=void 0,U.target=void 0,U.hitArea=void 0,U.hitAreaCallback=void 0,U.callbackContext=void 0,I.input=null),w||this.queueForRemoval(I);var G=this._draggable.indexOf(I);return G>-1&&this._draggable.splice(G,1),I},disable:function(I){var w=I.input;w&&(w.enabled=!1,w.dragState=0);var U=this._temp,G=this._drag,H=this._over,z=this.manager,$=U.indexOf(I);$>-1&&U.splice($,1);for(var J=0;J<z.pointersTotal;J++)$=G[J].indexOf(I),$>-1&&G[J].splice($,1),$=H[J].indexOf(I),$>-1&&(H[J].splice($,1),z.resetCursor(w));return this},enable:function(I,w,U,G){return G===void 0&&(G=!1),I.input?I.input.enabled=!0:this.setHitArea(I,w,U),I.input&&G&&!I.input.dropZone&&(I.input.dropZone=G),this},hitTestPointer:function(I){for(var w=this.cameras.getCamerasBelowPointer(I),U=0;U<w.length;U++){for(var G=w[U],H=this.manager.hitTest(I,this._list,G),z=0;z<H.length;z++){var $=H[z];$.input.dropZone&&this._tempZones.push($)}if(H.length>0)return I.camera=G,H}return I.camera=w[0],[]},processDownEvents:function(I){var w=0,U=this._temp,G=this._eventData,H=this._eventContainer;G.cancelled=!1;for(var z=!1,$=0;$<U.length;$++){var J=U[$];if(!(!J.input||!J.input.enabled)){if(w++,J.emit(a.GAMEOBJECT_POINTER_DOWN,I,J.input.localX,J.input.localY,H),G.cancelled||!J.input||!J.input.enabled){z=!0;break}if(this.emit(a.GAMEOBJECT_DOWN,I,J,H),G.cancelled||!J.input){z=!0;break}}}return!z&&this.manager&&(I.downElement===this.manager.game.canvas?this.emit(a.POINTER_DOWN,I,U):this.emit(a.POINTER_DOWN_OUTSIDE,I)),w},getDragState:function(I){return this._dragState[I.id]},setDragState:function(I,w){this._dragState[I.id]=w},processDragThresholdEvent:function(I,w){var U=!1,G=this.dragTimeThreshold,H=this.dragDistanceThreshold;if((H>0&&i(I.x,I.y,I.downX,I.downY)>=H||G>0&&w>=I.downTime+G)&&(U=!0),U)return this.setDragState(I,3),this.processDragStartList(I)},processDragStartList:function(I){if(this.getDragState(I)!==3)return 0;for(var w=this._drag[I.id],U=0;U<w.length;U++){var G=w[U],H=G.input;H.dragState=2,H.dragStartX=G.x,H.dragStartY=G.y,H.dragStartXGlobal=I.worldX,H.dragStartYGlobal=I.worldY,H.dragX=H.dragStartXGlobal-H.dragStartX,H.dragY=H.dragStartYGlobal-H.dragStartY,G.emit(a.GAMEOBJECT_DRAG_START,I,H.dragX,H.dragY),this.emit(a.DRAG_START,I,G)}return this.setDragState(I,4),w.length},processDragDownEvent:function(I){var w=this._temp;if(this._draggable.length===0||w.length===0||!I.primaryDown||this.getDragState(I)!==0)return 0;this.setDragState(I,1);for(var U=[],G=0;G<w.length;G++){var H=w[G];H.input.draggable&&H.input.dragState===0&&U.push(H)}return U.length===0?(this.setDragState(I,0),0):(U.length>1&&(this.sortGameObjects(U,I),this.topOnly&&U.splice(1)),this._drag[I.id]=U,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(I,3),this.processDragStartList(I)):(this.setDragState(I,2),0))},processDragMoveEvent:function(I){if(this.getDragState(I)===2&&this.processDragThresholdEvent(I,this.manager.game.loop.now),this.getDragState(I)!==4)return 0;for(var w=this._tempZones,U=this._drag[I.id],G=0;G<U.length;G++){var H=U[G],z=H.input,$=z.target;if($){var J=w.indexOf($);J===0?(H.emit(a.GAMEOBJECT_DRAG_OVER,I,$),this.emit(a.DRAG_OVER,I,H,$)):J>0?(H.emit(a.GAMEOBJECT_DRAG_LEAVE,I,$),this.emit(a.DRAG_LEAVE,I,H,$),z.target=w[0],$=z.target,H.emit(a.GAMEOBJECT_DRAG_ENTER,I,$),this.emit(a.DRAG_ENTER,I,H,$)):(H.emit(a.GAMEOBJECT_DRAG_LEAVE,I,$),this.emit(a.DRAG_LEAVE,I,H,$),w[0]?(z.target=w[0],$=z.target,H.emit(a.GAMEOBJECT_DRAG_ENTER,I,$),this.emit(a.DRAG_ENTER,I,H,$)):z.target=null)}else!$&&w[0]&&(z.target=w[0],$=z.target,H.emit(a.GAMEOBJECT_DRAG_ENTER,I,$),this.emit(a.DRAG_ENTER,I,H,$));var W,K;if(!H.parentContainer)W=I.worldX-z.dragX,K=I.worldY-z.dragY;else{var N=I.worldX-z.dragStartXGlobal,b=I.worldY-z.dragStartYGlobal,Y=H.getParentRotation(),j=N*Math.cos(Y)+b*Math.sin(Y),Q=b*Math.cos(Y)-N*Math.sin(Y);j*=1/H.parentContainer.scaleX,Q*=1/H.parentContainer.scaleY,W=j+z.dragStartX,K=Q+z.dragStartY}H.emit(a.GAMEOBJECT_DRAG,I,W,K),this.emit(a.DRAG,I,H,W,K)}return U.length},processDragUpEvent:function(I){for(var w=this._drag[I.id],U=0;U<w.length;U++){var G=w[U],H=G.input;if(H&&H.dragState===2){H.dragState=0,H.dragX=H.localX-G.displayOriginX,H.dragY=H.localY-G.displayOriginY;var z=!1,$=H.target;$&&(G.emit(a.GAMEOBJECT_DROP,I,$),this.emit(a.DROP,I,G,$),H.target=null,z=!0),G.input&&G.input.enabled&&(G.emit(a.GAMEOBJECT_DRAG_END,I,H.dragX,H.dragY,z),this.emit(a.DRAG_END,I,G,z))}}return this.setDragState(I,0),w.splice(0),0},processMoveEvents:function(I){var w=0,U=this._temp,G=this._eventData,H=this._eventContainer;G.cancelled=!1;for(var z=!1,$=0;$<U.length;$++){var J=U[$];if(!(!J.input||!J.input.enabled)){if(w++,J.emit(a.GAMEOBJECT_POINTER_MOVE,I,J.input.localX,J.input.localY,H),G.cancelled||!J.input||!J.input.enabled){z=!0;break}if(this.emit(a.GAMEOBJECT_MOVE,I,J,H),G.cancelled||!J.input||!J.input.enabled){z=!0;break}if(this.topOnly)break}}return z||this.emit(a.POINTER_MOVE,I,U),w},processWheelEvent:function(I){var w=0,U=this._temp,G=this._eventData,H=this._eventContainer;G.cancelled=!1;for(var z=!1,$=I.deltaX,J=I.deltaY,W=I.deltaZ,K=0;K<U.length;K++){var N=U[K];if(!(!N.input||!N.input.enabled)){if(w++,N.emit(a.GAMEOBJECT_POINTER_WHEEL,I,$,J,W,H),G.cancelled||!N.input||!N.input.enabled){z=!0;break}if(this.emit(a.GAMEOBJECT_WHEEL,I,N,$,J,W,H),G.cancelled||!N.input||!N.input.enabled){z=!0;break}}}return z||this.emit(a.POINTER_WHEEL,I,U,$,J,W),w},processOverEvents:function(I){var w=this._temp,U=0,G=w.length,H=[];if(G>0){var z=this.manager,$=this._eventData,J=this._eventContainer;$.cancelled=!1;for(var W=!1,K=0;K<G;K++){var N=w[K];if(!(!N.input||!N.input.enabled)){if(H.push(N),z.setCursor(N.input),N.emit(a.GAMEOBJECT_POINTER_OVER,I,N.input.localX,N.input.localY,J),U++,$.cancelled||!N.input||!N.input.enabled){W=!0;break}if(this.emit(a.GAMEOBJECT_OVER,I,N,J),$.cancelled||!N.input||!N.input.enabled){W=!0;break}}}W||this.emit(a.POINTER_OVER,I,H)}return this._over[I.id]=H,U},processOutEvents:function(I){var w=this._over[I.id],U=0,G=w.length;if(G>0){var H=this.manager,z=this._eventData,$=this._eventContainer;z.cancelled=!1;var J=!1;this.sortGameObjects(w,I);for(var W=0;W<G;W++){var K=w[W];if(K=w[W],!(!K.input||!K.input.enabled)){if(H.resetCursor(K.input),K.emit(a.GAMEOBJECT_POINTER_OUT,I,$),U++,z.cancelled||!K.input||!K.input.enabled){J=!0;break}if(this.emit(a.GAMEOBJECT_OUT,I,K,$),z.cancelled||!K.input||!K.input.enabled){J=!0;break}J||this.emit(a.POINTER_OUT,I,w)}}this._over[I.id]=[]}return U},processOverOutEvents:function(I){var w=this._temp,U,G,H=[],z=[],$=[],J=this._over[I.id],W=this._drag[I.id],K=this.manager;for(U=0;U<J.length;U++)G=J[U],w.indexOf(G)===-1&&W.indexOf(G)===-1?H.push(G):$.push(G);for(U=0;U<w.length;U++)G=w[U],J.indexOf(G)===-1&&z.push(G);var N=H.length,b=0,Y=this._eventData,j=this._eventContainer;Y.cancelled=!1;var Q=!1;if(N>0){for(this.sortGameObjects(H,I),U=0;U<N;U++)if(G=H[U],!(!G.input||!G.input.enabled)){if(K.resetCursor(G.input),G.emit(a.GAMEOBJECT_POINTER_OUT,I,j),b++,Y.cancelled||!G.input||!G.input.enabled){Q=!0;break}if(this.emit(a.GAMEOBJECT_OUT,I,G,j),Y.cancelled||!G.input||!G.input.enabled){Q=!0;break}}Q||this.emit(a.POINTER_OUT,I,H)}if(N=z.length,Y.cancelled=!1,Q=!1,N>0){for(this.sortGameObjects(z,I),U=0;U<N;U++)if(G=z[U],!(!G.input||!G.input.enabled)){if(K.setCursor(G.input),G.emit(a.GAMEOBJECT_POINTER_OVER,I,G.input.localX,G.input.localY,j),b++,Y.cancelled||!G.input||!G.input.enabled){Q=!0;break}if(this.emit(a.GAMEOBJECT_OVER,I,G,j),Y.cancelled||!G.input||!G.input.enabled){Q=!0;break}}Q||this.emit(a.POINTER_OVER,I,z)}return J=$.concat(z),this._over[I.id]=this.sortGameObjects(J,I),b},processUpEvents:function(I){var w=this._temp,U=this._eventData,G=this._eventContainer;U.cancelled=!1;for(var H=!1,z=0;z<w.length;z++){var $=w[z];if(!(!$.input||!$.input.enabled)){if($.emit(a.GAMEOBJECT_POINTER_UP,I,$.input.localX,$.input.localY,G),U.cancelled||!$.input||!$.input.enabled){H=!0;break}if(this.emit(a.GAMEOBJECT_UP,I,$,G),U.cancelled||!$.input||!$.input.enabled){H=!0;break}}}return!H&&this.manager&&(I.upElement===this.manager.game.canvas?this.emit(a.POINTER_UP,I,w):this.emit(a.POINTER_UP_OUTSIDE,I)),w.length},queueForInsertion:function(I){return this._pendingInsertion.indexOf(I)===-1&&this._list.indexOf(I)===-1&&this._pendingInsertion.push(I),this},queueForRemoval:function(I){return this._pendingRemoval.push(I),this},setDraggable:function(I,w){w===void 0&&(w=!0),Array.isArray(I)||(I=[I]);for(var U=0;U<I.length;U++){var G=I[U];G.input.draggable=w;var H=this._draggable.indexOf(G);w&&H===-1?this._draggable.push(G):!w&&H>-1&&this._draggable.splice(H,1)}return this},makePixelPerfect:function(I){I===void 0&&(I=1);var w=this.systems.textures;return e(w,I)},setHitArea:function(I,w,U){if(w===void 0)return this.setHitAreaFromTexture(I);Array.isArray(I)||(I=[I]);var G=!1,H=!1,z=!1,$=!1,J=!1,W=!0;if(g(w)){var K=w;w=h(K,"hitArea",null),U=h(K,"hitAreaCallback",null),G=h(K,"draggable",!1),H=h(K,"dropZone",!1),z=h(K,"cursor",!1),$=h(K,"useHandCursor",!1),J=h(K,"pixelPerfect",!1);var N=h(K,"alphaTolerance",1);J&&(w={},U=this.makePixelPerfect(N)),(!w||!U)&&(this.setHitAreaFromTexture(I),W=!1)}else typeof w=="function"&&!U&&(U=w,w={});for(var b=0;b<I.length;b++){var Y=I[b];if(J&&Y.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var j=Y.input?Y.input:s(Y,w,U);j.customHitArea=W,j.dropZone=H,j.cursor=$?"pointer":z,Y.input=j,G&&this.setDraggable(Y),this.queueForInsertion(Y)}return this},setHitAreaCircle:function(I,w,U,G,H){H===void 0&&(H=v);var z=new u(w,U,G);return this.setHitArea(I,z,H)},setHitAreaEllipse:function(I,w,U,G,H,z){z===void 0&&(z=n);var $=new l(w,U,G,H);return this.setHitArea(I,$,z)},setHitAreaFromTexture:function(I,w){w===void 0&&(w=y),Array.isArray(I)||(I=[I]);for(var U=0;U<I.length;U++){var G=I[U],H=G.frame,z=0,$=0;if(G.width?(z=G.width,$=G.height):H&&(z=H.realWidth,$=H.realHeight),G.type==="Container"&&(z===0||$===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}z!==0&&$!==0&&(G.input=s(G,new m(0,0,z,$),w),this.queueForInsertion(G))}return this},setHitAreaRectangle:function(I,w,U,G,H,z){z===void 0&&(z=y);var $=new m(w,U,G,H);return this.setHitArea(I,$,z)},setHitAreaTriangle:function(I,w,U,G,H,z,$,J){J===void 0&&(J=P);var W=new R(w,U,G,H,z,$);return this.setHitArea(I,W,J)},enableDebug:function(I,w){w===void 0&&(w=65280);var U=I.input;if(!U||!U.hitArea)return this;var G=U.hitArea,H=G.type,z=U.hitAreaDebug,$=this.systems.add,J=this.systems.updateList;z&&(J.remove(z),z.destroy(),z=null);var W=0,K=0;switch(H){case d.CIRCLE:z=$.arc(0,0,G.radius),W=G.x-G.radius,K=G.y-G.radius;break;case d.ELLIPSE:z=$.ellipse(0,0,G.width,G.height),W=G.x-G.width/2,K=G.y-G.height/2;break;case d.LINE:z=$.line(0,0,G.x1,G.y1,G.x2,G.y2);break;case d.POLYGON:z=$.polygon(0,0,G.points);break;case d.RECTANGLE:z=$.rectangle(0,0,G.width,G.height),W=G.x,K=G.y;break;case d.TRIANGLE:z=$.triangle(0,0,G.x1,G.y1,G.x2,G.y2,G.x3,G.y3);break}return z&&(z.isFilled=!1,z.strokeColor=w,z.preUpdate=function(){z.setStrokeStyle(1/I.scale,z.strokeColor),z.setDisplayOrigin(I.displayOriginX,I.displayOriginY);var N=I.x,b=I.y,Y=I.rotation,j=I.scaleX,Q=I.scaleY;if(I.parentContainer){var q=I.getWorldTransformMatrix();N=q.tx,b=q.ty,Y=q.rotation,j=q.scaleX,Q=q.scaleY}z.setRotation(Y),z.setScale(j,Q),z.setPosition(N+W*j,b+K*Q),z.setScrollFactor(I.scrollFactorX,I.scrollFactorY),z.setDepth(I.depth)},J.add(z),U.hitAreaDebug=z),this},removeDebug:function(I){var w=I.input;if(w&&w.hitAreaDebug){var U=w.hitAreaDebug;this.systems.updateList.remove(U),U.destroy(),w.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(I){return this.pollRate=I,this._pollTimer=0,this},setGlobalTopOnly:function(I){return this.manager.globalTopOnly=I,this},setTopOnly:function(I){return this.topOnly=I,this},sortGameObjects:function(I,w){if(I.length<2||!w.camera)return I;var U=w.camera.renderList;return I.sort(function(G,H){var z=Math.max(U.indexOf(G),0),$=Math.max(U.indexOf(H),0);return $-z})},sortDropZones:function(I){return I.length<2?I:(this.scene.sys.depthSort(),I.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(I,w){if(!I.parentContainer&&!w.parentContainer)return this.displayList.getIndex(w)-this.displayList.getIndex(I);if(I.parentContainer===w.parentContainer)return w.parentContainer.getIndex(w)-I.parentContainer.getIndex(I);if(I.parentContainer===w)return-1;if(w.parentContainer===I)return 1;for(var U=I.getIndexList(),G=w.getIndexList(),H=Math.min(U.length,G.length),z=0;z<H;z++){var $=U[z],J=G[z];if($!==J)return J-$}return G.length-U.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(I){return this.manager.addPointer(I)},setDefaultCursor:function(I){return this.manager.setDefaultCursor(I),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(a.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var I=0;I<10;I++)this._drag[I]=[],this._over[I]=[];this.removeAllListeners();var w=this.manager;w.canvas.style.cursor=w.defaultCursor;var U=this.systems.events;U.off(T.TRANSITION_START,this.transitionIn,this),U.off(T.TRANSITION_OUT,this.transitionOut,this),U.off(T.TRANSITION_COMPLETE,this.transitionComplete,this),U.off(T.PRE_UPDATE,this.preUpdate,this),w.events.off(a.GAME_OUT,this.onGameOut,this),w.events.off(a.GAME_OVER,this.onGameOver,this),U.off(T.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var I=this.manager.pointers,w=0;w<I.length;w++)I[w].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(a.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(T.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});x.register("InputPlugin",D,"input"),p.exports=D},63399:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10850),v={},o={};o.register=function(r,s,e,i,l){v[r]={plugin:s,mapping:e,settingsKey:i,configKey:l}},o.getPlugin=function(r){return v[r]},o.install=function(r){var s=r.scene.sys,e=s.settings.input,i=s.game.config;for(var l in v){var n=v[l].plugin,a=v[l].mapping,f=v[l].settingsKey,h=v[l].configKey;u(e,f,i[h])&&(r[a]=new n(r))}},o.remove=function(r){v.hasOwnProperty(r)&&delete v[r]},p.exports=o},40398:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(90447),v=t(56694),o=t(53996),r=t(88456),s=t(44521),e=t(93736),i=t(36580),l=new v({initialize:function(a,f){this.manager=a,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(n){var a=n.getWorldPoint(this.x,this.y);return this.worldX=a.x,this.worldY=a.y,this},positionToCamera:function(n,a){return n.getWorldPoint(this.x,this.y,a)},updateMotion:function(){var n=this.position.x,a=this.position.y,f=this.midPoint.x,h=this.midPoint.y;if(!(n===f&&a===h)){var d=s(this.motionFactor,f,n),c=s(this.motionFactor,h,a);r(d,n,.1)&&(d=n),r(c,a,.1)&&(c=a),this.midPoint.set(d,c);var g=n-d,x=a-c;this.velocity.set(g,x),this.angle=u(d,c,n,a),this.distance=Math.sqrt(g*g+x*x)}},up:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=n.timeStamp,this.wasTouch=!1)},down:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),i.macOS&&n.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=n.timeStamp),this.wasTouch=!1},move:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.locked&&(this.movementX=n.movementX||n.mozMovementX||n.webkitMovementX||0,this.movementY=n.movementY||n.mozMovementY||n.webkitMovementY||0),this.moveTime=n.timeStamp,this.wasTouch=!1},wheel:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.deltaZ=n.deltaZ,this.wasTouch=!1},touchstart:function(n,a){n.pointerId&&(this.pointerId=n.pointerId),this.identifier=n.identifier,this.target=n.target,this.active=!0,this.buttons=1,this.event=a,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=a.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(n,a){this.event=a,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.moveTime=a.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(n,a){this.buttons=0,this.event=a,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=a.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(n,a){this.buttons=0,this.event=a,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=a.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?u(this.downX,this.downY,this.x,this.y):u(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(n,a){n===void 0&&(n=10),a===void 0&&(a=[]);for(var f=this.prevPosition.x,h=this.prevPosition.y,d=this.position.x,c=this.position.y,g=0;g<n;g++){var x=1/n*g;a[g]={x:s(x,f,d),y:s(x,h,c)}}return a},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=l},72687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=S},14874:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},54168:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},526:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},81623:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},94472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},9304:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},34265:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},50151:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},98134:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},56773:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},45824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},39578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},72072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},82569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},70833:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},81442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},32936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},99658:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},60515:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},55254:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},34782:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},41769:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},65588:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},61640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},49342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},82662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},13058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},52426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},78072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},1545:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},67137:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},27678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},22257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},90379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},88909:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},36548:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},18483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},22355:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},7997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},66318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},94812:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},37310:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},24196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},27053:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},29413:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},25165:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},33963:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(14874),DESTROY:t(54168),DRAG_END:t(526),DRAG_ENTER:t(81623),DRAG:t(94472),DRAG_LEAVE:t(9304),DRAG_OVER:t(34265),DRAG_START:t(50151),DROP:t(98134),GAME_OUT:t(78072),GAME_OVER:t(1545),GAMEOBJECT_DOWN:t(56773),GAMEOBJECT_DRAG_END:t(45824),GAMEOBJECT_DRAG_ENTER:t(39578),GAMEOBJECT_DRAG:t(72072),GAMEOBJECT_DRAG_LEAVE:t(82569),GAMEOBJECT_DRAG_OVER:t(70833),GAMEOBJECT_DRAG_START:t(81442),GAMEOBJECT_DROP:t(32936),GAMEOBJECT_MOVE:t(99658),GAMEOBJECT_OUT:t(60515),GAMEOBJECT_OVER:t(55254),GAMEOBJECT_POINTER_DOWN:t(34782),GAMEOBJECT_POINTER_MOVE:t(41769),GAMEOBJECT_POINTER_OUT:t(65588),GAMEOBJECT_POINTER_OVER:t(61640),GAMEOBJECT_POINTER_UP:t(49342),GAMEOBJECT_POINTER_WHEEL:t(82662),GAMEOBJECT_UP:t(13058),GAMEOBJECT_WHEEL:t(52426),MANAGER_BOOT:t(67137),MANAGER_PROCESS:t(27678),MANAGER_UPDATE:t(22257),POINTER_DOWN:t(88909),POINTER_DOWN_OUTSIDE:t(36548),POINTER_MOVE:t(18483),POINTER_OUT:t(22355),POINTER_OVER:t(7997),POINTER_UP:t(66318),POINTER_UP_OUTSIDE:t(94812),POINTER_WHEEL:t(37310),POINTERLOCK_CHANGE:t(90379),PRE_UPDATE:t(24196),SHUTDOWN:t(27053),START:t(29413),UPDATE:t(25165)}},70848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s){this.pad=r,this.events=r.events,this.index=s,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=v},21274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(43200),o=new u({initialize:function(s,e){this.pad=s,this.events=s.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var s=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,s,this,r),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,s,this,r),this.pad.emit(v.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=o},75956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70848),v=t(21274),o=t(56694),r=t(6659),s=t(93736),e=new o({Extends:r,initialize:function(l,n){r.call(this),this.manager=l,this.pad=n,this.id=n.id,this.index=n.index;for(var a=[],f=0;f<n.buttons.length;f++)a.push(new v(this,f));this.buttons=a;var h=[];for(f=0;f<n.axes.length;f++)h.push(new u(this,f));this.axes=h,this.vibration=n.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=a[14]?a[14]:d,this._LCRight=a[15]?a[15]:d,this._LCTop=a[12]?a[12]:d,this._LCBottom=a[13]?a[13]:d,this._RCLeft=a[2]?a[2]:d,this._RCRight=a[1]?a[1]:d,this._RCTop=a[3]?a[3]:d,this._RCBottom=a[0]?a[0]:d,this._FBLeftTop=a[4]?a[4]:d,this._FBLeftBottom=a[6]?a[6]:d,this._FBRightTop=a[5]?a[5]:d,this._FBRightBottom=a[7]?a[7]:d;var c={value:0};this._HAxisLeft=h[0]?h[0]:c,this._VAxisLeft=h[1]?h[1]:c,this._HAxisRight=h[2]?h[2]:c,this._VAxisRight=h[3]?h[3]:c,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(i){return this.axes[i].getValue()},setAxisThreshold:function(i){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=i},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(i){return this.buttons[i].value},isButtonDown:function(i){return this.buttons[i].pressed},update:function(i){if(!(i.timestamp<this._created)){var l,n=this.buttons,a=i.buttons,f=n.length;for(l=0;l<f;l++)n[l].update(a[l].value);var h=this.axes,d=i.axes;for(f=h.length,l=0;l<f;l++)h[l].update(d[l]);f>=2&&(this.leftStick.set(h[0].getValue(),h[1].getValue()),f>=4&&this.rightStick.set(h[2].getValue(),h[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var i;for(i=0;i<this.buttons.length;i++)this.buttons[i].destroy();for(i=0;i<this.axes.length;i++)this.axes[i].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=e},1379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(6659),o=t(43200),r=t(75956),s=t(10850),e=t(63399),i=t(33963),l=new u({Extends:v,initialize:function(a){v.call(this),this.scene=a.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=a,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,a.pluginEvents.once(i.BOOT,this.boot,this),a.pluginEvents.on(i.START,this.start,this)},boot:function(){var n=this.scene.sys.game,a=this.settings.input,f=n.config;this.enabled=s(a,"gamepad",f.inputGamepad)&&n.device.input.gamepads,this.target=s(a,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var n=this,a=this.target,f=function(h){h.defaultPrevented||!n.isActive()||(n.refreshPads(),n.queue.push(h))};this.onGamepadHandler=f,a.addEventListener("gamepadconnected",f,!1),a.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(i.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(i.UPDATE,this.update);for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].removeAllListeners()},disconnectAll:function(){for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].pad.connected=!1},refreshPads:function(){var n=navigator.getGamepads();if(!n)this.disconnectAll();else for(var a=this.gamepads,f=0;f<n.length;f++){var h=n[f];if(h){var d=h.id,c=h.index,g=a[c];if(g)g.id!==d?(g.destroy(),a[c]=new r(this,h)):g.update(h);else{var x=new r(this,h);a[c]=x,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=x):this._pad3=x:this._pad2=x:this._pad1=x}}}},getAll:function(){for(var n=[],a=this.gamepads,f=0;f<a.length;f++)a[f]&&n.push(a[f]);return n},getPad:function(n){for(var a=this.gamepads,f=0;f<a.length;f++)if(a[f]&&a[f].index===n)return a[f]},update:function(){if(this.enabled){this.refreshPads();var n=this.queue.length;if(n!==0)for(var a=this.queue.splice(0,n),f=0;f<n;f++){var h=a[f],d=this.getPad(h.gamepad.index);h.type==="gamepadconnected"?this.emit(o.CONNECTED,d,h):h.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,d,h)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var n=0;n<this.gamepads.length;n++)this.gamepads[n]&&this.gamepads[n].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),p.exports=l},33171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(74982),SNES_USB:t(33171),XBOX_360:t(43247)}},17344:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},36635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},85724:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},55832:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},772:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},33608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},43200:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(17344),BUTTON_UP:t(36635),CONNECTED:t(85724),DISCONNECTED:t(55832),GAMEPAD_BUTTON_DOWN:t(772),GAMEPAD_BUTTON_UP:t(33608)}},92636:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(70848),Button:t(21274),Events:t(43200),Gamepad:t(75956),GamepadPlugin:t(1379),Configs:t(4898)}},20873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72687),v=t(98611),o={CreatePixelPerfectHandler:t(18104),CreateInteractiveObject:t(27395),Events:t(33963),Gamepad:t(92636),InputManager:t(69898),InputPlugin:t(12499),InputPluginCache:t(63399),Keyboard:t(28388),Mouse:t(11343),Pointer:t(40398),Touch:t(77423)};o=v(!1,o,u),p.exports=o},71064:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66458),v=t(56694),o=t(97081),r=t(33963),s=t(11873),e=t(72283),i=new v({initialize:function(n){this.manager=n,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,n.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(a){if(!(a.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(a),l.manager.events.emit(r.MANAGER_PROCESS);var f=a.altKey||a.ctrlKey||a.shiftKey||a.metaKey;l.preventDefault&&!f&&l.captures.indexOf(a.keyCode)>-1&&a.preventDefault()}},this.onKeyUp=function(a){if(!(a.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(a),l.manager.events.emit(r.MANAGER_PROCESS);var f=a.altKey||a.ctrlKey||a.shiftKey||a.metaKey;l.preventDefault&&!f&&l.captures.indexOf(a.keyCode)>-1&&a.preventDefault()}};var n=this.target;n&&(n.addEventListener("keydown",this.onKeyDown,!1),n.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var n=this.captures,a=0;a<l.length;a++){var f=l[a];typeof f=="string"&&(f=s[f.trim().toUpperCase()]),n.indexOf(f)===-1&&n.push(f)}this.preventDefault=n.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var n=this.captures,a=0;a<l.length;a++){var f=l[a];typeof f=="string"&&(f=s[f.toUpperCase()]),u(n,f)}this.preventDefault=n.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=i},89666:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(6659),o=t(94030),r=t(97081),s=t(10850),e=t(33963),i=t(63399),l=t(50165),n=t(11873),a=t(95625),f=t(48044),h=t(7599),d=t(84314),c=new u({Extends:v,initialize:function(x){v.call(this),this.game=x.systems.game,this.scene=x.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=x,this.manager=x.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,x.pluginEvents.once(e.BOOT,this.boot,this),x.pluginEvents.on(e.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=s(g,"keyboard",!0);var x=s(g,"keyboard.capture",null);x&&this.addCaptures(x),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(h.PAUSE,this.resetKeys,this),this.scene.sys.events.on(h.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:n.UP,down:n.DOWN,left:n.LEFT,right:n.RIGHT,space:n.SPACE,shift:n.SHIFT})},addKeys:function(g,x,m){x===void 0&&(x=!0),m===void 0&&(m=!1);var y={};if(typeof g=="string"){g=g.split(",");for(var T=0;T<g.length;T++){var R=g[T].trim();R&&(y[R]=this.addKey(R,x,m))}}else for(var P in g)y[P]=this.addKey(g[P],x,m);return y},addKey:function(g,x,m){x===void 0&&(x=!0),m===void 0&&(m=!1);var y=this.keys;if(g instanceof l){var T=y.indexOf(g);return T>-1?y[T]=g:y[g.keyCode]=g,x&&this.addCapture(g.keyCode),g.setEmitOnRepeat(m),g}return typeof g=="string"&&(g=n[g.toUpperCase()]),y[g]||(y[g]=new l(this,g),x&&this.addCapture(g),y[g].setEmitOnRepeat(m)),y[g]},removeKey:function(g,x,m){x===void 0&&(x=!1),m===void 0&&(m=!1);var y=this.keys,T;if(g instanceof l){var R=y.indexOf(g);R>-1&&(T=this.keys[R],this.keys[R]=void 0)}else typeof g=="string"&&(g=n[g.toUpperCase()]);return y[g]&&(T=y[g],y[g]=void 0),T&&(T.plugin=null,m&&this.removeCapture(T.keyCode),x&&T.destroy()),this},removeAllKeys:function(g,x){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var m=this.keys,y=0;y<m.length;y++){var T=m[y];T&&(m[y]=void 0,x&&this.removeCapture(T.keyCode),g&&T.destroy())}return this},createCombo:function(g,x){return new a(this,g,x)},checkDown:function(g,x){if(x===void 0&&(x=0),this.enabled&&g.isDown){var m=d(this.time-g.timeDown,x);if(m>g._tick)return g._tick=m,!0}return!1},update:function(){var g=this.manager.queue,x=g.length;if(!(!this.isActive()||x===0))for(var m=this.keys,y=0;y<x;y++){var T=g[y],R=T.keyCode,P=m[R],D=!1;T.cancelled===void 0&&(T.cancelled=0,T.stopImmediatePropagation=function(){T.cancelled=1},T.stopPropagation=function(){T.cancelled=-1}),T.cancelled!==-1&&(R===this.prevCode&&T.timeStamp===this.prevTime&&T.type===this.prevType||(this.prevCode=R,this.prevTime=T.timeStamp,this.prevType=T.type,T.type==="keydown"?(P&&(D=P.isDown,P.onDown(T)),!T.cancelled&&(!P||!D)&&(f[R]&&this.emit(o.KEY_DOWN+f[R],T),T.cancelled||this.emit(o.ANY_KEY_DOWN,T))):(P&&P.onUp(T),T.cancelled||(f[R]&&this.emit(o.KEY_UP+f[R],T),T.cancelled||this.emit(o.ANY_KEY_UP,T))),T.cancelled===1&&(T.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,x=0;x<g.length;x++)g[x]&&g[x].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(h.PAUSE,this.resetKeys,this),this.scene.sys.events.off(h.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,x=0;x<g.length;x++)g[x]&&g[x].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});i.register("KeyboardPlugin",c,"keyboard","keyboard","inputKeyboard"),p.exports=c},60258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u.timeLastMatched=t.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};p.exports=S},95625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(94030),o=t(72632),r=t(2544),s=t(88754),e=new u({initialize:function(l,n,a){if(a===void 0&&(a={}),n.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<n.length;f++){var h=n[f];typeof h=="string"?this.keyCodes.push(h.toUpperCase().charCodeAt(0)):typeof h=="number"?this.keyCodes.push(h):h.hasOwnProperty("keyCode")&&this.keyCodes.push(h.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(a,"resetOnWrongKey",!0),this.maxKeyDelay=o(a,"maxKeyDelay",0),this.resetOnMatch=o(a,"resetOnMatch",!1),this.deleteOnMatch=o(a,"deleteOnMatch",!1);var d=this,c=function(g){if(!(d.matched||!d.enabled)){var x=r(g,d);x&&(d.manager.emit(v.COMBO_MATCH,d,g),d.resetOnMatch?s(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=c,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=e},2544:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(60258),v=function(o,r){if(r.matched)return!0;var s=!1,e=!1;if(o.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var i=r.timeLastMatched+r.maxKeyDelay;o.timeStamp<=i&&(e=!0,s=u(o,r))}else e=!0,s=u(o,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),s&&(r.timeLastMatched=o.timeStamp,r.matched=!0,r.timeMatched=o.timeStamp),s};p.exports=v},88754:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=S},5044:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},40813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},89319:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},43267:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},78595:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},30056:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},81939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},94030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(5044),ANY_KEY_UP:t(40813),COMBO_MATCH:t(89319),DOWN:t(43267),KEY_DOWN:t(78595),KEY_UP:t(30056),UP:t(81939)}},28388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(94030),KeyboardManager:t(71064),KeyboardPlugin:t(89666),Key:t(50165),KeyCodes:t(11873),KeyCombo:t(95625),AdvanceKeyCombo:t(60258),ProcessKeyCombo:t(2544),ResetKeyCombo:t(88754),JustDown:t(42460),JustUp:t(53162),DownDuration:t(64964),UpDuration:t(70331)}},64964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u=50);var v=t.plugin.game.loop.time-t.timeDown;return t.isDown&&v<u};p.exports=S},42460:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=S},53162:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=S},50165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(6659),o=t(94030),r=new u({Extends:v,initialize:function(e,i){v.call(this),this.plugin=e,this.keyCode=i,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(s){return this.emitOnRepeat=s,this},onDown:function(s){this.originalEvent=s,this.enabled&&(this.altKey=s.altKey,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.location=s.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,s):(this.isDown=!0,this.isUp=!1,this.timeDown=s.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,s)))},onUp:function(s){this.originalEvent=s,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=s.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,s))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=r},11873:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=S},48044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(11873),v={};for(var o in u)v[u[o]]=o;p.exports=v},70331:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u=50);var v=t.plugin.game.loop.time-t.timeUp;return t.isUp&&v<u};p.exports=S},7905:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(90185),o=t(33963),r=t(72283),s=new u({initialize:function(i){this.manager=i,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,i.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var i=this,l=this.manager,n=l.canvas,a=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&(l.onMouseMove(h),i.preventDefaultMove&&h.preventDefault())},this.onMouseDown=function(h){a&&window.focus(),!h.defaultPrevented&&i.enabled&&l&&l.enabled&&(l.onMouseDown(h),i.preventDefaultDown&&h.target===n&&h.preventDefault())},this.onMouseDownWindow=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&h.target!==n&&l.onMouseDown(h)},this.onMouseUp=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&(l.onMouseUp(h),i.preventDefaultUp&&h.target===n&&h.preventDefault())},this.onMouseUpWindow=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&h.target!==n&&l.onMouseUp(h)},this.onMouseOver=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&l.setCanvasOver(h)},this.onMouseOut=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&l.setCanvasOut(h)},this.onMouseWheel=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&l.onMouseWheel(h),i.preventDefaultWheel&&h.target===n&&h.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(h){var d=i.target;i.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,l.onPointerLockChange(h)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},11343:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(7905)}},37579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(33963),o=t(72283),r=new u({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,e.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputTouch,this.target=s.inputTouchEventTarget,this.capture=s.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},startListeners:function(){var s=this.target;if(s){var e=this,i=this.manager,l=i.canvas,n=window&&window.focus&&i.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){n&&window.focus(),!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchStart(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&d.target!==l&&i.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchEnd(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&d.target!==l&&i.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&i.onTouchCancel(d)};var a=this.capture,f={passive:!0},h={passive:!1};if(s.addEventListener("touchstart",this.onTouchStart,a?h:f),s.addEventListener("touchmove",this.onTouchMove,a?h:f),s.addEventListener("touchend",this.onTouchEnd,a?h:f),s.addEventListener("touchcancel",this.onTouchCancel,a?h:f),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,h),window.top.addEventListener("touchend",this.onTouchEndWindow,h),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,h)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,h),window.addEventListener("touchend",this.onTouchEndWindow,h),window.addEventListener("touchcancel",this.onTouchCancelWindow,h),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("touchstart",this.onTouchStart),s.removeEventListener("touchmove",this.onTouchMove),s.removeEventListener("touchend",this.onTouchEnd),s.removeEventListener("touchcancel",this.onTouchCancel),window&&(s=this.isTop?window.top:window,s.removeEventListener("touchstart",this.onTouchStartWindow),s.removeEventListener("touchend",this.onTouchEndWindow),s.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},77423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(37579)}},98035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(683),r=t(72632),s=t(30750),e=t(43531),i=t(88490),l=t(33868),n=new u({initialize:function(f,h){if(this.loader=f,this.cache=r(h,"cache",!1),this.type=r(h,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(h,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var c=r(h,"url");c===void 0?c=f.path+d+"."+r(h,"extension",""):typeof c=="string"&&!c.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(c=f.path+c),this.url=c,this.src="",this.xhrSettings=l(r(h,"responseType",void 0)),r(h,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(h,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(h,"config",{}),this.multiFile,this.linkFile},setLink:function(a){this.linkFile=a,a.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===v.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=v.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=i(this,this.loader.xhr))},onLoad:function(a,f){var h=a.responseURL&&this.loader.localSchemes.some(function(g){return a.responseURL.indexOf(g)===0}),d=h&&f.target.status===0,c=!(f.target&&f.target.status!==200)||d;a.readyState===4&&a.status>=400&&a.status<=599&&(c=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,c)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(a){a.lengthComputable&&(this.bytesLoaded=a.loaded,this.bytesTotal=a.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(a){if(this.state!==v.FILE_PENDING_DESTROY){a===void 0&&(a=this.data);var f=this.key,h=this.type;this.loader.emit(o.FILE_COMPLETE,f,h,a),this.loader.emit(o.FILE_KEY_COMPLETE+h+"-"+f,f,h,a),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(a,f,h){if(typeof URL=="function")a.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){a.removeAttribute("crossOrigin"),a.src="data:"+(f.type||h)+";base64,"+d.result.split(",")[1]},d.onerror=a.onerror,d.readAsDataURL(f)}},n.revokeObjectURL=function(a){typeof URL=="function"&&URL.revokeObjectURL(a.src)},p.exports=n},76846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(u){for(var v in S)u[v]=S[v]},register:function(u,v){S[u]=v},destroy:function(){S={}}};p.exports=t},30750:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:u+t.url:!1};p.exports=S},67285:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(58403),r=t(6659),s=t(683),e=t(76846),i=t(72632),l=t(10850),n=t(91963),a=t(7599),f=t(33868),h=new u({Extends:r,initialize:function(c){r.call(this);var g=c.sys.game.config,x=c.sys.settings.loader;this.scene=c,this.systems=c.sys,this.cacheManager=c.sys.cache,this.textureManager=c.sys.textures,this.sceneManager=c.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(i(x,"baseURL",g.loaderBaseURL)),this.setPath(i(x,"path",g.loaderPath)),this.setPrefix(i(x,"prefix",g.loaderPrefix)),this.maxParallelDownloads=i(x,"maxParallelDownloads",g.loaderMaxParallelDownloads),this.xhr=f(i(x,"responseType",g.loaderResponseType),i(x,"async",g.loaderAsync),i(x,"user",g.loaderUser),i(x,"password",g.loaderPassword),i(x,"timeout",g.loaderTimeout),i(x,"withCredentials",g.loaderWithCredentials)),this.crossOrigin=i(x,"crossOrigin",g.loaderCrossOrigin),this.imageLoadType=i(x,"imageLoadType",g.loaderImageLoadType),this.localSchemes=i(x,"localScheme",g.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,c.sys.events.once(a.BOOT,this.boot,this),c.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var g=d[c];this.keyExists(g)||(this.list.set(g),this.emit(s.ADD,g.key,g.type,this,g),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var c=d.hasCacheConflict();return c||this.list.iterate(function(g){if(g.type===d.type&&g.key===d.key)return c=!0,!1}),!c&&this.isLoading()&&(this.inflight.iterate(function(g){if(g.type===d.type&&g.key===d.key)return c=!0,!1}),this.queue.iterate(function(g){if(g.type===d.type&&g.key===d.key)return c=!0,!1})),c},addPack:function(d,c){if(typeof c=="string"){var g=l(d,c);g&&(d={packKey:g})}var x=0,m=this.baseURL,y=this.path,T=this.prefix;for(var R in d)if(Object.prototype.hasOwnProperty.call(d,R)){var P=d[R],D=i(P,"baseURL",m),I=i(P,"path",y),w=i(P,"prefix",T),U=i(P,"files",null),G=i(P,"defaultType","void");if(Array.isArray(U)){this.setBaseURL(D),this.setPath(I),this.setPrefix(w);for(var H=0;H<U.length;H++){var z=U[H],$=z.hasOwnProperty("type")?z.type:G;this[$]&&(this[$](z),x++)}}}return this.setBaseURL(m),this.setPath(y),this.setPrefix(T),x>0},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(a.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===v.FILE_POPULATED||d.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,c){this.inflight&&(this.inflight.delete(d),this.updateProgress(),c?(this.totalComplete++,this.queue.set(d),this.emit(s.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(s.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===v.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===v.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(a.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,c){return this.save(JSON.stringify(d),c)},save:function(d,c,g){c===void 0&&(c="file.json"),g===void 0&&(g="application/json");var x=new Blob([d],{type:g}),m=URL.createObjectURL(x),y=document.createElement("a");return y.download=c,y.textContent="Download "+c,y.href=m,y.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,c=this.systems.settings.loader;this.setBaseURL(i(c,"baseURL",d.loaderBaseURL)),this.setPath(i(c,"path",d.loaderPath)),this.setPrefix(i(c,"prefix",d.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});n.register("Loader",h,"load"),p.exports=h},43531:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(98611),v=t(33868),o=function(r,s){var e=r===void 0?v():u({},r);if(s)for(var i in s)s[i]!==void 0&&(e[i]=s[i]);return e};p.exports=o},45176:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(683),r=new u({initialize:function(e,i,l,n){var a=[];n.forEach(function(h){h&&a.push(h)}),this.loader=e,this.type=i,this.key=l,this.multiKeyIndex=e.multiKeyIndex++,this.files=a,this.state=v.FILE_PENDING,this.complete=!1,this.pending=a.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var f=0;f<a.length;f++)a[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var e=this.files.indexOf(s);e!==-1&&this.pending--},onFileFailed:function(s){var e=this.files.indexOf(s);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,s.type,s.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var s=this.key,e=this.type;this.loader.emit(o.FILE_COMPLETE,s,e),this.loader.emit(o.FILE_KEY_COMPLETE+e+"-"+s,s,e),this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++)this.files[i].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=r},88490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43531),v=function(o,r){var s=u(r,o.xhrSettings),e=new XMLHttpRequest;if(e.open("GET",o.src,s.async,s.user,s.password),e.responseType=o.xhrSettings.responseType,e.timeout=s.timeout,s.headers)for(var i in s.headers)e.setRequestHeader(i,s.headers[i]);return s.header&&s.headerValue&&e.setRequestHeader(s.header,s.headerValue),s.requestedWith&&e.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&e.overrideMimeType(s.overrideMimeType),s.withCredentials&&(e.withCredentials=!0),e.onload=o.onLoad.bind(o,e),e.onerror=o.onError.bind(o,e),e.onprogress=o.onProgress.bind(o),e.send(),e};p.exports=v},33868:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r,s){return t===void 0&&(t=""),u===void 0&&(u=!0),v===void 0&&(v=""),o===void 0&&(o=""),r===void 0&&(r=0),s===void 0&&(s=!1),{responseType:t,async:u,user:v,password:o,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}};p.exports=S},12117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=S},7398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},52187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},36627:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},81925:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},29774:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},20943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},74693:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},71176:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},88984:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},72753:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(7398),COMPLETE:t(52187),FILE_COMPLETE:t(36627),FILE_KEY_COMPLETE:t(81925),FILE_LOAD_ERROR:t(29774),FILE_LOAD:t(20943),FILE_PROGRESS:t(74693),POST_PROCESS:t(71176),PROGRESS:t(88984),START:t(72753)}},46468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(70806),r=t(683),s=new u({Extends:o,initialize:function(i,l,n,a,f){o.call(this,i,l,n,a,f),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(e,i,l,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new s(this,e[a]));else this.addFile(new s(this,e,i,n,l));return this}),p.exports=s},31648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(72632),r=t(42927),s=t(42911),e=t(70806),i=t(45176),l=new u({Extends:i,initialize:function(a,f,h,d,c,g){var x,m;if(s(f)){var y=f;f=o(y,"key"),x=new r(a,{key:f,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),m=new e(a,{key:f,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","json"),xhrSettings:o(y,"atlasXhrSettings")})}else x=new r(a,f,h,c),m=new e(a,f,d,g);x.linkFile?i.call(this,a,"atlasjson",f,[x,m,x.linkFile]):i.call(this,a,"atlasjson",f,[x,m])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,a.data,f),a.addToCache(),this.complete=!0}}});v.register("aseprite",function(n,a,f,h,d){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,a,f,h,d),this.addFile(c.files);return this}),p.exports=l},73152:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(72632),r=t(42927),s=t(42911),e=t(70806),i=t(45176),l=new u({Extends:i,initialize:function(a,f,h,d,c,g){var x,m;if(s(f)){var y=f;f=o(y,"key"),x=new r(a,{key:f,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),m=new e(a,{key:f,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","json"),xhrSettings:o(y,"atlasXhrSettings")})}else x=new r(a,f,h,c),m=new e(a,f,d,g);x.linkFile?i.call(this,a,"atlasjson",f,[x,m,x.linkFile]):i.call(this,a,"atlasjson",f,[x,m])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,a.data,f),this.complete=!0}}});v.register("atlas",function(n,a,f,h,d){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,a,f,h,d),this.addFile(c.files);return this}),p.exports=l},24616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(72632),r=t(42927),s=t(42911),e=t(45176),i=t(15297),l=new u({Extends:e,initialize:function(a,f,h,d,c,g){var x,m;if(s(f)){var y=f;f=o(y,"key"),x=new r(a,{key:f,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),m=new i(a,{key:f,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","xml"),xhrSettings:o(y,"atlasXhrSettings")})}else x=new r(a,f,h,c),m=new i(a,f,d,g);x.linkFile?e.call(this,a,"atlasxml",f,[x,m,x.linkFile]):e.call(this,a,"atlasxml",f,[x,m])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(n.key,n.data,a.data,f),this.complete=!0}}});v.register("atlasXML",function(n,a,f,h,d){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,a,f,h,d),this.addFile(c.files);return this}),p.exports=l},67448:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(30929),i=t(42911),l=new u({Extends:o,initialize:function(a,f,h,d,c){if(i(f)){var g=f;f=s(g,"key"),d=s(g,"xhrSettings"),c=s(g,"context",c)}var x={type:"audio",cache:a.cacheManager.audio,extension:h.type,responseType:"arraybuffer",key:f,url:h.url,xhrSettings:d,config:{context:c}};o.call(this,a,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var n=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(a){n.data=a,n.onProcessComplete()},function(a){console.error("Error decoding audio: "+n.key+" - ",a?a.message:null),n.onProcessError()}),this.config.context=null}});l.create=function(n,a,f,h,d){var c=n.systems.game,g=c.config.audio,x=c.device.audio;i(a)&&(f=s(a,"url",[]),h=s(a,"config",{}));var m=l.getAudioURL(c,f);return m?x.webAudio&&!g.disableWebAudio?new l(n,a,m,d,c.sound.context):new e(n,a,m,h):(console.warn('No audio URLs for "%s" matched this device',a),null)},l.getAudioURL=function(n,a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++){var h=s(a[f],"url",a[f]);if(h.indexOf("blob:")===0||h.indexOf("data:")===0)return{url:h,type:""};var d=h.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=s(a[f],"type",d?d[1]:"").toLowerCase(),n.device.audio[d])return{url:h,type:d}}return null},r.register("audio",function(n,a,f,h){var d=this.systems.game,c=d.config.audio,g=d.device.audio;if(c.noAudio||!g.webAudio&&!g.audioData)return this;var x;if(Array.isArray(n))for(var m=0;m<n.length;m++)x=l.create(this,n[m]),x&&this.addFile(x);else x=l.create(this,n,a,f,h),x&&this.addFile(x);return this}),p.exports=l},66109:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(67448),v=t(56694),o=t(76846),r=t(72632),s=t(42911),e=t(70806),i=t(45176),l=new v({Extends:i,initialize:function(a,f,h,d,c,g,x){if(s(f)){var m=f;f=r(m,"key"),h=r(m,"jsonURL"),d=r(m,"audioURL"),c=r(m,"audioConfig"),g=r(m,"audioXhrSettings"),x=r(m,"jsonXhrSettings")}var y;if(!d)y=new e(a,f,h,x),i.call(this,a,"audiosprite",f,[y]),this.config.resourceLoad=!0,this.config.audioConfig=c,this.config.audioXhrSettings=g;else{var T=u.create(a,f,d,c,g);T&&(y=new e(a,f,h,x),i.call(this,a,"audiosprite",f,[T,y]),this.config.resourceLoad=!1)}},onFileComplete:function(n){var a=this.files.indexOf(n);if(a!==-1&&(this.pending--,this.config.resourceLoad&&n.type==="json"&&n.data.hasOwnProperty("resources"))){var f=n.data.resources,h=r(this.config,"audioConfig"),d=r(this.config,"audioXhrSettings"),c=u.create(this.loader,n.key,f,h,d);c&&(this.addToMultiFile(c),this.loader.addFile(c))}},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1];n.addToCache(),a.addToCache(),this.complete=!0}}});o.register("audioSprite",function(n,a,f,h,d,c){var g=this.systems.game,x=g.config.audio,m=g.device.audio;if(x&&x.noAudio||!m.webAudio&&!m.audioData)return this;var y;if(Array.isArray(n))for(var T=0;T<n.length;T++)y=new l(this,n[T]),y.files&&this.addFile(y.files);else y=new l(this,n,a,f,h,d,c),y.files&&this.addFile(y.files);return this})},40612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h,d){var c="bin";if(e(a)){var g=a;a=s(g,"key"),f=s(g,"url"),h=s(g,"xhrSettings"),c=s(g,"extension",c),d=s(g,"dataType",d)}var x={type:"binary",cache:n.cacheManager.binary,extension:c,responseType:"arraybuffer",key:a,url:f,xhrSettings:h,config:{dataType:d}};o.call(this,n,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(l,n,a,f){if(Array.isArray(l))for(var h=0;h<l.length;h++)this.addFile(new i(this,l[h]));else this.addFile(new i(this,l,n,f,a));return this}),p.exports=i},54565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(72632),r=t(42927),s=t(42911),e=t(45176),i=t(31476),l=t(15297),n=new u({Extends:e,initialize:function(f,h,d,c,g,x){var m,y;if(s(h)){var T=h;h=o(T,"key"),m=new r(f,{key:h,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),y=new l(f,{key:h,url:o(T,"fontDataURL"),extension:o(T,"fontDataExtension","xml"),xhrSettings:o(T,"fontDataXhrSettings")})}else m=new r(f,h,d,g),y=new l(f,h,c,x);m.linkFile?e.call(this,f,"bitmapfont",h,[m,y,m.linkFile]):e.call(this,f,"bitmapfont",h,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],f=this.files[1];a.addToCache();var h=a.cache.get(a.key),d=i(f.data,a.cache.getFrame(a.key),0,0,h);this.loader.cacheManager.bitmapFont.add(a.key,{data:d,texture:a.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(a,f,h,d,c){var g;if(Array.isArray(a))for(var x=0;x<a.length;x++)g=new n(this,a[x]),this.addFile(g.files);else g=new n(this,a,f,h,d,c),this.addFile(g.files);return this}),p.exports=n},99898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h){var d="css";if(e(a)){var c=a;a=s(c,"key"),f=s(c,"url"),h=s(c,"xhrSettings"),d=s(c,"extension",d)}var g={type:"script",cache:!1,extension:d,responseType:"text",key:a,url:f,xhrSettings:h};o.call(this,n,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(l,n,a){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new i(this,l[f]));else this.addFile(new i(this,l,n,a));return this}),p.exports=i},47375:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73152),v=t(40612),o=t(56694),r=t(76846),s=t(72632),e=t(42927),i=t(42911),l=t(70806),n=t(67409),a=t(30657),f=t(80802),h=t(45176),d=t(24904),c=new o({Extends:h,initialize:function(x,m,y,T){if(y.multiAtlasURL){var R=new l(x,{key:m,url:y.multiAtlasURL,xhrSettings:T,config:y});h.call(this,x,"texture",m,[R])}else{var P=y.textureURL.substr(y.textureURL.length-3);y.type||(y.type=P.toLowerCase()==="ktx"?"KTX":"PVR");var D=new v(x,{key:m,url:y.textureURL,extension:P,xhrSettings:T,config:y});if(y.atlasURL){var I=new l(x,{key:m,url:y.atlasURL,xhrSettings:T,config:y});h.call(this,x,"texture",m,[D,I])}else h.call(this,x,"texture",m,[D])}this.config=y},onFileComplete:function(g){var x=this.files.indexOf(g);if(x!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(g.type==="json"&&g.data.hasOwnProperty("textures")){var m=g.data.textures,y=this.config,T=this.loader,R=T.baseURL,P=T.path,D=T.prefix,I=s(y,"multiBaseURL",this.baseURL),w=s(y,"multiPath",this.path),U=s(y,"prefix",this.prefix),G=s(y,"textureXhrSettings");I&&T.setBaseURL(I),w&&T.setPath(w),U&&T.setPrefix(U);for(var H=0;H<m.length;H++){var z=m[H].image,$="CMA"+this.multiKeyIndex+"_"+z,J=new v(T,$,z,G);if(this.addToMultiFile(J),T.addFile(J),m[H].normalMap){var W=new v(T,$,m[H].normalMap,G);W.type="normalMap",J.setLink(W),this.addToMultiFile(W),T.addFile(W)}}T.setBaseURL(R),T.setPath(P),T.setPrefix(D)}}},addToCache:function(){if(this.isReadyToProcess()){var g=this.config;if(g.multiAtlasURL)this.addMultiToCache();else{var x=this.loader.systems.renderer,m=this.loader.textureManager,y,T=this.files[0],R=this.files[1];if(g.type==="PVR"?y=d(T.data):g.type==="KTX"&&(y=n(T.data)),y&&x.supportsCompressedTexture(g.format,y.internalFormat)){y.format=x.getCompressedTextureName(g.format,y.internalFormat);var P=R&&R.data?R.data:null;m.addCompressedTexture(T.key,y,P)}}this.complete=!0}},addMultiToCache:function(){for(var g=this.config,x=this.files[0],m=[],y=[],T=[],R=this.loader.systems.renderer,P=this.loader.textureManager,D,I=1;I<this.files.length;I++){var w=this.files[I];if(w.type!=="normalMap")for(var U=w.key.indexOf("_"),G=w.key.substr(U+1),H=w.data,z=0;z<x.data.textures.length;z++){var $=x.data.textures[z];if($.image===G){g.type==="PVR"?D=d(H):g.type==="KTX"&&(D=n(H)),D&&R.supportsCompressedTexture(g.format,D.internalFormat)&&(D.format=R.getCompressedTextureName(g.format,D.internalFormat),y.push(D),m.push($),w.linkFile&&T.push(w.linkFile.data));break}}}T.length===0&&(T=void 0),P.addAtlasJSONArray(this.key,y,m,T),this.complete=!0}});r.register("texture",function(g,x,m){var y=this.systems.renderer,T=function(P,D,I,w){var U={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(i(D)){var G=D;D=s(G,"key"),I=s(G,"url"),w=s(G,"xhrSettings")}var H=!1;for(var z in I)if(y.supportsCompressedTexture(z)){var $=I[z];typeof $=="string"?U.textureURL=$:U=a($,U),U.format=z.toUpperCase(),H=!0;break}if(!H)console.warn("No supported compressed texture format or IMG fallback",D);else if(U.format==="IMG"){var J,W;U.multiAtlasURL?(W=new f(P,D,U.multiAtlasURL,U.multiPath,U.multiBaseURL,w),J=W.files):U.atlasURL?(W=new u(P,D,U.textureURL,U.atlasURL,w),J=W.files):J=new e(P,D,U.textureURL,w),P.addFile(J)}else{var K=new c(P,D,U,w);P.addFile(K.files)}};if(Array.isArray(g))for(var R=0;R<g.length;R++)T(this,g[R]);else T(this,g,x,m);return this}),p.exports=c},46568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(31053),l=new u({Extends:o,initialize:function(a,f,h,d,c){var g="glsl";if(e(f)){var x=f;f=s(x,"key"),h=s(x,"url"),d=s(x,"shaderType","fragment"),c=s(x,"xhrSettings"),g=s(x,"extension",g)}else d===void 0&&(d="fragment");var m={type:"glsl",cache:a.cacheManager.shader,extension:g,responseType:"text",key:f,url:h,config:{shaderType:d},xhrSettings:c};o.call(this,a,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n=this.data.split(`
`),a=this.extractBlock(n,0);if(a)for(;a;){var f=this.getShaderName(a.header),h=this.getShaderType(a.header),d=this.getShaderUniforms(a.header),c=a.shader;if(this.cache.has(f)){var g=this.cache.get(f);h==="fragment"?g.fragmentSrc=c:g.vertexSrc=c,g.uniforms||(g.uniforms=d)}else h==="fragment"?this.cache.add(f,new i(f,c,"",d)):this.cache.add(f,new i(f,"",c,d));a=this.extractBlock(n,a.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new i(this.key,this.data)):this.cache.add(this.key,new i(this.key,"",this.data))},getShaderName:function(n){for(var a=0;a<n.length;a++){var f=n[a].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(n){for(var a=0;a<n.length;a++){var f=n[a].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(n){for(var a={},f=0;f<n.length;f++){var h=n[f].trim();if(h.substring(0,8)==="uniform."){var d=h.indexOf(":");if(d){var c=h.substring(8,d);try{a[c]=JSON.parse(h.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+c)}}}}return a},extractBlock:function(n,a){for(var f=-1,h=-1,d=-1,c=!1,g=!1,x=[],m=[],y=a;y<n.length;y++){var T=n[y].trim();if(T==="---")if(f===-1)f=y,c=!0;else if(c)h=y,c=!1,g=!0;else{g=!1;break}else c?x.push(T):g&&(m.push(T),d=y)}return!c&&h!==-1?{header:x,shader:m.join(`
`),offset:d}:null}});r.register("glsl",function(n,a,f,h){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new l(this,n[d]));else this.addFile(new l(this,n,a,f,h));return this}),p.exports=l},30929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(683),o=t(98035),r=t(72632),s=t(30750),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h){if(e(a)){var d=a;a=r(d,"key"),h=r(d,"config",h)}var c={type:"audio",cache:n.cacheManager.audio,extension:f.type,key:a,url:f.url,config:h};o.call(this,n,c),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var n=this.data[l];n.oncanplaythrough=null,n.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var n=l.target;n.oncanplaythrough=null,n.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var n=0;n<l;n++){var a=new Audio;a.dataset||(a.dataset={}),a.dataset.name=this.key+("0"+n).slice(-2),a.dataset.used="false",this.locked?a.dataset.locked="true":(a.dataset.locked="false",a.preload="auto",a.oncanplaythrough=this.onProgress.bind(this),a.onerror=this.onError.bind(this)),this.data.push(a)}for(n=0;n<this.data.length;n++)a=this.data[n],a.src=s(this,this.loader.baseURL),this.locked||a.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=i},77459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h){var d="html";if(e(a)){var c=a;a=s(c,"key"),f=s(c,"url"),h=s(c,"xhrSettings"),d=s(c,"extension",d)}var g={type:"text",cache:n.cacheManager.html,extension:d,responseType:"text",key:a,url:f,xhrSettings:h};o.call(this,n,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(l,n,a){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new i(this,l[f]));else this.addFile(new i(this,l,n,a));return this}),p.exports=i},9755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h,d,c){h===void 0&&(h=512),d===void 0&&(d=512);var g="html";if(e(a)){var x=a;a=s(x,"key"),f=s(x,"url"),c=s(x,"xhrSettings"),g=s(x,"extension",g),h=s(x,"width",h),d=s(x,"height",d)}var m={type:"html",cache:n.textureManager,extension:g,responseType:"text",key:a,url:f,xhrSettings:c,config:{width:h,height:d}};o.call(this,n,m)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.config.width,n=this.config.height,a=[];a.push('<svg width="'+l+'px" height="'+n+'px" viewBox="0 0 '+l+" "+n+'" xmlns="http://www.w3.org/2000/svg">'),a.push('<foreignObject width="100%" height="100%">'),a.push('<body xmlns="http://www.w3.org/1999/xhtml">'),a.push(this.xhrLoader.responseText),a.push("</body>"),a.push("</foreignObject>"),a.push("</svg>");var f=[a.join(`
`)],h=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{h.state=v.FILE_ERRORED,h.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(h.data),h.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(h.data),h.onProcessError()},o.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(l,n,a,f,h){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new i(this,l[d]));else this.addFile(new i(this,l,n,a,f,h));return this}),p.exports=i},42927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(30750),l=new u({Extends:o,initialize:function n(a,f,h,d,c){var g="png",x;if(e(f)){var m=f;f=s(m,"key"),h=s(m,"url"),x=s(m,"normalMap"),d=s(m,"xhrSettings"),g=s(m,"extension",g),c=s(m,"frameConfig")}Array.isArray(h)&&(x=h[1],h=h[0]);var y={type:"image",cache:a.textureManager,extension:g,responseType:"blob",key:f,url:h,xhrSettings:d,config:c};if(o.call(this,a,y),x){var T=new n(a,this.key,x,d,c);T.type="normalMap",this.setLink(T),a.addFile(T)}this.useImageElementLoad=a.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){o.revokeObjectURL(n.data),n.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(n.data),n.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var n=this.state;this.state=v.FILE_PROCESSING,n===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=v.FILE_LOADING,this.src=i(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){n.state=v.FILE_LOADED,n.loader.nextFile(n,!0)},this.data.onerror=function(){n.loader.nextFile(n,!1)},this.data.src=this.src}},addToCache:function(){var n=this.linkFile;n?n.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,n.data,this.data):this.cache.addImage(this.key,this.data,n.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(n,a,f){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new l(this,n[h]));else this.addFile(new l(this,n,a,f));return this}),p.exports=l},70806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(10850),i=t(42911),l=new u({Extends:o,initialize:function(a,f,h,d,c){var g="json";if(i(f)){var x=f;f=s(x,"key"),h=s(x,"url"),d=s(x,"xhrSettings"),g=s(x,"extension",g),c=s(x,"dataKey",c)}var m={type:"json",cache:a.cacheManager.json,extension:g,responseType:"text",key:f,url:h,xhrSettings:d,config:c};o.call(this,a,m),i(h)&&(c?this.data=e(h,c):this.data=h,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var n=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var a=this.config;typeof a=="string"?this.data=e(n,a,n):this.data=n}this.onProcessComplete()}});r.register("json",function(n,a,f,h){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new l(this,n[d]));else this.addFile(new l(this,n,a,h,f));return this}),p.exports=l},80802:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(72632),r=t(42927),s=t(42911),e=t(70806),i=t(45176),l=new u({Extends:i,initialize:function(a,f,h,d,c,g,x){if(s(f)){var m=f;f=o(m,"key"),o(m,"url",!1)?h=o(m,"url"):h=o(m,"atlasURL"),g=o(m,"xhrSettings"),d=o(m,"path"),c=o(m,"baseURL"),x=o(m,"textureXhrSettings")}var y=new e(a,f,h,g);i.call(this,a,"multiatlas",f,[y]),this.config.path=d,this.config.baseURL=c,this.config.textureXhrSettings=x},onFileComplete:function(n){var a=this.files.indexOf(n);if(a!==-1&&(this.pending--,n.type==="json"&&n.data.hasOwnProperty("textures"))){var f=n.data.textures,h=this.config,d=this.loader,c=d.baseURL,g=d.path,x=d.prefix,m=o(h,"baseURL",this.baseURL),y=o(h,"path",this.path),T=o(h,"prefix",this.prefix),R=o(h,"textureXhrSettings");d.setBaseURL(m),d.setPath(y),d.setPrefix(T);for(var P=0;P<f.length;P++){var D=f[P].image,I="MA"+this.multiKeyIndex+"_"+D,w=new r(d,I,D,R);if(this.addToMultiFile(w),d.addFile(w),f[P].normalMap){var U=new r(d,I,f[P].normalMap,R);U.type="normalMap",w.setLink(U),this.addToMultiFile(U),d.addFile(U)}}d.setBaseURL(c),d.setPath(g),d.setPrefix(x)}},addToCache:function(){if(this.isReadyToProcess()){for(var n=this.files[0],a=[],f=[],h=[],d=1;d<this.files.length;d++){var c=this.files[d];if(c.type!=="normalMap")for(var g=c.key.indexOf("_"),x=c.key.substr(g+1),m=c.data,y=0;y<n.data.textures.length;y++){var T=n.data.textures[y];if(T.image===x){f.push(m),a.push(T),c.linkFile&&h.push(c.linkFile.data);break}}}h.length===0&&(h=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,a,h),this.complete=!0}}});v.register("multiatlas",function(n,a,f,h,d){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,a,f,h,d),this.addFile(c.files);return this}),p.exports=l},39034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(72632),r=t(42911),s=t(45176),e=t(55188),i=new u({Extends:s,initialize:function(n,a,f,h){var d="js",c=[];if(r(a)){var g=a;a=o(g,"key"),f=o(g,"url"),h=o(g,"xhrSettings"),d=o(g,"extension",d)}Array.isArray(f)||(f=[f]);for(var x=0;x<f.length;x++){var m=new e(n,{key:a+"_"+x.toString(),url:f[x],extension:d,xhrSettings:h});m.onProcess=function(){this.onProcessComplete()},c.push(m)}s.call(this,n,"scripts",a,c)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var n=this.files[l];n.data=document.createElement("script"),n.data.language="javascript",n.data.type="text/javascript",n.data.defer=!1,n.data.text=n.xhrLoader.responseText,document.head.appendChild(n.data)}this.complete=!0}}});v.register("scripts",function(l,n,a){var f;if(Array.isArray(l))for(var h=0;h<l.length;h++)f=new i(this,l[h]),this.addFile(f.files);else f=new i(this,l,n,a),this.addFile(f.files);return this}),p.exports=i},85527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(72632),r=t(42911),s=t(45176),e=t(27291),i=t(76799),l=t(86897),n=new u({Extends:s,initialize:function(f,h,d,c,g,x){var m,y,T=f.cacheManager.obj;if(r(h)){var R=h;h=o(R,"key"),m=new l(f,{key:h,type:"obj",cache:T,url:o(R,"url"),extension:o(R,"extension","obj"),xhrSettings:o(R,"xhrSettings"),config:{flipUV:o(R,"flipUV",g)}}),c=o(R,"matURL"),c&&(y=new l(f,{key:h,type:"mat",cache:T,url:c,extension:o(R,"matExtension","mat"),xhrSettings:o(R,"xhrSettings")}))}else m=new l(f,{key:h,url:d,type:"obj",cache:T,extension:"obj",xhrSettings:x,config:{flipUV:g}}),c&&(y=new l(f,{key:h,url:c,type:"mat",cache:T,extension:"mat",xhrSettings:x}));s.call(this,f,"obj",h,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],f=this.files[1],h=e(a.data,a.config.flipUV);f&&(h.materials=i(f.data)),a.cache.add(a.key,h),this.complete=!0}}});v.register("obj",function(a,f,h,d,c){var g;if(Array.isArray(a))for(var x=0;x<a.length;x++)g=new n(this,a[x]),this.addFile(g.files);else g=new n(this,a,f,h,d,c),this.addFile(g.files);return this}),p.exports=n},3616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(76846),r=t(70806),s=new u({Extends:r,initialize:function(i,l,n,a,f){r.call(this,i,l,n,a,f),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(e,i,l,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new s(this,e[a]));else this.addFile(new s(this,e,i,n,l));return this}),p.exports=s},12217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h,d,c){var g="js";if(e(a)){var x=a;a=s(x,"key"),f=s(x,"url"),c=s(x,"xhrSettings"),g=s(x,"extension",g),h=s(x,"start"),d=s(x,"mapping")}var m={type:"plugin",cache:!1,extension:g,responseType:"text",key:a,url:f,xhrSettings:c,config:{start:h,mapping:d}};o.call(this,n,m),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,n=this.config,a=s(n,"start",!1),f=s(n,"mapping",null);if(this.state===v.FILE_POPULATED)l.install(this.key,this.data,a,f);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var h=l.install(this.key,window[this.key],a,f);(a||f)&&(this.loader.systems[f]=h,this.loader.scene[f]=h)}this.onProcessComplete()}});r.register("plugin",function(l,n,a,f,h){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new i(this,l[d]));else this.addFile(new i(this,l,n,a,f,h));return this}),p.exports=i},4474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h,d){var c="svg";if(e(a)){var g=a;a=s(g,"key"),f=s(g,"url"),h=s(g,"svgConfig",{}),d=s(g,"xhrSettings"),c=s(g,"extension",c)}var x={type:"svg",cache:n.textureManager,extension:c,responseType:"text",key:a,url:f,xhrSettings:d,config:{width:s(h,"width"),height:s(h,"height"),scale:s(h,"scale")}};o.call(this,n,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.xhrLoader.responseText,n=[l],a=this.config.width,f=this.config.height,h=this.config.scale;t:if(a&&f||h){var d=null,c=new DOMParser;d=c.parseFromString(l,"text/xml");var g=d.getElementsByTagName("svg")[0],x=g.hasAttribute("viewBox"),m=parseFloat(g.getAttribute("width")),y=parseFloat(g.getAttribute("height"));if(!x&&m&&y)g.setAttribute("viewBox","0  0 "+m+" "+y);else if(x&&!m&&!y){var T=g.getAttribute("viewBox").split(/\s+|,/);m=T[2],y=T[3]}if(h)if(m&&y)a=m*h,f=y*h;else break t;g.setAttribute("width",a.toString()+"px"),g.setAttribute("height",f.toString()+"px"),n=[new XMLSerializer().serializeToString(g)]}try{var R=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var P=this,D=!1;this.data.onload=function(){D||o.revokeObjectURL(P.data),P.onProcessComplete()},this.data.onerror=function(){D?P.onProcessError():(D=!0,o.revokeObjectURL(P.data),P.data.src="data:image/svg+xml,"+encodeURIComponent(n.join("")))},o.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(l,n,a,f){if(Array.isArray(l))for(var h=0;h<l.length;h++)this.addFile(new i(this,l[h]));else this.addFile(new i(this,l,n,a,f));return this}),p.exports=i},95171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h){var d="js";if(e(a)){var c=a;a=s(c,"key"),f=s(c,"url"),h=s(c,"xhrSettings"),d=s(c,"extension",d)}var g={type:"text",extension:d,responseType:"text",key:a,url:f,xhrSettings:h};o.call(this,n,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),n=eval;this.loader.sceneManager.add(this.key,n(l)),this.complete=!0}});r.register("sceneFile",function(l,n,a){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new i(this,l[f]));else this.addFile(new i(this,l,n,a));return this}),p.exports=i},82458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h,d,c){var g="js";if(e(a)){var x=a;a=s(x,"key"),f=s(x,"url"),c=s(x,"xhrSettings"),g=s(x,"extension",g),h=s(x,"systemKey"),d=s(x,"sceneKey")}var m={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:a,url:f,xhrSettings:c,config:{systemKey:h,sceneKey:d}};o.call(this,n,m),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,n=this.config,a=this.key,f=s(n,"systemKey",a),h=s(n,"sceneKey",a);this.state===v.FILE_POPULATED?l.installScenePlugin(f,this.data,h,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],h,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(l,n,a,f,h){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new i(this,l[d]));else this.addFile(new i(this,l,n,a,f,h));return this}),p.exports=i},55188:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h,d){var c="js";if(e(a)){var g=a;a=s(g,"key"),f=s(g,"url"),h=s(g,"type","script"),d=s(g,"xhrSettings"),c=s(g,"extension",c)}else h===void 0&&(h="script");var x={type:h,cache:!1,extension:c,responseType:"text",key:a,url:f,xhrSettings:d};o.call(this,n,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(l,n,a,f){if(Array.isArray(l))for(var h=0;h<l.length;h++)this.addFile(new i(this,l[h]));else this.addFile(new i(this,l,n,a,f));return this}),p.exports=i},33536:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(76846),r=t(42927),s=new u({Extends:r,initialize:function(i,l,n,a,f){r.call(this,i,l,n,f,a),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(e,i,l,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new s(this,e[a]));else this.addFile(new s(this,e,i,l,n));return this}),p.exports=s},86897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new u({Extends:o,initialize:function(n,a,f,h){var d="text",c="txt",g=n.cacheManager.text;if(e(a)){var x=a;a=s(x,"key"),f=s(x,"url"),h=s(x,"xhrSettings"),c=s(x,"extension",c),d=s(x,"type",d),g=s(x,"cache",g)}var m={type:d,cache:g,extension:c,responseType:"text",key:a,url:f,xhrSettings:h};o.call(this,n,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(l,n,a){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new i(this,l[f]));else this.addFile(new i(this,l,n,a));return this}),p.exports=i},58673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(93560),l=new u({Extends:o,initialize:function(a,f,h,d){var c="csv";if(e(f)){var g=f;f=s(g,"key"),h=s(g,"url"),d=s(g,"xhrSettings"),c=s(g,"extension",c)}var x={type:"tilemapCSV",cache:a.cacheManager.tilemap,extension:c,responseType:"text",key:f,url:h,xhrSettings:d};o.call(this,a,x),this.tilemapFormat=i.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,n)}});r.register("tilemapCSV",function(n,a,f){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new l(this,n[h]));else this.addFile(new l(this,n,a,f));return this}),p.exports=l},98896:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(70806),r=t(93560),s=new u({Extends:o,initialize:function(i,l,n,a){o.call(this,i,l,n,a),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapImpact",function(e,i,l){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new s(this,e[n]));else this.addFile(new s(this,e,i,l));return this}),p.exports=s},50563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(70806),r=t(93560),s=new u({Extends:o,initialize:function(i,l,n,a){o.call(this,i,l,n,a),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapTiledJSON",function(e,i,l){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new s(this,e[n]));else this.addFile(new s(this,e,i,l));return this}),p.exports=s},82857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(76846),o=t(72632),r=t(42927),s=t(42911),e=t(45176),i=t(86897),l=new u({Extends:e,initialize:function(a,f,h,d,c,g){var x,m;if(s(f)){var y=f;f=o(y,"key"),x=new r(a,{key:f,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),m=new i(a,{key:f,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","txt"),xhrSettings:o(y,"atlasXhrSettings")})}else x=new r(a,f,h,c),m=new i(a,f,d,g);x.linkFile?e.call(this,a,"unityatlas",f,[x,m,x.linkFile]):e.call(this,a,"unityatlas",f,[x,m])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(n.key,n.data,a.data,f),this.complete=!0}}});v.register("unityAtlas",function(n,a,f,h,d){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,a,f,h,d),this.addFile(c.files);return this}),p.exports=l},22833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(30750),e=t(72632),i=t(42911),l=new u({Extends:o,initialize:function(a,f,h,d){if(d===void 0&&(d=!1),i(f)){var c=f;f=e(c,"key"),h=e(c,"url",[]),d=e(c,"noAudio",!1)}var g=a.systems.game.device.video.getVideoURL(h);g||console.warn("VideoFile: No supported format for "+f);var x={type:"video",cache:a.cacheManager.video,extension:g.type,key:f,url:g.url,config:{noAudio:d}};o.call(this,a,x)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=s(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(n,a,f){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new l(this,n[h]));else this.addFile(new l(this,n,a,f));return this}),p.exports=l},15297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12117),o=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(89200),l=new u({Extends:o,initialize:function(a,f,h,d){var c="xml";if(e(f)){var g=f;f=s(g,"key"),h=s(g,"url"),d=s(g,"xhrSettings"),c=s(g,"extension",c)}var x={type:"xml",cache:a.cacheManager.xml,extension:c,responseType:"text",key:f,url:h,xhrSettings:d};o.call(this,a,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=i(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(n,a,f){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new l(this,n[h]));else this.addFile(new l(this,n,a,f));return this}),p.exports=l},34034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(46468),AsepriteFile:t(31648),AtlasJSONFile:t(73152),AtlasXMLFile:t(24616),AudioFile:t(67448),AudioSpriteFile:t(66109),BinaryFile:t(40612),BitmapFontFile:t(54565),CompressedTextureFile:t(47375),CSSFile:t(99898),GLSLFile:t(46568),HTML5AudioFile:t(30929),HTMLFile:t(77459),HTMLTextureFile:t(9755),ImageFile:t(42927),JSONFile:t(70806),MultiAtlasFile:t(80802),MultiScriptFile:t(39034),OBJFile:t(85527),PackFile:t(3616),PluginFile:t(12217),SceneFile:t(95171),ScenePluginFile:t(82458),ScriptFile:t(55188),SpriteSheetFile:t(33536),SVGFile:t(4474),TextFile:t(86897),TilemapCSVFile:t(58673),TilemapImpactFile:t(98896),TilemapJSONFile:t(50563),UnityAtlasFile:t(82857),VideoFile:t(22833),XMLFile:t(15297)}},95695:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12117),v=t(98611),o={Events:t(683),FileTypes:t(34034),File:t(98035),FileTypesManager:t(76846),GetURL:t(30750),LoaderPlugin:t(67285),MergeXHRSettings:t(43531),MultiFile:t(45176),XHRLoader:t(88490),XHRSettings:t(33868)};o=v(!1,o,u),p.exports=o},26042:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var u=0,v=0;v<t.length;v++)u+=+t[v];return u/t.length};p.exports=S},22824:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8034),v=function(o,r){return u(o)/u(r)/u(o-r)};p.exports=v},17489:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return Math.floor(Math.random()*(u-t+1)+t)};p.exports=S},14976:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r){var s=(o-u)*.5,e=(r-v)*.5,i=t*t,l=t*i;return(2*v-2*o+s+e)*l+(-3*v+3*o-2*s-e)*i+s*t+v};p.exports=S},89129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){u===void 0&&(u=0),v===void 0&&(v=10);var o=Math.pow(v,-u);return Math.ceil(t*o)/o};p.exports=S},82897:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return Math.max(u,Math.min(v,t))};p.exports=S},75606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=function(o){return o*u.DEG_TO_RAD};p.exports=v},767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return Math.abs(t-u)};p.exports=S},9849:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(16650),r=t(72283),s=new o,e=new v({initialize:function i(l,n,a,f){l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=i.DefaultOrder),this._x=l,this._y=n,this._z=a,this._order=f,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(i){this._x=i,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(i){this._y=i,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(i){this._z=i,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(i){this._order=i,this.onChangeCallback(this)}},set:function(i,l,n,a){return a===void 0&&(a=this._order),this._x=i,this._y=l,this._z=n,this._order=a,this.onChangeCallback(this),this},copy:function(i){return this.set(i.x,i.y,i.z,i.order)},setFromQuaternion:function(i,l,n){return l===void 0&&(l=this._order),n===void 0&&(n=!1),s.fromQuat(i),this.setFromRotationMatrix(s,l,n)},setFromRotationMatrix:function(i,l,n){l===void 0&&(l=this._order),n===void 0&&(n=!1);var a=i.val,f=a[0],h=a[4],d=a[8],c=a[1],g=a[5],x=a[9],m=a[2],y=a[6],T=a[10],R=0,P=0,D=0,I=.99999;switch(l){case"XYZ":{P=Math.asin(u(d,-1,1)),Math.abs(d)<I?(R=Math.atan2(-x,T),D=Math.atan2(-h,f)):R=Math.atan2(y,g);break}case"YXZ":{R=Math.asin(-u(x,-1,1)),Math.abs(x)<I?(P=Math.atan2(d,T),D=Math.atan2(c,g)):P=Math.atan2(-m,f);break}case"ZXY":{R=Math.asin(u(y,-1,1)),Math.abs(y)<I?(P=Math.atan2(-m,T),D=Math.atan2(-h,g)):D=Math.atan2(c,f);break}case"ZYX":{P=Math.asin(-u(m,-1,1)),Math.abs(m)<I?(R=Math.atan2(y,T),D=Math.atan2(c,f)):D=Math.atan2(-h,g);break}case"YZX":{D=Math.asin(u(c,-1,1)),Math.abs(c)<I?(R=Math.atan2(-x,g),P=Math.atan2(-m,f)):P=Math.atan2(d,T);break}case"XZY":{D=Math.asin(-u(h,-1,1)),Math.abs(h)<I?(R=Math.atan2(y,g),P=Math.atan2(d,f)):R=Math.atan2(-x,T);break}}return this._x=R,this._y=P,this._z=D,this._order=l,n&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",p.exports=e},8034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var u=t;--t;)u*=t;return u};p.exports=S},61616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return Math.random()*(u-t)+t};p.exports=S},60679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){u===void 0&&(u=0),v===void 0&&(v=10);var o=Math.pow(v,-u);return Math.floor(t*o)/o};p.exports=S},91806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=function(o,r,s){return o=u(o,0,1),(s-r)*o+r};p.exports=v},79366:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t/u/1e3};p.exports=S},43776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=S},58442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=S},42798:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return(u-t)*v+t};p.exports=S},61072:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return v===void 0&&(v=0),t.clone().lerp(u,v)};p.exports=S},5341:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new v(this)},set:function(o){return this.copy(o)},copy:function(o){var r=this.val,s=o.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this},fromMat4:function(o){var r=o.val,s=this.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[4],s[4]=r[5],s[5]=r[6],s[6]=r[8],s[7]=r[9],s[8]=r[10],this},fromArray:function(o){var r=this.val;return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,r=o[1],s=o[2],e=o[5];return o[1]=o[3],o[2]=o[6],o[3]=r,o[5]=o[7],o[6]=s,o[7]=e,this},invert:function(){var o=this.val,r=o[0],s=o[1],e=o[2],i=o[3],l=o[4],n=o[5],a=o[6],f=o[7],h=o[8],d=h*l-n*f,c=-h*i+n*a,g=f*i-l*a,x=r*d+s*c+e*g;return x?(x=1/x,o[0]=d*x,o[1]=(-h*s+e*f)*x,o[2]=(n*s-e*l)*x,o[3]=c*x,o[4]=(h*r-e*a)*x,o[5]=(-n*r+e*i)*x,o[6]=g*x,o[7]=(-f*r+s*a)*x,o[8]=(l*r-s*i)*x,this):null},adjoint:function(){var o=this.val,r=o[0],s=o[1],e=o[2],i=o[3],l=o[4],n=o[5],a=o[6],f=o[7],h=o[8];return o[0]=l*h-n*f,o[1]=e*f-s*h,o[2]=s*n-e*l,o[3]=n*a-i*h,o[4]=r*h-e*a,o[5]=e*i-r*n,o[6]=i*f-l*a,o[7]=s*a-r*f,o[8]=r*l-s*i,this},determinant:function(){var o=this.val,r=o[0],s=o[1],e=o[2],i=o[3],l=o[4],n=o[5],a=o[6],f=o[7],h=o[8];return r*(h*l-n*f)+s*(-h*i+n*a)+e*(f*i-l*a)},multiply:function(o){var r=this.val,s=r[0],e=r[1],i=r[2],l=r[3],n=r[4],a=r[5],f=r[6],h=r[7],d=r[8],c=o.val,g=c[0],x=c[1],m=c[2],y=c[3],T=c[4],R=c[5],P=c[6],D=c[7],I=c[8];return r[0]=g*s+x*l+m*f,r[1]=g*e+x*n+m*h,r[2]=g*i+x*a+m*d,r[3]=y*s+T*l+R*f,r[4]=y*e+T*n+R*h,r[5]=y*i+T*a+R*d,r[6]=P*s+D*l+I*f,r[7]=P*e+D*n+I*h,r[8]=P*i+D*a+I*d,this},translate:function(o){var r=this.val,s=o.x,e=o.y;return r[6]=s*r[0]+e*r[3]+r[6],r[7]=s*r[1]+e*r[4]+r[7],r[8]=s*r[2]+e*r[5]+r[8],this},rotate:function(o){var r=this.val,s=r[0],e=r[1],i=r[2],l=r[3],n=r[4],a=r[5],f=Math.sin(o),h=Math.cos(o);return r[0]=h*s+f*l,r[1]=h*e+f*n,r[2]=h*i+f*a,r[3]=h*l-f*s,r[4]=h*n-f*e,r[5]=h*a-f*i,this},scale:function(o){var r=this.val,s=o.x,e=o.y;return r[0]=s*r[0],r[1]=s*r[1],r[2]=s*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(o){var r=o.x,s=o.y,e=o.z,i=o.w,l=r+r,n=s+s,a=e+e,f=r*l,h=r*n,d=r*a,c=s*n,g=s*a,x=e*a,m=i*l,y=i*n,T=i*a,R=this.val;return R[0]=1-(c+x),R[3]=h+T,R[6]=d-y,R[1]=h-T,R[4]=1-(f+x),R[7]=g+m,R[2]=d+y,R[5]=g-m,R[8]=1-(f+c),this},normalFromMat4:function(o){var r=o.val,s=this.val,e=r[0],i=r[1],l=r[2],n=r[3],a=r[4],f=r[5],h=r[6],d=r[7],c=r[8],g=r[9],x=r[10],m=r[11],y=r[12],T=r[13],R=r[14],P=r[15],D=e*f-i*a,I=e*h-l*a,w=e*d-n*a,U=i*h-l*f,G=i*d-n*f,H=l*d-n*h,z=c*T-g*y,$=c*R-x*y,J=c*P-m*y,W=g*R-x*T,K=g*P-m*T,N=x*P-m*R,b=D*N-I*K+w*W+U*J-G*$+H*z;return b?(b=1/b,s[0]=(f*N-h*K+d*W)*b,s[1]=(h*J-a*N-d*$)*b,s[2]=(a*K-f*J+d*z)*b,s[3]=(l*K-i*N-n*W)*b,s[4]=(e*N-l*J+n*$)*b,s[5]=(i*J-e*K-n*z)*b,s[6]=(T*H-R*G+P*U)*b,s[7]=(R*w-y*H-P*I)*b,s[8]=(y*G-T*w+P*D)*b,this):null}});p.exports=v},16650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(70015),o=1e-6,r=new u({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new r(this)},set:function(a){return this.copy(a)},setValues:function(a,f,h,d,c,g,x,m,y,T,R,P,D,I,w,U){var G=this.val;return G[0]=a,G[1]=f,G[2]=h,G[3]=d,G[4]=c,G[5]=g,G[6]=x,G[7]=m,G[8]=y,G[9]=T,G[10]=R,G[11]=P,G[12]=D,G[13]=I,G[14]=w,G[15]=U,this},copy:function(a){var f=a.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(a){return this.setValues(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(a,f,h){var d=s.fromQuat(h),c=d.val,g=f.x,x=f.y,m=f.z;return this.setValues(c[0]*g,c[1]*g,c[2]*g,0,c[4]*x,c[5]*x,c[6]*x,0,c[8]*m,c[9]*m,c[10]*m,0,a.x,a.y,a.z,1)},xyz:function(a,f,h){this.identity();var d=this.val;return d[12]=a,d[13]=f,d[14]=h,this},scaling:function(a,f,h){this.zero();var d=this.val;return d[0]=a,d[5]=f,d[10]=h,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var a=this.val,f=a[1],h=a[2],d=a[3],c=a[6],g=a[7],x=a[11];return a[1]=a[4],a[2]=a[8],a[3]=a[12],a[4]=f,a[6]=a[9],a[7]=a[13],a[8]=h,a[9]=c,a[11]=a[14],a[12]=d,a[13]=g,a[14]=x,this},getInverse:function(a){return this.copy(a),this.invert()},invert:function(){var a=this.val,f=a[0],h=a[1],d=a[2],c=a[3],g=a[4],x=a[5],m=a[6],y=a[7],T=a[8],R=a[9],P=a[10],D=a[11],I=a[12],w=a[13],U=a[14],G=a[15],H=f*x-h*g,z=f*m-d*g,$=f*y-c*g,J=h*m-d*x,W=h*y-c*x,K=d*y-c*m,N=T*w-R*I,b=T*U-P*I,Y=T*G-D*I,j=R*U-P*w,Q=R*G-D*w,q=P*G-D*U,tt=H*q-z*Q+$*j+J*Y-W*b+K*N;return tt?(tt=1/tt,this.setValues((x*q-m*Q+y*j)*tt,(d*Q-h*q-c*j)*tt,(w*K-U*W+G*J)*tt,(P*W-R*K-D*J)*tt,(m*Y-g*q-y*b)*tt,(f*q-d*Y+c*b)*tt,(U*$-I*K-G*z)*tt,(T*K-P*$+D*z)*tt,(g*Q-x*Y+y*N)*tt,(h*Y-f*Q-c*N)*tt,(I*W-w*$+G*H)*tt,(R*$-T*W-D*H)*tt,(x*b-g*j-m*N)*tt,(f*j-h*b+d*N)*tt,(w*z-I*J-U*H)*tt,(T*J-R*z+P*H)*tt)):this},adjoint:function(){var a=this.val,f=a[0],h=a[1],d=a[2],c=a[3],g=a[4],x=a[5],m=a[6],y=a[7],T=a[8],R=a[9],P=a[10],D=a[11],I=a[12],w=a[13],U=a[14],G=a[15];return this.setValues(x*(P*G-D*U)-R*(m*G-y*U)+w*(m*D-y*P),-(h*(P*G-D*U)-R*(d*G-c*U)+w*(d*D-c*P)),h*(m*G-y*U)-x*(d*G-c*U)+w*(d*y-c*m),-(h*(m*D-y*P)-x*(d*D-c*P)+R*(d*y-c*m)),-(g*(P*G-D*U)-T*(m*G-y*U)+I*(m*D-y*P)),f*(P*G-D*U)-T*(d*G-c*U)+I*(d*D-c*P),-(f*(m*G-y*U)-g*(d*G-c*U)+I*(d*y-c*m)),f*(m*D-y*P)-g*(d*D-c*P)+T*(d*y-c*m),g*(R*G-D*w)-T*(x*G-y*w)+I*(x*D-y*R),-(f*(R*G-D*w)-T*(h*G-c*w)+I*(h*D-c*R)),f*(x*G-y*w)-g*(h*G-c*w)+I*(h*y-c*x),-(f*(x*D-y*R)-g*(h*D-c*R)+T*(h*y-c*x)),-(g*(R*U-P*w)-T*(x*U-m*w)+I*(x*P-m*R)),f*(R*U-P*w)-T*(h*U-d*w)+I*(h*P-d*R),-(f*(x*U-m*w)-g*(h*U-d*w)+I*(h*m-d*x)),f*(x*P-m*R)-g*(h*P-d*R)+T*(h*m-d*x))},determinant:function(){var a=this.val,f=a[0],h=a[1],d=a[2],c=a[3],g=a[4],x=a[5],m=a[6],y=a[7],T=a[8],R=a[9],P=a[10],D=a[11],I=a[12],w=a[13],U=a[14],G=a[15],H=f*x-h*g,z=f*m-d*g,$=f*y-c*g,J=h*m-d*x,W=h*y-c*x,K=d*y-c*m,N=T*w-R*I,b=T*U-P*I,Y=T*G-D*I,j=R*U-P*w,Q=R*G-D*w,q=P*G-D*U;return H*q-z*Q+$*j+J*Y-W*b+K*N},multiply:function(a){var f=this.val,h=f[0],d=f[1],c=f[2],g=f[3],x=f[4],m=f[5],y=f[6],T=f[7],R=f[8],P=f[9],D=f[10],I=f[11],w=f[12],U=f[13],G=f[14],H=f[15],z=a.val,$=z[0],J=z[1],W=z[2],K=z[3];return f[0]=$*h+J*x+W*R+K*w,f[1]=$*d+J*m+W*P+K*U,f[2]=$*c+J*y+W*D+K*G,f[3]=$*g+J*T+W*I+K*H,$=z[4],J=z[5],W=z[6],K=z[7],f[4]=$*h+J*x+W*R+K*w,f[5]=$*d+J*m+W*P+K*U,f[6]=$*c+J*y+W*D+K*G,f[7]=$*g+J*T+W*I+K*H,$=z[8],J=z[9],W=z[10],K=z[11],f[8]=$*h+J*x+W*R+K*w,f[9]=$*d+J*m+W*P+K*U,f[10]=$*c+J*y+W*D+K*G,f[11]=$*g+J*T+W*I+K*H,$=z[12],J=z[13],W=z[14],K=z[15],f[12]=$*h+J*x+W*R+K*w,f[13]=$*d+J*m+W*P+K*U,f[14]=$*c+J*y+W*D+K*G,f[15]=$*g+J*T+W*I+K*H,this},multiplyLocal:function(a){var f=this.val,h=a.val;return this.setValues(f[0]*h[0]+f[1]*h[4]+f[2]*h[8]+f[3]*h[12],f[0]*h[1]+f[1]*h[5]+f[2]*h[9]+f[3]*h[13],f[0]*h[2]+f[1]*h[6]+f[2]*h[10]+f[3]*h[14],f[0]*h[3]+f[1]*h[7]+f[2]*h[11]+f[3]*h[15],f[4]*h[0]+f[5]*h[4]+f[6]*h[8]+f[7]*h[12],f[4]*h[1]+f[5]*h[5]+f[6]*h[9]+f[7]*h[13],f[4]*h[2]+f[5]*h[6]+f[6]*h[10]+f[7]*h[14],f[4]*h[3]+f[5]*h[7]+f[6]*h[11]+f[7]*h[15],f[8]*h[0]+f[9]*h[4]+f[10]*h[8]+f[11]*h[12],f[8]*h[1]+f[9]*h[5]+f[10]*h[9]+f[11]*h[13],f[8]*h[2]+f[9]*h[6]+f[10]*h[10]+f[11]*h[14],f[8]*h[3]+f[9]*h[7]+f[10]*h[11]+f[11]*h[15],f[12]*h[0]+f[13]*h[4]+f[14]*h[8]+f[15]*h[12],f[12]*h[1]+f[13]*h[5]+f[14]*h[9]+f[15]*h[13],f[12]*h[2]+f[13]*h[6]+f[14]*h[10]+f[15]*h[14],f[12]*h[3]+f[13]*h[7]+f[14]*h[11]+f[15]*h[15])},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,f){var h=a.val,d=f.val,c=h[0],g=h[4],x=h[8],m=h[12],y=h[1],T=h[5],R=h[9],P=h[13],D=h[2],I=h[6],w=h[10],U=h[14],G=h[3],H=h[7],z=h[11],$=h[15],J=d[0],W=d[4],K=d[8],N=d[12],b=d[1],Y=d[5],j=d[9],Q=d[13],q=d[2],tt=d[6],it=d[10],st=d[14],lt=d[3],ut=d[7],vt=d[11],ft=d[15];return this.setValues(c*J+g*b+x*q+m*lt,y*J+T*b+R*q+P*lt,D*J+I*b+w*q+U*lt,G*J+H*b+z*q+$*lt,c*W+g*Y+x*tt+m*ut,y*W+T*Y+R*tt+P*ut,D*W+I*Y+w*tt+U*ut,G*W+H*Y+z*tt+$*ut,c*K+g*j+x*it+m*vt,y*K+T*j+R*it+P*vt,D*K+I*j+w*it+U*vt,G*K+H*j+z*it+$*vt,c*N+g*Q+x*st+m*ft,y*N+T*Q+R*st+P*ft,D*N+I*Q+w*st+U*ft,G*N+H*Q+z*st+$*ft)},translate:function(a){return this.translateXYZ(a.x,a.y,a.z)},translateXYZ:function(a,f,h){var d=this.val;return d[12]=d[0]*a+d[4]*f+d[8]*h+d[12],d[13]=d[1]*a+d[5]*f+d[9]*h+d[13],d[14]=d[2]*a+d[6]*f+d[10]*h+d[14],d[15]=d[3]*a+d[7]*f+d[11]*h+d[15],this},scale:function(a){return this.scaleXYZ(a.x,a.y,a.z)},scaleXYZ:function(a,f,h){var d=this.val;return d[0]=d[0]*a,d[1]=d[1]*a,d[2]=d[2]*a,d[3]=d[3]*a,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*h,d[9]=d[9]*h,d[10]=d[10]*h,d[11]=d[11]*h,this},makeRotationAxis:function(a,f){var h=Math.cos(f),d=Math.sin(f),c=1-h,g=a.x,x=a.y,m=a.z,y=c*g,T=c*x;return this.setValues(y*g+h,y*x-d*m,y*m+d*x,0,y*x+d*m,T*x+h,T*m-d*g,0,y*m-d*x,T*m+d*g,c*m*m+h,0,0,0,0,1)},rotate:function(a,f){var h=this.val,d=f.x,c=f.y,g=f.z,x=Math.sqrt(d*d+c*c+g*g);if(Math.abs(x)<o)return this;x=1/x,d*=x,c*=x,g*=x;var m=Math.sin(a),y=Math.cos(a),T=1-y,R=h[0],P=h[1],D=h[2],I=h[3],w=h[4],U=h[5],G=h[6],H=h[7],z=h[8],$=h[9],J=h[10],W=h[11],K=h[12],N=h[13],b=h[14],Y=h[15],j=d*d*T+y,Q=c*d*T+g*m,q=g*d*T-c*m,tt=d*c*T-g*m,it=c*c*T+y,st=g*c*T+d*m,lt=d*g*T+c*m,ut=c*g*T-d*m,vt=g*g*T+y;return this.setValues(R*j+w*Q+z*q,P*j+U*Q+$*q,D*j+G*Q+J*q,I*j+H*Q+W*q,R*tt+w*it+z*st,P*tt+U*it+$*st,D*tt+G*it+J*st,I*tt+H*it+W*st,R*lt+w*ut+z*vt,P*lt+U*ut+$*vt,D*lt+G*ut+J*vt,I*lt+H*ut+W*vt,K,N,b,Y)},rotateX:function(a){var f=this.val,h=Math.sin(a),d=Math.cos(a),c=f[4],g=f[5],x=f[6],m=f[7],y=f[8],T=f[9],R=f[10],P=f[11];return f[4]=c*d+y*h,f[5]=g*d+T*h,f[6]=x*d+R*h,f[7]=m*d+P*h,f[8]=y*d-c*h,f[9]=T*d-g*h,f[10]=R*d-x*h,f[11]=P*d-m*h,this},rotateY:function(a){var f=this.val,h=Math.sin(a),d=Math.cos(a),c=f[0],g=f[1],x=f[2],m=f[3],y=f[8],T=f[9],R=f[10],P=f[11];return f[0]=c*d-y*h,f[1]=g*d-T*h,f[2]=x*d-R*h,f[3]=m*d-P*h,f[8]=c*h+y*d,f[9]=g*h+T*d,f[10]=x*h+R*d,f[11]=m*h+P*d,this},rotateZ:function(a){var f=this.val,h=Math.sin(a),d=Math.cos(a),c=f[0],g=f[1],x=f[2],m=f[3],y=f[4],T=f[5],R=f[6],P=f[7];return f[0]=c*d+y*h,f[1]=g*d+T*h,f[2]=x*d+R*h,f[3]=m*d+P*h,f[4]=y*d-c*h,f[5]=T*d-g*h,f[6]=R*d-x*h,f[7]=P*d-m*h,this},fromRotationTranslation:function(a,f){var h=a.x,d=a.y,c=a.z,g=a.w,x=h+h,m=d+d,y=c+c,T=h*x,R=h*m,P=h*y,D=d*m,I=d*y,w=c*y,U=g*x,G=g*m,H=g*y;return this.setValues(1-(D+w),R+H,P-G,0,R-H,1-(T+w),I+U,0,P+G,I-U,1-(T+D),0,f.x,f.y,f.z,1)},fromQuat:function(a){var f=a.x,h=a.y,d=a.z,c=a.w,g=f+f,x=h+h,m=d+d,y=f*g,T=f*x,R=f*m,P=h*x,D=h*m,I=d*m,w=c*g,U=c*x,G=c*m;return this.setValues(1-(P+I),T+G,R-U,0,T-G,1-(y+I),D+w,0,R+U,D-w,1-(y+P),0,0,0,0,1)},frustum:function(a,f,h,d,c,g){var x=1/(f-a),m=1/(d-h),y=1/(c-g);return this.setValues(c*2*x,0,0,0,0,c*2*m,0,0,(f+a)*x,(d+h)*m,(g+c)*y,-1,0,0,g*c*2*y,0)},perspective:function(a,f,h,d){var c=1/Math.tan(a/2),g=1/(h-d);return this.setValues(c/f,0,0,0,0,c,0,0,0,0,(d+h)*g,-1,0,0,2*d*h*g,0)},perspectiveLH:function(a,f,h,d){return this.setValues(2*h/a,0,0,0,0,2*h/f,0,0,0,0,-d/(h-d),1,0,0,h*d/(h-d),0)},ortho:function(a,f,h,d,c,g){var x=a-f,m=h-d,y=c-g;return x=x===0?x:1/x,m=m===0?m:1/m,y=y===0?y:1/y,this.setValues(-2*x,0,0,0,0,-2*m,0,0,0,0,2*y,0,(a+f)*x,(d+h)*m,(g+c)*y,1)},lookAtRH:function(a,f,h){var d=this.val;return n.subVectors(a,f),n.getLengthSquared()===0&&(n.z=1),n.normalize(),i.crossVectors(h,n),i.getLengthSquared()===0&&(Math.abs(h.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),i.crossVectors(h,n)),i.normalize(),l.crossVectors(n,i),d[0]=i.x,d[1]=i.y,d[2]=i.z,d[4]=l.x,d[5]=l.y,d[6]=l.z,d[8]=n.x,d[9]=n.y,d[10]=n.z,this},lookAt:function(a,f,h){var d=a.x,c=a.y,g=a.z,x=h.x,m=h.y,y=h.z,T=f.x,R=f.y,P=f.z;if(Math.abs(d-T)<o&&Math.abs(c-R)<o&&Math.abs(g-P)<o)return this.identity();var D=d-T,I=c-R,w=g-P,U=1/Math.sqrt(D*D+I*I+w*w);D*=U,I*=U,w*=U;var G=m*w-y*I,H=y*D-x*w,z=x*I-m*D;U=Math.sqrt(G*G+H*H+z*z),U?(U=1/U,G*=U,H*=U,z*=U):(G=0,H=0,z=0);var $=I*z-w*H,J=w*G-D*z,W=D*H-I*G;return U=Math.sqrt($*$+J*J+W*W),U?(U=1/U,$*=U,J*=U,W*=U):($=0,J=0,W=0),this.setValues(G,$,D,0,H,J,I,0,z,W,w,0,-(G*d+H*c+z*g),-($*d+J*c+W*g),-(D*d+I*c+w*g),1)},yawPitchRoll:function(a,f,h){this.zero(),s.zero(),e.zero();var d=this.val,c=s.val,g=e.val,x=Math.sin(h),m=Math.cos(h);return d[10]=1,d[15]=1,d[0]=m,d[1]=x,d[4]=-x,d[5]=m,x=Math.sin(f),m=Math.cos(f),c[0]=1,c[15]=1,c[5]=m,c[10]=m,c[9]=-x,c[6]=x,x=Math.sin(a),m=Math.cos(a),g[5]=1,g[15]=1,g[0]=m,g[2]=-x,g[8]=x,g[10]=m,this.multiplyLocal(s),this.multiplyLocal(e),this},setWorldMatrix:function(a,f,h,d,c){return this.yawPitchRoll(a.y,a.x,a.z),s.scaling(h.x,h.y,h.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(s),this.multiplyLocal(e),d&&this.multiplyLocal(d),c&&this.multiplyLocal(c),this},multiplyToMat4:function(a,f){var h=this.val,d=a.val,c=h[0],g=h[1],x=h[2],m=h[3],y=h[4],T=h[5],R=h[6],P=h[7],D=h[8],I=h[9],w=h[10],U=h[11],G=h[12],H=h[13],z=h[14],$=h[15],J=d[0],W=d[1],K=d[2],N=d[3],b=d[4],Y=d[5],j=d[6],Q=d[7],q=d[8],tt=d[9],it=d[10],st=d[11],lt=d[12],ut=d[13],vt=d[14],ft=d[15];return f.setValues(J*c+W*y+K*D+N*G,W*g+W*T+K*I+N*H,K*x+W*R+K*w+N*z,N*m+W*P+K*U+N*$,b*c+Y*y+j*D+Q*G,b*g+Y*T+j*I+Q*H,b*x+Y*R+j*w+Q*z,b*m+Y*P+j*U+Q*$,q*c+tt*y+it*D+st*G,q*g+tt*T+it*I+st*H,q*x+tt*R+it*w+st*z,q*m+tt*P+it*U+st*$,lt*c+ut*y+vt*D+ft*G,lt*g+ut*T+vt*I+ft*H,lt*x+ut*R+vt*w+ft*z,lt*m+ut*P+vt*U+ft*$)},fromRotationXYTranslation:function(a,f,h){var d=f.x,c=f.y,g=f.z,x=Math.sin(a.x),m=Math.cos(a.x),y=Math.sin(a.y),T=Math.cos(a.y),R=d,P=c,D=g,I=-x,w=0-I*y,U=0-m*y,G=I*T,H=m*T;return h||(R=T*d+y*g,P=w*d+m*c+G*g,D=U*d+x*c+H*g),this.setValues(T,w,U,0,0,m,x,0,y,G,H,0,R,P,D,1)},getMaxScaleOnAxis:function(){var a=this.val,f=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],h=a[4]*a[4]+a[5]*a[5]+a[6]*a[6],d=a[8]*a[8]+a[9]*a[9]+a[10]*a[10];return Math.sqrt(Math.max(f,h,d))}}),s=new r,e=new r,i=new v,l=new v,n=new v;p.exports=r},69635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return Math.min(t+u,v)};p.exports=S},37394:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u=t.length;if(u===0)return 0;t.sort(function(o,r){return o-r});var v=Math.floor(u/2);return u%2===0?(t[v]+t[v-1])/2:t[v]};p.exports=S},17259:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return Math.max(t-u,v)};p.exports=S},61820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){v===void 0&&(v=u+1);var r=(t-u)/(v-u);return r>1?o!==void 0?(r=(o-t)/(o-v),r<0&&(r=0)):r=1:r<0&&(r=0),r};p.exports=S},75003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(5341),o=t(72283),r=t(70015),s=1e-6,e=new Int8Array([1,2,0]),i=new Float32Array([0,0,0]),l=new r(1,0,0),n=new r(0,1,0),a=new r,f=new v,h=new u({initialize:function(c,g,x,m){this.onChangeCallback=o,this.set(c,g,x,m)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,c,g,x,m){return m===void 0&&(m=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=c||0,this._z=g||0,this._w=x||0),m&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,c=this.y,g=this.z,x=this.w;return Math.sqrt(d*d+c*c+g*g+x*x)},lengthSq:function(){var d=this.x,c=this.y,g=this.z,x=this.w;return d*d+c*c+g*g+x*x},normalize:function(){var d=this.x,c=this.y,g=this.z,x=this.w,m=d*d+c*c+g*g+x*x;return m>0&&(m=1/Math.sqrt(m),this._x=d*m,this._y=c*m,this._z=g*m,this._w=x*m),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,c){c===void 0&&(c=0);var g=this.x,x=this.y,m=this.z,y=this.w;return this.set(g+c*(d.x-g),x+c*(d.y-x),m+c*(d.z-m),y+c*(d.w-y))},rotationTo:function(d,c){var g=d.x*c.x+d.y*c.y+d.z*c.z;return g<-.999999?(a.copy(l).cross(d).length()<s&&a.copy(n).cross(d),a.normalize(),this.setAxisAngle(a,Math.PI)):g>.999999?this.set(0,0,0,1):(a.copy(d).cross(c),this._x=a.x,this._y=a.y,this._z=a.z,this._w=1+g,this.normalize())},setAxes:function(d,c,g){var x=f.val;return x[0]=c.x,x[3]=c.y,x[6]=c.z,x[1]=g.x,x[4]=g.y,x[7]=g.z,x[2]=-d.x,x[5]=-d.y,x[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,c){c=c*.5;var g=Math.sin(c);return this.set(g*d.x,g*d.y,g*d.z,Math.cos(c))},multiply:function(d){var c=this.x,g=this.y,x=this.z,m=this.w,y=d.x,T=d.y,R=d.z,P=d.w;return this.set(c*P+m*y+g*R-x*T,g*P+m*T+x*y-c*R,x*P+m*R+c*T-g*y,m*P-c*y-g*T-x*R)},slerp:function(d,c){var g=this.x,x=this.y,m=this.z,y=this.w,T=d.x,R=d.y,P=d.z,D=d.w,I=g*T+x*R+m*P+y*D;I<0&&(I=-I,T=-T,R=-R,P=-P,D=-D);var w=1-c,U=c;if(1-I>s){var G=Math.acos(I),H=Math.sin(G);w=Math.sin((1-c)*G)/H,U=Math.sin(c*G)/H}return this.set(w*g+U*T,w*x+U*R,w*m+U*P,w*y+U*D)},invert:function(){var d=this.x,c=this.y,g=this.z,x=this.w,m=d*d+c*c+g*g+x*x,y=m?1/m:0;return this.set(-d*y,-c*y,-g*y,x*y)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var c=this.x,g=this.y,x=this.z,m=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(c*T+m*y,g*T+x*y,x*T-g*y,m*T-c*y)},rotateY:function(d){d*=.5;var c=this.x,g=this.y,x=this.z,m=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(c*T-x*y,g*T+m*y,x*T+c*y,m*T-g*y)},rotateZ:function(d){d*=.5;var c=this.x,g=this.y,x=this.z,m=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(c*T+g*y,g*T-c*y,x*T+m*y,m*T-x*y)},calculateW:function(){var d=this.x,c=this.y,g=this.z;return this.w=-Math.sqrt(1-d*d-c*c-g*g),this},setFromEuler:function(d,c){var g=d.x/2,x=d.y/2,m=d.z/2,y=Math.cos(g),T=Math.cos(x),R=Math.cos(m),P=Math.sin(g),D=Math.sin(x),I=Math.sin(m);switch(d.order){case"XYZ":{this.set(P*T*R+y*D*I,y*D*R-P*T*I,y*T*I+P*D*R,y*T*R-P*D*I,c);break}case"YXZ":{this.set(P*T*R+y*D*I,y*D*R-P*T*I,y*T*I-P*D*R,y*T*R+P*D*I,c);break}case"ZXY":{this.set(P*T*R-y*D*I,y*D*R+P*T*I,y*T*I+P*D*R,y*T*R-P*D*I,c);break}case"ZYX":{this.set(P*T*R-y*D*I,y*D*R+P*T*I,y*T*I-P*D*R,y*T*R+P*D*I,c);break}case"YZX":{this.set(P*T*R+y*D*I,y*D*R+P*T*I,y*T*I-P*D*R,y*T*R-P*D*I,c);break}case"XZY":{this.set(P*T*R-y*D*I,y*D*R-P*T*I,y*T*I+P*D*R,y*T*R+P*D*I,c);break}}return this},setFromRotationMatrix:function(d){var c=d.val,g=c[0],x=c[4],m=c[8],y=c[1],T=c[5],R=c[9],P=c[2],D=c[6],I=c[10],w=g+T+I,U;return w>0?(U=.5/Math.sqrt(w+1),this.set((D-R)*U,(m-P)*U,(y-x)*U,.25/U)):g>T&&g>I?(U=2*Math.sqrt(1+g-T-I),this.set(.25*U,(x+y)/U,(m+P)/U,(D-R)/U)):T>I?(U=2*Math.sqrt(1+T-g-I),this.set((x+y)/U,.25*U,(R+D)/U,(m-P)/U)):(U=2*Math.sqrt(1+I-g-T),this.set((m+P)/U,(R+D)/U,.25*U,(y-x)/U)),this},fromMat3:function(d){var c=d.val,g=c[0]+c[4]+c[8],x;if(g>0)x=Math.sqrt(g+1),this.w=.5*x,x=.5/x,this._x=(c[7]-c[5])*x,this._y=(c[2]-c[6])*x,this._z=(c[3]-c[1])*x;else{var m=0;c[4]>c[0]&&(m=1),c[8]>c[m*3+m]&&(m=2);var y=e[m],T=e[y];x=Math.sqrt(c[m*3+m]-c[y*3+y]-c[T*3+T]+1),i[m]=.5*x,x=.5/x,i[y]=(c[y*3+m]+c[m*3+y])*x,i[T]=(c[T*3+m]+c[m*3+T])*x,this._x=i[0],this._y=i[1],this._z=i[2],this._w=(c[T*3+y]-c[y*3+T])*x}return this.onChangeCallback(this),this}});p.exports=h},23701:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=function(o){return o*u.RAD_TO_DEG};p.exports=v},16906:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u=1);var v=Math.random()*2*Math.PI;return t.x=Math.cos(v)*u,t.y=Math.sin(v)*u,t};p.exports=S},52417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u=1);var v=Math.random()*2*Math.PI,o=Math.random()*2-1,r=Math.sqrt(1-o*o)*u;return t.x=Math.cos(v)*r,t.y=Math.sin(v)*r,t.z=o*u,t};p.exports=S},17915:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===void 0&&(u=1),t.x=(Math.random()*2-1)*u,t.y=(Math.random()*2-1)*u,t.z=(Math.random()*2-1)*u,t.w=(Math.random()*2-1)*u,t};p.exports=S},52257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.x,o=t.y;return t.x=v*Math.cos(u)-o*Math.sin(u),t.y=v*Math.sin(u)+o*Math.cos(u),t};p.exports=S},2386:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=Math.cos(o),s=Math.sin(o),e=t.x-u,i=t.y-v;return t.x=e*r-i*s+u,t.y=e*s+i*r+v,t};p.exports=S},72395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r){var s=o+Math.atan2(t.y-v,t.x-u);return t.x=u+r*Math.cos(s),t.y=v+r*Math.sin(s),t};p.exports=S},41061:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r){return t.x=u+r*Math.cos(o),t.y=v+r*Math.sin(o),t};p.exports=S},93709:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70015),v=t(16650),o=t(75003),r=new v,s=new o,e=new u,i=function(l,n,a){return s.setAxisAngle(n,a),r.fromRotationTranslation(s,e.set(0,0,0)),l.transformMat4(r)};p.exports=i},67233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=S},64333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){u===void 0&&(u=0),v===void 0&&(v=10);var o=Math.pow(v,-u);return Math.round(t*o)/o};p.exports=S},59533:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){u===void 0&&(u=1),v===void 0&&(v=1),o===void 0&&(o=1),o*=Math.PI/t;for(var r=[],s=[],e=0;e<t;e++)v-=u*o,u+=v*o,r[e]=v,s[e]=u;return{sin:s,cos:r,length:t}};p.exports=S},5514:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t<=u?0:t>=v?1:(t=(t-u)/(v-u),t*t*(3-2*t))};p.exports=S},87736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t=Math.max(0,Math.min(1,(t-u)/(v-u))),t*t*t*(t*(t*6-15)+10)};p.exports=S},55805:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e){e===void 0&&(e=new u);var i=0,l=0,n=r*s;return o>0&&o<=n&&(o>r-1?(l=Math.floor(o/r),i=o-l*r):i=o),e.set(i,l)};p.exports=v},64462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e,i,l,n,a){a===void 0&&(a=new u);var f=Math.sin(i),h=Math.cos(i),d=h*l,c=f*l,g=-f*n,x=h*n,m=1/(d*x+g*-c);return a.x=x*m*o+-g*m*r+(e*g-s*x)*m,a.y=d*m*r+-c*m*o+(-e*d+s*c)*m,a};p.exports=v},93736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(88456),o=new u({initialize:function(s,e){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(e===void 0&&(e=s),this.x=s||0,this.y=e||0)},clone:function(){return new o(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,s){return s===void 0&&(s=r),this.x=r,this.y=s,this},setTo:function(r,s){return this.set(r,s)},setToPolar:function(r,s){return s==null&&(s=1),this.x=Math.cos(r)*s,this.y=Math.sin(r)*s,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,s){return v(this.x,r.x,s)&&v(this.y,r.y,s)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var s=r.x-this.x,e=r.y-this.y;return Math.sqrt(s*s+e*e)},distanceSq:function(r){var s=r.x-this.x,e=r.y-this.y;return s*s+e*e},length:function(){var r=this.x,s=this.y;return Math.sqrt(r*r+s*s)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,s=this.y;return r*r+s*s},normalize:function(){var r=this.x,s=this.y,e=r*r+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=s*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,s){s===void 0&&(s=0);var e=this.x,i=this.y;return this.x=e+s*(r.x-e),this.y=i+s*(r.y-i),this},transformMat3:function(r){var s=this.x,e=this.y,i=r.val;return this.x=i[0]*s+i[3]*e+i[6],this.y=i[1]*s+i[4]*e+i[7],this},transformMat4:function(r){var s=this.x,e=this.y,i=r.val;return this.x=i[0]*s+i[4]*e+i[12],this.y=i[1]*s+i[5]*e+i[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var s=this.length();return s&&s>r&&this.scale(r/s),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var s=Math.cos(r),e=Math.sin(r);return this.set(s*this.x-e*this.y,e*this.x+s*this.y)},project:function(r){var s=this.dot(r)/r.dot(r);return this.copy(r).scale(s)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),p.exports=o},70015:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=s||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(o,r){return this.x=o.x+r.x,this.y=o.y+r.y,this.z=o.z+r.z,this},crossVectors:function(o,r){var s=o.x,e=o.y,i=o.z,l=r.x,n=r.y,a=r.z;return this.x=e*a-i*n,this.y=i*l-s*a,this.z=s*n-e*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,r,s){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=r||0,this.z=s||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,r){return this.fromArray(o.val,r*4)},fromArray:function(o,r){return r===void 0&&(r=0),this.x=o[r],this.y=o[r+1],this.z=o[r+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,r){return this.x+=o.x*r,this.y+=o.y*r,this.z+=o.z*r||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var r=o.x-this.x,s=o.y-this.y,e=o.z-this.z||0;return Math.sqrt(r*r+s*s+e*e)},distanceSq:function(o){var r=o.x-this.x,s=o.y-this.y,e=o.z-this.z||0;return r*r+s*s+e*e},length:function(){var o=this.x,r=this.y,s=this.z;return Math.sqrt(o*o+r*r+s*s)},lengthSq:function(){var o=this.x,r=this.y,s=this.z;return o*o+r*r+s*s},normalize:function(){var o=this.x,r=this.y,s=this.z,e=o*o+r*r+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=o*e,this.y=r*e,this.z=s*e),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var r=this.x,s=this.y,e=this.z,i=o.x,l=o.y,n=o.z;return this.x=s*n-e*l,this.y=e*i-r*n,this.z=r*l-s*i,this},lerp:function(o,r){r===void 0&&(r=0);var s=this.x,e=this.y,i=this.z;return this.x=s+r*(o.x-s),this.y=e+r*(o.y-e),this.z=i+r*(o.z-i),this},applyMatrix3:function(o){var r=this.x,s=this.y,e=this.z,i=o.val;return this.x=i[0]*r+i[3]*s+i[6]*e,this.y=i[1]*r+i[4]*s+i[7]*e,this.z=i[2]*r+i[5]*s+i[8]*e,this},applyMatrix4:function(o){var r=this.x,s=this.y,e=this.z,i=o.val,l=1/(i[3]*r+i[7]*s+i[11]*e+i[15]);return this.x=(i[0]*r+i[4]*s+i[8]*e+i[12])*l,this.y=(i[1]*r+i[5]*s+i[9]*e+i[13])*l,this.z=(i[2]*r+i[6]*s+i[10]*e+i[14])*l,this},transformMat3:function(o){var r=this.x,s=this.y,e=this.z,i=o.val;return this.x=r*i[0]+s*i[3]+e*i[6],this.y=r*i[1]+s*i[4]+e*i[7],this.z=r*i[2]+s*i[5]+e*i[8],this},transformMat4:function(o){var r=this.x,s=this.y,e=this.z,i=o.val;return this.x=i[0]*r+i[4]*s+i[8]*e+i[12],this.y=i[1]*r+i[5]*s+i[9]*e+i[13],this.z=i[2]*r+i[6]*s+i[10]*e+i[14],this},transformCoordinates:function(o){var r=this.x,s=this.y,e=this.z,i=o.val,l=r*i[0]+s*i[4]+e*i[8]+i[12],n=r*i[1]+s*i[5]+e*i[9]+i[13],a=r*i[2]+s*i[6]+e*i[10]+i[14],f=r*i[3]+s*i[7]+e*i[11]+i[15];return this.x=l/f,this.y=n/f,this.z=a/f,this},transformQuat:function(o){var r=this.x,s=this.y,e=this.z,i=o.x,l=o.y,n=o.z,a=o.w,f=a*r+l*e-n*s,h=a*s+n*r-i*e,d=a*e+i*s-l*r,c=-i*r-l*s-n*e;return this.x=f*a+c*-i+h*-n-d*-l,this.y=h*a+c*-l+d*-i-f*-n,this.z=d*a+c*-n+f*-l-h*-i,this},project:function(o){var r=this.x,s=this.y,e=this.z,i=o.val,l=i[0],n=i[1],a=i[2],f=i[3],h=i[4],d=i[5],c=i[6],g=i[7],x=i[8],m=i[9],y=i[10],T=i[11],R=i[12],P=i[13],D=i[14],I=i[15],w=1/(r*f+s*g+e*T+I);return this.x=(r*l+s*h+e*x+R)*w,this.y=(r*n+s*d+e*m+P)*w,this.z=(r*a+s*c+e*y+D)*w,this},projectViewMatrix:function(o,r){return this.applyMatrix4(o).applyMatrix4(r)},unprojectViewMatrix:function(o,r){return this.applyMatrix4(o).applyMatrix4(r)},unproject:function(o,r){var s=o.x,e=o.y,i=o.z,l=o.w,n=this.x-s,a=l-this.y-1-e,f=this.z;return this.x=2*n/i-1,this.y=2*a/l-1,this.z=2*f-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),p.exports=v},51729:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s,e,i){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=s||0,this.z=e||0,this.w=i||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,r,s,e){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=r||0,this.z=s||0,this.w=e||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,r=this.y,s=this.z,e=this.w;return Math.sqrt(o*o+r*r+s*s+e*e)},lengthSq:function(){var o=this.x,r=this.y,s=this.z,e=this.w;return o*o+r*r+s*s+e*e},normalize:function(){var o=this.x,r=this.y,s=this.z,e=this.w,i=o*o+r*r+s*s+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=o*i,this.y=r*i,this.z=s*i,this.w=e*i),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,r){r===void 0&&(r=0);var s=this.x,e=this.y,i=this.z,l=this.w;return this.x=s+r*(o.x-s),this.y=e+r*(o.y-e),this.z=i+r*(o.z-i),this.w=l+r*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var r=o.x-this.x,s=o.y-this.y,e=o.z-this.z||0,i=o.w-this.w||0;return Math.sqrt(r*r+s*s+e*e+i*i)},distanceSq:function(o){var r=o.x-this.x,s=o.y-this.y,e=o.z-this.z||0,i=o.w-this.w||0;return r*r+s*s+e*e+i*i},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var r=this.x,s=this.y,e=this.z,i=this.w,l=o.val;return this.x=l[0]*r+l[4]*s+l[8]*e+l[12]*i,this.y=l[1]*r+l[5]*s+l[9]*e+l[13]*i,this.z=l[2]*r+l[6]*s+l[10]*e+l[14]*i,this.w=l[3]*r+l[7]*s+l[11]*e+l[15]*i,this},transformQuat:function(o){var r=this.x,s=this.y,e=this.z,i=o.x,l=o.y,n=o.z,a=o.w,f=a*r+l*e-n*s,h=a*s+n*r-i*e,d=a*e+i*s-l*r,c=-i*r-l*s-n*e;return this.x=f*a+c*-i+h*-n-d*-l,this.y=h*a+c*-l+d*-i-f*-n,this.z=d*a+c*-n+f*-l-h*-i,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,p.exports=v},9557:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return Math.abs(t-u)<=v};p.exports=S},1071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(t>=u&&t<=v)return t;var o=v-u;return u+((t-u)%o+o)%o};p.exports=S},90447:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){return Math.atan2(o-u,v-t)};p.exports=S},94240:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return Math.atan2(u.y-t.y,u.x-t.x)};p.exports=S},84066:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return Math.atan2(u.x-t.x,u.y-t.y)};p.exports=S},9678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){return Math.atan2(v-t,o-u)};p.exports=S},76861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=function(o){return o>Math.PI&&(o-=u.PI2),Math.abs(((o+u.TAU)%u.PI2-u.PI2)%u.PI2)};p.exports=v},37570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=S},87597:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61616),v=function(){return u(-Math.PI,Math.PI)};p.exports=v},74493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61616),v=function(){return u(-180,180)};p.exports=v},19049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37570),v=function(o){return u(o+Math.PI)};p.exports=v},90612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=function(o,r,s){return s===void 0&&(s=.05),o===r||(Math.abs(r-o)<=s||Math.abs(r-o)>=u.PI2-s?o=r:(Math.abs(r-o)>Math.PI&&(r<o?r+=u.PI2:r-=u.PI2),r>o?o+=s:r<o&&(o-=s))),o};p.exports=v},93954:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=u-t;if(v===0)return 0;var o=Math.floor((v- -180)/360);return v-o*360};p.exports=S},35786:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1071),v=function(o){return u(o,-Math.PI,Math.PI)};p.exports=v},62138:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1071),v=function(o){return u(o,-180,180)};p.exports=v},22153:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(90447),BetweenPoints:t(94240),BetweenPointsY:t(84066),BetweenY:t(9678),CounterClockwise:t(76861),Normalize:t(37570),Random:t(87597),RandomDegrees:t(74493),Reverse:t(19049),RotateTo:t(90612),ShortestBetween:t(93954),Wrap:t(35786),WrapDegrees:t(62138)}},83392:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=S},53996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=t-v,s=u-o;return Math.sqrt(r*r+s*s)};p.exports=S},92951:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.x-u.x,o=t.y-u.y;return Math.sqrt(v*v+o*o)};p.exports=S},12161:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.x-u.x,o=t.y-u.y;return v*v+o*o};p.exports=S},38057:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){return Math.max(Math.abs(t-v),Math.abs(u-o))};p.exports=S},33297:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(v-t,r)+Math.pow(o-u,r))};p.exports=S},90366:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){return Math.abs(t-v)+Math.abs(u-o)};p.exports=S},35032:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=t-v,s=u-o;return r*r+s*s};p.exports=S},10130:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(53996),BetweenPoints:t(92951),BetweenPointsSquared:t(12161),Chebyshev:t(38057),Power:t(33297),Snake:t(90366),Squared:t(35032)}},35060:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25265),v=t(57428),o=t(73214),r=t(71778),s=t(36468),e=t(88258),i=t(52910),l=t(67799),n=t(74083),a=t(92284),f=t(28035),h=t(8754);p.exports={Power0:i,Power1:l.Out,Power2:r.Out,Power3:n.Out,Power4:a.Out,Linear:i,Quad:l.Out,Cubic:r.Out,Quart:n.Out,Quint:a.Out,Sine:f.Out,Expo:e.Out,Circ:o.Out,Elastic:s.Out,Back:u.Out,Bounce:v.Out,Stepped:h,"Quad.easeIn":l.In,"Cubic.easeIn":r.In,"Quart.easeIn":n.In,"Quint.easeIn":a.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":o.In,"Elastic.easeIn":s.In,"Back.easeIn":u.In,"Bounce.easeIn":v.In,"Quad.easeOut":l.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":n.Out,"Quint.easeOut":a.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":s.Out,"Back.easeOut":u.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":n.InOut,"Quint.easeInOut":a.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":u.InOut,"Bounce.easeInOut":v.InOut}},25860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===void 0&&(u=1.70158),t*t*((u+1)*t-u)};p.exports=S},45264:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u=1.70158);var v=u*1.525;return(t*=2)<1?.5*(t*t*((v+1)*t-v)):.5*((t-=2)*t*((v+1)*t+v)+2)};p.exports=S},36699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===void 0&&(u=1.70158),--t*t*((u+1)*t+u)+1};p.exports=S},25265:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(25860),Out:t(36699),InOut:t(45264)}},62191:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=S},24799:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u=!1;return t<.5?(t=1-t*2,u=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,u?(1-t)*.5:t*.5+.5};p.exports=S},60819:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=S},57428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(62191),Out:t(60819),InOut:t(24799)}},86855:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};p.exports=S},7280:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=S},18058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};p.exports=S},73214:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(86855),Out:t(18058),InOut:t(7280)}},91532:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};p.exports=S},63180:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=S},16518:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};p.exports=S},71778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91532),Out:t(16518),InOut:t(63180)}},24729:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(u===void 0&&(u=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var o=v/4;return u<1?u=1:o=v*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/v))};p.exports=S},50325:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(u===void 0&&(u=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var o=v/4;return u<1?u=1:o=v*Math.asin(1/u)/(2*Math.PI),(t*=2)<1?-.5*(u*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/v)):u*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/v)*.5+1};p.exports=S},84074:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(u===void 0&&(u=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var o=v/4;return u<1?u=1:o=v*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/v)+1};p.exports=S},36468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24729),Out:t(84074),InOut:t(50325)}},95638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=S},10357:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=S},14894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};p.exports=S},88258:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(95638),Out:t(14894),InOut:t(10357)}},33063:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(25265),Bounce:t(57428),Circular:t(73214),Cubic:t(71778),Elastic:t(36468),Expo:t(88258),Linear:t(52910),Quadratic:t(67799),Quartic:t(74083),Quintic:t(92284),Sine:t(28035),Stepped:t(8754)}},43927:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};p.exports=S},52910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(43927)},77471:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};p.exports=S},83863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=S},44383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};p.exports=S},67799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(77471),Out:t(44383),InOut:t(83863)}},48311:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};p.exports=S},55248:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=S},23135:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};p.exports=S},74083:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(48311),Out:t(23135),InOut:t(55248)}},7313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};p.exports=S},98759:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=S},26670:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};p.exports=S},92284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(7313),Out:t(26670),InOut:t(98759)}},52929:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=S},66333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=S},37255:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=S},28035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(52929),Out:t(37255),InOut:t(66333)}},52770:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===void 0&&(u=1),t<=0?0:t>=1?1:((u*t|0)+1)*(1/u)};p.exports=S},8754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(52770)},17247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===void 0&&(u=1e-4),Math.ceil(t-u)};p.exports=S},88456:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return v===void 0&&(v=1e-4),Math.abs(t-u)<v};p.exports=S},61824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===void 0&&(u=1e-4),Math.floor(t+u)};p.exports=S},41935:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return v===void 0&&(v=1e-4),t>u-v};p.exports=S},54726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return v===void 0&&(v=1e-4),t<u+v};p.exports=S},52778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(17247),Equal:t(88456),Floor:t(61824),GreaterThan:t(41935),LessThan:t(54726)}},5923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83392),v=t(98611),o={Angle:t(22153),Distance:t(10130),Easing:t(33063),Fuzzy:t(52778),Interpolation:t(48528),Pow2:t(73773),Snap:t(23679),RandomDataGenerator:t(81429),Average:t(26042),Bernstein:t(22824),Between:t(17489),CatmullRom:t(14976),CeilTo:t(89129),Clamp:t(82897),DegToRad:t(75606),Difference:t(767),Euler:t(9849),Factorial:t(8034),FloatBetween:t(61616),FloorTo:t(60679),FromPercent:t(91806),GetSpeed:t(79366),IsEven:t(43776),IsEvenStrict:t(58442),Linear:t(42798),LinearXY:t(61072),MaxAdd:t(69635),Median:t(37394),MinSub:t(17259),Percent:t(61820),RadToDeg:t(23701),RandomXY:t(16906),RandomXYZ:t(52417),RandomXYZW:t(17915),Rotate:t(52257),RotateAround:t(2386),RotateAroundDistance:t(72395),RotateTo:t(41061),RoundAwayFromZero:t(67233),RoundTo:t(64333),SinCosTableGenerator:t(59533),SmootherStep:t(87736),SmoothStep:t(5514),ToXY:t(55805),TransformXY:t(64462),Within:t(9557),Wrap:t(1071),Vector2:t(93736),Vector3:t(70015),Vector4:t(51729),Matrix3:t(5341),Matrix4:t(16650),Quaternion:t(75003),RotateVec3:t(93709)};o=v(!1,o,u),p.exports=o},63210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22824),v=function(o,r){for(var s=0,e=o.length-1,i=0;i<=e;i++)s+=Math.pow(1-r,e-i)*Math.pow(r,i)*o[i]*u(e,i);return s};p.exports=v},88332:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(14976),v=function(o,r){var s=o.length-1,e=s*r,i=Math.floor(e);return o[0]===o[s]?(r<0&&(i=Math.floor(e=s*(1+r))),u(e-i,o[(i-1+s)%s],o[i],o[(i+1)%s],o[(i+2)%s])):r<0?o[0]-(u(-e,o[0],o[0],o[1],o[1])-o[0]):r>1?o[s]-(u(e-s,o[s],o[s],o[s-1],o[s-1])-o[s]):u(e-i,o[i?i-1:0],o[i],o[s<i+1?s:i+1],o[s<i+2?s:i+2])};p.exports=v},34631:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r,s){var e=1-r;return e*e*e*s}function t(r,s){var e=1-r;return 3*e*e*r*s}function u(r,s){return 3*(1-r)*r*r*s}function v(r,s){return r*r*r*s}var o=function(r,s,e,i,l){return S(r,s)+t(r,e)+u(r,i)+v(r,l)};p.exports=o},47614:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(42798),v=function(o,r){var s=o.length-1,e=s*r,i=Math.floor(e);return r<0?u(o[0],o[1],e):r>1?u(o[s],o[s-1],s-e):u(o[i],o[i+1>s?s:i+1],e-i)};p.exports=v},16252:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(o,r){var s=1-o;return s*s*r}function t(o,r){return 2*(1-o)*o*r}function u(o,r){return o*o*r}var v=function(o,r,s,e){return S(o,r)+t(o,s)+u(o,e)};p.exports=v},44521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(5514),v=function(o,r,s){return r+(s-r)*u(o,0,1)};p.exports=v},45507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87736),v=function(o,r,s){return r+(s-r)*u(o,0,1)};p.exports=v},48528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(63210),CatmullRom:t(88332),CubicBezier:t(34631),Linear:t(47614),QuadraticBezier:t(16252),SmoothStep:t(44521),SmootherStep:t(45507)}},3504:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u=Math.log(t)/.6931471805599453;return 1<<Math.ceil(u)};p.exports=S},28621:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t>0&&(t&t-1)===0&&u>0&&(u&u-1)===0};p.exports=S},2018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};p.exports=S},73773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(3504),IsSize:t(28621),IsValue:t(2018)}},81429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var r,s=this.n;o=o.toString();for(var e=0;e<o.length;e++)s+=o.charCodeAt(e),r=.02519603282416938*s,s=r>>>0,r-=s,r*=s,s=r>>>0,r-=s,s+=r*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var r=0;r<o.length&&o[r]!=null;r++){var s=o[r];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,r){return Math.floor(this.realInRange(0,r-o+1)+o)},between:function(o,r){return Math.floor(this.realInRange(0,r-o+1)+o)},realInRange:function(o,r){return this.frac()*(r-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",r="";for(r=o="";o++<36;r+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return r},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-1)+.5)]},timestamp:function(o,r){return this.realInRange(o||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var r=o.length-1,s=r;s>0;s--){var e=Math.floor(this.frac()*(s+1)),i=o[e];o[e]=o[s],o[s]=i}return o}});p.exports=v},82127:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){return v===void 0&&(v=0),u===0?t:(t-=v,t=u*Math.ceil(t/u),o?(v+t)/u:v+t)};p.exports=S},84314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){return v===void 0&&(v=0),u===0?t:(t-=v,t=u*Math.floor(t/u),o?(v+t)/u:v+t)};p.exports=S},88462:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){return v===void 0&&(v=0),u===0?t:(t-=v,t=u*Math.round(t/u),o?(v+t)/u:v+t)};p.exports=S},23679:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(82127),Floor:t(84314),To:t(88462)}},92491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(75205);var u=t(86459),v=t(98611),o={Actions:t(83979),Animations:t(13517),BlendModes:t(95723),Cache:t(45820),Cameras:t(44143),Core:t(80293),Class:t(56694),Create:t(84106),Curves:t(73962),Data:t(1999),Display:t(24816),DOM:t(3590),Events:t(95146),FX:t(96910),Game:t(15213),GameObjects:t(48013),Geom:t(84068),Input:t(20873),Loader:t(95695),Math:t(5923),Physics:t(53954),Plugins:t(45615),Renderer:t(42069),Scale:t(86754),ScaleModes:t(27394),Scene:t(87157),Scenes:t(20436),Structs:t(20010),Textures:t(87499),Tilemaps:t(52678),Time:t(97121),Tweens:t(75193),Utils:t(22178)};o.Sound=t(56751),o=v(!1,o,u),p.exports=o,t.g.Phaser=o},62832:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(7864),o=t(1539),r=new u({Extends:o,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,i,l,n,a){o.call(this,e,i,l,n,a),this.body=null}});p.exports=r},66150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(75606),o=t(53996),r=t(35032),s=t(99523),e=t(72632),i=t(30657),l=t(2732),n=t(15147),a=t(91963),f=t(7599),h=t(93736),d=t(85233),c=new u({initialize:function(x){this.scene=x,this.systems=x.sys,this.config=this.getConfig(),this.world,this.add,x.sys.events.once(f.BOOT,this.boot,this),x.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new s(this.world));var g=this.systems.events;e(this.config,"customUpdate",!1)||g.on(f.UPDATE,this.world.update,this.world),g.on(f.POST_UPDATE,this.world.postUpdate,this.world),g.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,x=this.systems.settings.physics,m=i(e(x,"arcade",{}),e(g,"arcade",{}));return m},overlap:function(g,x,m,y,T){return m===void 0&&(m=null),y===void 0&&(y=null),T===void 0&&(T=m),this.world.collideObjects(g,x,m,y,T,!0)},collide:function(g,x,m,y,T){return m===void 0&&(m=null),y===void 0&&(y=null),T===void 0&&(T=m),this.world.collideObjects(g,x,m,y,T,!1)},collideTiles:function(g,x,m,y,T){return this.world.collideTiles(g,x,m,y,T)},overlapTiles:function(g,x,m,y,T){return this.world.overlapTiles(g,x,m,y,T)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,x,m,y,T,R){y===void 0&&(y=60);var P=Math.atan2(m-g.y,x-g.x);return g.body.acceleration.setToPolar(P,y),T!==void 0&&R!==void 0&&g.body.maxVelocity.set(T,R),P},accelerateToObject:function(g,x,m,y,T){return this.accelerateTo(g,x.x,x.y,m,y,T)},closest:function(g,x){x||(x=this.world.bodies.entries);for(var m=Number.MAX_VALUE,y=null,T=g.x,R=g.y,P=x.length,D=0;D<P;D++){var I=x[D],w=I.body||I;if(!(g===I||g===w||g===w.gameObject||g===w.center)){var U=r(T,R,w.center.x,w.center.y);U<m&&(y=I,m=U)}}return y},furthest:function(g,x){x||(x=this.world.bodies.entries);for(var m=-1,y=null,T=g.x,R=g.y,P=x.length,D=0;D<P;D++){var I=x[D],w=I.body||I;if(!(g===I||g===w||g===w.gameObject||g===w.center)){var U=r(T,R,w.center.x,w.center.y);U>m&&(y=I,m=U)}}return y},moveTo:function(g,x,m,y,T){y===void 0&&(y=60),T===void 0&&(T=0);var R=Math.atan2(m-g.y,x-g.x);return T>0&&(y=o(g.x,g.y,x,m)/(T/1e3)),g.body.velocity.setToPolar(R,y),R},moveToObject:function(g,x,m,y){return this.moveTo(g,x.x,x.y,m,y)},velocityFromAngle:function(g,x,m){return x===void 0&&(x=60),m===void 0&&(m=new h),m.setToPolar(v(g),x)},velocityFromRotation:function(g,x,m){return x===void 0&&(x=60),m===void 0&&(m=new h),m.setToPolar(g,x)},overlapRect:function(g,x,m,y,T,R){return n(this.world,g,x,m,y,T,R)},overlapCirc:function(g,x,m,y,T){return l(this.world,g,x,m,y,T)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(f.UPDATE,this.world.update,this.world),g.off(f.POST_UPDATE,this.world.postUpdate,this.world),g.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});a.register("ArcadePhysics",c,"arcadePhysics"),p.exports=c},25084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(7864),o=t(13747),r=new u({Extends:o,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,i,l,n,a){o.call(this,e,i,l,n,a),this.body=null}});p.exports=r},97602:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(47401),o=t(27037),r=t(23701),s=t(74118),e=t(94287),i=t(93736),l=new u({initialize:function(a,f){var h=64,d=64,c={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=f!==void 0;g&&f.displayWidth&&(h=f.displayWidth,d=f.displayHeight),g||(f=c),this.world=a,this.gameObject=g?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=a.defaults.debugShowBody,this.debugShowVelocity=a.defaults.debugShowVelocity,this.debugBodyColor=a.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=h,this.height=d,this.sourceWidth=h,this.sourceHeight=d,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(h/2),this.halfHeight=Math.abs(d/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=a.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=v.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=v.DYNAMIC_BODY,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s},updateBounds:function(){var n=this.gameObject,a=this.transform;if(n.parentContainer){var f=n.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);a.x=f.tx,a.y=f.ty,a.rotation=r(f.rotation),a.scaleX=f.scaleX,a.scaleY=f.scaleY,a.displayOriginX=n.displayOriginX,a.displayOriginY=n.displayOriginY}else a.x=n.x,a.y=n.y,a.rotation=n.angle,a.scaleX=n.scaleX,a.scaleY=n.scaleY,a.displayOriginX=n.displayOriginX,a.displayOriginY=n.displayOriginY;var h=!1;if(this.syncBounds){var d=n.getBounds(this._bounds);this.width=d.width,this.height=d.height,h=!0}else{var c=Math.abs(a.scaleX),g=Math.abs(a.scaleY);(this._sx!==c||this._sy!==g)&&(this.width=this.sourceWidth*c,this.height=this.sourceHeight*g,this._sx=c,this._sy=g,h=!0)}h&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var n=this.transform;this.position.x=n.x+n.scaleX*(this.offset.x-n.displayOriginX),this.position.y=n.y+n.scaleY*(this.offset.y-n.displayOriginY),this.updateCenter()},resetFlags:function(n){n===void 0&&(n=!1);var a=this.wasTouching,f=this.touching,h=this.blocked;n?(a.none=!0,a.up=!1,a.down=!1,a.left=!1,a.right=!1):(a.none=f.none,a.up=f.up,a.down=f.down,a.left=f.left,a.right=f.right),f.none=!0,f.up=!1,f.down=!1,f.left=!1,f.right=!1,h.none=!0,h.up=!1,h.down=!1,h.left=!1,h.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(n,a){n&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),n&&this.update(a)},update:function(n){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,n);var a=this.velocity.x,f=this.velocity.y;this.newVelocity.set(a*n,f*n),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(f,a),this.speed=Math.sqrt(a*a+f*f),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(o.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var n=this.position.x-this.prevFrame.x,a=this.position.y-this.prevFrame.y,f=this.gameObject;if(this.moves){var h=this.deltaMax.x,d=this.deltaMax.y;h!==0&&n!==0&&(n<0&&n<-h?n=-h:n>0&&n>h&&(n=h)),d!==0&&a!==0&&(a<0&&a<-d?a=-d:a>0&&a>d&&(a=d)),f&&(f.x+=n,f.y+=a)}n<0?this.facing=v.FACING_LEFT:n>0&&(this.facing=v.FACING_RIGHT),a<0?this.facing=v.FACING_UP:a>0&&(this.facing=v.FACING_DOWN),this.allowRotation&&f&&(f.angle+=this.deltaZ()),this._tx=n,this._ty=a},setBoundsRectangle:function(n){return this.customBoundsRectangle=n||this.world.bounds,this},checkWorldBounds:function(){var n=this.position,a=this.customBoundsRectangle,f=this.world.checkCollision,h=this.worldBounce?-this.worldBounce.x:-this.bounce.x,d=this.worldBounce?-this.worldBounce.y:-this.bounce.y,c=!1;return n.x<a.x&&f.left?(n.x=a.x,this.velocity.x*=h,this.blocked.left=!0,c=!0):this.right>a.right&&f.right&&(n.x=a.right-this.width,this.velocity.x*=h,this.blocked.right=!0,c=!0),n.y<a.y&&f.up?(n.y=a.y,this.velocity.y*=d,this.blocked.up=!0,c=!0):this.bottom>a.bottom&&f.down&&(n.y=a.bottom-this.height,this.velocity.y*=d,this.blocked.down=!0,c=!0),c&&(this.blocked.none=!1,this.updateCenter()),c},setOffset:function(n,a){return a===void 0&&(a=n),this.offset.set(n,a),this},setGameObject:function(n,a){return a===void 0&&(a=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=n,n.body&&(n.body=this),this.setSize(),this.world.add(this),this.enable=a,this},setSize:function(n,a,f){f===void 0&&(f=!0);var h=this.gameObject;if(h&&(!n&&h.frame&&(n=h.frame.realWidth),!a&&h.frame&&(a=h.frame.realHeight)),this.sourceWidth=n,this.sourceHeight=a,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&h&&h.getCenter){var d=(h.width-n)/2,c=(h.height-a)/2;this.offset.set(d,c)}return this.isCircle=!1,this.radius=0,this},setCircle:function(n,a,f){return a===void 0&&(a=this.offset.x),f===void 0&&(f=this.offset.y),n>0?(this.isCircle=!0,this.radius=n,this.sourceWidth=n*2,this.sourceHeight=n*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(a,f),this.updateCenter()):this.isCircle=!1,this},reset:function(n,a){this.stop();var f=this.gameObject;f&&(f.setPosition(n,a),this.rotation=f.angle,this.preRotation=f.angle);var h=this.position;f&&f.getTopLeft?f.getTopLeft(h):h.set(n,a),this.prev.copy(h),this.prevFrame.copy(h),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,a){if(!this.isCircle)return e(this,n,a);if(this.radius>0&&n>=this.left&&n<=this.right&&a>=this.top&&a<=this.bottom){var f=(this.center.x-n)*(this.center.x-n),h=(this.center.y-a)*(this.center.y-a);return f+h<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(n){var a=this.position,f=a.x+this.halfWidth,h=a.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor),this.isCircle?n.strokeCircle(f,h,this.width/2):(this.checkCollision.up&&n.lineBetween(a.x,a.y,a.x+this.width,a.y),this.checkCollision.right&&n.lineBetween(a.x+this.width,a.y,a.x+this.width,a.y+this.height),this.checkCollision.down&&n.lineBetween(a.x,a.y+this.height,a.x+this.width,a.y+this.height),this.checkCollision.left&&n.lineBetween(a.x,a.y,a.x,a.y+this.height))),this.debugShowVelocity&&(n.lineStyle(n.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),n.lineBetween(f,h,f+this.velocity.x/2,h+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(n,a,f,h){n===void 0&&(n=!0),this.collideWorldBounds=n;var d=a!==void 0,c=f!==void 0;return(d||c)&&(this.worldBounce||(this.worldBounce=new i),d&&(this.worldBounce.x=a),c&&(this.worldBounce.y=f)),h!==void 0&&(this.onWorldBounds=h),this},setVelocity:function(n,a){return this.velocity.set(n,a),n=this.velocity.x,a=this.velocity.y,this.speed=Math.sqrt(n*n+a*a),this},setVelocityX:function(n){return this.setVelocity(n,this.velocity.y)},setVelocityY:function(n){return this.setVelocity(this.velocity.x,n)},setMaxVelocity:function(n,a){return this.maxVelocity.set(n,a),this},setMaxVelocityX:function(n){return this.maxVelocity.x=n,this},setMaxVelocityY:function(n){return this.maxVelocity.y=n,this},setMaxSpeed:function(n){return this.maxSpeed=n,this},setBounce:function(n,a){return this.bounce.set(n,a),this},setBounceX:function(n){return this.bounce.x=n,this},setBounceY:function(n){return this.bounce.y=n,this},setAcceleration:function(n,a){return this.acceleration.set(n,a),this},setAccelerationX:function(n){return this.acceleration.x=n,this},setAccelerationY:function(n){return this.acceleration.y=n,this},setAllowDrag:function(n){return n===void 0&&(n=!0),this.allowDrag=n,this},setAllowGravity:function(n){return n===void 0&&(n=!0),this.allowGravity=n,this},setAllowRotation:function(n){return n===void 0&&(n=!0),this.allowRotation=n,this},setDrag:function(n,a){return this.drag.set(n,a),this},setDamping:function(n){return this.useDamping=n,this},setDragX:function(n){return this.drag.x=n,this},setDragY:function(n){return this.drag.y=n,this},setGravity:function(n,a){return this.gravity.set(n,a),this},setGravityX:function(n){return this.gravity.x=n,this},setGravityY:function(n){return this.gravity.y=n,this},setFriction:function(n,a){return this.friction.set(n,a),this},setFrictionX:function(n){return this.friction.x=n,this},setFrictionY:function(n){return this.friction.y=n,this},setAngularVelocity:function(n){return this.angularVelocity=n,this},setAngularAcceleration:function(n){return this.angularAcceleration=n,this},setAngularDrag:function(n){return this.angularDrag=n,this},setMass:function(n){return this.mass=n,this},setImmovable:function(n){return n===void 0&&(n=!0),this.immovable=n,this},setEnable:function(n){return n===void 0&&(n=!0),this.enable=n,this},processX:function(n,a,f,h){this.x+=n,this.updateCenter(),a!==null&&(this.velocity.x=a);var d=this.blocked;f&&(d.left=!0,d.none=!1),h&&(d.right=!0,d.none=!1)},processY:function(n,a,f,h){this.y+=n,this.updateCenter(),a!==null&&(this.velocity.y=a);var d=this.blocked;f&&(d.up=!0,d.none=!1),h&&(d.down=!0,d.none=!1)},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=l},3909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s,e,i,l,n,a){this.world=r,this.name="",this.active=!0,this.overlapOnly=s,this.object1=e,this.object2=i,this.collideCallback=l,this.processCallback=n,this.callbackContext=a},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=v},99523:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62832),v=t(25084),o=t(97602),r=t(56694),s=t(47401),e=t(10481),i=t(66634),l=t(46346),n=new r({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(a,f,h,d,c){return this.world.addCollider(a,f,h,d,c)},overlap:function(a,f,h,d,c){return this.world.addOverlap(a,f,h,d,c)},existing:function(a,f){var h=f?s.STATIC_BODY:s.DYNAMIC_BODY;return this.world.enableBody(a,h),a},staticImage:function(a,f,h,d){var c=new u(this.scene,a,f,h,d);return this.sys.displayList.add(c),this.world.enableBody(c,s.STATIC_BODY),c},image:function(a,f,h,d){var c=new u(this.scene,a,f,h,d);return this.sys.displayList.add(c),this.world.enableBody(c,s.DYNAMIC_BODY),c},staticSprite:function(a,f,h,d){var c=new v(this.scene,a,f,h,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,s.STATIC_BODY),c},sprite:function(a,f,h,d){var c=new v(this.scene,a,f,h,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,s.DYNAMIC_BODY),c},staticGroup:function(a,f){return this.sys.updateList.add(new l(this.world,this.world.scene,a,f))},group:function(a,f){return this.sys.updateList.add(new e(this.world,this.world.scene,a,f))},body:function(a,f,h,d){var c=new o(this.world);return c.position.set(a,f),h&&d&&c.setSize(h,d),this.world.add(c,s.DYNAMIC_BODY),c},staticBody:function(a,f,h,d){var c=new i(this.world);return c.position.set(a,f),h&&d&&c.setSize(h,d),this.world.add(c,s.STATIC_BODY),c},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=n},75671:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(47401),v=function(o,r,s,e){var i=0,l=o.deltaAbsX()+r.deltaAbsX()+e;return o._dx===0&&r._dx===0?(o.embedded=!0,r.embedded=!0):o._dx>r._dx?(i=o.right-r.x,i>l&&!s||o.checkCollision.right===!1||r.checkCollision.left===!1?i=0:(o.touching.none=!1,o.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===u.STATIC_BODY&&!s&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===u.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.left=!0))):o._dx<r._dx&&(i=o.x-r.width-r.x,-i>l&&!s||o.checkCollision.left===!1||r.checkCollision.right===!1?i=0:(o.touching.none=!1,o.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===u.STATIC_BODY&&!s&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===u.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.right=!0))),o.overlapX=i,r.overlapX=i,i};p.exports=v},66185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(47401),v=function(o,r,s,e){var i=0,l=o.deltaAbsY()+r.deltaAbsY()+e;return o._dy===0&&r._dy===0?(o.embedded=!0,r.embedded=!0):o._dy>r._dy?(i=o.bottom-r.y,i>l&&!s||o.checkCollision.down===!1||r.checkCollision.up===!1?i=0:(o.touching.none=!1,o.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===u.STATIC_BODY&&!s&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===u.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.up=!0))):o._dy<r._dy&&(i=o.y-r.bottom,-i>l&&!s||o.checkCollision.up===!1||r.checkCollision.down===!1?i=0:(o.touching.none=!1,o.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===u.STATIC_BODY&&!s&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===u.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.down=!0))),o.overlapY=i,r.overlapY=i,i};p.exports=v},10481:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25084),v=t(56694),o=t(47401),r=t(72632),s=t(59192),e=t(42911),i=new v({Extends:s,initialize:function(n,a,f,h){if(!f&&!h)h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(e(f))h=f,f=null,h.internalCreateCallback=this.createCallbackHandler,h.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&e(f[0])){h=f[0];var d=this;f.forEach(function(c){c.internalCreateCallback=d.createCallbackHandler,c.internalRemoveCallback=d.removeCallbackHandler}),f=null}else h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=n,h.classType=r(h,"classType",u),this.physicsType=o.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(h,"collideWorldBounds",!1),setBoundsRectangle:r(h,"customBoundsRectangle",null),setAccelerationX:r(h,"accelerationX",0),setAccelerationY:r(h,"accelerationY",0),setAllowDrag:r(h,"allowDrag",!0),setAllowGravity:r(h,"allowGravity",!0),setAllowRotation:r(h,"allowRotation",!0),setDamping:r(h,"useDamping",!1),setBounceX:r(h,"bounceX",0),setBounceY:r(h,"bounceY",0),setDragX:r(h,"dragX",0),setDragY:r(h,"dragY",0),setEnable:r(h,"enable",!0),setGravityX:r(h,"gravityX",0),setGravityY:r(h,"gravityY",0),setFrictionX:r(h,"frictionX",0),setFrictionY:r(h,"frictionY",0),setMaxSpeed:r(h,"maxSpeed",-1),setMaxVelocityX:r(h,"maxVelocityX",1e4),setMaxVelocityY:r(h,"maxVelocityY",1e4),setVelocityX:r(h,"velocityX",0),setVelocityY:r(h,"velocityY",0),setAngularVelocity:r(h,"angularVelocity",0),setAngularAcceleration:r(h,"angularAcceleration",0),setAngularDrag:r(h,"angularDrag",0),setMass:r(h,"mass",1),setImmovable:r(h,"immovable",!1)},s.call(this,a,f,h),this.type="PhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,o.DYNAMIC_BODY);var n=l.body;for(var a in this.defaults)n[a](this.defaults[a])},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},setVelocity:function(l,n,a){a===void 0&&(a=0);for(var f=this.getChildren(),h=0;h<f.length;h++)f[h].body.velocity.set(l+h*a,n+h*a);return this},setVelocityX:function(l,n){n===void 0&&(n=0);for(var a=this.getChildren(),f=0;f<a.length;f++)a[f].body.velocity.x=l+f*n;return this},setVelocityY:function(l,n){n===void 0&&(n=0);for(var a=this.getChildren(),f=0;f<a.length;f++)a[f].body.velocity.y=l+f*n;return this}});p.exports=i},22916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,u,v,o,r,s,e,i,l,n,a,f,h,d,c,g,x=function(D,I,w){S=D,t=I;var U=S.velocity.x,G=t.velocity.x;return u=S.pushable,i=S._dx<0,l=S._dx>0,n=S._dx===0,d=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),s=G-U*S.bounce.x,v=t.pushable,a=t._dx<0,f=t._dx>0,h=t._dx===0,c=!d,e=U-G*t.bounce.x,g=Math.abs(w),m()},m=function(){return l&&d&&t.blocked.right?(S.processX(-g,s,!1,!0),1):i&&c&&t.blocked.left?(S.processX(g,s,!0),1):f&&c&&S.blocked.right?(t.processX(-g,e,!1,!0),2):a&&d&&S.blocked.left?(t.processX(g,e,!0),2):0},y=function(){var D=S.velocity.x,I=t.velocity.x,w=Math.sqrt(I*I*t.mass/S.mass)*(I>0?1:-1),U=Math.sqrt(D*D*S.mass/t.mass)*(D>0?1:-1),G=(w+U)*.5;return w-=G,U-=G,o=G+w*S.bounce.x,r=G+U*t.bounce.x,i&&c?T(0):a&&d?T(1):l&&d?T(2):f&&c?T(3):!1},T=function(D){if(u&&v)g*=.5,D===0||D===3?(S.processX(g,o),t.processX(-g,r)):(S.processX(-g,o),t.processX(g,r));else if(u&&!v)D===0||D===3?S.processX(g,s,!0):S.processX(-g,s,!1,!0);else if(!u&&v)D===0||D===3?t.processX(-g,e,!1,!0):t.processX(g,e,!0);else{var I=g*.5;D===0?h?(S.processX(g,0,!0),t.processX(0,null,!1,!0)):f?(S.processX(I,0,!0),t.processX(-I,0,!1,!0)):(S.processX(I,t.velocity.x,!0),t.processX(-I,null,!1,!0)):D===1?n?(S.processX(0,null,!1,!0),t.processX(g,0,!0)):l?(S.processX(-I,0,!1,!0),t.processX(I,0,!0)):(S.processX(-I,null,!1,!0),t.processX(I,S.velocity.x,!0)):D===2?h?(S.processX(-g,0,!1,!0),t.processX(0,null,!0)):a?(S.processX(-I,0,!1,!0),t.processX(I,0,!0)):(S.processX(-I,t.velocity.x,!1,!0),t.processX(I,null,!0)):D===3&&(n?(S.processX(0,null,!0),t.processX(-g,0,!1,!0)):i?(S.processX(I,0,!0),t.processX(-I,0,!1,!0)):(S.processX(I,t.velocity.y,!0),t.processX(-I,null,!1,!0)))}return!0},R=function(D){D===1?t.velocity.x=0:d?t.processX(g,e,!0):t.processX(-g,e,!1,!0),S.moves&&(t.y+=(S.y-S.prev.y)*S.friction.y,t._dy=t.y-t.prev.y)},P=function(D){D===2?S.velocity.x=0:c?S.processX(g,s,!0):S.processX(-g,s,!1,!0),t.moves&&(S.y+=(t.y-t.prev.y)*t.friction.y,S._dy=S.y-S.prev.y)};p.exports={BlockCheck:m,Check:y,Set:x,Run:T,RunImmovableBody1:R,RunImmovableBody2:P}},67050:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,u,v,o,r,s,e,i,l,n,a,f,h,d,c,g,x=function(D,I,w){S=D,t=I;var U=S.velocity.y,G=t.velocity.y;return u=S.pushable,i=S._dy<0,l=S._dy>0,n=S._dy===0,d=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),s=G-U*S.bounce.y,v=t.pushable,a=t._dy<0,f=t._dy>0,h=t._dy===0,c=!d,e=U-G*t.bounce.y,g=Math.abs(w),m()},m=function(){return l&&d&&t.blocked.down?(S.processY(-g,s,!1,!0),1):i&&c&&t.blocked.up?(S.processY(g,s,!0),1):f&&c&&S.blocked.down?(t.processY(-g,e,!1,!0),2):a&&d&&S.blocked.up?(t.processY(g,e,!0),2):0},y=function(){var D=S.velocity.y,I=t.velocity.y,w=Math.sqrt(I*I*t.mass/S.mass)*(I>0?1:-1),U=Math.sqrt(D*D*S.mass/t.mass)*(D>0?1:-1),G=(w+U)*.5;return w-=G,U-=G,o=G+w*S.bounce.y,r=G+U*t.bounce.y,i&&c?T(0):a&&d?T(1):l&&d?T(2):f&&c?T(3):!1},T=function(D){if(u&&v)g*=.5,D===0||D===3?(S.processY(g,o),t.processY(-g,r)):(S.processY(-g,o),t.processY(g,r));else if(u&&!v)D===0||D===3?S.processY(g,s,!0):S.processY(-g,s,!1,!0);else if(!u&&v)D===0||D===3?t.processY(-g,e,!1,!0):t.processY(g,e,!0);else{var I=g*.5;D===0?h?(S.processY(g,0,!0),t.processY(0,null,!1,!0)):f?(S.processY(I,0,!0),t.processY(-I,0,!1,!0)):(S.processY(I,t.velocity.y,!0),t.processY(-I,null,!1,!0)):D===1?n?(S.processY(0,null,!1,!0),t.processY(g,0,!0)):l?(S.processY(-I,0,!1,!0),t.processY(I,0,!0)):(S.processY(-I,null,!1,!0),t.processY(I,S.velocity.y,!0)):D===2?h?(S.processY(-g,0,!1,!0),t.processY(0,null,!0)):a?(S.processY(-I,0,!1,!0),t.processY(I,0,!0)):(S.processY(-I,t.velocity.y,!1,!0),t.processY(I,null,!0)):D===3&&(n?(S.processY(0,null,!0),t.processY(-g,0,!1,!0)):i?(S.processY(I,0,!0),t.processY(-I,0,!1,!0)):(S.processY(I,t.velocity.y,!0),t.processY(-I,null,!1,!0)))}return!0},R=function(D){D===1?t.velocity.y=0:d?t.processY(g,e,!0):t.processY(-g,e,!1,!0),S.moves&&(t.x+=(S.x-S.prev.x)*S.friction.x,t._dx=t.x-t.prev.x)},P=function(D){D===2?S.velocity.y=0:c?S.processY(g,s,!0):S.processY(-g,s,!1,!0),t.moves&&(S.x+=(t.x-t.prev.x)*t.friction.x,S._dx=S.x-S.prev.x)};p.exports={BlockCheck:m,Check:y,Set:x,Run:T,RunImmovableBody1:R,RunImmovableBody2:P}},61777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75671),v=t(22916),o=function(r,s,e,i,l){l===void 0&&(l=u(r,s,e,i));var n=r.immovable,a=s.immovable;if(e||l===0||n&&a||r.customSeparateX||s.customSeparateX)return l!==0||r.embedded&&s.embedded;var f=v.Set(r,s,l);return!n&&!a?f>0?!0:v.Check():(n?v.RunImmovableBody1(f):a&&v.RunImmovableBody2(f),!0)};p.exports=o},25299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66185),v=t(67050),o=function(r,s,e,i,l){l===void 0&&(l=u(r,s,e,i));var n=r.immovable,a=s.immovable;if(e||l===0||n&&a||r.customSeparateY||s.customSeparateY)return l!==0||r.embedded&&s.embedded;var f=v.Set(r,s,l);return!n&&!a?f>0?!0:v.Check():(n?v.RunImmovableBody1(f):a&&v.RunImmovableBody2(f),!0)};p.exports=o},66634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65650),v=t(56694),o=t(47401),r=t(94287),s=t(93736),e=new v({initialize:function(l,n){var a=64,f=64,h={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},d=n!==void 0;d&&n.displayWidth&&(a=n.displayWidth,f=n.displayHeight),d||(n=h),this.world=l,this.gameObject=d?n:void 0,this.isBody=!0,this.debugShowBody=l.defaults.debugShowStaticBody,this.debugBodyColor=l.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(n.x-a*n.originX,n.y-f*n.originY),this.width=a,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=o.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(i,l){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),l&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,l){return l===void 0&&(l=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,l,n){n===void 0&&(n=!0);var a=this.gameObject;if(!i&&a.frame&&(i=a.frame.realWidth),!l&&a.frame&&(l=a.frame.realHeight),this.world.staticTree.remove(this),this.width=i,this.height=l,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(l/2),n&&a.getCenter){var f=a.displayWidth/2,h=a.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,h-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,l,n){return l===void 0&&(l=this.offset.x),n===void 0&&(n=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,n),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,l){var n=this.gameObject;i===void 0&&(i=n.x),l===void 0&&(l=n.y),this.world.staticTree.remove(this),n.setPosition(i,l),n.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,l){return this.isCircle?u(this,i,l):r(this,i,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var l=this.position,n=l.x+this.halfWidth,a=l.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(n,a,this.width/2):i.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=e},46346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25084),v=t(56694),o=t(47401),r=t(72632),s=t(59192),e=t(42911),i=new v({Extends:s,initialize:function(n,a,f,h){!f&&!h?h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:u}:e(f)?(h=f,f=null,h.internalCreateCallback=this.createCallbackHandler,h.internalRemoveCallback=this.removeCallbackHandler,h.createMultipleCallback=this.createMultipleCallbackHandler,h.classType=r(h,"classType",u)):Array.isArray(f)&&e(f[0])?(h=f,f=null,h.forEach(function(d){d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=r(d,"classType",u)})):h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=n,this.physicsType=o.STATIC_BODY,s.call(this,a,f,h),this.type="StaticPhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,o.STATIC_BODY)},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var l=this.children.entries,n=0;n<l.length;n++)l[n].body.reset();return this}});p.exports=i},85233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(94240),v=t(97602),o=t(82897),r=t(56694),s=t(3909),e=t(47401),i=t(53996),l=t(92951),n=t(6659),a=t(27037),f=t(88456),h=t(41935),d=t(54726),c=t(75671),g=t(66185),x=t(44662),m=t(10850),y=t(83392),T=t(74623),R=t(25163),P=t(74118),D=t(68687),I=t(27354),w=t(61777),U=t(25299),G=t(58403),H=t(66634),z=t(28808),$=t(69360),J=t(93736),W=t(1071),K=new r({Extends:n,initialize:function(b,Y){n.call(this),this.scene=b,this.bodies=new G,this.staticBodies=new G,this.pendingDestroy=new G,this.colliders=new T,this.gravity=new J(m(Y,"gravity.x",0),m(Y,"gravity.y",0)),this.bounds=new P(m(Y,"x",0),m(Y,"y",0),m(Y,"width",b.sys.scale.width),m(Y,"height",b.sys.scale.height)),this.checkCollision={up:m(Y,"checkCollision.up",!0),down:m(Y,"checkCollision.down",!0),left:m(Y,"checkCollision.left",!0),right:m(Y,"checkCollision.right",!0)},this.fps=m(Y,"fps",60),this.fixedStep=m(Y,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=m(Y,"timeScale",1),this.OVERLAP_BIAS=m(Y,"overlapBias",4),this.TILE_BIAS=m(Y,"tileBias",16),this.forceX=m(Y,"forceX",!1),this.isPaused=m(Y,"isPaused",!1),this._total=0,this.drawDebug=m(Y,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:m(Y,"debugShowBody",!0),debugShowStaticBody:m(Y,"debugShowStaticBody",!0),debugShowVelocity:m(Y,"debugShowVelocity",!0),bodyDebugColor:m(Y,"debugBodyColor",16711935),staticBodyDebugColor:m(Y,"debugStaticBodyColor",255),velocityDebugColor:m(Y,"debugVelocityColor",65280)},this.maxEntries=m(Y,"maxEntries",16),this.useTree=m(Y,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new $,this._tempMatrix2=new $,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(N,b){b===void 0&&(b=e.DYNAMIC_BODY),Array.isArray(N)||(N=[N]);for(var Y=0;Y<N.length;Y++){var j=N[Y];if(j.isParent)for(var Q=j.getChildren(),q=0;q<Q.length;q++){var tt=Q[q];tt.isParent?this.enable(tt,b):this.enableBody(tt,b)}else this.enableBody(j,b)}},enableBody:function(N,b){return b===void 0&&(b=e.DYNAMIC_BODY),N.hasTransformComponent&&(N.body||(b===e.DYNAMIC_BODY?N.body=new v(this,N):b===e.STATIC_BODY&&(N.body=new H(this,N))),this.add(N.body)),N},add:function(N){return N.physicsType===e.DYNAMIC_BODY?this.bodies.set(N):N.physicsType===e.STATIC_BODY&&(this.staticBodies.set(N),this.staticTree.insert(N)),N.enable=!0,N},disable:function(N){Array.isArray(N)||(N=[N]);for(var b=0;b<N.length;b++){var Y=N[b];if(Y.isParent)for(var j=Y.getChildren(),Q=0;Q<j.length;Q++){var q=j[Q];q.isParent?this.disable(q):this.disableBody(q.body)}else this.disableBody(Y.body)}},disableBody:function(N){this.remove(N),N.enable=!1},remove:function(N){N.physicsType===e.DYNAMIC_BODY?(this.tree.remove(N),this.bodies.delete(N)):N.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(N),this.staticTree.remove(N))},createDebugGraphic:function(){var N=this.scene.sys.add.graphics({x:0,y:0});return N.setDepth(Number.MAX_VALUE),this.debugGraphic=N,this.drawDebug=!0,N},setBounds:function(N,b,Y,j,Q,q,tt,it){return this.bounds.setTo(N,b,Y,j),Q!==void 0&&this.setBoundsCollision(Q,q,tt,it),this},setBoundsCollision:function(N,b,Y,j){return N===void 0&&(N=!0),b===void 0&&(b=!0),Y===void 0&&(Y=!0),j===void 0&&(j=!0),this.checkCollision.left=N,this.checkCollision.right=b,this.checkCollision.up=Y,this.checkCollision.down=j,this},pause:function(){return this.isPaused=!0,this.emit(a.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(a.RESUME),this},addCollider:function(N,b,Y,j,Q){Y===void 0&&(Y=null),j===void 0&&(j=null),Q===void 0&&(Q=Y);var q=new s(this,!1,N,b,Y,j,Q);return this.colliders.add(q),q},addOverlap:function(N,b,Y,j,Q){Y===void 0&&(Y=null),j===void 0&&(j=null),Q===void 0&&(Q=Y);var q=new s(this,!0,N,b,Y,j,Q);return this.colliders.add(q),q},removeCollider:function(N){return this.colliders.remove(N),this},setFPS:function(N){return this.fps=N,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(N,b){if(!(this.isPaused||this.bodies.size===0)){var Y,j=this._frameTime,Q=this._frameTimeMS*this.timeScale;this._elapsed+=b;var q,tt=this.bodies.entries,it=this._elapsed>=Q;for(this.fixedStep||(j=b*.001,it=!0,this._elapsed=0),Y=0;Y<tt.length;Y++)q=tt[Y],q.enable&&q.preUpdate(it,j);if(it){this._elapsed-=Q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(tt));var st=this.colliders.update();for(Y=0;Y<st.length;Y++){var lt=st[Y];lt.active&&lt.update()}this.emit(a.WORLD_STEP,j)}for(;this._elapsed>=Q;)this._elapsed-=Q,this.step(j)}},step:function(N){var b,Y,j=this.bodies.entries,Q=j.length;for(b=0;b<Q;b++)Y=j[b],Y.enable&&Y.update(N);this.useTree&&(this.tree.clear(),this.tree.load(j));var q=this.colliders.update();for(b=0;b<q.length;b++){var tt=q[b];tt.active&&tt.update()}this.emit(a.WORLD_STEP,N),this.stepsLastFrame++},postUpdate:function(){var N,b,Y=this.bodies.entries,j=Y.length,Q=this.bodies,q=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,N=0;N<j;N++)b=Y[N],b.enable&&b.postUpdate();if(this.drawDebug){var tt=this.debugGraphic;for(tt.clear(),N=0;N<j;N++)b=Y[N],b.willDrawDebug()&&b.drawDebug(tt);for(Y=q.entries,j=Y.length,N=0;N<j;N++)b=Y[N],b.willDrawDebug()&&b.drawDebug(tt)}var it=this.pendingDestroy;if(it.size>0){var st=this.tree,lt=this.staticTree;for(Y=it.entries,j=Y.length,N=0;N<j;N++)b=Y[N],b.physicsType===e.DYNAMIC_BODY?(st.remove(b),Q.delete(b)):b.physicsType===e.STATIC_BODY&&(lt.remove(b),q.delete(b)),b.world=void 0,b.gameObject=void 0;it.clear()}},updateMotion:function(N,b){N.allowRotation&&this.computeAngularVelocity(N,b),this.computeVelocity(N,b)},computeAngularVelocity:function(N,b){var Y=N.angularVelocity,j=N.angularAcceleration,Q=N.angularDrag,q=N.maxAngular;j?Y+=j*b:N.allowDrag&&Q&&(Q*=b,h(Y-Q,0,.1)?Y-=Q:d(Y+Q,0,.1)?Y+=Q:Y=0),Y=o(Y,-q,q);var tt=Y-N.angularVelocity;N.angularVelocity+=tt,N.rotation+=N.angularVelocity*b},computeVelocity:function(N,b){var Y=N.velocity.x,j=N.acceleration.x,Q=N.drag.x,q=N.maxVelocity.x,tt=N.velocity.y,it=N.acceleration.y,st=N.drag.y,lt=N.maxVelocity.y,ut=N.speed,vt=N.maxSpeed,ft=N.allowDrag,Et=N.useDamping;N.allowGravity&&(Y+=(this.gravity.x+N.gravity.x)*b,tt+=(this.gravity.y+N.gravity.y)*b),j?Y+=j*b:ft&&Q&&(Et?(Q=Math.pow(Q,b),Y*=Q,ut=Math.sqrt(Y*Y+tt*tt),f(ut,0,.001)&&(Y=0)):(Q*=b,h(Y-Q,0,.01)?Y-=Q:d(Y+Q,0,.01)?Y+=Q:Y=0)),it?tt+=it*b:ft&&st&&(Et?(st=Math.pow(st,b),tt*=st,ut=Math.sqrt(Y*Y+tt*tt),f(ut,0,.001)&&(tt=0)):(st*=b,h(tt-st,0,.01)?tt-=st:d(tt+st,0,.01)?tt+=st:tt=0)),Y=o(Y,-q,q),tt=o(tt,-lt,lt),N.velocity.set(Y,tt),vt>-1&&N.velocity.length()>vt&&(N.velocity.normalize().scale(vt),ut=vt),N.speed=ut},separate:function(N,b,Y,j,Q){var q,tt,it=!1,st=!0;if(!N.enable||!b.enable||N.checkCollision.none||b.checkCollision.none||!this.intersects(N,b)||Y&&Y.call(j,N.gameObject,b.gameObject)===!1)return it;if(N.isCircle||b.isCircle){var lt=this.separateCircle(N,b,Q);lt.result?(it=!0,st=!1):(q=lt.x,tt=lt.y,st=!0)}if(st){var ut=!1,vt=!1,ft=this.OVERLAP_BIAS;Q?(ut=w(N,b,Q,ft,q),vt=U(N,b,Q,ft,tt)):this.forceX||Math.abs(this.gravity.y+N.gravity.y)<Math.abs(this.gravity.x+N.gravity.x)?(ut=w(N,b,Q,ft,q),this.intersects(N,b)&&(vt=U(N,b,Q,ft,tt))):(vt=U(N,b,Q,ft,tt),this.intersects(N,b)&&(ut=w(N,b,Q,ft,q))),it=ut||vt}return it&&(Q?(N.onOverlap||b.onOverlap)&&this.emit(a.OVERLAP,N.gameObject,b.gameObject,N,b):(N.onCollide||b.onCollide)&&this.emit(a.COLLIDE,N.gameObject,b.gameObject,N,b)),it},separateCircle:function(N,b,Y){c(N,b,!1,0),g(N,b,!1,0);var j=N.isCircle,Q=b.isCircle,q=N.center,tt=b.center,it=N.immovable,st=b.immovable,lt=N.velocity,ut=b.velocity,vt=0,ft=!0;if(j!==Q){ft=!1;var Et=q.x,It=q.y,Nt=N.halfWidth,Dt=b.position.x,pt=b.position.y,Pt=b.right,Lt=b.bottom;Q&&(Et=tt.x,It=tt.y,Nt=b.halfWidth,Dt=N.position.x,pt=N.position.y,Pt=N.right,Lt=N.bottom),It<pt?Et<Dt?vt=i(Et,It,Dt,pt)-Nt:Et>Pt&&(vt=i(Et,It,Pt,pt)-Nt):It>Lt&&(Et<Dt?vt=i(Et,It,Dt,Lt)-Nt:Et>Pt&&(vt=i(Et,It,Pt,Lt)-Nt)),vt*=-1}else vt=N.halfWidth+b.halfWidth-l(q,tt);N.overlapR=vt,b.overlapR=vt;var ee=u(q,tt),Jt=(vt+y.EPSILON)*Math.cos(ee),Ee=(vt+y.EPSILON)*Math.sin(ee),de={overlap:vt,result:!1,x:Jt,y:Ee};if(Y&&(!ft||ft&&vt!==0))return de.result=!0,de;if(!ft&&vt===0||it&&st||N.customSeparateX||b.customSeparateX)return de.x=void 0,de.y=void 0,de;var oe=!N.pushable&&!b.pushable;if(ft){var te=q.x-tt.x,ue=q.y-tt.y,we=Math.sqrt(Math.pow(te,2)+Math.pow(ue,2)),Fe=(tt.x-q.x)/we||0,Ge=(tt.y-q.y)/we||0,di=2*(lt.x*Fe+lt.y*Ge-ut.x*Fe-ut.y*Ge)/(N.mass+b.mass);(it||st)&&(di*=2),it||(lt.x=lt.x-di/N.mass*Fe,lt.y=lt.y-di/N.mass*Ge,lt.multiply(N.bounce)),st||(ut.x=ut.x+di/b.mass*Fe,ut.y=ut.y+di/b.mass*Ge,ut.multiply(b.bounce)),!it&&!st&&(Jt*=.5,Ee*=.5),it||(N.x-=Jt,N.y-=Ee,N.updateCenter()),st||(b.x+=Jt,b.y+=Ee,b.updateCenter()),de.result=!0}else!it||N.pushable||oe?(N.x-=Jt,N.y-=Ee,N.updateCenter()):(!st||b.pushable||oe)&&(b.x+=Jt,b.y+=Ee,b.updateCenter()),de.x=void 0,de.y=void 0;return de},intersects:function(N,b){return N===b?!1:!N.isCircle&&!b.isCircle?!(N.right<=b.left||N.bottom<=b.top||N.left>=b.right||N.top>=b.bottom):N.isCircle?b.isCircle?l(N.center,b.center)<=N.halfWidth+b.halfWidth:this.circleBodyIntersects(N,b):this.circleBodyIntersects(b,N)},circleBodyIntersects:function(N,b){var Y=o(N.center.x,b.left,b.right),j=o(N.center.y,b.top,b.bottom),Q=(N.center.x-Y)*(N.center.x-Y),q=(N.center.y-j)*(N.center.y-j);return Q+q<=N.halfWidth*N.halfWidth},overlap:function(N,b,Y,j,Q){return Y===void 0&&(Y=null),j===void 0&&(j=null),Q===void 0&&(Q=Y),this.collideObjects(N,b,Y,j,Q,!0)},collide:function(N,b,Y,j,Q){return Y===void 0&&(Y=null),j===void 0&&(j=null),Q===void 0&&(Q=Y),this.collideObjects(N,b,Y,j,Q,!1)},collideObjects:function(N,b,Y,j,Q,q){var tt,it;N.isParent&&(N.physicsType===void 0||b===void 0||N===b)&&(N=N.children.entries),b&&b.isParent&&b.physicsType===void 0&&(b=b.children.entries);var st=Array.isArray(N),lt=Array.isArray(b);if(this._total=0,!st&&!lt)this.collideHandler(N,b,Y,j,Q,q);else if(!st&&lt)for(tt=0;tt<b.length;tt++)this.collideHandler(N,b[tt],Y,j,Q,q);else if(st&&!lt)if(b)for(tt=0;tt<N.length;tt++)this.collideHandler(N[tt],b,Y,j,Q,q);else for(tt=0;tt<N.length;tt++){var ut=N[tt];for(it=tt+1;it<N.length;it++)tt!==it&&this.collideHandler(ut,N[it],Y,j,Q,q)}else for(tt=0;tt<N.length;tt++)for(it=0;it<b.length;it++)this.collideHandler(N[tt],b[it],Y,j,Q,q);return this._total>0},collideHandler:function(N,b,Y,j,Q,q){if(b===void 0&&N.isParent)return this.collideGroupVsGroup(N,N,Y,j,Q,q);if(!N||!b)return!1;if(N.body||N.isBody){if(b.body||b.isBody)return this.collideSpriteVsSprite(N,b,Y,j,Q,q);if(b.isParent)return this.collideSpriteVsGroup(N,b,Y,j,Q,q);if(b.isTilemap)return this.collideSpriteVsTilemapLayer(N,b,Y,j,Q,q)}else if(N.isParent){if(b.body||b.isBody)return this.collideSpriteVsGroup(b,N,Y,j,Q,q);if(b.isParent)return this.collideGroupVsGroup(N,b,Y,j,Q,q);if(b.isTilemap)return this.collideGroupVsTilemapLayer(N,b,Y,j,Q,q)}else if(N.isTilemap){if(b.body||b.isBody)return this.collideSpriteVsTilemapLayer(b,N,Y,j,Q,q);if(b.isParent)return this.collideGroupVsTilemapLayer(b,N,Y,j,Q,q)}},collideSpriteVsSprite:function(N,b,Y,j,Q,q){var tt=N.isBody?N:N.body,it=b.isBody?b:b.body;return!tt||!it?!1:(this.separate(tt,it,j,Q,q)&&(Y&&Y.call(Q,N,b),this._total++),!0)},collideSpriteVsGroup:function(N,b,Y,j,Q,q){var tt=N.isBody?N:N.body;if(!(b.length===0||!tt||!tt.enable||tt.checkCollision.none)){var it,st,lt;if(this.useTree||b.physicsType===e.STATIC_BODY){var ut=this.treeMinMax;ut.minX=tt.left,ut.minY=tt.top,ut.maxX=tt.right,ut.maxY=tt.bottom;var vt=b.physicsType===e.DYNAMIC_BODY?this.tree.search(ut):this.staticTree.search(ut);for(st=vt.length,it=0;it<st;it++)lt=vt[it],!(tt===lt||!lt.enable||lt.checkCollision.none||!b.contains(lt.gameObject))&&this.separate(tt,lt,j,Q,q)&&(Y&&Y.call(Q,tt.gameObject,lt.gameObject),this._total++)}else{var ft=b.getChildren(),Et=b.children.entries.indexOf(N);for(st=ft.length,it=0;it<st;it++)lt=ft[it].body,!(!lt||it===Et||!lt.enable)&&this.separate(tt,lt,j,Q,q)&&(Y&&Y.call(Q,tt.gameObject,lt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(N,b,Y,j,Q,q){var tt=N.getChildren();if(tt.length===0)return!1;for(var it=!1,st=0;st<tt.length;st++)(tt[st].body||tt[st].isBody)&&this.collideSpriteVsTilemapLayer(tt[st],b,Y,j,Q,q)&&(it=!0);return it},collideTiles:function(N,b,Y,j,Q){return b.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,b,Y,j,Q,!1,!1)},overlapTiles:function(N,b,Y,j,Q){return b.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,b,Y,j,Q,!0,!1)},collideSpriteVsTilemapLayer:function(N,b,Y,j,Q,q){var tt=N.isBody?N:N.body;if(!tt.enable||tt.checkCollision.none)return!1;var it=tt.x,st=tt.y,lt=tt.width,ut=tt.height,vt=b.layer;if(vt.tileWidth>vt.baseTileWidth){var ft=(vt.tileWidth-vt.baseTileWidth)*b.scaleX;it-=ft,lt+=ft}if(vt.tileHeight>vt.baseTileHeight){var Et=(vt.tileHeight-vt.baseTileHeight)*b.scaleY;ut+=Et}var It=q?null:this.tileFilterOptions,Nt=x(it,st,lt,ut,It,b.scene.cameras.main,b.layer);return Nt.length===0?!1:this.collideSpriteVsTilesHandler(N,Nt,Y,j,Q,q,!0)},collideSpriteVsTilesHandler:function(N,b,Y,j,Q,q,tt){for(var it=N.isBody?N:N.body,st,lt={left:0,right:0,top:0,bottom:0},ut,vt=!1,ft=0;ft<b.length;ft++){st=b[ft],ut=st.tilemapLayer;var Et=ut.tileToWorldXY(st.x,st.y);lt.left=Et.x,lt.top=Et.y,st.baseHeight!==st.height&&(lt.top-=(st.height-st.baseHeight)*ut.scaleY),lt.right=lt.left+st.width*ut.scaleX,lt.bottom=lt.top+st.height*ut.scaleY,z(lt,it)&&(!j||j.call(Q,N,st))&&R(st,N)&&(q||I(ft,it,st,lt,ut,this.TILE_BIAS,tt))&&(this._total++,vt=!0,Y&&Y.call(Q,N,st),q&&it.onOverlap?this.emit(a.TILE_OVERLAP,N,st,it):it.onCollide&&this.emit(a.TILE_COLLIDE,N,st,it))}return vt},collideGroupVsGroup:function(N,b,Y,j,Q,q){if(!(N.length===0||b.length===0))for(var tt=N.getChildren(),it=0;it<tt.length;it++)this.collideSpriteVsGroup(tt[it],b,Y,j,Q,q)},wrap:function(N,b){N.body?this.wrapObject(N,b):N.getChildren?this.wrapArray(N.getChildren(),b):Array.isArray(N)?this.wrapArray(N,b):this.wrapObject(N,b)},wrapArray:function(N,b){for(var Y=0;Y<N.length;Y++)this.wrapObject(N[Y],b)},wrapObject:function(N,b){b===void 0&&(b=0),N.x=W(N.x,this.bounds.left-b,this.bounds.right+b),N.y=W(N.y,this.bounds.top-b,this.bounds.bottom+b)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=K},5321:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,u){return this.body.acceleration.set(t,u),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=S},29257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=S},62122:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,u){return this.body.bounce.set(t,u),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,u,v,o){return this.body.setCollideWorldBounds(t,u,v,o),this}};p.exports=S},99803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,u,v){return this.debugShowBody=t,this.debugShowVelocity=u,this.debugBodyColor=v,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=S},87145:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,u){return this.body.drag.set(t,u),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=S},96174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={enableBody:function(t,u,v,o,r){return t&&this.body.reset(u,v),o&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,u){return t===void 0&&(t=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=S},51702:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,u){return this.body.friction.set(t,u),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=S},25578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,u){return this.body.gravity.set(t,u),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=S},72029:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=S},34566:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};p.exports=S},2732:(p,S,t)=>{var u=t(15147),v=t(26673),o=t(22184),r=t(26535),s=function(e,i,l,n,a,f){var h=u(e,i-n,l-n,2*n,2*n,a,f);if(h.length===0)return h;for(var d=new v(i,l,n),c=new v,g=[],x=0;x<h.length;x++){var m=h[x];m.isCircle?(c.setTo(m.center.x,m.center.y,m.halfWidth),o(d,c)&&g.push(m)):r(d,m)&&g.push(m)}return g};p.exports=s},15147:p=>{var S=function(t,u,v,o,r,s,e){s===void 0&&(s=!0),e===void 0&&(e=!1);var i=[],l=[],n=t.treeMinMax;if(n.minX=u,n.minY=v,n.maxX=u+o,n.maxY=v+r,e&&(l=t.staticTree.search(n)),s&&t.useTree)i=t.tree.search(n);else if(s){var a=t.bodies,f={position:{x:u,y:v},left:u,top:v,right:u+o,bottom:v+r,isCircle:!1},h=t.intersects;a.iterate(function(d){h(d,f)&&i.push(d)})}return l.concat(i)};p.exports=S},57527:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=S},77687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,u){return this.body.setOffset(t,u),this},setSize:function(t,u,v){return this.body.setSize(t,u,v),this},setBodySize:function(t,u,v){return this.body.setSize(t,u,v),this},setCircle:function(t,u,v){return this.body.setCircle(t,u,v),this}};p.exports=S},66536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,u){return this.body.setVelocity(t,u),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,u){return this.body.maxVelocity.set(t,u),this}};p.exports=S},7864:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(5321),Angular:t(29257),Bounce:t(62122),Debug:t(99803),Drag:t(87145),Enable:t(96174),Friction:t(51702),Gravity:t(25578),Immovable:t(72029),Mass:t(34566),OverlapCirc:t(2732),OverlapRect:t(15147),Pushable:t(57527),Size:t(77687),Velocity:t(66536)}},47401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=S},22346:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},95092:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},15775:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},74142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22825:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},10851:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},7543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},1487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},27037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(22346),OVERLAP:t(95092),PAUSE:t(15775),RESUME:t(74142),TILE_COLLIDE:t(22825),TILE_OVERLAP:t(10851),WORLD_BOUNDS:t(7543),WORLD_STEP:t(1487)}},39977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(47401),v=t(98611),o={ArcadePhysics:t(66150),Body:t(97602),Collider:t(3909),Components:t(7864),Events:t(27037),Factory:t(99523),GetOverlapX:t(75671),GetOverlapY:t(66185),SeparateX:t(61777),SeparateY:t(25299),Group:t(10481),Image:t(62832),Sprite:t(25084),StaticBody:t(66634),StaticGroup:t(46346),Tilemap:t(8413),World:t(85233)};o=v(!1,o,u),p.exports=o},25163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,u,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,u,t):!0};p.exports=S},98209:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u<0?(t.blocked.none=!1,t.blocked.left=!0):u>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=u,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=S},72792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u<0?(t.blocked.none=!1,t.blocked.up=!0):u>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=u,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=S},27354:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(14405),v=t(52926),o=t(28808),r=function(s,e,i,l,n,a,f){var h=l.left,d=l.top,c=l.right,g=l.bottom,x=i.faceLeft||i.faceRight,m=i.faceTop||i.faceBottom;if(f||(x=!0,m=!0),!x&&!m)return!1;var y=0,T=0,R=0,P=1;if(e.deltaAbsX()>e.deltaAbsY()?R=-1:e.deltaAbsX()<e.deltaAbsY()&&(P=-1),e.deltaX()!==0&&e.deltaY()!==0&&x&&m&&(R=Math.min(Math.abs(e.position.x-c),Math.abs(e.right-h)),P=Math.min(Math.abs(e.position.y-g),Math.abs(e.bottom-d))),R<P){if(x&&(y=u(e,i,h,c,a,f),y!==0&&!o(l,e)))return!0;m&&(T=v(e,i,d,g,a,f))}else{if(m&&(T=v(e,i,d,g,a,f),T!==0&&!o(l,e)))return!0;x&&(y=u(e,i,h,c,a,f))}return y!==0||T!==0};p.exports=r},14405:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(98209),v=function(o,r,s,e,i,l){var n=0,a=r.faceLeft,f=r.faceRight,h=r.collideLeft,d=r.collideRight;return l||(a=!0,f=!0,h=!0,d=!0),o.deltaX()<0&&d&&o.checkCollision.left?f&&o.x<e&&(n=o.x-e,n<-i&&(n=0)):o.deltaX()>0&&h&&o.checkCollision.right&&a&&o.right>s&&(n=o.right-s,n>i&&(n=0)),n!==0&&(o.customSeparateX?o.overlapX=n:u(o,n)),n};p.exports=v},52926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72792),v=function(o,r,s,e,i,l){var n=0,a=r.faceTop,f=r.faceBottom,h=r.collideUp,d=r.collideDown;return l||(a=!0,f=!0,h=!0,d=!0),o.deltaY()<0&&d&&o.checkCollision.up?f&&o.y<e&&(n=o.y-e,n<-i&&(n=0)):o.deltaY()>0&&h&&o.checkCollision.down&&a&&o.bottom>s&&(n=o.bottom-s,n>i&&(n=0)),n!==0&&(o.customSeparateY?o.overlapY=n:u(o,n)),n};p.exports=v},28808:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return!(u.right<=t.left||u.bottom<=t.top||u.position.x>=t.right||u.position.y>=t.bottom)};p.exports=S},8413:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ProcessTileCallbacks:t(25163),ProcessTileSeparationX:t(98209),ProcessTileSeparationY:t(72792),SeparateTile:t(27354),TileCheckX:t(14405),TileCheckY:t(52926),TileIntersectsBody:t(28808)};p.exports=u},53954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(39977),Matter:t(45949)}},63568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(93736),o=new u({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var s=this.boundsCenter,e=this.centerDiff,i=r.bounds.max.x-r.bounds.min.x,l=r.bounds.max.y-r.bounds.min.y,n=i*r.centerOfMass.x,a=l*r.centerOfMass.y;return s.set(i/2,l/2),e.set(n-s.x,a-s.y),!0},getTopLeft:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,l=this.centerDiff;return new v(s+i.x+l.x,e+i.y+l.y)}return!1},getTopCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,l=this.centerDiff;return new v(s+l.x,e+i.y+l.y)}return!1},getTopRight:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,l=this.centerDiff;return new v(s-(i.x-l.x),e+i.y+l.y)}return!1},getLeftCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,l=this.centerDiff;return new v(s+i.x+l.x,e+l.y)}return!1},getCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.centerDiff;return new v(s+i.x,e+i.y)}return!1},getRightCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,l=this.centerDiff;return new v(s-(i.x-l.x),e+l.y)}return!1},getBottomLeft:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,l=this.centerDiff;return new v(s+i.x+l.x,e-(i.y-l.y))}return!1},getBottomCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,l=this.centerDiff;return new v(s+l.x,e-(i.y-l.y))}return!1},getBottomRight:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,l=this.centerDiff;return new v(s-(i.x-l.x),e-(i.y-l.y))}return!1}});p.exports=o},18171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16929);u.Body=t(84125),u.Composite=t(11299),u.World=t(72005),u.Collision=t(63454),u.Detector=t(13657),u.Pairs=t(91327),u.Pair=t(70584),u.Query=t(13390),u.Resolver=t(44272),u.Constraint=t(52838),u.Common=t(68758),u.Engine=t(45775),u.Events=t(39073),u.Sleeping=t(22806),u.Plugin=t(84474),u.Bodies=t(68516),u.Composites=t(56643),u.Axes=t(50658),u.Bounds=t(84091),u.Svg=t(92765),u.Vector=t(10438),u.Vertices=t(39745),u.World.add=u.Composite.add,u.World.remove=u.Composite.remove,u.World.addComposite=u.Composite.addComposite,u.World.addBody=u.Composite.addBody,u.World.addConstraint=u.Composite.addConstraint,u.World.clear=u.Composite.clear,p.exports=u},72653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68516),v=t(56694),o=t(56643),r=t(52838),s=t(92765),e=t(3860),i=t(7030),l=t(73658),n=t(84720),a=t(10998),f=t(72829),h=t(88596),d=t(39745),c=new v({initialize:function(x){this.world=x,this.scene=x.scene,this.sys=x.scene.sys},rectangle:function(g,x,m,y,T){var R=u.rectangle(g,x,m,y,T);return this.world.add(R),R},trapezoid:function(g,x,m,y,T,R){var P=u.trapezoid(g,x,m,y,T,R);return this.world.add(P),P},circle:function(g,x,m,y,T){var R=u.circle(g,x,m,y,T);return this.world.add(R),R},polygon:function(g,x,m,y,T){var R=u.polygon(g,x,m,y,T);return this.world.add(R),R},fromVertices:function(g,x,m,y,T,R,P){typeof m=="string"&&(m=d.fromPath(m));var D=u.fromVertices(g,x,m,y,T,R,P);return this.world.add(D),D},fromPhysicsEditor:function(g,x,m,y,T){T===void 0&&(T=!0);var R=a.parseBody(g,x,m,y);return T&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(g,x,m,y,T,R){y===void 0&&(y=1),T===void 0&&(T={}),R===void 0&&(R=!0);for(var P=m.getElementsByTagName("path"),D=[],I=0;I<P.length;I++){var w=s.pathToVertices(P[I],30);y!==1&&d.scale(w,y,y),D.push(w)}var U=u.fromVertices(g,x,D,T);return R&&this.world.add(U),U},fromJSON:function(g,x,m,y,T){y===void 0&&(y={}),T===void 0&&(T=!0);var R=f.parseBody(g,x,m,y);return R&&T&&this.world.add(R),R},imageStack:function(g,x,m,y,T,R,P,D,I){P===void 0&&(P=0),D===void 0&&(D=0),I===void 0&&(I={});var w=this.world,U=this.sys.displayList;I.addToWorld=!1;var G=o.stack(m,y,T,R,P,D,function(H,z){var $=new i(w,H,z,g,x,I);return U.add($),$.body});return w.add(G),G},stack:function(g,x,m,y,T,R,P){var D=o.stack(g,x,m,y,T,R,P);return this.world.add(D),D},pyramid:function(g,x,m,y,T,R,P){var D=o.pyramid(g,x,m,y,T,R,P);return this.world.add(D),D},chain:function(g,x,m,y,T,R){return o.chain(g,x,m,y,T,R)},mesh:function(g,x,m,y,T){return o.mesh(g,x,m,y,T)},newtonsCradle:function(g,x,m,y,T){var R=o.newtonsCradle(g,x,m,y,T);return this.world.add(R),R},car:function(g,x,m,y,T){var R=o.car(g,x,m,y,T);return this.world.add(R),R},softBody:function(g,x,m,y,T,R,P,D,I,w){var U=o.softBody(g,x,m,y,T,R,P,D,I,w);return this.world.add(U),U},joint:function(g,x,m,y,T){return this.constraint(g,x,m,y,T)},spring:function(g,x,m,y,T){return this.constraint(g,x,m,y,T)},constraint:function(g,x,m,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyA=g.type==="body"?g:g.body,T.bodyB=x.type==="body"?x:x.body,isNaN(m)||(T.length=m),T.stiffness=y;var R=r.create(T);return this.world.add(R),R},worldConstraint:function(g,x,m,y){m===void 0&&(m=1),y===void 0&&(y={}),y.bodyB=g.type==="body"?g:g.body,isNaN(x)||(y.length=x),y.stiffness=m;var T=r.create(y);return this.world.add(T),T},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var x=new h(this.scene,this.world,g);return this.world.add(x.constraint),x},image:function(g,x,m,y,T){var R=new i(this.world,g,x,m,y,T);return this.sys.displayList.add(R),R},tileBody:function(g,x){return new n(this.world,g,x)},sprite:function(g,x,m,y,T){var R=new l(this.world,g,x,m,y,T);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(g,x,m){return e(this.world,g,x,m)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=c},3860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74527),v=t(72632),o=t(93736);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var s=function(e,i,l,n){l===void 0&&(l={}),n===void 0&&(n=!0);var a=i.x,f=i.y;i.body={temp:!0,position:{x:a,y:f}};var h=[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity];if(h.forEach(function(c){for(var g in c)r(c[g])?Object.defineProperty(i,g,{get:c[g].get,set:c[g].set}):Object.defineProperty(i,g,{value:c[g]})}),i.world=e,i._tempVec2=new o(a,f),l.hasOwnProperty("type")&&l.type==="body")i.setExistingBody(l,n);else{var d=v(l,"shape",null);d||(d="rectangle"),l.addToWorld=n,i.setBody(d,l)}return i};p.exports=s},7030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(74527),o=t(89980),r=t(72632),s=t(1539),e=t(58210),i=t(93736),l=new u({Extends:s,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,e],initialize:function(a,f,h,d,c,g){o.call(this,a.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,c),this.setSizeToFrame(),this.setOrigin(),this.world=a,this._tempVec2=new i(f,h);var x=r(g,"shape",null);x?this.setBody(x,g):this.setRectangle(this.width,this.height,g),this.setPosition(f,h),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=l},50583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84093),v=t(50658),o=t(68516),r=t(84125),s=t(63568),e=t(84091),i=t(56694),l=t(63454),n=t(68758),a=t(11299),f=t(56643),h=t(52838),d=t(13657),c=t(53996),g=t(72653),x=t(72632),m=t(10850),y=t(1675),T=t(80391),R=t(16929),P=t(44097),D=t(30657),I=t(70584),w=t(91327),U=t(84474),G=t(91963),H=t(13390),z=t(44272),$=t(7599),J=t(92765),W=t(10438),K=t(39745),N=t(31468);n.setDecomp(t(81084));var b=new i({initialize:function(j){this.scene=j,this.systems=j.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=a,this.collision=l,this.detector=d,this.pair=I,this.pairs=w,this.query=H,this.resolver=z,this.constraint=h,this.bodies=o,this.composites=f,this.axes=v,this.bounds=e,this.svg=J,this.vector=W,this.vertices=K,this.verts=K,this._tempVec2=W.create(),m(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),m(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),m(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),z._restingThresh=m(this.config,"restingThresh",4),z._restingThreshTangent=m(this.config,"restingThreshTangent",6),z._positionDampen=m(this.config,"positionDampen",.9),z._positionWarming=m(this.config,"positionWarming",.8),z._frictionNormalMultiplier=m(this.config,"frictionNormalMultiplier",5),j.sys.events.once($.BOOT,this.boot,this),j.sys.events.on($.START,this.start,this)},boot:function(){this.world=new N(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new s,this.systems.events.once($.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new N(this.scene,this.config),this.add=new g(this.world));var Y=this.systems.events;Y.on($.UPDATE,this.world.update,this.world),Y.on($.POST_UPDATE,this.world.postUpdate,this.world),Y.once($.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,j=this.systems.settings.physics,Q=D(x(j,"matter",{}),x(Y,"matter",{}));return Q},enableAttractorPlugin:function(){return U.register(y),U.use(R,y),this},enableWrapPlugin:function(){return U.register(P),U.use(R,P),this},enableCollisionEventsPlugin:function(){return U.register(T),U.use(R,T),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,j){this.world.step(Y,j)},containsPoint:function(Y,j,Q){Y=this.getMatterBodies(Y);var q=W.create(j,Q),tt=H.point(Y,q);return tt.length>0},intersectPoint:function(Y,j,Q){Q=this.getMatterBodies(Q);var q=W.create(Y,j),tt=[],it=H.point(Q,q);return it.forEach(function(st){tt.indexOf(st)===-1&&tt.push(st)}),tt},intersectRect:function(Y,j,Q,q,tt,it){tt===void 0&&(tt=!1),it=this.getMatterBodies(it);var st={min:{x:Y,y:j},max:{x:Y+Q,y:j+q}},lt=[],ut=H.region(it,st,tt);return ut.forEach(function(vt){lt.indexOf(vt)===-1&&lt.push(vt)}),lt},intersectRay:function(Y,j,Q,q,tt,it){tt===void 0&&(tt=1),it=this.getMatterBodies(it);for(var st=[],lt=H.ray(it,W.create(Y,j),W.create(Q,q),tt),ut=0;ut<lt.length;ut++)st.push(lt[ut].body);return st},intersectBody:function(Y,j){j=this.getMatterBodies(j);for(var Q=[],q=H.collides(Y,j),tt=0;tt<q.length;tt++){var it=q[tt];it.bodyA===Y?Q.push(it.bodyB):Q.push(it.bodyA)}return Q},overlap:function(Y,j,Q,q,tt){Q===void 0&&(Q=null),q===void 0&&(q=null),tt===void 0&&(tt=Q),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),j=this.getMatterBodies(j);for(var it=!1,st=0;st<Y.length;st++)for(var lt=Y[st],ut=H.collides(lt,j),vt=0;vt<ut.length;vt++){var ft=ut[vt],Et=ft.bodyA.id===lt.id?ft.bodyB:ft.bodyA;if(!q||q.call(tt,lt,Et,ft)){if(it=!0,Q)Q.call(tt,lt,Et,ft);else if(!q)return!0}}return it},setCollisionCategory:function(Y,j){return Y=this.getMatterBodies(Y),Y.forEach(function(Q){Q.collisionFilter.category=j}),this},setCollisionGroup:function(Y,j){return Y=this.getMatterBodies(Y),Y.forEach(function(Q){Q.collisionFilter.group=j}),this},setCollidesWith:function(Y,j){Y=this.getMatterBodies(Y);var Q=0;if(!Array.isArray(j))Q=j;else for(var q=0;q<j.length;q++)Q|=j[q];return Y.forEach(function(tt){tt.collisionFilter.mask=Q}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var j=[],Q=0;Q<Y.length;Q++){var q=Y[Q].hasOwnProperty("body")?Y[Q].body:Y[Q];j.push(q)}return j},setVelocity:function(Y,j,Q){Y=this.getMatterBodies(Y);var q=this._tempVec2;return q.x=j,q.y=Q,Y.forEach(function(tt){r.setVelocity(tt,q)}),this},setVelocityX:function(Y,j){Y=this.getMatterBodies(Y);var Q=this._tempVec2;return Q.x=j,Y.forEach(function(q){Q.y=q.velocity.y,r.setVelocity(q,Q)}),this},setVelocityY:function(Y,j){Y=this.getMatterBodies(Y);var Q=this._tempVec2;return Q.y=j,Y.forEach(function(q){Q.x=q.velocity.x,r.setVelocity(q,Q)}),this},setAngularVelocity:function(Y,j){return Y=this.getMatterBodies(Y),Y.forEach(function(Q){r.setAngularVelocity(Q,j)}),this},applyForce:function(Y,j){Y=this.getMatterBodies(Y);var Q=this._tempVec2;return Y.forEach(function(q){Q.x=q.position.x,Q.y=q.position.y,r.applyForce(q,Q,j)}),this},applyForceFromPosition:function(Y,j,Q,q){Y=this.getMatterBodies(Y);var tt=this._tempVec2;return Y.forEach(function(it){q===void 0&&(q=it.angle),tt.x=Q*Math.cos(q),tt.y=Q*Math.sin(q),r.applyForce(it,j,tt)}),this},applyForceFromAngle:function(Y,j,Q){Y=this.getMatterBodies(Y);var q=this._tempVec2;return Y.forEach(function(tt){Q===void 0&&(Q=tt.angle),q.x=j*Math.cos(Q),q.y=j*Math.sin(Q),r.applyForce(tt,{x:tt.position.x,y:tt.position.y},q)}),this},getConstraintLength:function(Y){var j=Y.pointA.x,Q=Y.pointA.y,q=Y.pointB.x,tt=Y.pointB.y;return Y.bodyA&&(j+=Y.bodyA.position.x,Q+=Y.bodyA.position.y),Y.bodyB&&(q+=Y.bodyB.position.x,tt+=Y.bodyB.position.y),c(j,Q,q,tt)},alignBody:function(Y,j,Q,q){Y=Y.hasOwnProperty("body")?Y.body:Y;var tt;switch(q){case u.TOP_LEFT:case u.LEFT_TOP:tt=this.bodyBounds.getTopLeft(Y,j,Q);break;case u.TOP_CENTER:tt=this.bodyBounds.getTopCenter(Y,j,Q);break;case u.TOP_RIGHT:case u.RIGHT_TOP:tt=this.bodyBounds.getTopRight(Y,j,Q);break;case u.LEFT_CENTER:tt=this.bodyBounds.getLeftCenter(Y,j,Q);break;case u.CENTER:tt=this.bodyBounds.getCenter(Y,j,Q);break;case u.RIGHT_CENTER:tt=this.bodyBounds.getRightCenter(Y,j,Q);break;case u.LEFT_BOTTOM:case u.BOTTOM_LEFT:tt=this.bodyBounds.getBottomLeft(Y,j,Q);break;case u.BOTTOM_CENTER:tt=this.bodyBounds.getBottomCenter(Y,j,Q);break;case u.BOTTOM_RIGHT:case u.RIGHT_BOTTOM:tt=this.bodyBounds.getBottomRight(Y,j,Q);break}return tt&&r.setPosition(Y,tt),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off($.UPDATE,this.world.update,this.world),Y.off($.POST_UPDATE,this.world.postUpdate,this.world)),Y.off($.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off($.START,this.start,this),this.scene=null,this.systems=null}});G.register("MatterPhysics",b,"matterPhysics"),p.exports=b},73658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16569),v=t(56694),o=t(74527),r=t(89980),s=t(72632),e=t(58210),i=t(13747),l=t(93736),n=new v({Extends:i,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,e],initialize:function(f,h,d,c,g,x){r.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(c,g),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(h,d);var m=s(x,"shape",null);m?this.setBody(m,x):this.setRectangle(this.width,this.height,x),this.setPosition(h,d),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=n},84720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68516),v=t(84125),o=t(56694),r=t(74527),s=t(28699),e=t(6659),i=t(72632),l=t(19256),n=t(39745),a=new o({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(h,d,c){e.call(this),this.tile=d,this.world=h,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var g=i(c,"body",null),x=i(c,"addToWorld",!0);if(g)this.setBody(g,x);else{var m=d.getCollisionGroup(),y=i(m,"objects",[]);y.length>0?this.setFromTileCollision(c):this.setFromTileRectangle(c)}if(d.flipX||d.flipY){var T={x:d.getCenterX(),y:d.getCenterY()},R=d.flipX?-1:1,P=d.flipY?-1:1;v.scale(g,R,P,T)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var h=this.tile.getBounds(),d=h.x+h.width/2,c=h.y+h.height/2,g=u.rectangle(d,c,h.width,h.height,f);return this.setBody(g,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var h=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,c=this.tile.getLeft(),g=this.tile.getTop(),x=this.tile.getCollisionGroup(),m=i(x,"objects",[]),y=[],T=0;T<m.length;T++){var R=m[T],P=c+R.x*h,D=g+R.y*d,I=R.width*h,w=R.height*d,U=null;if(R.rectangle)U=u.rectangle(P+I/2,D+w/2,I,w,f);else if(R.ellipse)U=u.circle(P+I/2,D+w/2,I/2,f);else if(R.polygon||R.polyline){var G=R.polygon?R.polygon:R.polyline,H=G.map(function(W){return{x:W.x*h,y:W.y*d}}),z=n.create(H),$=n.centre(z);P+=$.x,D+=$.y,U=u.fromVertices(P,D,z,f)}U&&y.push(U)}if(y.length===1)this.setBody(y[0],f.addToWorld);else if(y.length>1){var J=s(f);J.parts=y,this.setBody(v.create(J),J.addToWorld)}return this},setBody:function(f,h){return h===void 0&&(h=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,h&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=a},10998:(p,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68516),v=t(84125),o=t(68758),r=t(72632),s=t(39745),e={parseBody:function(i,l,n,a){a===void 0&&(a={});for(var f=r(n,"fixtures",[]),h=[],d=0;d<f.length;d++)for(var c=this.parseFixture(f[d]),g=0;g<c.length;g++)h.push(c[g]);var x=o.clone(n,!0);o.extend(x,a,!0),delete x.fixtures,delete x.type;var m=v.create(x);return v.setParts(m,h),v.setPosition(m,{x:i,y:l}),m},parseFixture:function(i){var l=o.extend({},!1,i);delete l.circle,delete l.vertices;var n;if(i.circle){var a=r(i.circle,"x"),f=r(i.circle,"y"),h=r(i.circle,"radius");n=[u.circle(a,f,h,l)]}else i.vertices&&(n=this.parseVertices(i.vertices,l));return n},parseVertices:function(i,l){l===void 0&&(l={});for(var n=[],a=0;a<i.length;a++)s.clockwiseSort(i[a]),n.push(v.create(o.extend({position:s.centre(i[a]),vertices:i[a]},l)));return u.flagCoincidentParts(n)}};p.exports=e},72829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68516),v=t(84125),o={parseBody:function(r,s,e,i){i===void 0&&(i={});var l,n=e.vertices;if(n.length===1)i.vertices=n[0],l=v.create(i),u.flagCoincidentParts(l.parts);else{for(var a=[],f=0;f<n.length;f++){var h=v.create({vertices:n[f]});a.push(h)}u.flagCoincidentParts(a),i.parts=a,l=v.create(i)}return l.label=e.label,v.setPosition(l,{x:r,y:s}),l}};p.exports=o},88596:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84091),v=t(56694),o=t(11299),r=t(52838),s=t(13657),e=t(35416),i=t(33963),l=t(30657),n=t(22806),a=t(93736),f=t(39745),h=new v({initialize:function(c,g,x){x===void 0&&(x={});var m={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=c,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new a,this.body=null,this.part=null,this.constraint=r.create(l(x,m)),this.world.on(e.BEFORE_UPDATE,this.update,this),c.sys.input.on(i.POINTER_DOWN,this.onDown,this),c.sys.input.on(i.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var c=this.position,g=this.constraint;this.camera.getWorldPoint(d.x,d.y,c);for(var x=o.allBodies(this.world.localWorld),m=0;m<x.length;m++){var y=x[m];if(!y.ignorePointer&&u.contains(y.bounds,c)&&s.canCollide(y.collisionFilter,g.collisionFilter)&&this.hitTestBody(y,c))return this.world.emit(e.DRAG_START,y,this.part,this),!0}return!1},hitTestBody:function(d,c){for(var g=this.constraint,x=d.parts.length,m=x>1?1:0,y=m;y<x;y++){var T=d.parts[y];if(f.contains(T.vertices,c))return g.pointA=c,g.pointB={x:c.x-d.position.x,y:c.y-d.position.y},g.bodyB=d,g.angleB=d.angle,n.set(d,!1),this.part=T,this.body=d,!0}return!1},update:function(){var d=this.pointer,c=this.body;if(!this.active||!d){c&&this.stopDrag();return}if(!d.isDown&&c){this.stopDrag();return}else if(d.isDown){if(!c&&!this.getBody(d))return;c=this.body;var g=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,g),x.pointA.x=g.x,x.pointA.y=g.y,n.set(c,!1),this.world.emit(e.DRAG,c,this)}},stopDrag:function(){var d=this.body,c=this.constraint;c.bodyB=null,c.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(i.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(i.POINTER_UP,this.onUp,this)}});p.exports=h},31468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68516),v=t(84125),o=t(56694),r=t(68758),s=t(11299),e=t(45775),i=t(6659),l=t(35416),n=t(72632),a=t(10850),f=t(84125),h=t(39073),d=t(84720),c=t(72005),g=t(10438),x=new o({Extends:i,initialize:function(y,T){i.call(this),this.scene=y,this.engine=e.create(T),this.localWorld=this.engine.world;var R=a(T,"gravity",null);R?this.setGravity(R.x,R.y,R.scale):R===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=a(T,"enabled",!0),this.getDelta=a(T,"getDelta",this.update60Hz);var P=n(T,"runner",{}),D=n(P,"fps",!1),I=n(P,"fps",60),w=n(P,"delta",1e3/I),U=n(P,"deltaMin",1e3/I),G=n(P,"deltaMax",1e3/(I*.5));D||(I=1e3/w),this.runner={fps:I,deltaSampleSize:n(P,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:n(P,"isFixed",!1),delta:w,deltaMin:U,deltaMax:G},this.autoUpdate=a(T,"autoUpdate",!0);var H=a(T,"debug",!1);if(this.drawDebug=typeof H=="object"?!0:H,this.debugGraphic,this.debugConfig={showAxes:n(H,"showAxes",!1),showAngleIndicator:n(H,"showAngleIndicator",!1),angleColor:n(H,"angleColor",15208787),showBroadphase:n(H,"showBroadphase",!1),broadphaseColor:n(H,"broadphaseColor",16757760),showBounds:n(H,"showBounds",!1),boundsColor:n(H,"boundsColor",16777215),showVelocity:n(H,"showVelocity",!1),velocityColor:n(H,"velocityColor",44783),showCollisions:n(H,"showCollisions",!1),collisionColor:n(H,"collisionColor",16094476),showSeparations:n(H,"showSeparations",!1),separationColor:n(H,"separationColor",16753920),showBody:n(H,"showBody",!0),showStaticBody:n(H,"showStaticBody",!0),showInternalEdges:n(H,"showInternalEdges",!1),renderFill:n(H,"renderFill",!1),renderLine:n(H,"renderLine",!0),fillColor:n(H,"fillColor",1075465),fillOpacity:n(H,"fillOpacity",1),lineColor:n(H,"lineColor",2678297),lineOpacity:n(H,"lineOpacity",1),lineThickness:n(H,"lineThickness",1),staticFillColor:n(H,"staticFillColor",857979),staticLineColor:n(H,"staticLineColor",1255396),showSleeping:n(H,"showSleeping",!1),staticBodySleepOpacity:n(H,"staticBodySleepOpacity",.7),sleepFillColor:n(H,"sleepFillColor",4605510),sleepLineColor:n(H,"sleepLineColor",10066585),showSensors:n(H,"showSensors",!0),sensorFillColor:n(H,"sensorFillColor",857979),sensorLineColor:n(H,"sensorLineColor",1255396),showPositions:n(H,"showPositions",!0),positionSize:n(H,"positionSize",4),positionColor:n(H,"positionColor",14697178),showJoint:n(H,"showJoint",!0),jointColor:n(H,"jointColor",14737474),jointLineOpacity:n(H,"jointLineOpacity",1),jointLineThickness:n(H,"jointLineThickness",2),pinSize:n(H,"pinSize",4),pinColor:n(H,"pinColor",4382944),springColor:n(H,"springColor",14697184),anchorColor:n(H,"anchorColor",15724527),anchorSize:n(H,"anchorSize",4),showConvexHulls:n(H,"showConvexHulls",!1),hullColor:n(H,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),n(T,"setBounds",!1)){var z=T.setBounds;if(typeof z=="boolean")this.setBounds();else{var $=n(z,"x",0),J=n(z,"y",0),W=n(z,"width",y.sys.scale.width),K=n(z,"height",y.sys.scale.height),N=n(z,"thickness",64),b=n(z,"left",!0),Y=n(z,"right",!0),j=n(z,"top",!0),Q=n(z,"bottom",!0);this.setBounds($,J,W,K,N,b,Y,j,Q)}}},setCompositeRenderStyle:function(m){var y=m.bodies,T=m.constraints,R=m.composites,P,D,I;for(P=0;P<y.length;P++)D=y[P],I=D.render,this.setBodyRenderStyle(D,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity);for(P=0;P<T.length;P++)D=T[P],I=D.render,this.setConstraintRenderStyle(D,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize);for(P=0;P<R.length;P++)D=R[P],this.setCompositeRenderStyle(D);return this},setBodyRenderStyle:function(m,y,T,R,P,D){var I=m.render,w=this.debugConfig;return I?(y==null&&(y=m.isStatic?w.staticLineColor:w.lineColor),T==null&&(T=w.lineOpacity),R==null&&(R=w.lineThickness),P==null&&(P=m.isStatic?w.staticFillColor:w.fillColor),D==null&&(D=w.fillOpacity),y!==!1&&(I.lineColor=y),T!==!1&&(I.lineOpacity=T),R!==!1&&(I.lineThickness=R),P!==!1&&(I.fillColor=P),D!==!1&&(I.fillOpacity=D),this):this},setConstraintRenderStyle:function(m,y,T,R,P,D,I){var w=m.render,U=this.debugConfig;if(!w)return this;if(y==null){var G=w.type;G==="line"?y=U.jointColor:G==="pin"?y=U.pinColor:G==="spring"&&(y=U.springColor)}return T==null&&(T=U.jointLineOpacity),R==null&&(R=U.jointLineThickness),P==null&&(P=U.pinSize),D==null&&(D=U.anchorColor),I==null&&(I=U.anchorSize),y!==!1&&(w.lineColor=y),T!==!1&&(w.lineOpacity=T),R!==!1&&(w.lineThickness=R),P!==!1&&(w.pinSize=P),D!==!1&&(w.anchorColor=D),I!==!1&&(w.anchorSize=I),this},setEventsProxy:function(){var m=this,y=this.engine,T=this.localWorld;this.drawDebug&&(h.on(T,"compositeModified",function(R){m.setCompositeRenderStyle(R)}),h.on(T,"beforeAdd",function(R){for(var P=[].concat(R.object),D=0;D<P.length;D++){var I=P[D],w=I.render;I.type==="body"?m.setBodyRenderStyle(I,w.lineColor,w.lineOpacity,w.lineThickness,w.fillColor,w.fillOpacity):I.type==="composite"?m.setCompositeRenderStyle(I):I.type==="constraint"&&m.setConstraintRenderStyle(I,w.lineColor,w.lineOpacity,w.lineThickness,w.pinSize,w.anchorColor,w.anchorSize)}})),h.on(T,"beforeAdd",function(R){m.emit(l.BEFORE_ADD,R)}),h.on(T,"afterAdd",function(R){m.emit(l.AFTER_ADD,R)}),h.on(T,"beforeRemove",function(R){m.emit(l.BEFORE_REMOVE,R)}),h.on(T,"afterRemove",function(R){m.emit(l.AFTER_REMOVE,R)}),h.on(y,"beforeUpdate",function(R){m.emit(l.BEFORE_UPDATE,R)}),h.on(y,"afterUpdate",function(R){m.emit(l.AFTER_UPDATE,R)}),h.on(y,"collisionStart",function(R){var P=R.pairs,D,I;P.length>0&&(D=P[0].bodyA,I=P[0].bodyB),m.emit(l.COLLISION_START,R,D,I)}),h.on(y,"collisionActive",function(R){var P=R.pairs,D,I;P.length>0&&(D=P[0].bodyA,I=P[0].bodyB),m.emit(l.COLLISION_ACTIVE,R,D,I)}),h.on(y,"collisionEnd",function(R){var P=R.pairs,D,I;P.length>0&&(D=P[0].bodyA,I=P[0].bodyB),m.emit(l.COLLISION_END,R,D,I)})},setBounds:function(m,y,T,R,P,D,I,w,U){return m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=this.scene.sys.scale.width),R===void 0&&(R=this.scene.sys.scale.height),P===void 0&&(P=64),D===void 0&&(D=!0),I===void 0&&(I=!0),w===void 0&&(w=!0),U===void 0&&(U=!0),this.updateWall(D,"left",m-P,y-P,P,R+P*2),this.updateWall(I,"right",m+T,y-P,P,R+P*2),this.updateWall(w,"top",m,y-P,T,P),this.updateWall(U,"bottom",m,y+R,T,P),this},updateWall:function(m,y,T,R,P,D){var I=this.walls[y];m?(I&&c.remove(this.localWorld,I),T+=P/2,R+=D/2,this.walls[y]=this.create(T,R,P,D,{isStatic:!0,friction:0,frictionStatic:0})):(I&&c.remove(this.localWorld,I),this.walls[y]=null)},createDebugGraphic:function(){var m=this.scene.sys.add.graphics({x:0,y:0});return m.setDepth(Number.MAX_VALUE),this.debugGraphic=m,this.drawDebug=!0,m},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(m,y,T){return m===void 0&&(m=0),y===void 0&&(y=1),T===void 0&&(T=.001),this.localWorld.gravity.x=m,this.localWorld.gravity.y=y,this.localWorld.gravity.scale=T,this},create:function(m,y,T,R,P){var D=u.rectangle(m,y,T,R,P);return c.add(this.localWorld,D),D},add:function(m){return c.add(this.localWorld,m),this},remove:function(m,y){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++){var R=m[T],P=R.body?R.body:R;s.remove(this.localWorld,P,y)}return this},removeConstraint:function(m,y){return s.remove(this.localWorld,m,y),this},convertTilemapLayer:function(m,y){var T=m.layer,R=m.getTilesWithin(0,0,T.width,T.height,{isColliding:!0});return this.convertTiles(R,y),this},convertTiles:function(m,y){if(m.length===0)return this;for(var T=0;T<m.length;T++)new d(this,m[T],y);return this},nextGroup:function(m){return f.nextGroup(m)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(m,y){if(!(!this.enabled||!this.autoUpdate)){var T=this.engine,R=this.runner,P=T.timing;R.isFixed?y=this.getDelta(m,y):(y=m-R.timePrev||R.delta,R.timePrev=m,R.deltaHistory.push(y),R.deltaHistory=R.deltaHistory.slice(-R.deltaSampleSize),y=Math.min.apply(null,R.deltaHistory),y=y<R.deltaMin?R.deltaMin:y,y=y>R.deltaMax?R.deltaMax:y,R.delta=y),R.timeScalePrev=P.timeScale,R.frameCounter+=1,m-R.counterTimestamp>=1e3&&(R.fps=R.frameCounter*((m-R.counterTimestamp)/1e3),R.counterTimestamp=m,R.frameCounter=0),e.update(T,y)}},step:function(m){e.update(this.engine,m)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(m){var y=m.hasOwnProperty("body")?m.body:m;return s.get(this.localWorld,y.id,y.type)!==null},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var m=this.debugConfig,y=this.engine,T=this.debugGraphic,R=s.allBodies(this.localWorld);this.debugGraphic.clear(),m.showBroadphase&&y.broadphase.controller&&this.renderGrid(y.broadphase,T,m.broadphaseColor,.5),m.showBounds&&this.renderBodyBounds(R,T,m.boundsColor,.5),(m.showBody||m.showStaticBody)&&this.renderBodies(R),m.showJoint&&this.renderJoints(),(m.showAxes||m.showAngleIndicator)&&this.renderBodyAxes(R,T,m.showAxes,m.angleColor,.5),m.showVelocity&&this.renderBodyVelocity(R,T,m.velocityColor,1,2),m.showSeparations&&this.renderSeparations(y.pairs.list,T,m.separationColor),m.showCollisions&&this.renderCollisions(y.pairs.list,T,m.collisionColor)}},renderGrid:function(m,y,T,R){y.lineStyle(1,T,R);for(var P=r.keys(m.buckets),D=0;D<P.length;D++){var I=P[D];if(!(m.buckets[I].length<2)){var w=I.split(/C|R/);y.strokeRect(parseInt(w[1],10)*m.bucketWidth,parseInt(w[2],10)*m.bucketHeight,m.bucketWidth,m.bucketHeight)}}return this},renderSeparations:function(m,y,T){y.lineStyle(1,T,1);for(var R=0;R<m.length;R++){var P=m[R];if(P.isActive){var D=P.collision,I=D.bodyA,w=D.bodyB,U=I.position,G=w.position,H=D.penetration,z=!I.isStatic&&!w.isStatic?4:1;w.isStatic&&(z=0),y.lineBetween(G.x,G.y,G.x-H.x*z,G.y-H.y*z),z=!I.isStatic&&!w.isStatic?4:1,I.isStatic&&(z=0),y.lineBetween(U.x,U.y,U.x-H.x*z,U.y-H.y*z)}}return this},renderCollisions:function(m,y,T){y.lineStyle(1,T,.5),y.fillStyle(T,1);var R,P;for(R=0;R<m.length;R++)if(P=m[R],!!P.isActive)for(var D=0;D<P.activeContacts.length;D++){var I=P.activeContacts[D],w=I.vertex;y.fillRect(w.x-2,w.y-2,5,5)}for(R=0;R<m.length;R++)if(P=m[R],!!P.isActive){var U=P.collision,G=P.activeContacts;if(G.length>0){var H=G[0].vertex.x,z=G[0].vertex.y;G.length===2&&(H=(G[0].vertex.x+G[1].vertex.x)/2,z=(G[0].vertex.y+G[1].vertex.y)/2),U.bodyB===U.supports[0].body||U.bodyA.isStatic?y.lineBetween(H-U.normal.x*8,z-U.normal.y*8,H,z):y.lineBetween(H+U.normal.x*8,z+U.normal.y*8,H,z)}}return this},renderBodyBounds:function(m,y,T,R){y.lineStyle(1,T,R);for(var P=0;P<m.length;P++){var D=m[P];if(D.render.visible){var I=D.bounds;if(I)y.strokeRect(I.min.x,I.min.y,I.max.x-I.min.x,I.max.y-I.min.y);else for(var w=D.parts,U=w.length>1?1:0;U<w.length;U++){var G=w[U];y.strokeRect(G.bounds.min.x,G.bounds.min.y,G.bounds.max.x-G.bounds.min.x,G.bounds.max.y-G.bounds.min.y)}}}return this},renderBodyAxes:function(m,y,T,R,P){y.lineStyle(1,R,P);for(var D=0;D<m.length;D++){var I=m[D],w=I.parts;if(I.render.visible){var U,G,H;if(T)for(G=w.length>1?1:0;G<w.length;G++)for(U=w[G],H=0;H<U.axes.length;H++){var z=U.axes[H];y.lineBetween(U.position.x,U.position.y,U.position.x+z.x*20,U.position.y+z.y*20)}else for(G=w.length>1?1:0;G<w.length;G++)for(U=w[G],H=0;H<U.axes.length;H++)y.lineBetween(U.position.x,U.position.y,(U.vertices[0].x+U.vertices[U.vertices.length-1].x)/2,(U.vertices[0].y+U.vertices[U.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(m,y,T,R,P){y.lineStyle(P,T,R);for(var D=0;D<m.length;D++){var I=m[D];I.render.visible&&y.lineBetween(I.position.x,I.position.y,I.position.x+(I.position.x-I.positionPrev.x)*2,I.position.y+(I.position.y-I.positionPrev.y)*2)}return this},renderBodies:function(m){for(var y=this.debugGraphic,T=this.debugConfig,R=T.showBody,P=T.showStaticBody,D=T.showSleeping,I=T.showInternalEdges,w=T.showConvexHulls,U=T.renderFill,G=T.renderLine,H=T.staticBodySleepOpacity,z=T.sleepFillColor,$=T.sleepLineColor,J=T.hullColor,W=0;W<m.length;W++){var K=m[W];if(K.render.visible&&!(!P&&K.isStatic||!R&&!K.isStatic)){var N=K.render.lineColor,b=K.render.lineOpacity,Y=K.render.lineThickness,j=K.render.fillColor,Q=K.render.fillOpacity;D&&K.isSleeping&&(K.isStatic?(b*=H,Q*=H):(N=$,j=z)),U||(j=null),G||(N=null),this.renderBody(K,y,I,N,b,Y,j,Q);var q=K.parts.length;w&&q>1&&this.renderConvexHull(K,y,J,Y)}}},renderBody:function(m,y,T,R,P,D,I,w){R===void 0&&(R=null),P===void 0&&(P=null),D===void 0&&(D=1),I===void 0&&(I=null),w===void 0&&(w=null);for(var U=this.debugConfig,G=U.sensorFillColor,H=U.sensorLineColor,z=m.parts,$=z.length,J=$>1?1:0;J<$;J++){var W=z[J],K=W.render,N=K.opacity;if(!(!K.visible||N===0||W.isSensor&&!U.showSensors)){var b=W.circleRadius;if(y.beginPath(),W.isSensor?(I!==null&&y.fillStyle(G,w*N),R!==null&&y.lineStyle(D,H,P*N)):(I!==null&&y.fillStyle(I,w*N),R!==null&&y.lineStyle(D,R,P*N)),b)y.arc(W.position.x,W.position.y,b,0,2*Math.PI);else{var Y=W.vertices,j=Y.length;y.moveTo(Y[0].x,Y[0].y);for(var Q=1;Q<j;Q++){var q=Y[Q];if(!Y[Q-1].isInternal||T?y.lineTo(q.x,q.y):y.moveTo(q.x,q.y),Q<j&&q.isInternal&&!T){var tt=(Q+1)%j;y.moveTo(Y[tt].x,Y[tt].y)}}y.closePath()}I!==null&&y.fillPath(),R!==null&&y.strokePath()}}if(U.showPositions&&!m.isStatic){var it=m.position.x,st=m.position.y,lt=Math.ceil(U.positionSize/2);y.fillStyle(U.positionColor,1),y.fillRect(it-lt,st-lt,U.positionSize,U.positionSize)}return this},renderConvexHull:function(m,y,T,R){R===void 0&&(R=1);var P=m.parts,D=P.length;if(D>1){var I=m.vertices;y.lineStyle(R,T),y.beginPath(),y.moveTo(I[0].x,I[0].y);for(var w=1;w<I.length;w++)y.lineTo(I[w].x,I[w].y);y.lineTo(I[0].x,I[0].y),y.strokePath()}return this},renderJoints:function(){for(var m=this.debugGraphic,y=s.allConstraints(this.localWorld),T=0;T<y.length;T++){var R=y[T].render,P=R.lineColor,D=R.lineOpacity,I=R.lineThickness,w=R.pinSize,U=R.anchorColor,G=R.anchorSize;this.renderConstraint(y[T],m,P,D,I,w,U,G)}},renderConstraint:function(m,y,T,R,P,D,I,w){var U=m.render;if(!U.visible||!m.pointA||!m.pointB)return this;y.lineStyle(P,T,R);var G=m.bodyA,H=m.bodyB,z,$;if(G?z=g.add(G.position,m.pointA):z=m.pointA,U.type==="pin")y.strokeCircle(z.x,z.y,D);else{if(H?$=g.add(H.position,m.pointB):$=m.pointB,y.beginPath(),y.moveTo(z.x,z.y),U.type==="spring")for(var J=g.sub($,z),W=g.perp(g.normalise(J)),K=Math.ceil(r.clamp(m.length/5,12,20)),N,b=1;b<K;b+=1)N=b%2===0?1:-1,y.lineTo(z.x+J.x*(b/K)+W.x*N*4,z.y+J.y*(b/K)+W.y*N*4);y.lineTo($.x,$.y)}return y.strokePath(),U.anchors&&w>0&&(y.fillStyle(I),y.fillCircle(z.x,z.y,w),y.fillCircle($.x,$.y,w)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){h.off(this.engine),this.removeAllListeners(),c.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=x},95349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};p.exports=S},70679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var u=0;if(!Array.isArray(t))u=t;else for(var v=0;v<t.length;v++)u|=t[v];return this.body.collisionFilter.mask=u,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,u){Array.isArray(t)||(t=[t]);for(var v=0;v<t.length;v++){var o=t[v].hasOwnProperty("body")?t[v].body:t[v];this.body.setOnCollideWith(o,u)}return this}};p.exports=S},77178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84125),v={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),u.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,r){return u.applyForce(this.body,o,r),this},thrust:function(o){var r=this.body.angle;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var r=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=v},74015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,u,v){return this.body.friction=t,u!==void 0&&(this.body.frictionAir=u),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=S},11535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=S},74497:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84125),v=t(93736),o={setMass:function(r){return u.setMass(this.body,r),this},setDensity:function(r){return u.setDensity(this.body,r),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=o},75529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=S},64024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68516),v=t(84125),o=t(88456),r=t(72632),s=t(10998),e=t(72829),i=t(39745),l={setRectangle:function(n,a,f){return this.setBody({type:"rectangle",width:n,height:a},f)},setCircle:function(n,a){return this.setBody({type:"circle",radius:n},a)},setPolygon:function(n,a,f){return this.setBody({type:"polygon",sides:a,radius:n},f)},setTrapezoid:function(n,a,f,h){return this.setBody({type:"trapezoid",width:n,height:a,slope:f},h)},setExistingBody:function(n,a){a===void 0&&(a=!0),this.body&&this.world.remove(this.body,!0),this.body=n;for(var f=0;f<n.parts.length;f++)n.parts[f].gameObject=this;var h=this;if(n.destroy=function(){h.world.remove(h.body,!0),h.body.gameObject=null},a&&(this.world.has(n)&&this.world.remove(n,!0),this.world.add(n)),this._originComponent){var d=n.render.sprite.xOffset,c=n.render.sprite.yOffset,g=n.centerOfMass.x,x=n.centerOfMass.y;if(o(g,.5)&&o(x,.5))this.setOrigin(d+.5,c+.5);else{var m=n.centerOffset.x,y=n.centerOffset.y;this.setOrigin(d+m/this.displayWidth,c+y/this.displayHeight)}}return this},setBody:function(n,a){if(!n)return this;var f;typeof n=="string"&&(n={type:n});var h=r(n,"type","rectangle"),d=r(n,"x",this._tempVec2.x),c=r(n,"y",this._tempVec2.y),g=r(n,"width",this.width),x=r(n,"height",this.height);switch(h){case"rectangle":f=u.rectangle(d,c,g,x,a);break;case"circle":var m=r(n,"radius",Math.max(g,x)/2),y=r(n,"maxSides",25);f=u.circle(d,c,m,a,y);break;case"trapezoid":var T=r(n,"slope",.5);f=u.trapezoid(d,c,g,x,T,a);break;case"polygon":var R=r(n,"sides",5),P=r(n,"radius",Math.max(g,x)/2);f=u.polygon(d,c,R,P,a);break;case"fromVertices":case"fromVerts":var D=r(n,"verts",null);if(D)if(typeof D=="string"&&(D=i.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,D),f=this.body;else{var I=r(n,"flagInternal",!1),w=r(n,"removeCollinear",.01),U=r(n,"minimumArea",10);f=u.fromVertices(d,c,D,a,I,w,U)}break;case"fromPhysicsEditor":f=s.parseBody(d,c,n,a);break;case"fromPhysicsTracer":f=e.parseBody(d,c,n,a);break}return f&&this.setExistingBody(f,n.addToWorld),this}};p.exports=l},25106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35416),v=t(22806),o=t(39073),r={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(s){return s===void 0&&(s=60),this.body.sleepThreshold=s,this},setSleepEvents:function(s,e){return this.setSleepStartEvent(s),this.setSleepEndEvent(e),this},setSleepStartEvent:function(s){if(s){var e=this.world;o.on(this.body,"sleepStart",function(i){e.emit(u.SLEEP_START,i,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(s){if(s){var e=this.world;o.on(this.body,"sleepEnd",function(i){e.emit(u.SLEEP_END,i,this)})}else o.off(this.body,"sleepEnd");return this}};p.exports=r},82884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84125),v={setStatic:function(o){return u.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};p.exports=v},4753:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84125),v=t(83392),o=t(35786),r=t(62138),s=4,e={x:{get:function(){return this.body.position.x},set:function(i){this._tempVec2.set(i,this.y),u.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(i){this._tempVec2.set(this.x,i),u.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(i){var l=1/this._scaleX,n=1/this._scaleY;this._scaleX=i,this._scaleX===0?this.renderFlags&=~s:this.renderFlags|=s,u.scale(this.body,l,n),u.scale(this.body,i,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(i){var l=1/this._scaleX,n=1/this._scaleY;this._scaleY=i,this._scaleY===0?this.renderFlags&=~s:this.renderFlags|=s,u.scale(this.body,l,n),u.scale(this.body,this._scaleX,i)}},angle:{get:function(){return r(this.body.angle*v.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(i){this._rotation=o(i),u.setAngle(this.body,this._rotation)}},setPosition:function(i,l){return i===void 0&&(i=0),l===void 0&&(l=i),this._tempVec2.set(i,l),u.setPosition(this.body,this._tempVec2),this},setRotation:function(i){return i===void 0&&(i=0),this._rotation=o(i),u.setAngle(this.body,i),this},setFixedRotation:function(){return u.setInertia(this.body,1/0),this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,u.setAngle(this.body,this.rotation),this},setScale:function(i,l,n){i===void 0&&(i=1),l===void 0&&(l=i);var a=1/this._scaleX,f=1/this._scaleY;return this._scaleX=i,this._scaleY=l,u.scale(this.body,a,f,n),u.scale(this.body,i,l,n),this}};p.exports=e},37268:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84125),v={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),u.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),u.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,r){return this._tempVec2.set(o,r),u.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return u.getVelocity(this.body)},setAngularVelocity:function(o){return u.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return u.getAngularVelocity(this.body)},setAngularSpeed:function(o){return u.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return u.getAngularSpeed(this.body)}};p.exports=v},74527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(95349),Collision:t(70679),Force:t(77178),Friction:t(74015),Gravity:t(11535),Mass:t(74497),Sensor:t(75529),SetBody:t(64024),Sleep:t(25106),Static:t(82884),Transform:t(4753),Velocity:t(37268)}},63201:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},30474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},44822:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},88820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},94849:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},6391:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},96738:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},7916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},59529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},10219:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},183:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},39143:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},16483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},35806:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22106:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},5803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},35416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(63201),AFTER_REMOVE:t(30474),AFTER_UPDATE:t(44822),BEFORE_ADD:t(88820),BEFORE_REMOVE:t(94849),BEFORE_UPDATE:t(6391),COLLISION_ACTIVE:t(96738),COLLISION_END:t(7916),COLLISION_START:t(59529),DRAG_END:t(10219),DRAG:t(183),DRAG_START:t(39143),PAUSE:t(16483),RESUME:t(35806),SLEEP_END:t(22106),SLEEP_START:t(5803)}},45949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(63568),Components:t(74527),Events:t(35416),Factory:t(72653),MatterGameObject:t(3860),Image:t(7030),Matter:t(18171),MatterPhysics:t(50583),PolyDecomp:t(81084),Sprite:t(73658),TileBody:t(84720),PhysicsEditorParser:t(10998),PhysicsJSONParser:t(72829),PointerConstraint:t(88596),World:t(31468)}},84125:(p,S,t)=>{var u={};p.exports=u;var v=t(39745),o=t(10438),r=t(22806),s=t(68758),e=t(84091),i=t(50658);(function(){u._timeCorrection=!0,u._inertiaScale=4,u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,u._baseDelta=16.666666666666668,u.create=function(n){var a={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!n.hasOwnProperty("position")&&n.hasOwnProperty("vertices")?n.position=v.centre(n.vertices):n.hasOwnProperty("vertices")||(a.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=s.extend(a,n);return l(f,n),f.setOnCollideWith=function(h,d){return d?this.onCollideWith[h.id]=d:delete this.onCollideWith[h.id],this},f},u.nextGroup=function(n){return n?u._nextNonCollidingGroupId--:u._nextCollidingGroupId++},u.nextCategory=function(){return u._nextCategory=u._nextCategory<<1,u._nextCategory};var l=function(n,a){if(a=a||{},u.set(n,{bounds:n.bounds||e.create(n.vertices),positionPrev:n.positionPrev||o.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),v.rotate(n.vertices,n.angle,n.position),i.rotate(n.axes,n.angle),e.update(n.bounds,n.vertices,n.velocity),u.set(n,{axes:a.axes||n.axes,area:a.area||n.area,mass:a.mass||n.mass,inertia:a.inertia||n.inertia}),n.parts.length===1){var f=n.bounds,h=n.centerOfMass,d=n.centerOffset,c=f.max.x-f.min.x,g=f.max.y-f.min.y;h.x=-(f.min.x-n.position.x)/c,h.y=-(f.min.y-n.position.y)/g,d.x=c*h.x,d.y=g*h.y}};u.set=function(n,a,f){var h;typeof a=="string"&&(h=a,a={},a[h]=f);for(h in a)if(Object.prototype.hasOwnProperty.call(a,h))switch(f=a[h],h){case"isStatic":u.setStatic(n,f);break;case"isSleeping":r.set(n,f);break;case"mass":u.setMass(n,f);break;case"density":u.setDensity(n,f);break;case"inertia":u.setInertia(n,f);break;case"vertices":u.setVertices(n,f);break;case"position":u.setPosition(n,f);break;case"angle":u.setAngle(n,f);break;case"velocity":u.setVelocity(n,f);break;case"angularVelocity":u.setAngularVelocity(n,f);break;case"speed":u.setSpeed(n,f);break;case"angularSpeed":u.setAngularSpeed(n,f);break;case"parts":u.setParts(n,f);break;case"centre":u.setCentre(n,f);break;default:n[h]=f}},u.setStatic=function(n,a){for(var f=0;f<n.parts.length;f++){var h=n.parts[f];a?(h.isStatic||(h._original={restitution:h.restitution,friction:h.friction,mass:h.mass,inertia:h.inertia,density:h.density,inverseMass:h.inverseMass,inverseInertia:h.inverseInertia}),h.restitution=0,h.friction=1,h.mass=h.inertia=h.density=1/0,h.inverseMass=h.inverseInertia=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.angularVelocity=0,h.speed=0,h.angularSpeed=0,h.motion=0):h._original&&(h.restitution=h._original.restitution,h.friction=h._original.friction,h.mass=h._original.mass,h.inertia=h._original.inertia,h.density=h._original.density,h.inverseMass=h._original.inverseMass,h.inverseInertia=h._original.inverseInertia,h._original=null),h.isStatic=a}},u.setMass=function(n,a){var f=n.inertia/(n.mass/6);n.inertia=f*(a/6),n.inverseInertia=1/n.inertia,n.mass=a,n.inverseMass=1/n.mass,n.density=n.mass/n.area},u.setDensity=function(n,a){u.setMass(n,a*n.area),n.density=a},u.setInertia=function(n,a){n.inertia=a,n.inverseInertia=1/n.inertia},u.setVertices=function(n,a){a[0].body===n?n.vertices=a:n.vertices=v.create(a,n),n.axes=i.fromVertices(n.vertices),n.area=v.area(n.vertices),u.setMass(n,n.density*n.area);var f=v.centre(n.vertices);v.translate(n.vertices,f,-1),u.setInertia(n,u._inertiaScale*v.inertia(n.vertices,n.mass)),v.translate(n.vertices,n.position),e.update(n.bounds,n.vertices,n.velocity)},u.setParts=function(n,a,f){var h;for(a=a.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,h=0;h<a.length;h++){var d=a[h];d!==n&&(d.parent=n,n.parts.push(d))}if(n.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var c=[];for(h=0;h<a.length;h++)c=c.concat(a[h].vertices);v.clockwiseSort(c);var g=v.hull(c),x=v.centre(g);u.setVertices(n,g),v.translate(n.vertices,x)}var m=u._totalProperties(n),y=m.centre.x,T=m.centre.y,R=n.bounds,P=n.centerOfMass,D=n.centerOffset;e.update(R,n.vertices,n.velocity),P.x=-(R.min.x-y)/(R.max.x-R.min.x),P.y=-(R.min.y-T)/(R.max.y-R.min.y),D.x=y,D.y=T,n.area=m.area,n.parent=n,n.position.x=y,n.position.y=T,n.positionPrev.x=y,n.positionPrev.y=T,u.setMass(n,m.mass),u.setInertia(n,m.inertia),u.setPosition(n,m.centre)}},u.setCentre=function(n,a,f){f?(n.positionPrev.x+=a.x,n.positionPrev.y+=a.y,n.position.x+=a.x,n.position.y+=a.y):(n.positionPrev.x=a.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=a.y-(n.position.y-n.positionPrev.y),n.position.x=a.x,n.position.y=a.y)},u.setPosition=function(n,a,f){var h=o.sub(a,n.position);f?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=h.x,n.velocity.y=h.y,n.speed=o.magnitude(h)):(n.positionPrev.x+=h.x,n.positionPrev.y+=h.y);for(var d=0;d<n.parts.length;d++){var c=n.parts[d];c.position.x+=h.x,c.position.y+=h.y,v.translate(c.vertices,h),e.update(c.bounds,c.vertices,n.velocity)}},u.setAngle=function(n,a,f){var h=a-n.angle;f?(n.anglePrev=n.angle,n.angularVelocity=h,n.angularSpeed=Math.abs(h)):n.anglePrev+=h;for(var d=0;d<n.parts.length;d++){var c=n.parts[d];c.angle+=h,v.rotate(c.vertices,h,n.position),i.rotate(c.axes,h),e.update(c.bounds,c.vertices,n.velocity),d>0&&o.rotateAbout(c.position,h,n.position,c.position)}},u.setVelocity=function(n,a){var f=n.deltaTime/u._baseDelta;n.positionPrev.x=n.position.x-a.x*f,n.positionPrev.y=n.position.y-a.y*f,n.velocity.x=(n.position.x-n.positionPrev.x)/f,n.velocity.y=(n.position.y-n.positionPrev.y)/f,n.speed=o.magnitude(n.velocity)},u.getVelocity=function(n){var a=u._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*a,y:(n.position.y-n.positionPrev.y)*a}},u.getSpeed=function(n){return o.magnitude(u.getVelocity(n))},u.setSpeed=function(n,a){u.setVelocity(n,o.mult(o.normalise(u.getVelocity(n)),a))},u.setAngularVelocity=function(n,a){var f=n.deltaTime/u._baseDelta;n.anglePrev=n.angle-a*f,n.angularVelocity=(n.angle-n.anglePrev)/f,n.angularSpeed=Math.abs(n.angularVelocity)},u.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*u._baseDelta/n.deltaTime},u.getAngularSpeed=function(n){return Math.abs(u.getAngularVelocity(n))},u.setAngularSpeed=function(n,a){u.setAngularVelocity(n,s.sign(u.getAngularVelocity(n))*a)},u.translate=function(n,a,f){u.setPosition(n,o.add(n.position,a),f)},u.rotate=function(n,a,f,h){if(!f)u.setAngle(n,n.angle+a,h);else{var d=Math.cos(a),c=Math.sin(a),g=n.position.x-f.x,x=n.position.y-f.y;u.setPosition(n,{x:f.x+(g*d-x*c),y:f.y+(g*c+x*d)},h),u.setAngle(n,n.angle+a,h)}},u.scale=function(n,a,f,h){var d=0,c=0;h=h||n.position;for(var g=0;g<n.parts.length;g++){var x=n.parts[g];x.scale.x=a,x.scale.y=f,v.scale(x.vertices,a,f,h),x.axes=i.fromVertices(x.vertices),x.area=v.area(x.vertices),u.setMass(x,n.density*x.area),v.translate(x.vertices,{x:-x.position.x,y:-x.position.y}),u.setInertia(x,u._inertiaScale*v.inertia(x.vertices,x.mass)),v.translate(x.vertices,{x:x.position.x,y:x.position.y}),g>0&&(d+=x.area,c+=x.inertia),x.position.x=h.x+(x.position.x-h.x)*a,x.position.y=h.y+(x.position.y-h.y)*f,e.update(x.bounds,x.vertices,n.velocity)}n.parts.length>1&&(n.area=d,n.isStatic||(u.setMass(n,n.density*d),u.setInertia(n,c))),n.circleRadius&&(a===f?n.circleRadius*=a:n.circleRadius=null)},u.update=function(n,a){a=(typeof a<"u"?a:16.666666666666668)*n.timeScale;var f=a*a,h=u._timeCorrection?a/(n.deltaTime||a):1,d=1-n.frictionAir*(a/s._baseDelta),c=(n.position.x-n.positionPrev.x)*h,g=(n.position.y-n.positionPrev.y)*h;n.velocity.x=c*d+n.force.x/n.mass*f,n.velocity.y=g*d+n.force.y/n.mass*f,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=a,n.angularVelocity=(n.angle-n.anglePrev)*d*h+n.torque/n.inertia*f,n.anglePrev=n.angle,n.angle+=n.angularVelocity,n.speed=o.magnitude(n.velocity),n.angularSpeed=Math.abs(n.angularVelocity);for(var x=0;x<n.parts.length;x++){var m=n.parts[x];v.translate(m.vertices,n.velocity),x>0&&(m.position.x+=n.velocity.x,m.position.y+=n.velocity.y),n.angularVelocity!==0&&(v.rotate(m.vertices,n.angularVelocity,n.position),i.rotate(m.axes,n.angularVelocity),x>0&&o.rotateAbout(m.position,n.angularVelocity,n.position,m.position)),e.update(m.bounds,m.vertices,n.velocity)}},u.updateVelocities=function(n){var a=u._baseDelta/n.deltaTime,f=n.velocity;f.x=(n.position.x-n.positionPrev.x)*a,f.y=(n.position.y-n.positionPrev.y)*a,n.speed=Math.sqrt(f.x*f.x+f.y*f.y),n.angularVelocity=(n.angle-n.anglePrev)*a,n.angularSpeed=Math.abs(n.angularVelocity)},u.applyForce=function(n,a,f){var h={x:a.x-n.position.x,y:a.y-n.position.y};n.force.x+=f.x,n.force.y+=f.y,n.torque+=h.x*f.y-h.y*f.x},u._totalProperties=function(n){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=n.parts.length===1?0:1;f<n.parts.length;f++){var h=n.parts[f],d=h.mass!==1/0?h.mass:1;a.mass+=d,a.area+=h.area,a.inertia+=h.inertia,a.centre=o.add(a.centre,o.mult(h.position,d))}return a.centre=o.div(a.centre,a.mass),a}})()},11299:(p,S,t)=>{var u={};p.exports=u;var v=t(39073),o=t(68758),r=t(84091),s=t(84125);(function(){u.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},u.setModified=function(e,i,l,n){if(v.trigger(e,"compositeModified",e),e.isModified=i,i&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&u.setModified(e.parent,i,l,n),n)for(var a=0;a<e.composites.length;a++){var f=e.composites[a];u.setModified(f,i,l,n)}},u.add=function(e,i){var l=[].concat(i);v.trigger(e,"beforeAdd",{object:i});for(var n=0;n<l.length;n++){var a=l[n];switch(a.type){case"body":if(a.parent!==a){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}u.addBody(e,a);break;case"constraint":u.addConstraint(e,a);break;case"composite":u.addComposite(e,a);break;case"mouseConstraint":u.addConstraint(e,a.constraint);break}}return v.trigger(e,"afterAdd",{object:i}),e},u.remove=function(e,i,l){var n=[].concat(i);v.trigger(e,"beforeRemove",{object:i});for(var a=0;a<n.length;a++){var f=n[a];switch(f.type){case"body":u.removeBody(e,f,l);break;case"constraint":u.removeConstraint(e,f,l);break;case"composite":u.removeComposite(e,f,l);break;case"mouseConstraint":u.removeConstraint(e,f.constraint);break}}return v.trigger(e,"afterRemove",{object:i}),e},u.addComposite=function(e,i){return e.composites.push(i),i.parent=e,u.setModified(e,!0,!0,!1),e},u.removeComposite=function(e,i,l){var n=o.indexOf(e.composites,i);if(n!==-1&&u.removeCompositeAt(e,n),l)for(var a=0;a<e.composites.length;a++)u.removeComposite(e.composites[a],i,!0);return e},u.removeCompositeAt=function(e,i){return e.composites.splice(i,1),u.setModified(e,!0,!0,!1),e},u.addBody=function(e,i){return e.bodies.push(i),u.setModified(e,!0,!0,!1),e},u.removeBody=function(e,i,l){var n=o.indexOf(e.bodies,i);if(n!==-1&&u.removeBodyAt(e,n),l)for(var a=0;a<e.composites.length;a++)u.removeBody(e.composites[a],i,!0);return e},u.removeBodyAt=function(e,i){return e.bodies.splice(i,1),u.setModified(e,!0,!0,!1),e},u.addConstraint=function(e,i){return e.constraints.push(i),u.setModified(e,!0,!0,!1),e},u.removeConstraint=function(e,i,l){var n=o.indexOf(e.constraints,i);if(n!==-1&&u.removeConstraintAt(e,n),l)for(var a=0;a<e.composites.length;a++)u.removeConstraint(e.composites[a],i,!0);return e},u.removeConstraintAt=function(e,i){return e.constraints.splice(i,1),u.setModified(e,!0,!0,!1),e},u.clear=function(e,i,l){if(l)for(var n=0;n<e.composites.length;n++)u.clear(e.composites[n],i,!0);return i?e.bodies=e.bodies.filter(function(a){return a.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,u.setModified(e,!0,!0,!1),e},u.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var i=[].concat(e.bodies),l=0;l<e.composites.length;l++)i=i.concat(u.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=i),i},u.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var i=[].concat(e.constraints),l=0;l<e.composites.length;l++)i=i.concat(u.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=i),i},u.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var i=[].concat(e.composites),l=0;l<e.composites.length;l++)i=i.concat(u.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=i),i},u.get=function(e,i,l){var n,a;switch(l){case"body":n=u.allBodies(e);break;case"constraint":n=u.allConstraints(e);break;case"composite":n=u.allComposites(e).concat(e);break}return n?(a=n.filter(function(f){return f.id.toString()===i.toString()}),a.length===0?null:a[0]):null},u.move=function(e,i,l){return u.remove(e,i),u.add(l,i),e},u.rebase=function(e){for(var i=u.allBodies(e).concat(u.allConstraints(e)).concat(u.allComposites(e)),l=0;l<i.length;l++)i[l].id=o.nextId();return e},u.translate=function(e,i,l){for(var n=l?u.allBodies(e):e.bodies,a=0;a<n.length;a++)s.translate(n[a],i);return e},u.rotate=function(e,i,l,n){for(var a=Math.cos(i),f=Math.sin(i),h=n?u.allBodies(e):e.bodies,d=0;d<h.length;d++){var c=h[d],g=c.position.x-l.x,x=c.position.y-l.y;s.setPosition(c,{x:l.x+(g*a-x*f),y:l.y+(g*f+x*a)}),s.rotate(c,i)}return e},u.scale=function(e,i,l,n,a){for(var f=a?u.allBodies(e):e.bodies,h=0;h<f.length;h++){var d=f[h],c=d.position.x-n.x,g=d.position.y-n.y;s.setPosition(d,{x:n.x+c*i,y:n.y+g*l}),s.scale(d,i,l)}return e},u.bounds=function(e){for(var i=u.allBodies(e),l=[],n=0;n<i.length;n+=1){var a=i[n];l.push(a.bounds.min,a.bounds.max)}return r.create(l)}})()},72005:(p,S,t)=>{var u={};p.exports=u;var v=t(11299);(function(){u.create=v.create,u.add=v.add,u.remove=v.remove,u.clear=v.clear,u.addComposite=v.addComposite,u.addBody=v.addBody,u.addConstraint=v.addConstraint})()},63454:(p,S,t)=>{var u={};p.exports=u;var v=t(39745),o=t(70584);(function(){var r=[],s={overlap:0,axis:null},e={overlap:0,axis:null};u.create=function(i,l){return{pair:null,collided:!1,bodyA:i,bodyB:l,parentA:i.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},u.collides=function(i,l,n){if(u._overlapAxes(s,i.vertices,l.vertices,i.axes),s.overlap<=0||(u._overlapAxes(e,l.vertices,i.vertices,l.axes),e.overlap<=0))return null;var a=n&&n.table[o.id(i,l)],f;a?f=a.collision:(f=u.create(i,l),f.collided=!0,f.bodyA=i.id<l.id?i:l,f.bodyB=i.id<l.id?l:i,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),i=f.bodyA,l=f.bodyB;var h;s.overlap<e.overlap?h=s:h=e;var d=f.normal,c=f.supports,g=h.axis,x=g.x,m=g.y;x*(l.position.x-i.position.x)+m*(l.position.y-i.position.y)<0?(d.x=x,d.y=m):(d.x=-x,d.y=-m),f.tangent.x=-d.y,f.tangent.y=d.x,f.depth=h.overlap,f.penetration.x=d.x*f.depth,f.penetration.y=d.y*f.depth;var y=u._findSupports(i,l,d,1),T=0;if(v.contains(i.vertices,y[0])&&(c[T++]=y[0]),v.contains(i.vertices,y[1])&&(c[T++]=y[1]),T<2){var R=u._findSupports(l,i,d,-1);v.contains(l.vertices,R[0])&&(c[T++]=R[0]),T<2&&v.contains(l.vertices,R[1])&&(c[T++]=R[1])}return T===0&&(c[T++]=y[0]),c.length=T,f},u._overlapAxes=function(i,l,n,a){var f=l.length,h=n.length,d=l[0].x,c=l[0].y,g=n[0].x,x=n[0].y,m=a.length,y=Number.MAX_VALUE,T=0,R,P,D,I,w,U;for(w=0;w<m;w++){var G=a[w],H=G.x,z=G.y,$=d*H+c*z,J=g*H+x*z,W=$,K=J;for(U=1;U<f;U+=1)I=l[U].x*H+l[U].y*z,I>W?W=I:I<$&&($=I);for(U=1;U<h;U+=1)I=n[U].x*H+n[U].y*z,I>K?K=I:I<J&&(J=I);if(P=W-J,D=K-$,R=P<D?P:D,R<y&&(y=R,T=w,R<=0))break}i.axis=a[T],i.overlap=y},u._projectToAxis=function(i,l,n){for(var a=l[0].x*n.x+l[0].y*n.y,f=a,h=1;h<l.length;h+=1){var d=l[h].x*n.x+l[h].y*n.y;d>f?f=d:d<a&&(a=d)}i.min=a,i.max=f},u._findSupports=function(i,l,n,a){var f=l.vertices,h=f.length,d=i.position.x,c=i.position.y,g=n.x*a,x=n.y*a,m=Number.MAX_VALUE,y,T,R,P,D;for(D=0;D<h;D+=1)T=f[D],P=g*(d-T.x)+x*(c-T.y),P<m&&(m=P,y=T);return R=f[(h+y.index-1)%h],m=g*(d-R.x)+x*(c-R.y),T=f[(y.index+1)%h],g*(d-T.x)+x*(c-T.y)<m?(r[0]=y,r[1]=T,r):(r[0]=y,r[1]=R,r)}})()},17319:p=>{var S={};p.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},13657:(p,S,t)=>{var u={};p.exports=u;var v=t(68758),o=t(63454);(function(){u.create=function(r){var s={bodies:[],pairs:null};return v.extend(s,r)},u.setBodies=function(r,s){r.bodies=s.slice(0)},u.clear=function(r){r.bodies=[]},u.collisions=function(r){var s=[],e=r.pairs,i=r.bodies,l=i.length,n=u.canCollide,a=o.collides,f,h;for(i.sort(u._compareBoundsX),f=0;f<l;f++){var d=i[f],c=d.bounds,g=d.bounds.max.x,x=d.bounds.max.y,m=d.bounds.min.y,y=d.isStatic||d.isSleeping,T=d.parts.length,R=T===1;for(h=f+1;h<l;h++){var P=i[h],D=P.bounds;if(D.min.x>g)break;if(!(x<D.min.y||m>D.max.y)&&!(y&&(P.isStatic||P.isSleeping))&&n(d.collisionFilter,P.collisionFilter)){var I=P.parts.length;if(R&&I===1){var w=a(d,P,e);w&&s.push(w)}else for(var U=T>1?1:0,G=I>1?1:0,H=U;H<T;H++)for(var z=d.parts[H],c=z.bounds,$=G;$<I;$++){var J=P.parts[$],D=J.bounds;if(!(c.min.x>D.max.x||c.max.x<D.min.x||c.max.y<D.min.y||c.min.y>D.max.y)){var w=a(z,J,e);w&&s.push(w)}}}}}return s},u.canCollide=function(r,s){return r.group===s.group&&r.group!==0?r.group>0:(r.mask&s.category)!==0&&(s.mask&r.category)!==0},u._compareBoundsX=function(r,s){return r.bounds.min.x-s.bounds.min.x}})()},70584:(p,S,t)=>{var u={};p.exports=u;var v=t(17319);(function(){u.create=function(o,r){var s=o.bodyA,e=o.bodyB,i={id:u.id(s,e),bodyA:s,bodyB:e,collision:o,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:s.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return u.update(i,o,r),i},u.update=function(o,r,s){var e=o.contacts,i=r.supports,l=o.activeContacts,n=r.parentA,a=r.parentB,f=n.vertices.length;o.isActive=!0,o.timeUpdated=s,o.collision=r,o.separation=r.depth,o.inverseMass=n.inverseMass+a.inverseMass,o.friction=n.friction<a.friction?n.friction:a.friction,o.frictionStatic=n.frictionStatic>a.frictionStatic?n.frictionStatic:a.frictionStatic,o.restitution=n.restitution>a.restitution?n.restitution:a.restitution,o.slop=n.slop>a.slop?n.slop:a.slop,r.pair=o,l.length=0;for(var h=0;h<i.length;h++){var d=i[h],c=d.body===n?d.index:f+d.index,g=e[c];g?l.push(g):l.push(e[c]=v.create(d))}},u.setActive=function(o,r,s){r?(o.isActive=!0,o.timeUpdated=s):(o.isActive=!1,o.activeContacts.length=0)},u.id=function(o,r){return o.id<r.id?"A"+o.id+"B"+r.id:"A"+r.id+"B"+o.id}})()},91327:(p,S,t)=>{var u={};p.exports=u;var v=t(70584),o=t(68758);(function(){u.create=function(r){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},u.update=function(r,s,e){var i=r.list,l=i.length,n=r.table,a=s.length,f=r.collisionStart,h=r.collisionEnd,d=r.collisionActive,c,g,x,m;for(f.length=0,h.length=0,d.length=0,m=0;m<l;m++)i[m].confirmedActive=!1;for(m=0;m<a;m++)c=s[m],x=c.pair,x?(x.isActive?d.push(x):f.push(x),v.update(x,c,e),x.confirmedActive=!0):(x=v.create(c,e),n[x.id]=x,f.push(x),i.push(x));var y=[];for(l=i.length,m=0;m<l;m++)x=i[m],x.confirmedActive||(v.setActive(x,!1,e),h.push(x),!x.collision.bodyA.isSleeping&&!x.collision.bodyB.isSleeping&&y.push(m));for(m=0;m<y.length;m++)g=y[m]-m,x=i[g],i.splice(g,1),delete n[x.id]},u.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},13390:(p,S,t)=>{var u={};p.exports=u;var v=t(10438),o=t(63454),r=t(84091),s=t(68516),e=t(39745);(function(){u.collides=function(i,l){for(var n=[],a=l.length,f=i.bounds,h=o.collides,d=r.overlaps,c=0;c<a;c++){var g=l[c],x=g.parts.length,m=x===1?0:1;if(i!==g&&d(g.bounds,f))for(var y=m;y<x;y++){var T=g.parts[y];if(d(T.bounds,f)){var R=h(T,i);if(R){n.push(R);break}}}}return n},u.ray=function(i,l,n,a){a=a||1e-100;for(var f=v.angle(l,n),h=v.magnitude(v.sub(l,n)),d=(n.x+l.x)*.5,c=(n.y+l.y)*.5,g=s.rectangle(d,c,h,a,{angle:f}),x=u.collides(g,i),m=0;m<x.length;m+=1){var y=x[m];y.body=y.bodyB=y.bodyA}return x},u.region=function(i,l,n){for(var a=[],f=0;f<i.length;f++){var h=i[f],d=r.overlaps(h.bounds,l);(d&&!n||!d&&n)&&a.push(h)}return a},u.point=function(i,l){for(var n=[],a=0;a<i.length;a++){var f=i[a];if(r.contains(f.bounds,l))for(var h=f.parts.length===1?0:1;h<f.parts.length;h++){var d=f.parts[h];if(r.contains(d.bounds,l)&&e.contains(d.vertices,l)){n.push(f);break}}}return n}})()},44272:(p,S,t)=>{var u={};p.exports=u;var v=t(39745),o=t(68758),r=t(84091);(function(){u._restingThresh=2,u._restingThreshTangent=Math.sqrt(6),u._positionDampen=.9,u._positionWarming=.8,u._frictionNormalMultiplier=5,u._frictionMaxStatic=Number.MAX_VALUE,u.preSolvePosition=function(s){var e,i,l,n=s.length;for(e=0;e<n;e++)i=s[e],i.isActive&&(l=i.activeContacts.length,i.collision.parentA.totalContacts+=l,i.collision.parentB.totalContacts+=l)},u.solvePosition=function(s,e,i){var l,n,a,f,h,d,c,g,x=u._positionDampen*(i||1),m=o.clamp(e/o._baseDelta,0,1),y=s.length;for(l=0;l<y;l++)n=s[l],!(!n.isActive||n.isSensor)&&(a=n.collision,f=a.parentA,h=a.parentB,d=a.normal,n.separation=d.x*(h.positionImpulse.x+a.penetration.x-f.positionImpulse.x)+d.y*(h.positionImpulse.y+a.penetration.y-f.positionImpulse.y));for(l=0;l<y;l++)n=s[l],!(!n.isActive||n.isSensor)&&(a=n.collision,f=a.parentA,h=a.parentB,d=a.normal,g=n.separation-n.slop*m,(f.isStatic||h.isStatic)&&(g*=2),f.isStatic||f.isSleeping||(c=x/f.totalContacts,f.positionImpulse.x+=d.x*g*c,f.positionImpulse.y+=d.y*g*c),h.isStatic||h.isSleeping||(c=x/h.totalContacts,h.positionImpulse.x-=d.x*g*c,h.positionImpulse.y-=d.y*g*c))},u.postSolvePosition=function(s){for(var e=u._positionWarming,i=s.length,l=v.translate,n=r.update,a=0;a<i;a++){var f=s[a],h=f.positionImpulse,d=h.x,c=h.y,g=f.velocity;if(f.totalContacts=0,d!==0||c!==0){for(var x=0;x<f.parts.length;x++){var m=f.parts[x];l(m.vertices,h),n(m.bounds,m.vertices,g),m.position.x+=d,m.position.y+=c}f.positionPrev.x+=d,f.positionPrev.y+=c,d*g.x+c*g.y<0?(h.x=0,h.y=0):(h.x*=e,h.y*=e)}}},u.preSolveVelocity=function(s){var e=s.length,i,l;for(i=0;i<e;i++){var n=s[i];if(!(!n.isActive||n.isSensor)){var a=n.activeContacts,f=a.length,h=n.collision,d=h.parentA,c=h.parentB,g=h.normal,x=h.tangent;for(l=0;l<f;l++){var m=a[l],y=m.vertex,T=m.normalImpulse,R=m.tangentImpulse;if(T!==0||R!==0){var P=g.x*T+x.x*R,D=g.y*T+x.y*R;d.isStatic||d.isSleeping||(d.positionPrev.x+=P*d.inverseMass,d.positionPrev.y+=D*d.inverseMass,d.anglePrev+=d.inverseInertia*((y.x-d.position.x)*D-(y.y-d.position.y)*P)),c.isStatic||c.isSleeping||(c.positionPrev.x-=P*c.inverseMass,c.positionPrev.y-=D*c.inverseMass,c.anglePrev-=c.inverseInertia*((y.x-c.position.x)*D-(y.y-c.position.y)*P))}}}}},u.solveVelocity=function(s,e){var i=e/o._baseDelta,l=i*i,n=l*i,a=-u._restingThresh*i,f=u._restingThreshTangent,h=u._frictionNormalMultiplier*i,d=u._frictionMaxStatic,c=s.length,g,x,m,y;for(m=0;m<c;m++){var T=s[m];if(!(!T.isActive||T.isSensor)){var R=T.collision,P=R.parentA,D=R.parentB,I=P.velocity,w=D.velocity,U=R.normal.x,G=R.normal.y,H=R.tangent.x,z=R.tangent.y,$=T.activeContacts,J=$.length,W=1/J,K=P.inverseMass+D.inverseMass,N=T.friction*T.frictionStatic*h;for(I.x=P.position.x-P.positionPrev.x,I.y=P.position.y-P.positionPrev.y,w.x=D.position.x-D.positionPrev.x,w.y=D.position.y-D.positionPrev.y,P.angularVelocity=P.angle-P.anglePrev,D.angularVelocity=D.angle-D.anglePrev,y=0;y<J;y++){var b=$[y],Y=b.vertex,j=Y.x-P.position.x,Q=Y.y-P.position.y,q=Y.x-D.position.x,tt=Y.y-D.position.y,it=I.x-Q*P.angularVelocity,st=I.y+j*P.angularVelocity,lt=w.x-tt*D.angularVelocity,ut=w.y+q*D.angularVelocity,vt=it-lt,ft=st-ut,Et=U*vt+G*ft,It=H*vt+z*ft,Nt=T.separation+Et,Dt=Math.min(Nt,1);Dt=Nt<0?0:Dt;var pt=Dt*N;It<-pt||It>pt?(x=It>0?It:-It,g=T.friction*(It>0?1:-1)*n,g<-x?g=-x:g>x&&(g=x)):(g=It,x=d);var Pt=j*G-Q*U,Lt=q*G-tt*U,ee=W/(K+P.inverseInertia*Pt*Pt+D.inverseInertia*Lt*Lt),Jt=(1+T.restitution)*Et*ee;if(g*=ee,Et<a)b.normalImpulse=0;else{var Ee=b.normalImpulse;b.normalImpulse+=Jt,b.normalImpulse>0&&(b.normalImpulse=0),Jt=b.normalImpulse-Ee}if(It<-f||It>f)b.tangentImpulse=0;else{var de=b.tangentImpulse;b.tangentImpulse+=g,b.tangentImpulse<-x&&(b.tangentImpulse=-x),b.tangentImpulse>x&&(b.tangentImpulse=x),g=b.tangentImpulse-de}var oe=U*Jt+H*g,te=G*Jt+z*g;P.isStatic||P.isSleeping||(P.positionPrev.x+=oe*P.inverseMass,P.positionPrev.y+=te*P.inverseMass,P.anglePrev+=(j*te-Q*oe)*P.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=oe*D.inverseMass,D.positionPrev.y-=te*D.inverseMass,D.anglePrev-=(q*te-tt*oe)*D.inverseInertia)}}}}})()},52838:(p,S,t)=>{var u={};p.exports=u;var v=t(39745),o=t(10438),r=t(22806),s=t(84091),e=t(50658),i=t(68758);(function(){u._warming=.4,u._torqueDampen=1,u._minLength=1e-6,u.create=function(l){var n=l;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var a=n.bodyA?o.add(n.bodyA.position,n.pointA):n.pointA,f=n.bodyB?o.add(n.bodyB.position,n.pointB):n.pointB,h=o.magnitude(o.sub(a,f));n.length=typeof n.length<"u"?n.length:h,n.id=n.id||i.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return n.length===0&&n.stiffness>.1?(d.type="pin",d.anchors=!1):n.stiffness<.9&&(d.type="spring"),n.render=i.extend(d,n.render),n},u.preSolveAll=function(l){for(var n=0;n<l.length;n+=1){var a=l[n],f=a.constraintImpulse;a.isStatic||f.x===0&&f.y===0&&f.angle===0||(a.position.x+=f.x,a.position.y+=f.y,a.angle+=f.angle)}},u.solveAll=function(l,n){for(var a=i.clamp(n/i._baseDelta,0,1),f=0;f<l.length;f+=1){var h=l[f],d=!h.bodyA||h.bodyA&&h.bodyA.isStatic,c=!h.bodyB||h.bodyB&&h.bodyB.isStatic;(d||c)&&u.solve(l[f],a)}for(f=0;f<l.length;f+=1)h=l[f],d=!h.bodyA||h.bodyA&&h.bodyA.isStatic,c=!h.bodyB||h.bodyB&&h.bodyB.isStatic,!d&&!c&&u.solve(l[f],a)},u.solve=function(l,n){var a=l.bodyA,f=l.bodyB,h=l.pointA,d=l.pointB;if(!(!a&&!f)){a&&!a.isStatic&&(o.rotate(h,a.angle-l.angleA,h),l.angleA=a.angle),f&&!f.isStatic&&(o.rotate(d,f.angle-l.angleB,d),l.angleB=f.angle);var c=h,g=d;if(a&&(c=o.add(a.position,h)),f&&(g=o.add(f.position,d)),!(!c||!g)){var x=o.sub(c,g),m=o.magnitude(x);m<u._minLength&&(m=u._minLength);var y=(m-l.length)/m,T=l.stiffness>=1||l.length===0,R=T?l.stiffness*n:l.stiffness*n*n,P=l.damping*n,D=o.mult(x,y*R),I=(a?a.inverseMass:0)+(f?f.inverseMass:0),w=(a?a.inverseInertia:0)+(f?f.inverseInertia:0),U=I+w,G,H,z,$,J;if(P>0){var W=o.create();z=o.div(x,m),J=o.sub(f&&o.sub(f.position,f.positionPrev)||W,a&&o.sub(a.position,a.positionPrev)||W),$=o.dot(z,J)}a&&!a.isStatic&&(H=a.inverseMass/I,a.constraintImpulse.x-=D.x*H,a.constraintImpulse.y-=D.y*H,a.position.x-=D.x*H,a.position.y-=D.y*H,P>0&&(a.positionPrev.x-=P*z.x*$*H,a.positionPrev.y-=P*z.y*$*H),G=o.cross(h,D)/U*u._torqueDampen*a.inverseInertia*(1-l.angularStiffness),a.constraintImpulse.angle-=G,a.angle-=G),f&&!f.isStatic&&(H=f.inverseMass/I,f.constraintImpulse.x+=D.x*H,f.constraintImpulse.y+=D.y*H,f.position.x+=D.x*H,f.position.y+=D.y*H,P>0&&(f.positionPrev.x+=P*z.x*$*H,f.positionPrev.y+=P*z.y*$*H),G=o.cross(d,D)/U*u._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=G,f.angle+=G)}}},u.postSolveAll=function(l){for(var n=0;n<l.length;n++){var a=l[n],f=a.constraintImpulse;if(!(a.isStatic||f.x===0&&f.y===0&&f.angle===0)){r.set(a,!1);for(var h=0;h<a.parts.length;h++){var d=a.parts[h];v.translate(d.vertices,f),h>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(v.rotate(d.vertices,f.angle,a.position),e.rotate(d.axes,f.angle),h>0&&o.rotateAbout(d.position,f.angle,a.position,d.position)),s.update(d.bounds,d.vertices,a.velocity)}f.angle*=u._warming,f.x*=u._warming,f.y*=u._warming}}},u.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},u.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},u.currentLength=function(l){var n=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),a=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),h=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),d=n-f,c=a-h;return Math.sqrt(d*d+c*c)}})()},68758:(p,S,t)=>{var u={};p.exports=u,function(){u._baseDelta=16.666666666666668,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(o,r){var s,e;typeof r=="boolean"?(s=2,e=r):(s=1,e=!0);for(var i=s;i<arguments.length;i++){var l=arguments[i];if(l)for(var n in l)e&&l[n]&&l[n].constructor===Object&&(!o[n]||o[n].constructor===Object)?(o[n]=o[n]||{},u.extend(o[n],e,l[n])):o[n]=l[n]}return o},u.clone=function(o,r){return u.extend({},r,o)},u.keys=function(o){if(Object.keys)return Object.keys(o);var r=[];for(var s in o)r.push(s);return r},u.values=function(o){var r=[];if(Object.keys){for(var s=Object.keys(o),e=0;e<s.length;e++)r.push(o[s[e]]);return r}for(var i in o)r.push(o[i]);return r},u.get=function(o,r,s,e){r=r.split(".").slice(s,e);for(var i=0;i<r.length;i+=1)o=o[r[i]];return o},u.set=function(o,r,s,e,i){var l=r.split(".").slice(e,i);return u.get(o,r,0,-1)[l[l.length-1]]=s,s},u.shuffle=function(o){for(var r=o.length-1;r>0;r--){var s=Math.floor(u.random()*(r+1)),e=o[r];o[r]=o[s],o[s]=e}return o},u.choose=function(o){return o[Math.floor(u.random()*o.length)]},u.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},u.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},u.isFunction=function(o){return typeof o=="function"},u.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},u.isString=function(o){return toString.call(o)==="[object String]"},u.clamp=function(o,r,s){return o<r?r:o>s?s:o},u.sign=function(o){return o<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(o,r){return o=typeof o<"u"?o:0,r=typeof r<"u"?r:1,o+v()*(r-o)};var v=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[o]||(u.warn(o),u._warnedOnce[o]=!0)},u.deprecated=function(o,r,s){o[r]=u.chain(function(){u.warnOnce(" deprecated ",s)},o[r])},u.nextId=function(){return u._nextId++},u.indexOf=function(o,r){if(o.indexOf)return o.indexOf(r);for(var s=0;s<o.length;s++)if(o[s]===r)return s;return-1},u.map=function(o,r){if(o.map)return o.map(r);for(var s=[],e=0;e<o.length;e+=1)s.push(r(o[e]));return s},u.topologicalSort=function(o){var r=[],s=[],e=[];for(var i in o)!s[i]&&!e[i]&&u._topologicalSort(i,s,e,o,r);return r},u._topologicalSort=function(o,r,s,e,i){var l=e[o]||[];s[o]=!0;for(var n=0;n<l.length;n+=1){var a=l[n];s[a]||r[a]||u._topologicalSort(a,r,s,e,i)}s[o]=!1,r[o]=!0,i.push(o)},u.chain=function(){for(var o=[],r=0;r<arguments.length;r+=1){var s=arguments[r];s._chained?o.push.apply(o,s._chained):o.push(s)}var e=function(){for(var i,l=new Array(arguments.length),n=0,a=arguments.length;n<a;n++)l[n]=arguments[n];for(n=0;n<o.length;n+=1){var f=o[n].apply(i,l);typeof f<"u"&&(i=f)}return i};return e._chained=o,e},u.chainPathBefore=function(o,r,s){return u.set(o,r,u.chain(s,u.get(o,r)))},u.chainPathAfter=function(o,r,s){return u.set(o,r,u.chain(u.get(o,r),s))},u.setDecomp=function(o){u._decomp=o},u.getDecomp=function(){var o=u._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},45775:(p,S,t)=>{var u={};p.exports=u;var v=t(22806),o=t(44272),r=t(13657),s=t(91327),e=t(39073),i=t(11299),l=t(52838),n=t(68758),a=t(84125);(function(){u.create=function(f){f=f||{};var h={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=n.extend(h,f);return d.world=f.world||i.create({label:"World"}),d.pairs=f.pairs||s.create(),d.detector=f.detector||r.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},u.update=function(f,h){var d=n.now(),c=f.world,g=f.detector,x=f.pairs,m=f.timing,y=m.timestamp,T;h=typeof h<"u"?h:n._baseDelta,h*=m.timeScale,m.timestamp+=h,m.lastDelta=h;var R={timestamp:m.timestamp,delta:h};e.trigger(f,"beforeUpdate",R);var P=i.allBodies(c),D=i.allConstraints(c);for(c.isModified&&(r.setBodies(g,P),i.setModified(c,!1,!1,!0)),f.enableSleeping&&v.update(P,h),u._bodiesApplyGravity(P,f.gravity),h>0&&u._bodiesUpdate(P,h),e.trigger(f,"beforeSolve",R),l.preSolveAll(P),T=0;T<f.constraintIterations;T++)l.solveAll(D,h);l.postSolveAll(P),g.pairs=f.pairs;var I=r.collisions(g);s.update(x,I,y),f.enableSleeping&&v.afterCollisions(x.list),x.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:x.collisionStart,timestamp:m.timestamp,delta:h});var w=n.clamp(20/f.positionIterations,0,1);for(o.preSolvePosition(x.list),T=0;T<f.positionIterations;T++)o.solvePosition(x.list,h,w);for(o.postSolvePosition(P),l.preSolveAll(P),T=0;T<f.constraintIterations;T++)l.solveAll(D,h);for(l.postSolveAll(P),o.preSolveVelocity(x.list),T=0;T<f.velocityIterations;T++)o.solveVelocity(x.list,h);return u._bodiesUpdateVelocities(P),x.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:x.collisionActive,timestamp:m.timestamp,delta:h}),x.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:x.collisionEnd,timestamp:m.timestamp,delta:h}),u._bodiesClearForces(P),e.trigger(f,"afterUpdate",R),f.timing.lastElapsed=n.now()-d,f},u.merge=function(f,h){if(n.extend(f,h),h.world){f.world=h.world,u.clear(f);for(var d=i.allBodies(f.world),c=0;c<d.length;c++){var g=d[c];v.set(g,!1),g.id=n.nextId()}}},u.clear=function(f){s.clear(f.pairs),r.clear(f.detector)},u._bodiesClearForces=function(f){for(var h=f.length,d=0;d<h;d++){var c=f[d];c.force.x=0,c.force.y=0,c.torque=0}},u._bodiesApplyGravity=function(f,h){var d=typeof h.scale<"u"?h.scale:.001,c=f.length;if(!(h.x===0&&h.y===0||d===0))for(var g=0;g<c;g++){var x=f[g];x.isStatic||x.isSleeping||(x.force.y+=x.mass*h.y*d,x.force.x+=x.mass*h.x*d)}},u._bodiesUpdate=function(f,h){for(var d=f.length,c=0;c<d;c++){var g=f[c];g.isStatic||g.isSleeping||a.update(g,h)}},u._bodiesUpdateVelocities=function(f){for(var h=f.length,d=0;d<h;d++)a.updateVelocities(f[d])}})()},39073:(p,S,t)=>{var u={};p.exports=u;var v=t(68758);(function(){u.on=function(o,r,s){for(var e=r.split(" "),i,l=0;l<e.length;l++)i=e[l],o.events=o.events||{},o.events[i]=o.events[i]||[],o.events[i].push(s);return s},u.off=function(o,r,s){if(!r){o.events={};return}typeof r=="function"&&(s=r,r=v.keys(o.events).join(" "));for(var e=r.split(" "),i=0;i<e.length;i++){var l=o.events[e[i]],n=[];if(s&&l)for(var a=0;a<l.length;a++)l[a]!==s&&n.push(l[a]);o.events[e[i]]=n}},u.trigger=function(o,r,s){var e,i,l,n,a=o.events;if(a&&v.keys(a).length>0){s||(s={}),e=r.split(" ");for(var f=0;f<e.length;f++)if(i=e[f],l=a[i],l){n=v.clone(s,!1),n.name=i,n.source=o;for(var h=0;h<l.length;h++)l[h].apply(o,[n])}}}})()},16929:(p,S,t)=>{var u={};p.exports=u;var v=t(84474),o=t(68758);(function(){u.name="matter-js",u.version="0.19.0",u.uses=[],u.used=[],u.use=function(){v.use(u,Array.prototype.slice.call(arguments))},u.before=function(r,s){return r=r.replace(/^Matter./,""),o.chainPathBefore(u,r,s)},u.after=function(r,s){return r=r.replace(/^Matter./,""),o.chainPathAfter(u,r,s)}})()},84474:(p,S,t)=>{var u={};p.exports=u;var v=t(68758);(function(){u._registry={},u.register=function(o){if(u.isPlugin(o)||v.warn("Plugin.register:",u.toString(o),"does not implement all required fields."),o.name in u._registry){var r=u._registry[o.name],s=u.versionParse(o.version).number,e=u.versionParse(r.version).number;s>e?(v.warn("Plugin.register:",u.toString(r),"was upgraded to",u.toString(o)),u._registry[o.name]=o):s<e?v.warn("Plugin.register:",u.toString(r),"can not be downgraded to",u.toString(o)):o!==r&&v.warn("Plugin.register:",u.toString(o),"is already registered to different plugin object")}else u._registry[o.name]=o;return o},u.resolve=function(o){return u._registry[u.dependencyParse(o).name]},u.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},u.isPlugin=function(o){return o&&o.name&&o.version&&o.install},u.isUsed=function(o,r){return o.used.indexOf(r)>-1},u.isFor=function(o,r){var s=o.for&&u.dependencyParse(o.for);return!o.for||r.name===s.name&&u.versionSatisfies(r.version,s.range)},u.use=function(o,r){if(o.uses=(o.uses||[]).concat(r||[]),o.uses.length===0){v.warn("Plugin.use:",u.toString(o),"does not specify any dependencies to install.");return}for(var s=u.dependencies(o),e=v.topologicalSort(s),i=[],l=0;l<e.length;l+=1)if(e[l]!==o.name){var n=u.resolve(e[l]);if(!n){i.push(" "+e[l]);continue}u.isUsed(o,n.name)||(u.isFor(n,o)||(v.warn("Plugin.use:",u.toString(n),"is for",n.for,"but installed on",u.toString(o)+"."),n._warned=!0),n.install?n.install(o):(v.warn("Plugin.use:",u.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(i.push(" "+u.toString(n)),delete n._warned):i.push(" "+u.toString(n)),o.used.push(n.name))}i.length>0&&!n.silent&&v.info(i.join("  "))},u.dependencies=function(o,r){var s=u.dependencyParse(o),e=s.name;if(r=r||{},!(e in r)){o=u.resolve(o)||o,r[e]=v.map(o.uses||[],function(l){u.isPlugin(l)&&u.register(l);var n=u.dependencyParse(l),a=u.resolve(l);return a&&!u.versionSatisfies(a.version,n.range)?(v.warn("Plugin.dependencies:",u.toString(a),"does not satisfy",u.toString(n),"used by",u.toString(s)+"."),a._warned=!0,o._warned=!0):a||(v.warn("Plugin.dependencies:",u.toString(l),"used by",u.toString(s),"could not be resolved."),o._warned=!0),n.name});for(var i=0;i<r[e].length;i+=1)u.dependencies(r[e][i],r);return r}},u.dependencyParse=function(o){if(v.isString(o)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(o)||v.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},u.versionParse=function(o){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(o)||v.warn("Plugin.versionParse:",o,"is not a valid version or range.");var s=r.exec(o),e=Number(s[4]),i=Number(s[5]),l=Number(s[6]);return{isRange:!!(s[1]||s[2]),version:s[3],range:o,operator:s[1]||s[2]||"",major:e,minor:i,patch:l,parts:[e,i,l],prerelease:s[7],number:e*1e8+i*1e4+l}},u.versionSatisfies=function(o,r){r=r||"*";var s=u.versionParse(r),e=u.versionParse(o);if(s.isRange){if(s.operator==="*"||o==="*")return!0;if(s.operator===">")return e.number>s.number;if(s.operator===">=")return e.number>=s.number;if(s.operator==="~")return e.major===s.major&&e.minor===s.minor&&e.patch>=s.patch;if(s.operator==="^")return s.major>0?e.major===s.major&&e.number>=s.number:s.minor>0?e.minor===s.minor&&e.patch>=s.patch:e.patch===s.patch}return o===r||o==="*"}})()},22806:(p,S,t)=>{var u={};p.exports=u;var v=t(84125),o=t(39073),r=t(68758);(function(){u._motionWakeThreshold=.18,u._motionSleepThreshold=.08,u._minBias=.9,u.update=function(s,e){for(var i=e/r._baseDelta,l=u._motionSleepThreshold,n=0;n<s.length;n++){var a=s[n],f=v.getSpeed(a),h=v.getAngularSpeed(a),d=f*f+h*h;if(a.force.x!==0||a.force.y!==0){u.set(a,!1);continue}var c=Math.min(a.motion,d),g=Math.max(a.motion,d);a.motion=u._minBias*c+(1-u._minBias)*g,a.sleepThreshold>0&&a.motion<l?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/i&&u.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}},u.afterCollisions=function(s){for(var e=u._motionSleepThreshold,i=0;i<s.length;i++){var l=s[i];if(l.isActive){var n=l.collision,a=n.bodyA.parent,f=n.bodyB.parent;if(!(a.isSleeping&&f.isSleeping||a.isStatic||f.isStatic)&&(a.isSleeping||f.isSleeping)){var h=a.isSleeping&&!a.isStatic?a:f,d=h===a?f:a;!h.isStatic&&d.motion>e&&u.set(h,!1)}}}},u.set=function(s,e){var i=s.isSleeping;e?(s.isSleeping=!0,s.sleepCounter=s.sleepThreshold,s.positionImpulse.x=0,s.positionImpulse.y=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.speed=0,s.angularSpeed=0,s.motion=0,i||o.trigger(s,"sleepStart")):(s.isSleeping=!1,s.sleepCounter=0,i&&o.trigger(s,"sleepEnd"))}})()},68516:(p,S,t)=>{var u={};p.exports=u;var v=t(39745),o=t(68758),r=t(84125),s=t(84091),e=t(10438);(function(){u.rectangle=function(i,l,n,a,f){f=f||{};var h={label:"Rectangle Body",position:{x:i,y:l},vertices:v.fromPath("L 0 0 L "+n+" 0 L "+n+" "+a+" L 0 "+a)};if(f.chamfer){var d=f.chamfer;h.vertices=v.chamfer(h.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return r.create(o.extend({},h,f))},u.trapezoid=function(i,l,n,a,f,h){h=h||{},f*=.5;var d=(1-f*2)*n,c=n*f,g=c+d,x=g+c,m;f<.5?m="L 0 0 L "+c+" "+-a+" L "+g+" "+-a+" L "+x+" 0":m="L 0 0 L "+g+" "+-a+" L "+x+" 0";var y={label:"Trapezoid Body",position:{x:i,y:l},vertices:v.fromPath(m)};if(h.chamfer){var T=h.chamfer;y.vertices=v.chamfer(y.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete h.chamfer}return r.create(o.extend({},y,h))},u.circle=function(i,l,n,a,f){a=a||{};var h={label:"Circle Body",circleRadius:n};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,n)));return d%2===1&&(d+=1),u.polygon(i,l,d,n,o.extend({},h,a))},u.polygon=function(i,l,n,a,f){if(f=f||{},n<3)return u.circle(i,l,a,f);for(var h=2*Math.PI/n,d="",c=h*.5,g=0;g<n;g+=1){var x=c+g*h,m=Math.cos(x)*a,y=Math.sin(x)*a;d+="L "+m.toFixed(3)+" "+y.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:i,y:l},vertices:v.fromPath(d)};if(f.chamfer){var R=f.chamfer;T.vertices=v.chamfer(T.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete f.chamfer}return r.create(o.extend({},T,f))},u.fromVertices=function(i,l,n,a,f,h,d,c){var g=o.getDecomp(),x,m,y,T,R,P,D,I,w,U,G;for(x=!!(g&&g.quickDecomp),a=a||{},y=[],f=typeof f<"u"?f:!1,h=typeof h<"u"?h:.01,d=typeof d<"u"?d:10,c=typeof c<"u"?c:.01,o.isArray(n[0])||(n=[n]),U=0;U<n.length;U+=1)if(P=n[U],T=v.isConvex(P),R=!T,R&&!x&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!x)T?P=v.clockwiseSort(P):P=v.hull(P),y.push({position:{x:i,y:l},vertices:P});else{var H=P.map(function(q){return[q.x,q.y]});g.makeCCW(H),h!==!1&&g.removeCollinearPoints(H,h),c!==!1&&g.removeDuplicatePoints&&g.removeDuplicatePoints(H,c);var z=g.quickDecomp(H);for(D=0;D<z.length;D++){var $=z[D],J=$.map(function(q){return{x:q[0],y:q[1]}});d>0&&v.area(J)<d||y.push({position:v.centre(J),vertices:J})}}for(D=0;D<y.length;D++)y[D]=r.create(o.extend(y[D],a));if(f){var W=5;for(D=0;D<y.length;D++){var K=y[D];for(I=D+1;I<y.length;I++){var N=y[I];if(s.overlaps(K.bounds,N.bounds)){var b=K.vertices,Y=N.vertices;for(w=0;w<K.vertices.length;w++)for(G=0;G<N.vertices.length;G++){var j=e.magnitudeSquared(e.sub(b[(w+1)%b.length],Y[G])),Q=e.magnitudeSquared(e.sub(b[w],Y[(G+1)%Y.length]));j<W&&Q<W&&(b[w].isInternal=!0,Y[G].isInternal=!0)}}}}}return y.length>1?(m=r.create(o.extend({parts:y.slice(0)},a)),r.setPosition(m,{x:i,y:l}),m):y[0]},u.flagCoincidentParts=function(i,l){l===void 0&&(l=5);for(var n=0;n<i.length;n++)for(var a=i[n],f=n+1;f<i.length;f++){var h=i[f];if(s.overlaps(a.bounds,h.bounds))for(var d=a.vertices,c=h.vertices,g=0;g<a.vertices.length;g++)for(var x=0;x<h.vertices.length;x++){var m=e.magnitudeSquared(e.sub(d[(g+1)%d.length],c[x])),y=e.magnitudeSquared(e.sub(d[g],c[(x+1)%c.length]));m<l&&y<l&&(d[g].isInternal=!0,c[x].isInternal=!0)}}return i}})()},56643:(p,S,t)=>{var u={};p.exports=u;var v=t(11299),o=t(52838),r=t(68758),s=t(84125),e=t(68516);(function(){u.stack=function(i,l,n,a,f,h,d){for(var c=v.create({label:"Stack"}),g=i,x=l,m,y=0,T=0;T<a;T++){for(var R=0,P=0;P<n;P++){var D=d(g,x,P,T,m,y);if(D){var I=D.bounds.max.y-D.bounds.min.y,w=D.bounds.max.x-D.bounds.min.x;I>R&&(R=I),s.translate(D,{x:w*.5,y:I*.5}),g=D.bounds.max.x+f,v.addBody(c,D),m=D,y+=1}else g+=f}x+=R+h,g=i}return c},u.chain=function(i,l,n,a,f,h){for(var d=i.bodies,c=1;c<d.length;c++){var g=d[c-1],x=d[c],m=g.bounds.max.y-g.bounds.min.y,y=g.bounds.max.x-g.bounds.min.x,T=x.bounds.max.y-x.bounds.min.y,R=x.bounds.max.x-x.bounds.min.x,P={bodyA:g,pointA:{x:y*l,y:m*n},bodyB:x,pointB:{x:R*a,y:T*f}},D=r.extend(P,h);v.addConstraint(i,o.create(D))}return i.label+=" Chain",i},u.mesh=function(i,l,n,a,f){var h=i.bodies,d,c,g,x,m;for(d=0;d<n;d++){for(c=1;c<l;c++)g=h[c-1+d*l],x=h[c+d*l],v.addConstraint(i,o.create(r.extend({bodyA:g,bodyB:x},f)));if(d>0)for(c=0;c<l;c++)g=h[c+(d-1)*l],x=h[c+d*l],v.addConstraint(i,o.create(r.extend({bodyA:g,bodyB:x},f))),a&&c>0&&(m=h[c-1+(d-1)*l],v.addConstraint(i,o.create(r.extend({bodyA:m,bodyB:x},f)))),a&&c<l-1&&(m=h[c+1+(d-1)*l],v.addConstraint(i,o.create(r.extend({bodyA:m,bodyB:x},f))))}return i.label+=" Mesh",i},u.pyramid=function(i,l,n,a,f,h,d){return u.stack(i,l,n,a,f,h,function(c,g,x,m,y,T){var R=Math.min(a,Math.ceil(n/2)),P=y?y.bounds.max.x-y.bounds.min.x:0;if(!(m>R)){m=R-m;var D=m,I=n-1-m;if(!(x<D||x>I)){T===1&&s.translate(y,{x:(x+(n%2===1?1:-1))*P,y:0});var w=y?x*P:0;return d(i+w+x*f,g,x,m,y,T)}}})},u.newtonsCradle=function(i,l,n,a,f){for(var h=v.create({label:"Newtons Cradle"}),d=0;d<n;d++){var c=1.9,g=e.circle(i+d*(a*c),l+f,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),x=o.create({pointA:{x:i+d*(a*c),y:l},bodyB:g});v.addBody(h,g),v.addConstraint(h,x)}return h},u.car=function(i,l,n,a,f){var h=s.nextGroup(!0),d=20,c=-n*.5+d,g=n*.5-d,x=0,m=v.create({label:"Car"}),y=e.rectangle(i,l,n,a,{collisionFilter:{group:h},chamfer:{radius:a*.5},density:2e-4}),T=e.circle(i+c,l+x,f,{collisionFilter:{group:h},friction:.8}),R=e.circle(i+g,l+x,f,{collisionFilter:{group:h},friction:.8}),P=o.create({bodyB:y,pointB:{x:c,y:x},bodyA:T,stiffness:1,length:0}),D=o.create({bodyB:y,pointB:{x:g,y:x},bodyA:R,stiffness:1,length:0});return v.addBody(m,y),v.addBody(m,T),v.addBody(m,R),v.addConstraint(m,P),v.addConstraint(m,D),m},u.softBody=function(i,l,n,a,f,h,d,c,g,x){g=r.extend({inertia:1/0},g),x=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},x);var m=u.stack(i,l,n,a,f,h,function(y,T){return e.circle(y,T,c,g)});return u.mesh(m,n,a,d,x),m.label="Soft Body",m}})()},50658:(p,S,t)=>{var u={};p.exports=u;var v=t(10438),o=t(68758);(function(){u.fromVertices=function(r){for(var s={},e=0;e<r.length;e++){var i=(e+1)%r.length,l=v.normalise({x:r[i].y-r[e].y,y:r[e].x-r[i].x}),n=l.y===0?1/0:l.x/l.y;n=n.toFixed(3).toString(),s[n]=l}return o.values(s)},u.rotate=function(r,s){if(s!==0)for(var e=Math.cos(s),i=Math.sin(s),l=0;l<r.length;l++){var n=r[l],a;a=n.x*e-n.y*i,n.y=n.x*i+n.y*e,n.x=a}}})()},84091:p=>{var S={};p.exports=S,function(){S.create=function(t){var u={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(u,t),u},S.update=function(t,u,v){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<u.length;o++){var r=u[o];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}v&&(v.x>0?t.max.x+=v.x:t.min.x+=v.x,v.y>0?t.max.y+=v.y:t.min.y+=v.y)},S.contains=function(t,u){return u.x>=t.min.x&&u.x<=t.max.x&&u.y>=t.min.y&&u.y<=t.max.y},S.overlaps=function(t,u){return t.min.x<=u.max.x&&t.max.x>=u.min.x&&t.max.y>=u.min.y&&t.min.y<=u.max.y},S.translate=function(t,u){t.min.x+=u.x,t.max.x+=u.x,t.min.y+=u.y,t.max.y+=u.y},S.shift=function(t,u){var v=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=u.x,t.max.x=u.x+v,t.min.y=u.y,t.max.y=u.y+o}}()},92765:(p,S,t)=>{var u={};p.exports=u,t(84091);var v=t(68758);(function(){u.pathToVertices=function(o,r){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var s,e,i,l,n,a,f,h,d,c,g=[],x,m,y=0,T=0,R=0;r=r||15;var P=function(I,w,U){var G=U%2===1&&U>1;if(!d||I!=d.x||w!=d.y){d&&G?(x=d.x,m=d.y):(x=0,m=0);var H={x:x+I,y:m+w};(G||!d)&&(d=H),g.push(H),T=x+I,R=m+w}},D=function(I){var w=I.pathSegTypeAsLetter.toUpperCase();if(w!=="Z"){switch(w){case"M":case"L":case"T":case"C":case"S":case"Q":T=I.x,R=I.y;break;case"H":T=I.x;break;case"V":R=I.y;break}P(T,R,I.pathSegType)}};for(u._svgPathToAbsolute(o),i=o.getTotalLength(),a=[],s=0;s<o.pathSegList.numberOfItems;s+=1)a.push(o.pathSegList.getItem(s));for(f=a.concat();y<i;){if(c=o.getPathSegAtLength(y),n=a[c],n!=h){for(;f.length&&f[0]!=n;)D(f.shift());h=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=o.getPointAtLength(y),P(l.x,l.y,0);break}y+=r}for(s=0,e=f.length;s<e;++s)D(f[s]);return g},u._svgPathToAbsolute=function(o){for(var r,s,e,i,l,n,a=o.pathSegList,f=0,h=0,d=a.numberOfItems,c=0;c<d;++c){var g=a.getItem(c),x=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in g&&(f=g.x),"y"in g&&(h=g.y);else switch("x1"in g&&(e=f+g.x1),"x2"in g&&(l=f+g.x2),"y1"in g&&(i=h+g.y1),"y2"in g&&(n=h+g.y2),"x"in g&&(f+=g.x),"y"in g&&(h+=g.y),x){case"m":a.replaceItem(o.createSVGPathSegMovetoAbs(f,h),c);break;case"l":a.replaceItem(o.createSVGPathSegLinetoAbs(f,h),c);break;case"h":a.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(f),c);break;case"v":a.replaceItem(o.createSVGPathSegLinetoVerticalAbs(h),c);break;case"c":a.replaceItem(o.createSVGPathSegCurvetoCubicAbs(f,h,e,i,l,n),c);break;case"s":a.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(f,h,l,n),c);break;case"q":a.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(f,h,e,i),c);break;case"t":a.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(f,h),c);break;case"a":a.replaceItem(o.createSVGPathSegArcAbs(f,h,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),c);break;case"z":case"Z":f=r,h=s;break}(x=="M"||x=="m")&&(r=f,s=h)}}})()},10438:p=>{var S={};p.exports=S,function(){S.create=function(t,u){return{x:t||0,y:u||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,u,v){var o=Math.cos(u),r=Math.sin(u);v||(v={});var s=t.x*o-t.y*r;return v.y=t.x*r+t.y*o,v.x=s,v},S.rotateAbout=function(t,u,v,o){var r=Math.cos(u),s=Math.sin(u);o||(o={});var e=v.x+((t.x-v.x)*r-(t.y-v.y)*s);return o.y=v.y+((t.x-v.x)*s+(t.y-v.y)*r),o.x=e,o},S.normalise=function(t){var u=S.magnitude(t);return u===0?{x:0,y:0}:{x:t.x/u,y:t.y/u}},S.dot=function(t,u){return t.x*u.x+t.y*u.y},S.cross=function(t,u){return t.x*u.y-t.y*u.x},S.cross3=function(t,u,v){return(u.x-t.x)*(v.y-t.y)-(u.y-t.y)*(v.x-t.x)},S.add=function(t,u,v){return v||(v={}),v.x=t.x+u.x,v.y=t.y+u.y,v},S.sub=function(t,u,v){return v||(v={}),v.x=t.x-u.x,v.y=t.y-u.y,v},S.mult=function(t,u){return{x:t.x*u,y:t.y*u}},S.div=function(t,u){return{x:t.x/u,y:t.y/u}},S.perp=function(t,u){return u=u===!0?-1:1,{x:u*-t.y,y:u*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,u){return Math.atan2(u.y-t.y,u.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},39745:(p,S,t)=>{var u={};p.exports=u;var v=t(10438),o=t(68758);(function(){u.create=function(r,s){for(var e=[],i=0;i<r.length;i++){var l=r[i],n={x:l.x,y:l.y,index:i,body:s,isInternal:!1};e.push(n)}return e},u.fromPath=function(r,s){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,i=[];return r.replace(e,function(l,n,a){i.push({x:parseFloat(n),y:parseFloat(a)})}),u.create(i,s)},u.centre=function(r){for(var s=u.area(r,!0),e={x:0,y:0},i,l,n,a=0;a<r.length;a++)n=(a+1)%r.length,i=v.cross(r[a],r[n]),l=v.mult(v.add(r[a],r[n]),i),e=v.add(e,l);return v.div(e,6*s)},u.mean=function(r){for(var s={x:0,y:0},e=0;e<r.length;e++)s.x+=r[e].x,s.y+=r[e].y;return v.div(s,r.length)},u.area=function(r,s){for(var e=0,i=r.length-1,l=0;l<r.length;l++)e+=(r[i].x-r[l].x)*(r[i].y+r[l].y),i=l;return s?e/2:Math.abs(e)/2},u.inertia=function(r,s){for(var e=0,i=0,l=r,n,a,f=0;f<l.length;f++)a=(f+1)%l.length,n=Math.abs(v.cross(l[a],l[f])),e+=n*(v.dot(l[a],l[a])+v.dot(l[a],l[f])+v.dot(l[f],l[f])),i+=n;return s/6*(e/i)},u.translate=function(r,s,e){e=typeof e<"u"?e:1;var i=r.length,l=s.x*e,n=s.y*e,a;for(a=0;a<i;a++)r[a].x+=l,r[a].y+=n;return r},u.rotate=function(r,s,e){if(s!==0){var i=Math.cos(s),l=Math.sin(s),n=e.x,a=e.y,f=r.length,h,d,c,g;for(g=0;g<f;g++)h=r[g],d=h.x-n,c=h.y-a,h.x=n+(d*i-c*l),h.y=a+(d*l+c*i);return r}},u.contains=function(r,s){for(var e=s.x,i=s.y,l=r.length,n=r[l-1],a,f=0;f<l;f++){if(a=r[f],(e-n.x)*(a.y-n.y)+(i-n.y)*(n.x-a.x)>0)return!1;n=a}return!0},u.scale=function(r,s,e,i){if(s===1&&e===1)return r;i=i||u.centre(r);for(var l,n,a=0;a<r.length;a++)l=r[a],n=v.sub(l,i),r[a].x=i.x+n.x*s,r[a].y=i.y+n.y*e;return r},u.chamfer=function(r,s,e,i,l){typeof s=="number"?s=[s]:s=s||[8],e=typeof e<"u"?e:-1,i=i||2,l=l||14;for(var n=[],a=0;a<r.length;a++){var f=r[a-1>=0?a-1:r.length-1],h=r[a],d=r[(a+1)%r.length],c=s[a<s.length?a:s.length-1];if(c===0){n.push(h);continue}var g=v.normalise({x:h.y-f.y,y:f.x-h.x}),x=v.normalise({x:d.y-h.y,y:h.x-d.x}),m=Math.sqrt(2*Math.pow(c,2)),y=v.mult(o.clone(g),c),T=v.normalise(v.mult(v.add(g,x),.5)),R=v.sub(h,v.mult(T,m)),P=e;e===-1&&(P=Math.pow(c,.32)*1.75),P=o.clamp(P,i,l),P%2===1&&(P+=1);for(var D=Math.acos(v.dot(g,x)),I=D/P,w=0;w<P;w++)n.push(v.add(v.rotate(y,I*w),R))}return n},u.clockwiseSort=function(r){var s=u.mean(r);return r.sort(function(e,i){return v.angle(s,e)-v.angle(s,i)}),r},u.isConvex=function(r){var s=0,e=r.length,i,l,n,a;if(e<3)return null;for(i=0;i<e;i++)if(l=(i+1)%e,n=(i+2)%e,a=(r[l].x-r[i].x)*(r[n].y-r[l].y),a-=(r[l].y-r[i].y)*(r[n].x-r[l].x),a<0?s|=1:a>0&&(s|=2),s===3)return!1;return s!==0?!0:null},u.hull=function(r){var s=[],e=[],i,l;for(r=r.slice(0),r.sort(function(n,a){var f=n.x-a.x;return f!==0?f:n.y-a.y}),l=0;l<r.length;l+=1){for(i=r[l];e.length>=2&&v.cross3(e[e.length-2],e[e.length-1],i)<=0;)e.pop();e.push(i)}for(l=r.length-1;l>=0;l-=1){for(i=r[l];s.length>=2&&v.cross3(s[s.length-2],s[s.length-1],i)<=0;)s.pop();s.push(i)}return s.pop(),e.pop(),s.concat(e)}})()},1675:(p,S,t)=>{var u=t(18171),v={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(o){o.after("Body.create",function(){v.Body.init(this)}),o.before("Engine.update",function(r){v.Engine.update(r)})},Body:{init:function(o){o.plugin.attractors=o.plugin.attractors||[]}},Engine:{update:function(o){for(var r=u.Composite.allBodies(o.world),s=0;s<r.length;s++){var e=r[s],i=e.plugin.attractors;if(i&&i.length>0)for(var l=0;l<r.length;l++){var n=r[l];if(s!==l)for(var a=0;a<i.length;a++){var f=i[a],h=f;u.Common.isFunction(f)&&(h=f(e,n)),h&&u.Body.applyForce(n,n.position,h)}}}}},Attractors:{gravityConstant:.001,gravity:function(o,r){var s=u.Vector.sub(r.position,o.position),e=u.Vector.magnitudeSquared(s)||1e-4,i=u.Vector.normalise(s),l=-v.Attractors.gravityConstant*(o.mass*r.mass/e),n=u.Vector.mult(i,l);u.Body.applyForce(o,o.position,u.Vector.neg(n)),u.Body.applyForce(r,r.position,n)}}};p.exports=v},80391:p=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(u){u.pairs.map(function(v){var o=v.bodyA,r=v.bodyB;o.gameObject&&o.gameObject.emit("collide",o,r,v),r.gameObject&&r.gameObject.emit("collide",r,o,v),t.Events.trigger(o,"onCollide",{pair:v}),t.Events.trigger(r,"onCollide",{pair:v}),o.onCollideCallback&&o.onCollideCallback(v),r.onCollideCallback&&r.onCollideCallback(v),o.onCollideWith[r.id]&&o.onCollideWith[r.id](r,v),r.onCollideWith[o.id]&&r.onCollideWith[o.id](o,v)})}),t.Events.on(this,"collisionActive",function(u){u.pairs.map(function(v){var o=v.bodyA,r=v.bodyB;o.gameObject&&o.gameObject.emit("collideActive",o,r,v),r.gameObject&&r.gameObject.emit("collideActive",r,o,v),t.Events.trigger(o,"onCollideActive",{pair:v}),t.Events.trigger(r,"onCollideActive",{pair:v}),o.onCollideActiveCallback&&o.onCollideActiveCallback(v),r.onCollideActiveCallback&&r.onCollideActiveCallback(v)})}),t.Events.on(this,"collisionEnd",function(u){u.pairs.map(function(v){var o=v.bodyA,r=v.bodyB;o.gameObject&&o.gameObject.emit("collideEnd",o,r,v),r.gameObject&&r.gameObject.emit("collideEnd",r,o,v),t.Events.trigger(o,"onCollideEnd",{pair:v}),t.Events.trigger(r,"onCollideEnd",{pair:v}),o.onCollideEndCallback&&o.onCollideEndCallback(v),r.onCollideEndCallback&&r.onCollideEndCallback(v)})})})}};p.exports=S},44097:(p,S,t)=>{var u=t(18171),v={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(o){o.after("Engine.update",function(){v.Engine.update(this)})},Engine:{update:function(o){for(var r=o.world,s=u.Composite.allBodies(r),e=u.Composite.allComposites(r),i=0;i<s.length;i+=1){var l=s[i];l.plugin.wrap&&v.Body.wrap(l,l.plugin.wrap)}for(i=0;i<e.length;i+=1){var n=e[i];n.plugin.wrap&&v.Composite.wrap(n,n.plugin.wrap)}}},Bounds:{wrap:function(o,r){var s=null,e=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(o.min.x>r.max.x?s=r.min.x-o.max.x:o.max.x<r.min.x&&(s=r.max.x-o.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(o.min.y>r.max.y?e=r.min.y-o.max.y:o.max.y<r.min.y&&(e=r.max.y-o.min.y)),s!==null||e!==null)return{x:s||0,y:e||0}}},Body:{wrap:function(o,r){var s=v.Bounds.wrap(o.bounds,r);return s&&u.Body.translate(o,s),s}},Composite:{bounds:function(o){for(var r=u.Composite.allBodies(o),s=[],e=0;e<r.length;e+=1){var i=r[e];s.push(i.bounds.min,i.bounds.max)}return u.Bounds.create(s)},wrap:function(o,r){var s=v.Bounds.wrap(v.Composite.bounds(o),r);return s&&u.Composite.translate(o,s),s}}};p.exports=v},81084:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:D,quickDecomp:G,isSimple:w,removeCollinearPoints:H,removeDuplicatePoints:z,makeCCW:d};function S(W,K,N){N=N||0;var b=[0,0],Y,j,Q,q,tt,it,st;return Y=W[1][1]-W[0][1],j=W[0][0]-W[1][0],Q=Y*W[0][0]+j*W[0][1],q=K[1][1]-K[0][1],tt=K[0][0]-K[1][0],it=q*K[0][0]+tt*K[0][1],st=Y*tt-q*j,$(st,0,N)||(b[0]=(tt*Q-j*it)/st,b[1]=(Y*it-q*Q)/st),b}function t(W,K,N,b){var Y=K[0]-W[0],j=K[1]-W[1],Q=b[0]-N[0],q=b[1]-N[1];if(Q*j-q*Y===0)return!1;var tt=(Y*(N[1]-W[1])+j*(W[0]-N[0]))/(Q*j-q*Y),it=(Q*(W[1]-N[1])+q*(N[0]-W[0]))/(q*Y-Q*j);return tt>=0&&tt<=1&&it>=0&&it<=1}function u(W,K,N){return(K[0]-W[0])*(N[1]-W[1])-(N[0]-W[0])*(K[1]-W[1])}function v(W,K,N){return u(W,K,N)>0}function o(W,K,N){return u(W,K,N)>=0}function r(W,K,N){return u(W,K,N)<0}function s(W,K,N){return u(W,K,N)<=0}var e=[],i=[];function l(W,K,N,b){if(b){var Y=e,j=i;Y[0]=K[0]-W[0],Y[1]=K[1]-W[1],j[0]=N[0]-K[0],j[1]=N[1]-K[1];var Q=Y[0]*j[0]+Y[1]*j[1],q=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),tt=Math.sqrt(j[0]*j[0]+j[1]*j[1]),it=Math.acos(Q/(q*tt));return it<b}else return u(W,K,N)===0}function n(W,K){var N=K[0]-W[0],b=K[1]-W[1];return N*N+b*b}function a(W,K){var N=W.length;return W[K<0?K%N+N:K%N]}function f(W){W.length=0}function h(W,K,N,b){for(var Y=N;Y<b;Y++)W.push(K[Y])}function d(W){for(var K=0,N=W,b=1;b<W.length;++b)(N[b][1]<N[K][1]||N[b][1]===N[K][1]&&N[b][0]>N[K][0])&&(K=b);return v(a(W,K-1),a(W,K),a(W,K+1))?!1:(c(W),!0)}function c(W){for(var K=[],N=W.length,b=0;b!==N;b++)K.push(W.pop());for(var b=0;b!==N;b++)W[b]=K[b]}function g(W,K){return r(a(W,K-1),a(W,K),a(W,K+1))}var x=[],m=[];function y(W,K,N){var b,Y,j=x,Q=m;if(o(a(W,K+1),a(W,K),a(W,N))&&s(a(W,K-1),a(W,K),a(W,N)))return!1;Y=n(a(W,K),a(W,N));for(var q=0;q!==W.length;++q)if(!((q+1)%W.length===K||q===K)&&o(a(W,K),a(W,N),a(W,q+1))&&s(a(W,K),a(W,N),a(W,q))&&(j[0]=a(W,K),j[1]=a(W,N),Q[0]=a(W,q),Q[1]=a(W,q+1),b=S(j,Q),n(a(W,K),b)<Y))return!1;return!0}function T(W,K,N){for(var b=0;b!==W.length;++b)if(!(b===K||b===N||(b+1)%W.length===K||(b+1)%W.length===N)&&t(a(W,K),a(W,N),a(W,b),a(W,b+1)))return!1;return!0}function R(W,K,N,b){var Y=b||[];if(f(Y),K<N)for(var j=K;j<=N;j++)Y.push(W[j]);else{for(var j=0;j<=N;j++)Y.push(W[j]);for(var j=K;j<W.length;j++)Y.push(W[j])}return Y}function P(W){for(var K=[],N=[],b=[],Y=[],j=Number.MAX_VALUE,Q=0;Q<W.length;++Q)if(g(W,Q)){for(var q=0;q<W.length;++q)if(y(W,Q,q)){N=P(R(W,Q,q,Y)),b=P(R(W,q,Q,Y));for(var tt=0;tt<b.length;tt++)N.push(b[tt]);N.length<j&&(K=N,j=N.length,K.push([a(W,Q),a(W,q)]))}}return K}function D(W){var K=P(W);return K.length>0?I(W,K):[W]}function I(W,K){if(K.length===0)return[W];if(K instanceof Array&&K.length&&K[0]instanceof Array&&K[0].length===2&&K[0][0]instanceof Array){for(var N=[W],b=0;b<K.length;b++)for(var Y=K[b],j=0;j<N.length;j++){var Q=N[j],q=I(Q,Y);if(q){N.splice(j,1),N.push(q[0],q[1]);break}}return N}else{var Y=K,b=W.indexOf(Y[0]),j=W.indexOf(Y[1]);return b!==-1&&j!==-1?[R(W,b,j),R(W,j,b)]:!1}}function w(W){var K=W,N;for(N=0;N<K.length-1;N++)for(var b=0;b<N-1;b++)if(t(K[N],K[N+1],K[b],K[b+1]))return!1;for(N=1;N<K.length-2;N++)if(t(K[0],K[K.length-1],K[N],K[N+1]))return!1;return!0}function U(W,K,N,b,Y){Y=Y||0;var j=K[1]-W[1],Q=W[0]-K[0],q=j*W[0]+Q*W[1],tt=b[1]-N[1],it=N[0]-b[0],st=tt*N[0]+it*N[1],lt=j*it-tt*Q;return $(lt,0,Y)?[0,0]:[(it*q-Q*st)/lt,(j*st-tt*q)/lt]}function G(W,K,N,b,Y,j,Q){j=j||100,Q=Q||0,Y=Y||25,K=typeof K<"u"?K:[],N=N||[],b=b||[];var q=[0,0],tt=[0,0],it=[0,0],st=0,lt=0,ut=0,vt=0,ft=0,Et=0,It=0,Nt=[],Dt=[],pt=W,Pt=W;if(Pt.length<3)return K;if(Q++,Q>j)return console.warn("quickDecomp: max level ("+j+") reached."),K;for(var Lt=0;Lt<W.length;++Lt)if(g(pt,Lt)){N.push(pt[Lt]),st=lt=Number.MAX_VALUE;for(var ee=0;ee<W.length;++ee)v(a(pt,Lt-1),a(pt,Lt),a(pt,ee))&&s(a(pt,Lt-1),a(pt,Lt),a(pt,ee-1))&&(it=U(a(pt,Lt-1),a(pt,Lt),a(pt,ee),a(pt,ee-1)),r(a(pt,Lt+1),a(pt,Lt),it)&&(ut=n(pt[Lt],it),ut<lt&&(lt=ut,tt=it,Et=ee))),v(a(pt,Lt+1),a(pt,Lt),a(pt,ee+1))&&s(a(pt,Lt+1),a(pt,Lt),a(pt,ee))&&(it=U(a(pt,Lt+1),a(pt,Lt),a(pt,ee),a(pt,ee+1)),v(a(pt,Lt-1),a(pt,Lt),it)&&(ut=n(pt[Lt],it),ut<st&&(st=ut,q=it,ft=ee)));if(Et===(ft+1)%W.length)it[0]=(tt[0]+q[0])/2,it[1]=(tt[1]+q[1])/2,b.push(it),Lt<ft?(h(Nt,pt,Lt,ft+1),Nt.push(it),Dt.push(it),Et!==0&&h(Dt,pt,Et,pt.length),h(Dt,pt,0,Lt+1)):(Lt!==0&&h(Nt,pt,Lt,pt.length),h(Nt,pt,0,ft+1),Nt.push(it),Dt.push(it),h(Dt,pt,Et,Lt+1));else{if(Et>ft&&(ft+=W.length),vt=Number.MAX_VALUE,ft<Et)return K;for(var ee=Et;ee<=ft;++ee)o(a(pt,Lt-1),a(pt,Lt),a(pt,ee))&&s(a(pt,Lt+1),a(pt,Lt),a(pt,ee))&&(ut=n(a(pt,Lt),a(pt,ee)),ut<vt&&T(pt,Lt,ee)&&(vt=ut,It=ee%W.length));Lt<It?(h(Nt,pt,Lt,It+1),It!==0&&h(Dt,pt,It,Pt.length),h(Dt,pt,0,Lt+1)):(Lt!==0&&h(Nt,pt,Lt,Pt.length),h(Nt,pt,0,It+1),h(Dt,pt,It,Lt+1))}return Nt.length<Dt.length?(G(Nt,K,N,b,Y,j,Q),G(Dt,K,N,b,Y,j,Q)):(G(Dt,K,N,b,Y,j,Q),G(Nt,K,N,b,Y,j,Q)),K}return K.push(W),K}function H(W,K){for(var N=0,b=W.length-1;W.length>3&&b>=0;--b)l(a(W,b-1),a(W,b),a(W,b+1),K)&&(W.splice(b%W.length,1),N++);return N}function z(W,K){for(var N=W.length-1;N>=1;--N)for(var b=W[N],Y=N-1;Y>=0;--Y)if(J(b,W[Y],K)){W.splice(N,1);continue}}function $(W,K,N){return N=N||0,Math.abs(W-K)<=N}function J(W,K,N){return $(W[0],K[0],N)&&$(W[1],K[1],N)}},88257:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=t(56694),v=new u({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=v},18360:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=S},91963:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},u={};u.register=function(v,o,r,s){s===void 0&&(s=!1),S[v]={plugin:o,mapping:r,custom:s}},u.registerCustom=function(v,o,r,s){t[v]={plugin:o,mapping:r,data:s}},u.hasCore=function(v){return S.hasOwnProperty(v)},u.hasCustom=function(v){return t.hasOwnProperty(v)},u.getCore=function(v){return S[v]},u.getCustom=function(v){return t[v]},u.getCustomClass=function(v){return t.hasOwnProperty(v)?t[v].plugin:null},u.remove=function(v){S.hasOwnProperty(v)&&delete S[v]},u.removeCustom=function(v){t.hasOwnProperty(v)&&delete t[v]},u.destroyCorePlugins=function(){for(var v in S)S.hasOwnProperty(v)&&delete S[v]},u.destroyCustomPlugins=function(){for(var v in t)t.hasOwnProperty(v)&&delete t[v]},p.exports=u},49274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(97081),o=t(6659),r=t(76846),s=t(99325),e=t(61286),i=t(72632),l=t(91963),n=t(66458),a=new u({Extends:o,initialize:function(h){o.call(this),this.game=h,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],h.isBooted?this.boot():h.events.once(v.BOOT,this.boot,this)},boot:function(){var f,h,d,c,g,x,m,y=this.game.config,T=y.installGlobalPlugins;for(T=T.concat(this._pendingGlobal),f=0;f<T.length;f++)h=T[f],d=i(h,"key",null),c=i(h,"plugin",null),g=i(h,"start",!1),x=i(h,"mapping",null),m=i(h,"data",null),d&&(c?this.install(d,c,g,x,m):console.warn("Missing `plugin` for key: "+d));for(T=y.installScenePlugins,T=T.concat(this._pendingScene),f=0;f<T.length;f++)h=T[f],d=i(h,"key",null),c=i(h,"plugin",null),x=i(h,"mapping",null),d&&(c?this.installScenePlugin(d,c,x):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(f,h,d){var c,g,x,m=this.game,y=f.scene,T=f.settings.map,R=f.settings.isBooted;for(c=0;c<h.length;c++)g=h[c],m[g]?(f[g]=m[g],T.hasOwnProperty(g)&&(y[T[g]]=f[g])):g==="game"&&T.hasOwnProperty(g)&&(y[T[g]]=m);for(var P=0;P<d.length;P++)for(x=d[P],c=0;c<x.length;c++)if(g=x[c],!!l.hasCore(g)){var D=l.getCore(g),I=D.mapping,w=new D.plugin(y,this,I);f[I]=w,D.custom?y[I]=w:T.hasOwnProperty(I)&&(y[T[I]]=w),R&&w.boot()}for(x=this.plugins,c=0;c<x.length;c++){var U=x[c];U.mapping&&(y[U.mapping]=U.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,h,d,c,g){if(g===void 0&&(g=!1),typeof h!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(l.hasCore(f)||l.register(f,h,d,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!g&&l.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(c){var x=new h(c,this,f);c.sys[f]=x,d&&d!==""&&(c[d]=x),x.boot()}},install:function(f,h,d,c,g){if(d===void 0&&(d=!1),c===void 0&&(c=null),g===void 0&&(g=null),typeof h!="function")return console.warn("Invalid Plugin: "+f),null;if(l.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(c!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:h,start:d,mapping:c,data:g});else if(l.registerCustom(f,h,c,g),d)return this.start(f);return null},getIndex:function(f){for(var h=this.plugins,d=0;d<h.length;d++){var c=h[d];if(c.key===f)return d}return-1},getEntry:function(f){var h=this.getIndex(f);if(h!==-1)return this.plugins[h]},isActive:function(f){var h=this.getEntry(f);return h&&h.active},start:function(f,h){h===void 0&&(h=f);var d=this.getEntry(h);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(f,h)),d?d.plugin:null},createEntry:function(f,h){var d=l.getCustom(f);if(d){var c=new d.plugin(this);d={key:h,plugin:c,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),c.init(d.data),c.start()}return d},stop:function(f){var h=this.getEntry(f);return h&&h.active&&(h.active=!1,h.plugin.stop()),this},get:function(f,h){h===void 0&&(h=!0);var d=this.getEntry(f);if(d)return d.plugin;var c=this.getClass(f);return c&&h?(d=this.createEntry(f,f),d?d.plugin:null):c||null},getClass:function(f){return l.getCustomClass(f)},removeGlobalPlugin:function(f){var h=this.getEntry(f);h&&n(this.plugins,h),l.removeCustom(f)},removeScenePlugin:function(f){n(this.scenePlugins,f),l.remove(f)},registerGameObject:function(f,h,d){return h&&e.register(f,h),d&&s.register(f,d),this},removeGameObject:function(f,h,d){return h===void 0&&(h=!0),d===void 0&&(d=!0),h&&e.remove(f),d&&s.remove(f),this},registerFileType:function(f,h,d){r.register(f,h),d&&d.sys.load&&(d.sys.load[f]=h)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=a},39283:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=t(88257),v=t(56694),o=t(7599),r=new v({Extends:u,initialize:function(e,i,l){u.call(this,i),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=r},45615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(88257),DefaultPlugins:t(18360),PluginCache:t(91963),PluginManager:t(49274),ScenePlugin:t(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const S=performance.now(),t=this.getVideoPlaybackQuality(),u=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,v=(o,r)=>{const s=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames;if(e>u){const i=this.mozFrameDelay||s.totalFrameDelay-t.totalFrameDelay||0,l=r-o;p(r,{presentationTime:r+i*1e3,expectedDisplayTime:r+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:i}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(i=>v(r,i))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(o=>v(S,o)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},95723:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=S},91135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(89787),v=t(61840),o=t(56694),r=t(86459),s=t(6659),e=t(81044),i=t(32834),l=t(40444),n=t(38203),a=t(69360),f=new o({Extends:s,initialize:function(d){s.call(this);var c=d.config;this.config={clearBeforeRender:c.clearBeforeRender,backgroundColor:c.backgroundColor,antialias:c.antialias,roundPixels:c.roundPixels},this.game=d,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var g={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=c.context?c.context:this.gameCanvas.getContext("2d",g),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=i(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(n.READY,this.boot,this)},boot:function(){var h=this.game,d=h.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,h.scale.on(l.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(h,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(h,d){this.width=h,this.height=d,this.emit(e.RESIZE,h,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(h){return this.currentContext.globalCompositeOperation=h,this},setContext:function(h){return this.currentContext=h||this.gameContext,this},setAlpha:function(h){return this.currentContext.globalAlpha=h,this},preRender:function(){var h=this.gameContext,d=this.config,c=this.width,g=this.height;h.globalAlpha=1,h.globalCompositeOperation="source-over",h.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(h.clearRect(0,0,c,g),d.transparent||(h.fillStyle=d.backgroundColor.rgba,h.fillRect(0,0,c,g))),h.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(h,d,c){var g=d.length;this.emit(e.RENDER,h,c);var x=c.x,m=c.y,y=c.width,T=c.height,R=c.renderToTexture?c.context:h.sys.context;R.save(),this.game.scene.customViewports&&(R.beginPath(),R.rect(x,m,y,T),R.clip()),c.emit(u.PRE_RENDER,c),this.currentContext=R;var P=c.mask;P&&P.preRenderCanvas(this,null,c._maskCamera),c.transparent||(R.fillStyle=c.backgroundColor.rgba,R.fillRect(x,m,y,T)),R.globalAlpha=c.alpha,R.globalCompositeOperation="source-over",this.drawCount+=g,c.renderToTexture&&c.emit(u.PRE_RENDER,c),c.matrix.copyToContext(R);for(var D=0;D<g;D++){var I=d[D];I.mask&&I.mask.preRenderCanvas(this,I,c),I.renderCanvas(this,I,c),I.mask&&I.mask.postRenderCanvas(this,I,c)}R.setTransform(1,0,0,1,0,0),R.globalCompositeOperation="source-over",R.globalAlpha=1,c.flashEffect.postRenderCanvas(R),c.fadeEffect.postRenderCanvas(R),c.dirty=!1,P&&P.postRenderCanvas(this),R.restore(),c.renderToTexture&&(c.emit(u.POST_RENDER,c),c.renderToGame&&h.sys.context.drawImage(c.canvas,x,m)),c.emit(u.POST_RENDER,c)},postRender:function(){var h=this.gameContext;h.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(v(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(h,d,c,g,x,m,y,T,R){c===void 0&&(c=!1),this.snapshotArea(g,x,m,y,d,T,R);var P=this.snapshotState;return P.getPixel=c,v(h,P),P.callback=null,this},snapshot:function(h,d,c){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,h,d,c)},snapshotArea:function(h,d,c,g,x,m,y){var T=this.snapshotState;return T.callback=x,T.type=m,T.encoder=y,T.getPixel=!1,T.x=h,T.y=d,T.width=Math.min(c,this.gameCanvas.width),T.height=Math.min(g,this.gameCanvas.height),this},snapshotPixel:function(h,d,c){return this.snapshotArea(h,d,1,1,c),this.snapshotState.getPixel=!0,this},batchSprite:function(h,d,c,g){var x=c.alpha*h.alpha;if(x!==0){var m=this.currentContext,y=this._tempMatrix1,T=this._tempMatrix2,R=d.canvasData,P=R.x,D=R.y,I=d.cutWidth,w=d.cutHeight,U=d.customPivot,G=d.source.resolution,H=h.displayOriginX,z=h.displayOriginY,$=-H+d.x,J=-z+d.y;if(h.isCropped){var W=h._crop;(W.flipX!==h.flipX||W.flipY!==h.flipY)&&d.updateCropUVs(W,h.flipX,h.flipY),I=W.cw,w=W.ch,P=W.cx,D=W.cy,$=-H+W.x,J=-z+W.y,h.flipX&&($>=0?$=-($+I):$<0&&($=Math.abs($)-I)),h.flipY&&(J>=0?J=-(J+w):J<0&&(J=Math.abs(J)-w))}var K=1,N=1;h.flipX&&(U||($+=-d.realWidth+H*2),K=-1),h.flipY&&(U||(J+=-d.realHeight+z*2),N=-1);var b=h.x,Y=h.y;c.roundPixels&&(b=Math.floor(b),Y=Math.floor(Y)),T.applyITRS(b,Y,h.rotation,h.scaleX*K,h.scaleY*N),y.copyFrom(c.matrix),g?(y.multiplyWithOffset(g,-c.scrollX*h.scrollFactorX,-c.scrollY*h.scrollFactorY),T.e=b,T.f=Y):(T.e-=c.scrollX*h.scrollFactorX,T.f-=c.scrollY*h.scrollFactorY),y.multiply(T),c.roundPixels&&(y.e=Math.round(y.e),y.f=Math.round(y.f)),m.save(),y.setToContext(m),m.globalCompositeOperation=this.blendModes[h.blendMode],m.globalAlpha=x,m.imageSmoothingEnabled=!d.source.scaleMode,h.mask&&h.mask.preRenderCanvas(this,h,c),I>0&&w>0&&m.drawImage(d.source.image,P,D,I,w,$,J,I/G,w/G),h.mask&&h.mask.postRenderCanvas(this,h,c),m.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=f},6046:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(91135),GetBlendModes:t(32834),SetTransform:t(49584)}},32834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95723),v=t(98581),o=function(){var r=[],s=v.supportNewBlendModes,e="source-over";return r[u.NORMAL]=e,r[u.ADD]="lighter",r[u.MULTIPLY]=s?"multiply":e,r[u.SCREEN]=s?"screen":e,r[u.OVERLAY]=s?"overlay":e,r[u.DARKEN]=s?"darken":e,r[u.LIGHTEN]=s?"lighten":e,r[u.COLOR_DODGE]=s?"color-dodge":e,r[u.COLOR_BURN]=s?"color-burn":e,r[u.HARD_LIGHT]=s?"hard-light":e,r[u.SOFT_LIGHT]=s?"soft-light":e,r[u.DIFFERENCE]=s?"difference":e,r[u.EXCLUSION]=s?"exclusion":e,r[u.HUE]=s?"hue":e,r[u.SATURATION]=s?"saturation":e,r[u.COLOR]=s?"color":e,r[u.LUMINOSITY]=s?"luminosity":e,r[u.ERASE]="destination-out",r[u.SOURCE_IN]="source-in",r[u.SOURCE_OUT]="source-out",r[u.SOURCE_ATOP]="source-atop",r[u.DESTINATION_OVER]="destination-over",r[u.DESTINATION_IN]="destination-in",r[u.DESTINATION_OUT]="destination-out",r[u.DESTINATION_ATOP]="destination-atop",r[u.LIGHTER]="lighter",r[u.COPY]="copy",r[u.XOR]="xor",r};p.exports=o},49584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(73329),v=function(o,r,s,e,i){var l=e.alpha*s.alpha;if(l<=0)return!1;var n=u(s,e,i).calc;return r.globalCompositeOperation=o.blendModes[s.blendMode],r.globalAlpha=l,r.save(),n.setToContext(r),r.imageSmoothingEnabled=s.frame?!s.frame.source.scaleMode:o.antialias,!0};p.exports=v},70936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},99298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},7743:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},99519:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},81044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={POST_RENDER:t(70936),PRE_RENDER:t(99298),RENDER:t(7743),RESIZE:t(99519)}},42069:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(6046),Events:t(81044),Snapshot:t(95528),WebGL:t(55478)}},61840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61068),v=t(27119),o=t(72632),r=function(s,e){var i=o(e,"callback"),l=o(e,"type","image/png"),n=o(e,"encoder",.92),a=Math.abs(Math.round(o(e,"x",0))),f=Math.abs(Math.round(o(e,"y",0))),h=Math.floor(o(e,"width",s.width)),d=Math.floor(o(e,"height",s.height)),c=o(e,"getPixel",!1);if(c){var g=s.getContext("2d",{willReadFrequently:!1}),x=g.getImageData(a,f,1,1),m=x.data;i.call(null,new v(m[0],m[1],m[2],m[3]))}else if(a!==0||f!==0||h!==s.width||d!==s.height){var y=u.createWebGL(this,h,d),T=y.getContext("2d",{willReadFrequently:!0});h>0&&d>0&&T.drawImage(s,a,f,h,d,0,0,h,d);var R=new Image;R.onerror=function(){i.call(null),u.remove(y)},R.onload=function(){i.call(null,R),u.remove(y)},R.src=y.toDataURL(l,n)}else{var P=new Image;P.onerror=function(){i.call(null)},P.onload=function(){i.call(null,P)},P.src=s.toDataURL(l,n)}};p.exports=r},1217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61068),v=t(27119),o=t(72632),r=function(s,e){var i=s,l=o(e,"callback"),n=o(e,"type","image/png"),a=o(e,"encoder",.92),f=Math.abs(Math.round(o(e,"x",0))),h=Math.abs(Math.round(o(e,"y",0))),d=o(e,"getPixel",!1),c=o(e,"isFramebuffer",!1),g=c?o(e,"bufferWidth",1):i.drawingBufferWidth,x=c?o(e,"bufferHeight",1):i.drawingBufferHeight;if(d){var m=new Uint8Array(4),y=c?h:x-h;i.readPixels(f,y,1,1,i.RGBA,i.UNSIGNED_BYTE,m),l.call(null,new v(m[0],m[1],m[2],m[3]))}else{var T=Math.floor(o(e,"width",g)),R=Math.floor(o(e,"height",x)),P=T*R*4,D=new Uint8Array(P);i.readPixels(f,x-h-R,T,R,i.RGBA,i.UNSIGNED_BYTE,D);for(var I=u.createWebGL(this,T,R),w=I.getContext("2d",{willReadFrequently:!0}),U=w.getImageData(0,0,T,R),G=U.data,H=0;H<R;H++)for(var z=0;z<T;z++){var $=((R-H-1)*T+z)*4,J=c?P-(H*T+(T-z))*4:(H*T+z)*4;G[J+0]=D[$+0],G[J+1]=D[$+1],G[J+2]=D[$+2],G[J+3]=D[$+3]}w.putImageData(U,0,0);var W=new Image;W.onerror=function(){l.call(null),u.remove(I)},W.onload=function(){l.call(null,W),u.remove(I)},W.src=I.toDataURL(n,a)}};p.exports=r},95528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(61840),WebGL:t(1217)}},35217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(65641),o=t(33885),r=t(77290),s=t(72632),e=t(37410),i=t(82127),l=t(5583),n=t(58136),a=t(47406),f=t(81828),h=t(66901),d=t(71264),c=t(77310),g=t(10919),x=t(21213),m=t(51212),y=t(60848),T=new u({initialize:function(P){this.game=P.game,this.renderer=P,this.classes=new o([[v.UTILITY_PIPELINE,y],[v.MULTI_PIPELINE,c],[v.BITMAPMASK_PIPELINE,l],[v.SINGLE_PIPELINE,m],[v.ROPE_PIPELINE,x],[v.LIGHT_PIPELINE,h],[v.POINTLIGHT_PIPELINE,g],[v.MOBILE_PIPELINE,d],[v.FX_PIPELINE,f]]),this.postPipelineClasses=new o([[String(a.BARREL),n.Barrel],[String(a.BLOOM),n.Bloom],[String(a.BLUR),n.Blur],[String(a.BOKEH),n.Bokeh],[String(a.CIRCLE),n.Circle],[String(a.COLOR_MATRIX),n.ColorMatrix],[String(a.DISPLACEMENT),n.Displacement],[String(a.GLOW),n.Glow],[String(a.GRADIENT),n.Gradient],[String(a.PIXELATE),n.Pixelate],[String(a.SHADOW),n.Shadow],[String(a.SHINE),n.Shine],[String(a.VIGNETTE),n.Vignette],[String(a.WIPE),n.Wipe]]),this.pipelines=new o,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(R,P,D){var I=this.renderer,w=this.renderTargets;this.frameInc=Math.floor(s(R,"frameInc",32));for(var U=I.width,G=I.height,H=Math.min(U,G),z=Math.ceil(H/this.frameInc),$=1;$<z;$++){var J=$*this.frameInc;w.push(new e(I,J,J)),w.push(new e(I,J,J)),w.push(new e(I,J,J)),this.maxDimension=J}w.push(new e(I,U,G,1,0,!0,!0)),w.push(new e(I,U,G,1,0,!0,!0)),w.push(new e(I,U,G,1,0,!0,!0));var W,K,N=this,b=this.game;if(this.classes.each(function(j,Q){W=N.add(j,new Q({game:b})),j===v.UTILITY_PIPELINE&&(N.UTILITY_PIPELINE=W,N.fullFrame1=W.fullFrame1,N.fullFrame2=W.fullFrame2,N.halfFrame1=W.halfFrame1,N.halfFrame2=W.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(v.FX_PIPELINE),R)for(K in R){var Y=R[K];W=new Y(b),W.name=K,W.isPostFX?this.postPipelineClasses.set(K,Y):this.has(K)||(this.classes.set(K,Y),this.add(K,W))}this.default=this.get(P),D&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(R){var P=this.get(R);return P&&(this.default=P),P},add:function(R,P){if(P.isPostFX){console.warn(R+" is a Post Pipeline. Use `addPostPipeline` instead");return}var D=this.pipelines,I=this.renderer;return D.has(R)?console.warn("Pipeline exists: "+R):(P.name=R,P.manager=this,D.set(R,P)),P.hasBooted||P.boot(),I.width!==0&&I.height!==0&&!P.isPreFX&&P.resize(I.width,I.height),P},addPostPipeline:function(R,P){this.postPipelineClasses.has(R)||this.postPipelineClasses.set(R,P)},flush:function(){this.current&&this.current.flush()},has:function(R){var P=this.pipelines;return typeof R=="string"?P.has(R):!!P.contains(R)},get:function(R){var P=this.pipelines;if(typeof R=="string")return P.get(R);if(P.contains(R))return R},getPostPipeline:function(R,P,D){var I=this.postPipelineClasses,w,U="",G=typeof R;if(G==="string"||G==="number"?(w=I.get(R),U=R):G==="function"?(I.contains(R)&&(w=R),U=R.name):G==="object"&&(w=I.get(R.name),U=R.name),w){var H=new w(this.game,D);return H.name=U,P&&(H.gameObject=P),H}},remove:function(R,P,D){P===void 0&&(P=!0),D===void 0&&(D=!0),this.pipelines.delete(R),P&&this.classes.delete(R),D&&this.postPipelineClasses.delete(R)},set:function(R,P,D){if(!R.isPostFX)return this.isCurrent(R,D)||(this.flush(),this.current&&this.current.unbind(),this.current=R,R.bind(D)),R.updateProjectionMatrix(),R.onBind(P),R},preBatch:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,D=P.length-1;D>=0;D--){var I=P[D];I.active&&I.preBatch(R)}}},postBatch:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,D=0;D<P.length;D++){var I=P[D];I.active&&I.postBatch(R)}}},preBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,D=P.length-1;D>=0;D--){var I=P[D];I.active&&I.preBatch(R)}}},postBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,D=0;D<P.length;D++){var I=P[D];I.active&&I.postBatch(R)}}},isCurrent:function(R,P){var D=this.renderer,I=this.current;return I&&!P&&(P=I.currentShader),!(I!==R||P.program!==D.currentProgram)},copyFrame:function(R,P,D,I,w){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(R,P,D,I,w),this},copyToGame:function(R){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(R),this},drawFrame:function(R,P,D,I){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(R,P,D,I),this},blendFrames:function(R,P,D,I,w){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(R,P,D,I,w),this},blendFramesAdditive:function(R,P,D,I,w){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(R,P,D,I,w),this},clearFrame:function(R,P){return this.UTILITY_PIPELINE.clearFrame(R,P),this},blitFrame:function(R,P,D,I,w,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(R,P,D,I,w,U),this},copyFrameRect:function(R,P,D,I,w,U,G,H){return this.UTILITY_PIPELINE.copyFrameRect(R,P,D,I,w,U,G,H),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(R){return this.UTILITY_PIPELINE.bind(R)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(R){R===void 0&&this.previous&&(R=this.previous);var P=this.renderer,D=P.gl;D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),P.hasActiveStencilMask()?D.clear(D.DEPTH_BUFFER_BIT):(D.disable(D.STENCIL_TEST),D.clear(D.DEPTH_BUFFER_BIT|D.STENCIL_BUFFER_BIT)),D.viewport(0,0,P.width,P.height),P.currentProgram=null,P.setBlendMode(0,!0);var I=P.vaoExtension;I&&I.bindVertexArrayOES(null);var w=this.pipelines.entries;for(var U in w)w[U].glReset=!0;R&&(this.current=R,R.rebind())},clear:function(){var R=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,R.currentProgram=null,R.setBlendMode(0,!0);var P=R.vaoExtension;P&&P.bindVertexArrayOES(null)},getRenderTarget:function(R){var P=this.renderTargets,D=3;if(R>this.maxDimension)return this.targetIndex=P.length-D,P[this.targetIndex];var I=(i(R,this.frameInc,0,!0)-1)*D;return this.targetIndex=I,P[I]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=T},37410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(81044),o=new u({initialize:function(s,e,i,l,n,a,f,h,d){l===void 0&&(l=1),n===void 0&&(n=0),a===void 0&&(a=!0),f===void 0&&(f=!1),h===void 0&&(h=!0),d===void 0&&(d=!0),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=n,this.autoClear=a,this.autoResize=!0,this.hasDepthBuffer=h,this.forceClamp=d,this.resize(e,i),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,s){var e=r*this.scale,i=s*this.scale;if(this.autoResize&&(e!==this.width||i!==this.height)){var l=this.renderer;l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),r*=this.scale,s*=this.scale,r=Math.round(r),s=Math.round(s),r<=0&&(r=1),s<=0&&(s=1),this.texture=l.createTextureFromSource(null,r,s,this.minFilter,this.forceClamp),this.framebuffer=l.createFramebuffer(r,s,this.texture,this.hasDepthBuffer),this.width=r,this.height=s}return this},bind:function(r,s,e){r===void 0&&(r=!1);var i=this.renderer;if(r&&i.flush(),s&&e&&this.resize(s,e),i.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}i.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,s=r.gl;r.pushFramebuffer(this.framebuffer),s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var s=this.renderer;return r&&s.flush(),s.popFramebuffer()},destroy:function(){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),r.off(v.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=o},75512:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(S,t,u,v){var o=(S*255|0)&255,r=(t*255|0)&255,s=(u*255|0)&255,e=(v*255|0)&255;return(e<<24|o<<16|r<<8|s)>>>0},getTintAppendFloatAlpha:function(S,t){var u=(t*255|0)&255;return(u<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var u=(S>>16|0)&255,v=(S>>8|0)&255,o=(S|0)&255,r=(t*255|0)&255;return(r<<24|o<<16|v<<8|u)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,u=(S>>8|0)&255,v=(S|0)&255;return[t/255,u/255,v/255]},checkShaderMax:function(S,t){var u=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?u:Math.min(u,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var u="",v=0;v<t;v++)v>0&&(u+=`
	else `),v<t-1&&(u+="if (outTexId < "+v+".5)"),u+=`
	{`,u+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",u+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,u)},setGlowQuality:function(S,t,u,v){return u===void 0&&(u=t.config.glowFXQuality),v===void 0&&(v=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/u/v).toFixed(7)),S=S.replace(/__DIST__/gi,v.toFixed(0)+".0"),S}}},44775:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(28699),o=t(6659),r=t(18970),s=t(72632),e=t(16650),i=t(81044),l=t(37410),n=t(75512),a=t(71305),f=new u({Extends:o,initialize:function(d){o.call(this);var c=d.game,g=c.renderer,x=g.gl;this.name=s(d,"name","WebGLPipeline"),this.game=c,this.renderer=g,this.manager,this.gl=x,this.view=c.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=s(d,"topology",x.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=s(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var h,d=this.gl,c=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var x=this.renderTargets,m=s(c,"renderTarget",!1);typeof m=="boolean"&&m&&(m=1);var y=g.width,T=g.height;if(typeof m=="number")for(h=0;h<m;h++)x.push(new l(g,y,T,1,0,!0));else if(Array.isArray(m))for(h=0;h<m.length;h++){var R=s(m[h],"scale",1),P=s(m[h],"minFilter",0),D=s(m[h],"autoClear",1),I=s(m[h],"width",null),w=s(m[h],"height",I);I?x.push(new l(g,I,w,1,P,D)):x.push(new l(g,y,T,R,P,D))}x.length&&(this.currentRenderTarget=x[0]),this.setShadersFromConfig(c);var U=this.shaders,G=0;for(h=0;h<U.length;h++)U[h].vertexSize>G&&(G=U[h].vertexSize);var H=s(c,"batchSize",g.config.batchSize);this.vertexCapacity=H*6;var z=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=z,this.bytes=new Uint8Array(z),this.vertexViewF32=new Float32Array(z),this.vertexViewU32=new Uint32Array(z);var $=s(c,"vertices",null);for($?(this.vertexViewF32.set($),this.vertexBuffer=g.createVertexBuffer(z,d.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(z.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),h=U.length-1;h>=0;h--)U[h].rebind();this.hasBooted=!0,g.on(i.RESIZE,this.resize,this),g.on(i.PRE_RENDER,this.onPreRender,this),g.on(i.RENDER,this.onRender,this),g.on(i.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(h,d,c){var g=this.renderer;if(h!==this.currentShader||g.currentProgram!==this.currentShader.program){this.flush();var x=this.setVertexBuffer(c);x&&!d&&(d=!0),h.bind(d,!1),this.currentShader=h}return this},getShaderByName:function(h){for(var d=this.shaders,c=0;c<d.length;c++)if(d[c].name===h)return d[c]},setShadersFromConfig:function(h){var d,c=this.shaders,g=this.renderer;for(d=0;d<c.length;d++)c[d].destroy();var x="vertShader",m="fragShader",y="attributes",T=s(h,x,null),R=n.parseFragmentShaderMaxTextures(s(h,m,null),g.maxTextures),P=s(h,y,null),D=s(h,"shaders",[]),I=D.length;if(I===0)T&&R&&(this.shaders=[new a(this,"default",T,R,v(P))]);else{var w=[];for(d=0;d<I;d++){var U=D[d],G,H,z,$;if(typeof U=="string"?(G="default",H=T,z=n.parseFragmentShaderMaxTextures(U,g.maxTextures),$=P):(G=s(U,"name","default"),H=s(U,x,T),z=n.parseFragmentShaderMaxTextures(s(U,m,R),g.maxTextures),$=s(U,y,P)),G==="default"){var J=z.split(`
`),W=J[0].trim();W.indexOf("#define SHADER_NAME")>-1&&(G=W.substring(20))}H&&z&&w.push(new a(this,G,H,z,v($)))}this.shaders=w}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(h){return this.currentBatch={start:this.vertexCount,count:0,texture:[h],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=h,this.batch.push(this.currentBatch),0},addTextureToBatch:function(h){var d=this.currentBatch;d&&(d.texture.push(h),d.unit++,d.maxUnit++)},pushBatch:function(h){if(!this.currentBatch||this.forceZero&&h!==this.currentTexture)return this.createBatch(h);if(h===this.currentTexture)return this.currentUnit;var d=this.currentBatch,c=d.texture.indexOf(h);return c===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(h):(d.unit++,d.maxUnit++,d.texture.push(h),this.currentUnit=d.unit,this.currentTexture=h,d.unit):(this.currentUnit=c,this.currentTexture=h,c)},setGameObject:function(h,d){return d===void 0&&(d=h.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(h){return h===void 0&&(h=0),this.vertexCount+h>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(h,d){(h!==this.width||d!==this.height)&&this.flush(),this.width=h,this.height=d;for(var c=this.renderTargets,g=0;g<c.length;g++)c[g].resize(h,d);return this.setProjectionMatrix(h,d),this.emit(r.RESIZE,h,d,this),this.onResize(h,d),this},setProjectionMatrix:function(h,d){var c=this.projectionMatrix;if(!c)return this;this.projectionWidth=h,this.projectionHeight=d,c.ortho(0,h,d,0,-1e3,1e3);for(var g=this.shaders,x="uProjectionMatrix",m=0;m<g.length;m++){var y=g[m];y.hasUniform(x)&&(y.resetUniform(x),y.setMatrix4fv(x,!1,c.val,y))}return this},flipProjectionMatrix:function(h){h===void 0&&(h=!0);var d=this.projectionMatrix;if(!d)return this;var c=this.projectionWidth,g=this.projectionHeight;h?d.ortho(0,c,0,g,-1e3,1e3):d.ortho(0,c,g,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var h=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==h||this.projectionHeight!==d)&&this.setProjectionMatrix(h,d)}},bind:function(h){if(h===void 0&&(h=this.currentShader),this.glReset)return this.rebind(h);var d=!1,c=this.gl;return c.getParameter(c.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,d=!0),h.bind(d),this.currentShader=h,this.activeTextures.length=0,this.emit(r.BIND,this,h),this.onActive(h),this},rebind:function(h){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,c=d.length-1;c>=0;c--){var g=d[c].rebind();(!h||g===h)&&(this.currentShader=g)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(h){if(h===void 0&&(h=this.vertexBuffer),h!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,h),this.activeBuffer=h,!0}return!1},preBatch:function(h){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(h),this},postBatch:function(h){return this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(h){if(h===void 0&&(h=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,h),this.onBeforeFlush(h);var d=this.gl,c=this.vertexCount,g=this.currentShader.vertexSize,x=this.topology;if(this.active){this.setVertexBuffer(),c===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,c*g));var m,y,T,R=this.batch,P=this.activeTextures;if(this.forceZero)for(P[0]||d.activeTexture(d.TEXTURE0),m=0;m<R.length;m++)y=R[m],T=y.texture[0],P[0]!==T&&(d.bindTexture(d.TEXTURE_2D,T),P[0]=T),d.drawArrays(x,y.start,y.count);else for(m=0;m<R.length;m++){y=R[m];for(var D=0;D<=y.maxUnit;D++)T=y.texture[D],P[D]!==T&&(d.activeTexture(d.TEXTURE0+D),d.bindTexture(d.TEXTURE_2D,T),P[D]=T);d.drawArrays(x,y.start,y.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,h),this.onAfterFlush(h)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(h,d,c,g,x,m,y){var T=this.vertexViewF32,R=this.vertexViewU32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++P]=h,T[++P]=d,T[++P]=c,T[++P]=g,T[++P]=x,T[++P]=m,R[++P]=y,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(h,d,c,g,x,m,y,T,R,P,D,I,w,U,G,H,z,$,J,W){W===void 0&&(W=this.currentUnit);var K=!1;this.shouldFlush(6)&&(this.flush(),K=!0),this.currentBatch||(W=this.setTexture2D(J));var N=this.vertexViewF32,b=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return N[++Y]=d,N[++Y]=c,N[++Y]=P,N[++Y]=D,N[++Y]=W,N[++Y]=$,b[++Y]=U,N[++Y]=g,N[++Y]=x,N[++Y]=P,N[++Y]=w,N[++Y]=W,N[++Y]=$,b[++Y]=H,N[++Y]=m,N[++Y]=y,N[++Y]=I,N[++Y]=w,N[++Y]=W,N[++Y]=$,b[++Y]=z,N[++Y]=d,N[++Y]=c,N[++Y]=P,N[++Y]=D,N[++Y]=W,N[++Y]=$,b[++Y]=U,N[++Y]=m,N[++Y]=y,N[++Y]=I,N[++Y]=w,N[++Y]=W,N[++Y]=$,b[++Y]=z,N[++Y]=T,N[++Y]=R,N[++Y]=I,N[++Y]=D,N[++Y]=W,N[++Y]=$,b[++Y]=G,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(h),K},batchTri:function(h,d,c,g,x,m,y,T,R,P,D,I,w,U,G,H,z){z===void 0&&(z=this.currentUnit);var $=!1;this.shouldFlush(3)&&(this.flush(),$=!0),this.currentBatch||(z=this.setTexture2D(H));var J=this.vertexViewF32,W=this.vertexViewU32,K=this.vertexCount*this.currentShader.vertexComponentCount-1;return J[++K]=d,J[++K]=c,J[++K]=T,J[++K]=R,J[++K]=z,J[++K]=G,W[++K]=I,J[++K]=g,J[++K]=x,J[++K]=T,J[++K]=D,J[++K]=z,J[++K]=G,W[++K]=w,J[++K]=m,J[++K]=y,J[++K]=P,J[++K]=D,J[++K]=z,J[++K]=G,W[++K]=U,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(h),$},drawFillRect:function(h,d,c,g,x,m,y,T){y===void 0&&(y=this.renderer.whiteTexture),T===void 0&&(T=!0),h=Math.floor(h),d=Math.floor(d);var R=Math.floor(h+c),P=Math.floor(d+g),D=this.setTexture2D(y),I=n.getTintAppendFloatAlphaAndSwap(x,m),w=0,U=0,G=1,H=1;T&&(U=1,H=0),this.batchQuad(null,h,d,h,P,R,P,R,d,w,U,G,H,I,I,I,I,0,y,D)},setTexture2D:function(h){return h===void 0&&(h=this.renderer.whiteTexture),this.pushBatch(h)},bindTexture:function(h,d){d===void 0&&(d=0);var c=this.gl;return c.activeTexture(c.TEXTURE0+d),c.bindTexture(c.TEXTURE_2D,h),this},bindRenderTarget:function(h,d){return this.bindTexture(h.texture,d)},setTime:function(h,d){return this.set1f(h,this.game.loop.getDuration(),d),this},setBoolean:function(h,d,c){return c===void 0&&(c=this.currentShader),c.setBoolean(h,d),this},set1f:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set1f(h,d),this},set2f:function(h,d,c,g){return g===void 0&&(g=this.currentShader),g.set2f(h,d,c),this},set3f:function(h,d,c,g,x){return x===void 0&&(x=this.currentShader),x.set3f(h,d,c,g),this},set4f:function(h,d,c,g,x,m){return m===void 0&&(m=this.currentShader),m.set4f(h,d,c,g,x),this},set1fv:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set1fv(h,d),this},set2fv:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set2fv(h,d),this},set3fv:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set3fv(h,d),this},set4fv:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set4fv(h,d),this},set1iv:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set1iv(h,d),this},set2iv:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set2iv(h,d),this},set3iv:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set3iv(h,d),this},set4iv:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set4iv(h,d),this},set1i:function(h,d,c){return c===void 0&&(c=this.currentShader),c.set1i(h,d),this},set2i:function(h,d,c,g){return g===void 0&&(g=this.currentShader),g.set2i(h,d,c),this},set3i:function(h,d,c,g,x){return x===void 0&&(x=this.currentShader),x.set3i(h,d,c,g),this},set4i:function(h,d,c,g,x,m){return m===void 0&&(m=this.currentShader),m.set4i(h,d,c,g,x),this},setMatrix2fv:function(h,d,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(h,d,c),this},setMatrix3fv:function(h,d,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(h,d,c),this},setMatrix4fv:function(h,d,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(h,d,c),this},destroy:function(){this.emit(r.DESTROY,this);var h,d=this.shaders;for(h=0;h<d.length;h++)d[h].destroy();var c=this.renderTargets;for(h=0;h<c.length;h++)c[h].destroy();this.gl.deleteBuffer(this.vertexBuffer);var g=this.renderer;return g.off(i.RESIZE,this.resize,this),g.off(i.PRE_RENDER,this.onPreRender,this),g.off(i.RENDER,this.onRender,this),g.off(i.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=f},11857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66458),v=t(89787),o=t(56694),r=t(86459),s=t(6659),e=t(81044),i=t(28621),l=t(16650),n=t(72283),a=t(35217),f=t(37410),h=t(40444),d=t(38203),c=t(75512),g=t(1217),x=new o({Extends:s,initialize:function(y){s.call(this);var T=y.config,R={alpha:T.transparent,desynchronized:T.desynchronized,depth:!0,antialias:T.antialiasGL,premultipliedAlpha:T.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:T.failIfMajorPerformanceCaveat,powerPreference:T.powerPreference,preserveDrawingBuffer:T.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:T.clearBeforeRender,antialias:T.antialias,backgroundColor:T.backgroundColor,contextCreation:R,roundPixels:T.roundPixels,maxTextures:T.maxTextures,maxTextureSize:T.maxTextureSize,batchSize:T.batchSize,maxLights:T.maxLights,mipmapFilter:T.mipmapFilter},this.game=y,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=y.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=n,this.contextRestoredHandler=n,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(m){var y,T=this.game,R=this.canvas,P=m.backgroundColor;if(T.config.context?y=T.config.context:y=R.getContext("webgl",m.contextCreation)||R.getContext("experimental-webgl",m.contextCreation),!y||y.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=y;var D=this;this.contextLostHandler=function($){D.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),$.preventDefault()},R.addEventListener("webglcontextlost",this.contextLostHandler,!1),T.context=y;for(var I=0;I<=27;I++)this.blendModes.push({func:[y.ONE,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_ADD});this.blendModes[1].func=[y.ONE,y.DST_ALPHA],this.blendModes[2].func=[y.DST_COLOR,y.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[y.ONE,y.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[y.ZERO,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_REVERSE_SUBTRACT},this.glFormats=[y.BYTE,y.SHORT,y.UNSIGNED_BYTE,y.UNSIGNED_SHORT,y.FLOAT],this.glFuncMap={mat2:{func:y.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:y.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:y.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:y.uniform1f,length:1},"1fv":{func:y.uniform1fv,length:1},"1i":{func:y.uniform1i,length:1},"1iv":{func:y.uniform1iv,length:1},"2f":{func:y.uniform2f,length:2},"2fv":{func:y.uniform2fv,length:1},"2i":{func:y.uniform2i,length:2},"2iv":{func:y.uniform2iv,length:1},"3f":{func:y.uniform3f,length:3},"3fv":{func:y.uniform3fv,length:1},"3i":{func:y.uniform3i,length:3},"3iv":{func:y.uniform3iv,length:1},"4f":{func:y.uniform4f,length:4},"4fv":{func:y.uniform4fv,length:1},"4i":{func:y.uniform4i,length:4},"4iv":{func:y.uniform4iv,length:1}};var w=y.getSupportedExtensions();(!m.maxTextures||m.maxTextures===-1)&&(m.maxTextures=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS)),m.maxTextureSize||(m.maxTextureSize=y.getParameter(y.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=w;var U="ANGLE_instanced_arrays";this.instancedArraysExtension=w.indexOf(U)>-1?y.getExtension(U):null;var G="OES_vertex_array_object";this.vaoExtension=w.indexOf(G)>-1?y.getExtension(G):null,y.disable(y.DEPTH_TEST),y.disable(y.CULL_FACE),y.enable(y.BLEND),y.clearColor(P.redGL,P.greenGL,P.blueGL,P.alphaGL),m.mipmapFilter!==""&&(this.mipmapFilter=y[m.mipmapFilter]),this.maxTextures=c.checkShaderMax(y,m.maxTextures),this.textureIndexes=[];for(var H=0;H<this.maxTextures;H++){var z=y.createTexture();y.activeTexture(y.TEXTURE0+H),y.bindTexture(y.TEXTURE_2D,z),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,1,1,0,y.RGBA,y.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(H)}return this.pipelines=new a(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new l().identity(),T.textures.once(d.READY,this.boot,this),this},boot:function(){var m=this.game,y=this.pipelines,T=m.scale.baseSize,R=T.width,P=T.height;this.width=R,this.height=P,this.isBooted=!0,this.renderTarget=new f(this,R,P,1,0,!0,!0),this.maskTarget=new f(this,R,P,1,0,!0,!0),this.maskSource=new f(this,R,P,1,0,!0,!0);var D=m.config;y.boot(D.pipeline,D.defaultPipeline,D.autoMobilePipeline),this.blankTexture=m.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=m.textures.getFrame("__WHITE").glTexture;var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,null),I.enable(I.SCISSOR_TEST),m.scale.on(h.RESIZE,this.onResize,this),this.resize(R,P)},captureFrame:function(m,y){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(m,y,T){},stopCapture:function(){},onCapture:function(m){},onResize:function(m,y){(y.width!==this.width||y.height!==this.height)&&this.resize(y.width,y.height)},beginCapture:function(m,y){m===void 0&&(m=this.width),y===void 0&&(y=this.height),this.renderTarget.bind(!0,m,y),this.setProjectionMatrix(m,y)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(m,y){var T=this.gl;return this.width=m,this.height=y,this.setProjectionMatrix(m,y),T.viewport(0,0,m,y),this.drawingBufferHeight=T.drawingBufferHeight,T.scissor(0,T.drawingBufferHeight-y,m,y),this.defaultScissor[2]=m,this.defaultScissor[3]=y,this.emit(e.RESIZE,m,y),this},getCompressedTextures:function(){var m="WEBGL_compressed_texture_",y="WEBKIT_"+m,T=function(P,D){var I=P.getExtension(m+D)||P.getExtension(y+D);if(I){var w={};for(var U in I)w[I[U]]=U;return w}},R=this.gl;return{ETC:T(R,"etc"),ETC1:T(R,"etc1"),ATC:T(R,"atc"),ASTC:T(R,"astc"),BPTC:T(R,"bptc"),RGTC:T(R,"rgtc"),PVRTC:T(R,"pvrtc"),S3TC:T(R,"s3tc"),S3TCSRGB:T(R,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(m,y){var T=this.compression[m.toUpperCase()];if(y in T)return T[y]},supportsCompressedTexture:function(m,y){var T=this.compression[m.toUpperCase()];return T?y?y in T:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(m,y){return(m!==this.projectionWidth||y!==this.projectionHeight)&&(this.projectionWidth=m,this.projectionHeight=y,this.projectionMatrix.ortho(0,m,y,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(m){return this.supportedExtensions?this.supportedExtensions.indexOf(m):!1},getExtension:function(m){return this.hasExtension(m)?(m in this.extensions||(this.extensions[m]=this.gl.getExtension(m)),this.extensions[m]):null},flush:function(){this.pipelines.flush()},pushScissor:function(m,y,T,R,P){P===void 0&&(P=this.drawingBufferHeight);var D=this.scissorStack,I=[m,y,T,R];return D.push(I),this.setScissor(m,y,T,R,P),this.currentScissor=I,I},setScissor:function(m,y,T,R,P){P===void 0&&(P=this.drawingBufferHeight);var D=this.gl,I=this.currentScissor,w=T>0&&R>0;if(I&&w){var U=I[0],G=I[1],H=I[2],z=I[3];w=U!==m||G!==y||H!==T||z!==R}w&&(this.flush(),D.scissor(m,P-y-R,T,R))},resetScissor:function(){var m=this.gl;m.enable(m.SCISSOR_TEST);var y=this.currentScissor;if(y){var T=y[0],R=y[1],P=y[2],D=y[3];P>0&&D>0&&m.scissor(T,this.drawingBufferHeight-R-D,P,D)}},popScissor:function(){var m=this.scissorStack;m.pop();var y=m[m.length-1];y&&this.setScissor(y[0],y[1],y[2],y[3]),this.currentScissor=y},hasActiveStencilMask:function(){var m=this.currentMask.mask,y=this.currentCameraMask.mask;return m&&m.isStencil||y&&y.isStencil},resetViewport:function(){var m=this.gl;m.viewport(0,0,this.width,this.height),this.drawingBufferHeight=m.drawingBufferHeight},setBlendMode:function(m,y){y===void 0&&(y=!1);var T=this.gl,R=this.blendModes[m];return y||m!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==m?(this.flush(),T.enable(T.BLEND),T.blendEquation(R.equation),R.func.length>2?T.blendFuncSeparate(R.func[0],R.func[1],R.func[2],R.func[3]):T.blendFunc(R.func[0],R.func[1]),this.currentBlendMode=m,!0):!1},addBlendMode:function(m,y){var T=this.blendModes.push({func:m,equation:y});return T-1},updateBlendMode:function(m,y,T){return this.blendModes[m]&&(this.blendModes[m].func=y,T&&(this.blendModes[m].equation=T)),this},removeBlendMode:function(m){return m>17&&this.blendModes[m]&&this.blendModes.splice(m,1),this},pushFramebuffer:function(m,y,T,R,P){return m===this.currentFramebuffer?this:(this.fboStack.push(m),this.setFramebuffer(m,y,T,R,P))},setFramebuffer:function(m,y,T,R,P){if(y===void 0&&(y=!1),T===void 0&&(T=!0),R===void 0&&(R=null),P===void 0&&(P=!1),m===this.currentFramebuffer)return this;var D=this.gl,I=this.width,w=this.height;return m&&m.renderTexture&&T?(I=m.renderTexture.width,w=m.renderTexture.height):this.flush(),D.bindFramebuffer(D.FRAMEBUFFER,m),T&&D.viewport(0,0,I,w),R&&D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,R,0),P&&(D.clearColor(0,0,0,0),D.clear(D.COLOR_BUFFER_BIT)),y&&(m?(this.drawingBufferHeight=w,this.pushScissor(0,0,I,w)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=m,this},popFramebuffer:function(m,y){m===void 0&&(m=!1),y===void 0&&(y=!0);var T=this.fboStack;T.pop();var R=T[T.length-1];return R||(R=null),this.setFramebuffer(R,m,y),R},restoreFramebuffer:function(m,y){m===void 0&&(m=!1),y===void 0&&(y=!0);var T=this.fboStack,R=T[T.length-1];R||(R=null),this.currentFramebuffer=null,this.setFramebuffer(R,m,y)},setProgram:function(m){return m!==this.currentProgram?(this.flush(),this.gl.useProgram(m),this.currentProgram=m,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(m,y,T,R,P){P===void 0&&(P=!1);var D=this.gl,I=D.NEAREST,w=D.NEAREST,U=D.CLAMP_TO_EDGE,G=null;y=m?m.width:y,T=m?m.height:T;var H=i(y,T);return H&&!P&&(U=D.REPEAT),R===r.ScaleModes.LINEAR&&this.config.antialias&&(I=H&&this.mipmapFilter?this.mipmapFilter:D.LINEAR,w=D.LINEAR),m&&m.compressed&&(I=D.LINEAR,w=D.LINEAR),!m&&typeof y=="number"&&typeof T=="number"?G=this.createTexture2D(0,I,w,U,U,D.RGBA,null,y,T):G=this.createTexture2D(0,I,w,U,U,D.RGBA,m),G},createTexture2D:function(m,y,T,R,P,D,I,w,U,G,H,z){G=G??!0,H===void 0&&(H=!1),z===void 0&&(z=!1);var $=this.gl,J=$.createTexture();$.activeTexture($.TEXTURE0);var W=$.getParameter($.TEXTURE_BINDING_2D);$.bindTexture($.TEXTURE_2D,J),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,y),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,T),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,P),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,R),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),z&&$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!0);var K=!1;if(I==null)$.texImage2D($.TEXTURE_2D,m,D,w,U,0,D,$.UNSIGNED_BYTE,null),K=i(w,U);else if(I.compressed){w=I.width,U=I.height,K=I.generateMipmap;for(var N=0;N<I.mipmaps.length;N++)$.compressedTexImage2D($.TEXTURE_2D,N,I.internalFormat,I.mipmaps[N].width,I.mipmaps[N].height,0,I.mipmaps[N].data)}else H||(w=I.width,U=I.height),$.texImage2D($.TEXTURE_2D,m,D,D,$.UNSIGNED_BYTE,I),K=i(w,U);return K&&$.generateMipmap($.TEXTURE_2D),W&&$.bindTexture($.TEXTURE_2D,W),J.isAlphaPremultiplied=G,J.isRenderTexture=!1,J.width=w,J.height=U,J},createFramebuffer:function(m,y,T,R){R===void 0&&(R=!0);var P=this.gl,D=P.createFramebuffer(),I=0;if(this.setFramebuffer(D),T.isRenderTexture=!0,T.isAlphaPremultiplied=!1,P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,T,0),I=P.checkFramebufferStatus(P.FRAMEBUFFER),I!==P.FRAMEBUFFER_COMPLETE){var w={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(w[I]||I))}if(D.renderTexture=T,R){var U=P.createRenderbuffer();P.bindRenderbuffer(P.RENDERBUFFER,U),P.renderbufferStorage(P.RENDERBUFFER,P.DEPTH_STENCIL,m,y),P.framebufferRenderbuffer(P.FRAMEBUFFER,P.DEPTH_STENCIL_ATTACHMENT,P.RENDERBUFFER,U)}return this.setFramebuffer(null),D},beginBitmapMask:function(m,y){var T=this.gl;T&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==m&&(this.currentMask.mask=m,this.currentMask.camera=y))},drawBitmapMask:function(m,y,T){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),m.renderWebGL(this,m,y),this.maskSource.unbind(!0),this.maskTarget.unbind();var R=this.gl,P=this.getCurrentStencilMask();P?(R.enable(R.STENCIL_TEST),P.mask.applyStencil(this,P.camera,!0)):this.currentMask.mask=null,this.pipelines.set(T),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,this.maskTarget.texture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,this.maskSource.texture)},createProgram:function(m,y){var T=this.gl,R=T.createProgram(),P=T.createShader(T.VERTEX_SHADER),D=T.createShader(T.FRAGMENT_SHADER);T.shaderSource(P,m),T.shaderSource(D,y),T.compileShader(P),T.compileShader(D);var I=`Shader failed:
`;if(!T.getShaderParameter(P,T.COMPILE_STATUS))throw new Error("Vertex "+I+T.getShaderInfoLog(P));if(!T.getShaderParameter(D,T.COMPILE_STATUS))throw new Error("Fragment "+I+T.getShaderInfoLog(D));if(T.attachShader(R,P),T.attachShader(R,D),T.linkProgram(R),!T.getProgramParameter(R,T.LINK_STATUS))throw new Error("Link "+I+T.getProgramInfoLog(R));return T.useProgram(R),R},createVertexBuffer:function(m,y){var T=this.gl,R=T.createBuffer();return T.bindBuffer(T.ARRAY_BUFFER,R),T.bufferData(T.ARRAY_BUFFER,m,y),T.bindBuffer(T.ARRAY_BUFFER,null),R},createIndexBuffer:function(m,y){var T=this.gl,R=T.createBuffer();return T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,R),T.bufferData(T.ELEMENT_ARRAY_BUFFER,m,y),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,null),R},deleteTexture:function(m){return m&&this.gl.deleteTexture(m),this},deleteFramebuffer:function(m){if(m){var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,m);var T=y.getParameter(y.RENDERBUFFER_BINDING);T&&y.deleteRenderbuffer(T),y.bindFramebuffer(y.FRAMEBUFFER,null),y.deleteFramebuffer(m),u(this.fboStack,m),this.currentFramebuffer===m&&(this.currentFramebuffer=null)}return this},deleteProgram:function(m){return m&&this.gl.deleteProgram(m),this},deleteBuffer:function(m){return this.gl.deleteBuffer(m),this},preRenderCamera:function(m){var y=m.x,T=m.y,R=m.width,P=m.height,D=m.backgroundColor;if(m.emit(v.PRE_RENDER,m),this.pipelines.preBatchCamera(m),this.pushScissor(y,T,R,P),m.mask&&(this.currentCameraMask.mask=m.mask,this.currentCameraMask.camera=m._maskCamera,m.mask.preRenderWebGL(this,m,m._maskCamera)),D.alphaGL>0){var I=this.pipelines.setMulti();I.drawFillRect(y,T,R,P,c.getTintFromFloats(D.blueGL,D.greenGL,D.redGL,1),D.alphaGL)}},getCurrentStencilMask:function(){var m=null,y=this.maskStack,T=this.currentCameraMask;return y.length>0?m=y[y.length-1]:T.mask&&T.mask.isStencil&&(m=T),m},postRenderCamera:function(m){var y=m.flashEffect,T=m.fadeEffect;if(y.isRunning||T.isRunning||T.isComplete){var R=this.pipelines.setMulti();y.postRenderWebGL(R,c.getTintFromFloats),T.postRenderWebGL(R,c.getTintFromFloats)}m.dirty=!1,this.popScissor(),m.mask&&(this.currentCameraMask.mask=null,m.mask.postRenderWebGL(this,m._maskCamera)),this.pipelines.postBatchCamera(m),m.emit(v.POST_RENDER,m)},preRender:function(){if(!this.contextLost){var m=this.gl;if(m.bindFramebuffer(m.FRAMEBUFFER,null),this.config.clearBeforeRender){var y=this.config.backgroundColor;m.clearColor(y.redGL,y.greenGL,y.blueGL,y.alphaGL),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT|m.STENCIL_BUFFER_BIT)}m.enable(m.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&m.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(e.PRE_RENDER)}},render:function(m,y,T){if(!this.contextLost){var R=y.length;if(this.emit(e.RENDER,m,T),this.preRenderCamera(T),R===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T);return}this.currentType="";for(var P=this.currentMask,D=0;D<R;D++){this.finalType=D===R-1;var I=y[D],w=I.mask;P=this.currentMask,P.mask&&P.mask!==w&&P.mask.postRenderWebGL(this,P.camera),w&&P.mask!==w&&w.preRenderWebGL(this,I,T),I.blendMode!==this.currentBlendMode&&this.setBlendMode(I.blendMode);var U=I.type;U!==this.currentType&&(this.newType=!0,this.currentType=U),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=y[D+1].type===this.currentType,I.renderWebGL(this,I,T),this.newType=!1}P=this.currentMask,P.mask&&P.mask.postRenderWebGL(this,P.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(e.POST_RENDER);var m=this.snapshotState;m.callback&&(g(this.gl,m),m.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var m=this.gl,y=this.getCurrentStencilMask();if(y){var T=y.mask;m.enable(m.STENCIL_TEST),T.invertAlpha?m.stencilFunc(m.NOTEQUAL,T.level,255):m.stencilFunc(m.EQUAL,T.level,255)}},snapshot:function(m,y,T){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,m,y,T)},snapshotArea:function(m,y,T,R,P,D,I){var w=this.snapshotState;return w.callback=P,w.type=D,w.encoder=I,w.getPixel=!1,w.x=m,w.y=y,w.width=T,w.height=R,this},snapshotPixel:function(m,y,T){return this.snapshotArea(m,y,1,1,T),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(m,y,T,R,P,D,I,w,U,G,H){P===void 0&&(P=!1),D===void 0&&(D=0),I===void 0&&(I=0),w===void 0&&(w=y),U===void 0&&(U=T),G==="pixel"&&(P=!0,G="image/png");var z=this.currentFramebuffer;this.snapshotArea(D,I,w,U,R,G,H);var $=this.snapshotState;return $.getPixel=P,$.isFramebuffer=!0,$.bufferWidth=y,$.bufferHeight=T,$.width=Math.min($.width,y),$.height=Math.min($.height,T),this.setFramebuffer(m),g(this.gl,$),this.setFramebuffer(z),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(m,y,T,R){return T===void 0&&(T=!1),R===void 0&&(R=!1),y?this.updateCanvasTexture(m,y,R):this.createCanvasTexture(m,T,R)},createCanvasTexture:function(m,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var R=this.gl,P=R.NEAREST,D=R.NEAREST,I=m.width,w=m.height,U=R.CLAMP_TO_EDGE,G=i(I,w);return!y&&G&&(U=R.REPEAT),this.config.antialias&&(P=G&&this.mipmapFilter?this.mipmapFilter:R.LINEAR,D=R.LINEAR),this.createTexture2D(0,P,D,U,U,R.RGBA,m,I,w,!0,!1,T)},updateCanvasTexture:function(m,y,T){T===void 0&&(T=!1);var R=this.gl,P=m.width,D=m.height;if(P>0&&D>0){R.activeTexture(R.TEXTURE0);var I=R.getParameter(R.TEXTURE_BINDING_2D);R.bindTexture(R.TEXTURE_2D,y),T&&R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,!0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,m),y.width=P,y.height=D,I&&R.bindTexture(R.TEXTURE_2D,I)}return y},createVideoTexture:function(m,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var R=this.gl,P=R.NEAREST,D=R.NEAREST,I=m.videoWidth,w=m.videoHeight,U=R.CLAMP_TO_EDGE,G=i(I,w);return!y&&G&&(U=R.REPEAT),this.config.antialias&&(P=G&&this.mipmapFilter?this.mipmapFilter:R.LINEAR,D=R.LINEAR),this.createTexture2D(0,P,D,U,U,R.RGBA,m,I,w,!0,!0,T)},updateVideoTexture:function(m,y,T){T===void 0&&(T=!1);var R=this.gl,P=m.videoWidth,D=m.videoHeight;if(P>0&&D>0){R.activeTexture(R.TEXTURE0);var I=R.getParameter(R.TEXTURE_BINDING_2D);R.bindTexture(R.TEXTURE_2D,y),R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,T),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,m),y.width=P,y.height=D,I&&R.bindTexture(R.TEXTURE_2D,I)}return y},setTextureFilter:function(m,y){var T=this.gl,R=[T.LINEAR,T.NEAREST][y];T.activeTexture(T.TEXTURE0);var P=T.getParameter(T.TEXTURE_BINDING_2D);return T.bindTexture(T.TEXTURE_2D,m),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,R),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,R),P&&T.bindTexture(T.TEXTURE_2D,P),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=x},71305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=t(71402),r=new u({initialize:function(e,i,l,n,a){this.pipeline=e,this.name=i,this.renderer=e.renderer,this.gl=this.renderer.gl,this.fragSrc=n,this.vertSrc=l,this.program=this.renderer.createProgram(l,n),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(a),this.createUniforms()},createAttributes:function(s){var e=0,i=0,l=[];this.vertexComponentCount=0;for(var n=0;n<s.length;n++){var a=s[n],f=a.name,h=v(a,"size",1),d=v(a,"type",o.FLOAT),c=d.enum,g=d.size,x=!!a.normalized;l.push({name:f,size:h,type:c,normalized:x,offset:i,enabled:!1,location:-1}),g===4?e+=h:e++,i+=h*g}this.vertexSize=i,this.vertexComponentCount=e,this.attributes=l},bind:function(s,e){return s===void 0&&(s=!1),e===void 0&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),s&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(s){s===void 0&&(s=!1);for(var e=this.gl,i=this.vertexSize,l=this.attributes,n=this.program,a=0;a<l.length;a++){var f=l[a],h=f.size,d=f.type,c=f.offset,g=f.enabled,x=f.location,m=!!f.normalized;if(s){var y=e.getAttribLocation(n,f.name);y>=0?(e.enableVertexAttribArray(y),e.vertexAttribPointer(y,h,d,m,i,c),f.enabled=!0,f.location=y):y!==-1&&e.disableVertexAttribArray(y)}else g?e.vertexAttribPointer(x,h,d,m,i,c):!g&&x>-1&&(e.disableVertexAttribArray(x),f.location=-1)}return this},createUniforms:function(){var s=this.gl,e=this.program,i=this.uniforms,l,n,a,f=s.getProgramParameter(e,s.ACTIVE_UNIFORMS);for(l=0;l<f;l++){var h=s.getActiveUniform(e,l);if(h){n=h.name,a=s.getUniformLocation(e,n),a!==null&&(i[n]={name:n,location:a,value1:null,value2:null,value3:null,value4:null});var d=n.indexOf("[");d>0&&(n=n.substr(0,d),i.hasOwnProperty(n)||(a=s.getUniformLocation(e,n),a!==null&&(i[n]={name:n,location:a,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(s){return this.uniforms.hasOwnProperty(s)},resetUniform:function(s){var e=this.uniforms[s];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(s,e,i,l){var n=this.uniforms[e];return n?((l||n.value1!==i)&&(n.value1=i,this.renderer.setProgram(this.program),s.call(this.gl,n.location,i),this.pipeline.currentShader=this),this):this},setUniform2:function(s,e,i,l,n){var a=this.uniforms[e];return a?((n||a.value1!==i||a.value2!==l)&&(a.value1=i,a.value2=l,this.renderer.setProgram(this.program),s.call(this.gl,a.location,i,l),this.pipeline.currentShader=this),this):this},setUniform3:function(s,e,i,l,n,a){var f=this.uniforms[e];return f?((a||f.value1!==i||f.value2!==l||f.value3!==n)&&(f.value1=i,f.value2=l,f.value3=n,this.renderer.setProgram(this.program),s.call(this.gl,f.location,i,l,n),this.pipeline.currentShader=this),this):this},setUniform4:function(s,e,i,l,n,a,f){var h=this.uniforms[e];return h?((f||h.value1!==i||h.value2!==l||h.value3!==n||h.value4!==a)&&(h.value1=i,h.value2=l,h.value3=n,h.value4=a,this.renderer.setProgram(this.program),s.call(this.gl,h.location,i,l,n,a),this.pipeline.currentShader=this),this):this},setBoolean:function(s,e){return this.setUniform1(this.gl.uniform1i,s,Number(e))},set1f:function(s,e){return this.setUniform1(this.gl.uniform1f,s,e)},set2f:function(s,e,i){return this.setUniform2(this.gl.uniform2f,s,e,i)},set3f:function(s,e,i,l){return this.setUniform3(this.gl.uniform3f,s,e,i,l)},set4f:function(s,e,i,l,n){return this.setUniform4(this.gl.uniform4f,s,e,i,l,n)},set1fv:function(s,e){return this.setUniform1(this.gl.uniform1fv,s,e,!0)},set2fv:function(s,e){return this.setUniform1(this.gl.uniform2fv,s,e,!0)},set3fv:function(s,e){return this.setUniform1(this.gl.uniform3fv,s,e,!0)},set4fv:function(s,e){return this.setUniform1(this.gl.uniform4fv,s,e,!0)},set1iv:function(s,e){return this.setUniform1(this.gl.uniform1iv,s,e,!0)},set2iv:function(s,e){return this.setUniform1(this.gl.uniform2iv,s,e,!0)},set3iv:function(s,e){return this.setUniform1(this.gl.uniform3iv,s,e,!0)},set4iv:function(s,e){return this.setUniform1(this.gl.uniform4iv,s,e,!0)},set1i:function(s,e){return this.setUniform1(this.gl.uniform1i,s,e)},set2i:function(s,e,i){return this.setUniform2(this.gl.uniform2i,s,e,i)},set3i:function(s,e,i,l){return this.setUniform3(this.gl.uniform3i,s,e,i,l)},set4i:function(s,e,i,l,n){return this.setUniform4(this.gl.uniform4i,s,e,i,l,n)},setMatrix2fv:function(s,e,i){return this.setUniform2(this.gl.uniformMatrix2fv,s,e,i,!0)},setMatrix3fv:function(s,e,i){return this.setUniform2(this.gl.uniformMatrix3fv,s,e,i,!0)},setMatrix4fv:function(s,e,i){return this.setUniform2(this.gl.uniformMatrix4fv,s,e,i,!0)},createProgram:function(s,e){s===void 0&&(s=this.vertSrc),e===void 0&&(e=this.fragSrc);var i=this.gl;return this.program&&i.deleteProgram(this.program),this.vertSrc=s,this.fragSrc=e,this.program=this.renderer.createProgram(s,e),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});p.exports=r},71402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=S},55478:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(71402),v=t(98611),o={PipelineManager:t(35217),Pipelines:t(62253),RenderTarget:t(37410),Utils:t(75512),WebGLPipeline:t(44775),WebGLRenderer:t(11857),WebGLShader:t(71305)};o=v(!1,o,u),p.exports=o},5583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=t(91679),r=t(89053),s=t(71402),e=t(44775),i=new u({Extends:e,initialize:function(n){n.fragShader=v(n,"fragShader",o),n.vertShader=v(n,"vertShader",r),n.batchSize=v(n,"batchSize",1),n.vertices=v(n,"vertices",[-1,1,-1,-7,7,1]),n.attributes=v(n,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),e.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,n){e.prototype.resize.call(this,l,n),this.set2f("uResolution",l,n)},beginMask:function(l,n,a){this.renderer.beginBitmapMask(l,a)},endMask:function(l,n,a){var f=this.gl,h=this.renderer,d=l.bitmapMask;d&&f&&(h.drawBitmapMask(d,n,this),a&&this.set2f("uResolution",a.width,a.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),a&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});p.exports=i},81828:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(58136),o=t(47406),r=t(72632),s=t(87228),e=t(92462),i=t(75512),l=new u({Extends:s,initialize:function(a){a.shaders=[i.setGlowQuality(e.FXGlowFrag,a.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],s.call(this,a);var f=this.game;this.glow=new v.Glow(f),this.shadow=new v.Shadow(f),this.pixelate=new v.Pixelate(f),this.vignette=new v.Vignette(f),this.shine=new v.Shine(f),this.gradient=new v.Gradient(f),this.circle=new v.Circle(f),this.barrel=new v.Barrel(f),this.wipe=new v.Wipe(f),this.bokeh=new v.Bokeh(f);var h=[];h[o.GLOW]=this.onGlow,h[o.SHADOW]=this.onShadow,h[o.PIXELATE]=this.onPixelate,h[o.VIGNETTE]=this.onVignette,h[o.SHINE]=this.onShine,h[o.BLUR]=this.onBlur,h[o.GRADIENT]=this.onGradient,h[o.BLOOM]=this.onBloom,h[o.COLOR_MATRIX]=this.onColorMatrix,h[o.CIRCLE]=this.onCircle,h[o.BARREL]=this.onBarrel,h[o.DISPLACEMENT]=this.onDisplacement,h[o.WIPE]=this.onWipe,h[o.BOKEH]=this.onBokeh,this.fxHandlers=h,this.source,this.target,this.swap},onDraw:function(n,a,f){this.source=n,this.target=a,this.swap=f;var h=n.width,d=n.height,c=this.tempSprite,g=this.fxHandlers;if(c&&c.preFX)for(var x=c.preFX.list,m=0;m<x.length;m++){var y=x[m];y.active&&g[y.type].call(this,y,h,d)}this.drawToGame(this.source)},runDraw:function(){var n=this.source,a=this.target;this.copy(n,a),this.source=a,this.target=n},onGlow:function(n,a,f){var h=this.shaders[o.GLOW];this.setShader(h),this.glow.onPreRender(n,h,a,f),this.runDraw()},onShadow:function(n){var a=this.shaders[o.SHADOW];this.setShader(a),this.shadow.onPreRender(n,a),this.runDraw()},onPixelate:function(n,a,f){var h=this.shaders[o.PIXELATE];this.setShader(h),this.pixelate.onPreRender(n,h,a,f),this.runDraw()},onVignette:function(n){var a=this.shaders[o.VIGNETTE];this.setShader(a),this.vignette.onPreRender(n,a),this.runDraw()},onShine:function(n,a,f){var h=this.shaders[o.SHINE];this.setShader(h),this.shine.onPreRender(n,h,a,f),this.runDraw()},onBlur:function(n,a,f){var h=r(n,"quality"),d=this.shaders[o.BLUR+h];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",a,f),this.set1f("strength",r(n,"strength")),this.set3fv("color",r(n,"glcolor"));for(var c=r(n,"x"),g=r(n,"y"),x=r(n,"steps"),m=0;m<x;m++)this.set2f("offset",c,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw()},onGradient:function(n){var a=this.shaders[o.GRADIENT];this.setShader(a),this.gradient.onPreRender(n,a),this.runDraw()},onBloom:function(n,a,f){var h=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(h),this.set1i("uMainSampler",0),this.set1f("strength",r(n,"blurStrength")),this.set3fv("color",r(n,"glcolor"));for(var d=2/a*r(n,"offsetX"),c=2/f*r(n,"offsetY"),g=r(n,"steps"),x=0;x<g;x++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,c),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(n,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(n){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",n.getData()),this.set1f("uAlpha",n.alpha),this.runDraw()},onCircle:function(n,a,f){var h=this.shaders[o.CIRCLE];this.setShader(h),this.circle.onPreRender(n,h,a,f),this.runDraw()},onBarrel:function(n){var a=this.shaders[o.BARREL];this.setShader(a),this.barrel.onPreRender(n,a),this.runDraw()},onDisplacement:function(n){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.runDraw()},onWipe:function(n){var a=this.shaders[o.WIPE];this.setShader(a),this.wipe.onPreRender(n,a),this.runDraw()},onBokeh:function(n,a,f){var h=this.shaders[o.BOKEH];this.setShader(h),this.bokeh.onPreRender(n,h,a,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,s.prototype.destroy.call(this),this}});p.exports=l},66901:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=t(65045),r=t(77310),s=t(69360),e=t(93736),i=t(44775),l=new u({Extends:r,initialize:function(a){var f=v(a,"fragShader",o);a.fragShader=f.replace("%LIGHT_COUNT%",a.game.renderer.config.maxLights),r.call(this,a),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new s,this._tempMatrix2=new s},boot:function(){i.prototype.boot.call(this);var n=this.gl,a=n.createTexture();n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,a),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:a}},onRender:function(n,a){var f=n.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var h=f.getLights(a),d=h.length;this.lightsActive=!0;var c,g=this.renderer,x=g.height,m=a.matrix,y=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",a.x,a.y,a.rotation,a.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),c=0;c<d;c++){var T=h[c].light,R=T.color,P="uLights["+c+"].";m.transformPoint(T.x,T.y,y),this.set2f(P+"position",y.x-a.scrollX*T.scrollFactorX*a.zoom,x-(y.y-a.scrollY*T.scrollFactorY*a.zoom)),this.set3f(P+"color",R.r,R.g,R.b),this.set1f(P+"intensity",T.intensity),this.set1f(P+"radius",T.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(n){if(n!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var a=this.inverseRotationMatrix;if(n){var f=-n,h=Math.cos(f),d=Math.sin(f);a[1]=d,a[3]=-d,a[0]=a[4]=h}else a[0]=a[4]=1,a[1]=a[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,a),this.currentNormalMapRotation=n}},setTexture2D:function(n,a){var f=this.renderer;n===void 0&&(n=f.whiteTexture);var h=this.getNormalMap(a);this.isNewNormalMap(n,h)&&(this.flush(),this.createBatch(n),this.addTextureToBatch(h),this.currentNormalMap=h);var d=0;if(a&&a.parentContainer){var c=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=c.rotationNormalized}else a&&(d=a.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(n,a){a===void 0&&(a=n.frame);var f=a.glTexture,h=this.getNormalMap(n);if(this.isNewNormalMap(f,h)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(h),this.currentNormalMap=h),n.parentContainer){var d=n.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(n.rotation);return 0},isNewNormalMap:function(n,a){return this.currentTexture!==n||this.currentNormalMap!==a},getNormalMap:function(n){var a;return n?n.displayTexture?a=n.displayTexture.dataSource[n.displayFrame.sourceIndex]:n.texture?a=n.texture.dataSource[n.frame.sourceIndex]:n.tileset&&(Array.isArray(n.tileset)?a=n.tileset[0].image.dataSource[0]:a=n.tileset.image.dataSource[0]):a=this.defaultNormalMap,a||(a=this.defaultNormalMap),a.glTexture},batchSprite:function(n,a,f){this.lightsActive&&r.prototype.batchSprite.call(this,n,a,f)},batchTexture:function(n,a,f,h,d,c,g,x,m,y,T,R,P,D,I,w,U,G,H,z,$,J,W,K,N,b,Y,j,Q,q,tt,it){this.lightsActive&&r.prototype.batchTexture.call(this,n,a,f,h,d,c,g,x,m,y,T,R,P,D,I,w,U,G,H,z,$,J,W,K,N,b,Y,j,Q,q,tt,it)},batchTextureFrame:function(n,a,f,h,d,c,g){this.lightsActive&&r.prototype.batchTextureFrame.call(this,n,a,f,h,d,c,g)}});p.exports=l},71264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=t(77310),r=t(85060),s=t(18166),e=t(71402),i=t(44775),l=new u({Extends:o,initialize:function(a){a.fragShader=v(a,"fragShader",r),a.vertShader=v(a,"vertShader",s),a.attributes=v(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),a.forceZero=!0,o.call(this,a)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0)}});p.exports=l},77310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(11117),o=t(72632),r=t(53787),s=t(15968),e=t(69360),i=t(75512),l=t(71402),n=t(44775),a=new u({Extends:n,initialize:function(h){var d=h.game.renderer,c=o(h,"fragShader",r);h.fragShader=i.parseFragmentShaderMaxTextures(c,d.maxTextures),h.vertShader=o(h,"vertShader",s),h.attributes=o(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),n.call(this,h),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){n.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(f,h,d){this.manager.set(this,f);var c=this._tempMatrix1,g=this._tempMatrix2,x=this._tempMatrix3,m=f.frame,y=m.glTexture,T=m.u0,R=m.v0,P=m.u1,D=m.v1,I=m.x,w=m.y,U=m.cutWidth,G=m.cutHeight,H=m.customPivot,z=f.displayOriginX,$=f.displayOriginY,J=-z+I,W=-$+w;if(f.isCropped){var K=f._crop;(K.flipX!==f.flipX||K.flipY!==f.flipY)&&m.updateCropUVs(K,f.flipX,f.flipY),T=K.u0,R=K.v0,P=K.u1,D=K.v1,U=K.width,G=K.height,I=K.x,w=K.y,J=-z+I,W=-$+w}var N=1,b=1;f.flipX&&(H||(J+=-m.realWidth+z*2),N=-1),(f.flipY||m.source.isGLTexture&&!y.flipY)&&(H||(W+=-m.realHeight+$*2),b=-1);var Y=f.x,j=f.y;g.applyITRS(Y,j,f.rotation,f.scaleX*N,f.scaleY*b),c.copyFrom(h.matrix),d?(c.multiplyWithOffset(d,-h.scrollX*f.scrollFactorX,-h.scrollY*f.scrollFactorY),g.e=Y,g.f=j):(g.e-=h.scrollX*f.scrollFactorX,g.f-=h.scrollY*f.scrollFactorY),c.multiply(g,x);var Q=x.setQuad(J,W,J+U,W+G,h.roundPixels),q=i.getTintAppendFloatAlpha,tt=h.alpha,it=q(f.tintTopLeft,tt*f._alphaTL),st=q(f.tintTopRight,tt*f._alphaTR),lt=q(f.tintBottomLeft,tt*f._alphaBL),ut=q(f.tintBottomRight,tt*f._alphaBR);this.shouldFlush(6)&&this.flush();var vt=this.setGameObject(f,m);this.manager.preBatch(f),this.batchQuad(f,Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],T,R,P,D,it,st,lt,ut,f.tintFill,y,vt),this.manager.postBatch(f)},batchTexture:function(f,h,d,c,g,x,m,y,T,R,P,D,I,w,U,G,H,z,$,J,W,K,N,b,Y,j,Q,q,tt,it,st,lt){this.manager.set(this,f);var ut=this._tempMatrix1,vt=this._tempMatrix2,ft=this._tempMatrix3,Et=z/d+Q,It=$/c+q,Nt=(z+J)/d+Q,Dt=($+W)/c+q,pt=m,Pt=y,Lt=-G,ee=-H;if(f.isCropped){var Jt=f._crop,Ee=Jt.width,de=Jt.height;pt=Ee,Pt=de,m=Ee,y=de,z=Jt.x,$=Jt.y;var oe=z,te=$;D&&(oe=J-Jt.x-Ee),I&&(te=W-Jt.y-de),Et=oe/d+Q,It=te/c+q,Nt=(oe+Ee)/d+Q,Dt=(te+de)/c+q,Lt=-G+z,ee=-H+$}I=I^(!st&&h.isRenderTexture?1:0),D&&(pt*=-1,Lt+=m),I&&(Pt*=-1,ee+=y),vt.applyITRS(g,x,P,T,R),ut.copyFrom(tt.matrix),it?(ut.multiplyWithOffset(it,-tt.scrollX*w,-tt.scrollY*U),vt.e=g,vt.f=x):(vt.e-=tt.scrollX*w,vt.f-=tt.scrollY*U),ut.multiply(vt,ft);var ue=ft.setQuad(Lt,ee,Lt+pt,ee+Pt,tt.roundPixels);lt===void 0&&(lt=this.setTexture2D(h)),f&&this.manager.preBatch(f),this.batchQuad(f,ue[0],ue[1],ue[2],ue[3],ue[4],ue[5],ue[6],ue[7],Et,It,Nt,Dt,K,N,b,Y,j,h,lt),f&&this.manager.postBatch(f)},batchTextureFrame:function(f,h,d,c,g,x,m){this.manager.set(this);var y=this._tempMatrix1.copyFrom(x),T=this._tempMatrix2;m?y.multiply(m,T):T=y;var R=T.setQuad(h,d,h+f.width,d+f.height,!1),P=this.setTexture2D(f.source.glTexture);c=i.getTintAppendFloatAlpha(c,g),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],f.u0,f.v0,f.u1,f.v1,c,c,c,c,0,f.glTexture,P)},batchFillRect:function(f,h,d,c,g,x){this.renderer.pipelines.set(this);var m=this.calcMatrix;x&&x.multiply(g,m);var y=m.setQuad(f,h,f+d,h+c,!1),T=this.fillTint;this.batchQuad(null,y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],0,0,1,1,T.TL,T.TR,T.BL,T.BR,2)},batchFillTriangle:function(f,h,d,c,g,x,m,y){this.renderer.pipelines.set(this);var T=this.calcMatrix;y&&y.multiply(m,T);var R=T.getX(f,h),P=T.getY(f,h),D=T.getX(d,c),I=T.getY(d,c),w=T.getX(g,x),U=T.getY(g,x),G=this.fillTint;this.batchTri(null,R,P,D,I,w,U,0,0,1,1,G.TL,G.TR,G.BL,2)},batchStrokeTriangle:function(f,h,d,c,g,x,m,y,T){var R=this.tempTriangle;R[0].x=f,R[0].y=h,R[0].width=m,R[1].x=d,R[1].y=c,R[1].width=m,R[2].x=g,R[2].y=x,R[2].width=m,R[3].x=f,R[3].y=h,R[3].width=m,this.batchStrokePath(R,m,!1,y,T)},batchFillPath:function(f,h,d){this.renderer.pipelines.set(this);var c=this.calcMatrix;d&&d.multiply(h,c);for(var g=f.length,x=this.polygonCache,m,y,T=this.fillTint.TL,R=this.fillTint.TR,P=this.fillTint.BL,D=0;D<g;++D)y=f[D],x.push(y.x,y.y);m=v(x),g=m.length;for(var I=0;I<g;I+=3){var w=m[I+0]*2,U=m[I+1]*2,G=m[I+2]*2,H=x[w+0],z=x[w+1],$=x[U+0],J=x[U+1],W=x[G+0],K=x[G+1],N=c.getX(H,z),b=c.getY(H,z),Y=c.getX($,J),j=c.getY($,J),Q=c.getX(W,K),q=c.getY(W,K);this.batchTri(null,N,b,Y,j,Q,q,0,0,1,1,T,R,P,2)}x.length=0},batchStrokePath:function(f,h,d,c,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var x=f.length-1,m=0;m<x;m++){var y=f[m],T=f[m+1];this.batchLine(y.x,y.y,T.x,T.y,y.width/2,T.width/2,h,m,!d&&m===x-1,c,g)}},batchLine:function(f,h,d,c,g,x,m,y,T,R,P){this.renderer.pipelines.set(this);var D=this.calcMatrix;P&&P.multiply(R,D);var I=d-f,w=c-h,U=Math.sqrt(I*I+w*w);if(U!==0){var G=g*(c-h)/U,H=g*(f-d)/U,z=x*(c-h)/U,$=x*(f-d)/U,J=d-z,W=c-$,K=f-G,N=h-H,b=d+z,Y=c+$,j=f+G,Q=h+H,q=D.getX(J,W),tt=D.getY(J,W),it=D.getX(K,N),st=D.getY(K,N),lt=D.getX(b,Y),ut=D.getY(b,Y),vt=D.getX(j,Q),ft=D.getY(j,Q),Et=this.strokeTint,It=Et.TL,Nt=Et.TR,Dt=Et.BL,pt=Et.BR;if(this.batchQuad(null,vt,ft,it,st,q,tt,lt,ut,0,0,1,1,It,Nt,Dt,pt,2),!(m<=2)){var Pt=this.prevQuad,Lt=this.firstQuad;y>0&&Pt[4]?this.batchQuad(null,vt,ft,it,st,Pt[0],Pt[1],Pt[2],Pt[3],0,0,1,1,It,Nt,Dt,pt,2):(Lt[0]=vt,Lt[1]=ft,Lt[2]=it,Lt[3]=st,Lt[4]=1),T&&Lt[4]?this.batchQuad(null,q,tt,lt,ut,Lt[0],Lt[1],Lt[2],Lt[3],0,0,1,1,It,Nt,Dt,pt,2):(Pt[0]=q,Pt[1]=tt,Pt[2]=lt,Pt[3]=ut,Pt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,n.prototype.destroy.call(this),this}});p.exports=a},10919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=t(83327),r=t(54677),s=t(44775),e=new u({Extends:s,initialize:function(l){l.vertShader=v(l,"vertShader",r),l.fragShader=v(l,"fragShader",o),l.attributes=v(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,l)},onRender:function(i,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(i,l,n,a,f,h,d,c,g,x,m,y){var T=i.color,R=i.intensity,P=i.radius,D=i.attenuation,I=T.r*R,w=T.g*R,U=T.b*R,G=l.alpha*i.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(n,a,m,y,P,D,I,w,U,G),this.batchLightVert(f,h,m,y,P,D,I,w,U,G),this.batchLightVert(d,c,m,y,P,D,I,w,U,G),this.batchLightVert(n,a,m,y,P,D,I,w,U,G),this.batchLightVert(d,c,m,y,P,D,I,w,U,G),this.batchLightVert(g,x,m,y,P,D,I,w,U,G),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(i,l,n,a,f,h,d,c,g,x){var m=this.vertexViewF32,y=this.vertexCount*this.currentShader.vertexComponentCount-1;m[++y]=i,m[++y]=l,m[++y]=n,m[++y]=a,m[++y]=f,m[++y]=h,m[++y]=d,m[++y]=c,m[++y]=g,m[++y]=x,this.vertexCount++}});p.exports=e},80486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(65246),o=t(72632),r=t(12569),s=t(99365),e=t(44775),i=new u({Extends:e,initialize:function(n){n.renderTarget=o(n,"renderTarget",1),n.fragShader=o(n,"fragShader",r),n.vertShader=o(n,"vertShader",s),n.attributes=o(n,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),n.batchSize=1,n.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,n),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,n,a){a===void 0&&(a=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture);var h=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,n.framebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,n.texture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),a&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,h))},copyFrame:function(l,n,a,f,h){this.manager.copyFrame(l,n,a,f,h)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,n,a){this.manager.drawFrame(l,n,a,this.colorMatrix)},blendFrames:function(l,n,a,f,h){this.manager.blendFrames(l,n,a,f,h)},blendFramesAdditive:function(l,n,a,f,h){this.manager.blendFramesAdditive(l,n,a,f,h)},clearFrame:function(l,n){this.manager.clearFrame(l,n)},blitFrame:function(l,n,a,f,h,d){this.manager.blitFrame(l,n,a,f,h,d)},copyFrameRect:function(l,n,a,f,h,d,c,g){this.manager.copyFrameRect(l,n,a,f,h,d,c,g)},bindAndDraw:function(l,n,a,f,h){a===void 0&&(a=!0),f===void 0&&(f=!0);var d=this.gl,c=this.renderer;this.bind(h),this.set1i("uMainSampler",0),n?(d.viewport(0,0,n.width,n.height),d.bindFramebuffer(d.FRAMEBUFFER,n.framebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,n.texture,0),a&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(c.popFramebuffer(!1,!1),c.currentFramebuffer||d.viewport(0,0,c.width,c.height)),c.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),n&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,c.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,e.prototype.destroy.call(this),this}});p.exports=i},87228:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95723),v=t(79993),o=t(56694),r=t(37486),s=t(72632),e=t(77310),i=t(12569),l=t(74118),n=t(37410),a=t(85060),f=t(18166),h=t(44775),d=new o({Extends:e,initialize:function(g){var x=s(g,"fragShader",i),m=s(g,"vertShader",f),y=s(g,"drawShader",i),T=[{name:"DrawSprite",fragShader:a,vertShader:f},{name:"CopySprite",fragShader:x,vertShader:m},{name:"DrawGame",fragShader:y,vertShader:f},{name:"ColorMatrix",fragShader:r}],R=s(g,"shaders",[]);g.shaders=T.concat(R),g.vertShader||(g.vertShader=m),g.batchSize=1,e.call(this,g),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){h.prototype.boot.call(this);var c=this.shaders,g=this.renderer;this.drawSpriteShader=c[0],this.copyShader=c[1],this.gameShader=c[2],this.colorMatrixShader=c[3],this.fsTarget=new n(g,g.width,g.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var x=new ArrayBuffer(168);this.quadVertexData=x,this.quadVertexViewF32=new Float32Array(x),this.quadVertexBuffer=g.createVertexBuffer(x,this.gl.STATIC_DRAW),this.onResize(g.width,g.height),this.currentShader=this.copyShader},onResize:function(c,g){var x=this.quadVertexViewF32;x[1]=g,x[22]=g,x[14]=c,x[28]=c,x[35]=c,x[36]=g},batchQuad:function(c,g,x,m,y,T,R,P,D,I,w,U,G,H,z,$,J,W,K){var N=Math.min(g,m,T,P),b=Math.min(x,y,R,D),Y=Math.max(g,m,T,P),j=Math.max(x,y,R,D),Q=Y-N,q=j-b,tt=this.spriteBounds.setTo(N,b,Q,q),it=c?c.preFX.padding:0,st=Q+it*2,lt=q+it*2,ut=Math.abs(Math.max(st,lt)),vt=this.manager.getRenderTarget(ut),ft=this.targetBounds.setTo(0,0,vt.width,vt.height);v(ft,tt.centerX,tt.centerY),this.tempSprite=c;var Et=this.gl,It=this.renderer;It.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),c&&(this.onDrawSprite(c,vt),c.preFX.onFX(this));var Nt=this.fsTarget;return this.flush(),Et.viewport(0,0,It.width,It.height),Et.bindFramebuffer(Et.FRAMEBUFFER,Nt.framebuffer),Et.framebufferTexture2D(Et.FRAMEBUFFER,Et.COLOR_ATTACHMENT0,Et.TEXTURE_2D,Nt.texture,0),Et.clearColor(0,0,0,0),Et.clear(Et.COLOR_BUFFER_BIT),this.setTexture2D(K),this.batchVert(g,x,I,w,0,W,H),this.batchVert(m,y,I,G,0,W,$),this.batchVert(T,R,U,G,0,W,J),this.batchVert(g,x,I,w,0,W,H),this.batchVert(T,R,U,G,0,W,J),this.batchVert(P,D,U,w,0,W,z),this.flush(),this.flipProjectionMatrix(!1),Et.activeTexture(Et.TEXTURE0),Et.bindTexture(Et.TEXTURE_2D,vt.texture),Et.copyTexSubImage2D(Et.TEXTURE_2D,0,0,0,ft.x,ft.y,ft.width,ft.height),Et.bindFramebuffer(Et.FRAMEBUFFER,null),Et.bindTexture(Et.TEXTURE_2D,null),this.onBatch(c),this.currentShader=this.copyShader,this.onDraw(vt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(c,g,x,m,y,T,R){x===void 0&&(x=!0),m===void 0&&(m=!0),y===void 0&&(y=!1),R===void 0&&(R=this.copyShader);var P=this.gl,D=this.tempSprite;T&&(R=this.colorMatrixShader),this.currentShader=R;var I=this.setVertexBuffer(this.quadVertexBuffer);if(R.bind(I,!1),this.set1i("uMainSampler",0),D.preFX.onFXCopy(this),this.onCopySprite(c,g,D),T&&(this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.texture),c.height>g.height)P.viewport(0,0,c.width,c.height),this.setTargetUVs(c,g);else{var w=g.height-c.height;P.viewport(0,w,c.width,c.height),this.resetUVs()}if(P.bindFramebuffer(P.FRAMEBUFFER,g.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,g.texture,0),x&&(P.clearColor(0,0,0,+!m),P.clear(P.COLOR_BUFFER_BIT)),y){var U=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),y&&this.renderer.setBlendMode(U),P.bindFramebuffer(P.FRAMEBUFFER,null)},copy:function(c,g){var x=this.gl;this.set1i("uMainSampler",0),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,c.texture),x.viewport(0,0,c.width,c.height),this.setUVs(0,0,0,1,1,1,1,0),x.bindFramebuffer(x.FRAMEBUFFER,g.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,g.texture,0),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.quadVertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null)},blendFrames:function(c,g,x,m,y){this.manager.blendFrames(c,g,x,m,y)},blendFramesAdditive:function(c,g,x,m,y){this.manager.blendFramesAdditive(c,g,x,m,y)},drawToGame:function(c){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(c)},copyToGame:function(c){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(c)},bindAndDraw:function(c){var g=this.gl,x=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(c.texture);var m=this._tempMatrix1.loadIdentity(),y=this.targetBounds.x,T=this.targetBounds.y,R=y+c.width,P=T+c.height,D=m.getX(y,T),I=m.getX(y,P),w=m.getX(R,P),U=m.getX(R,T),G=m.getY(y,T),H=m.getY(y,P),z=m.getY(R,P),$=m.getY(R,T),J=16777215;this.batchVert(D,G,0,0,0,0,J),this.batchVert(I,H,0,1,0,0,J),this.batchVert(w,z,1,1,0,0,J),this.batchVert(D,G,0,0,0,0,J),this.batchVert(w,z,1,1,0,0,J),this.batchVert(U,$,1,0,0,0,J),x.restoreFramebuffer(!1,!0),x.currentFramebuffer||g.viewport(0,0,x.width,x.height),x.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(c){this.drawToGame(c)},setUVs:function(c,g,x,m,y,T,R,P){var D=this.quadVertexViewF32;D[2]=c,D[3]=g,D[9]=x,D[10]=m,D[16]=y,D[17]=T,D[23]=c,D[24]=g,D[30]=y,D[31]=T,D[37]=R,D[38]=P},setTargetUVs:function(c,g){var x=g.height/c.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});p.exports=d},21213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=t(77310),r=new u({Extends:o,initialize:function(e){e.topology=5,e.batchSize=v(e,"batchSize",256),o.call(this,e)}});p.exports=r},51212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=t(77310),r=t(85060),s=t(18166),e=t(44775),i=new u({Extends:o,initialize:function(n){n.fragShader=v(n,"fragShader",r),n.vertShader=v(n,"vertShader",s),n.forceZero=!0,o.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0)}});p.exports=i},60848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2529),v=t(95723),o=t(56694),r=t(65246),s=t(37486),e=t(79060),i=t(72632),l=t(98921),n=t(99365),a=t(44775),f=new o({Extends:a,initialize:function(d){d.renderTarget=i(d,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),d.vertShader=i(d,"vertShader",n),d.shaders=i(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:u},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:s}]),d.attributes=i(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,a.call(this,d),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){a.prototype.boot.call(this);var h=this.shaders,d=this.renderTargets;this.copyShader=h[0],this.addShader=h[1],this.linearShader=h[2],this.colorMatrixShader=h[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(h,d,c,g,x){c===void 0&&(c=1),g===void 0&&(g=!0),x===void 0&&(x=!0);var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,h.texture),d?(m.viewport(0,0,d.width,d.height),m.bindFramebuffer(m.FRAMEBUFFER,d.framebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,d.texture,0)):m.viewport(0,0,h.width,h.height),g&&(x?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT)),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindTexture(m.TEXTURE_2D,null)},blitFrame:function(h,d,c,g,x,m,y){c===void 0&&(c=1),g===void 0&&(g=!0),x===void 0&&(x=!0),m===void 0&&(m=!1),y===void 0&&(y=!1);var T=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,h.texture),h.height>d.height)T.viewport(0,0,h.width,h.height),this.setTargetUVs(h,d);else{var R=d.height-h.height;T.viewport(0,R,h.width,h.height)}if(T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture,0),g&&(x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),m){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}y&&this.flipY(),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),m&&this.renderer.setBlendMode(P),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(h,d,c,g,x,m,y,T){y===void 0&&(y=!0),T===void 0&&(T=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,h.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,h.texture,0),y&&(T?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,d.texture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,c,g,x,m),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(h){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,h.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(h,d,c,g){c===void 0&&(c=!0),g===void 0&&(g=this.colorMatrix);var x=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,h.texture),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture,0)):x.viewport(0,0,h.width,h.height),c?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blendFrames:function(h,d,c,g,x,m){g===void 0&&(g=1),x===void 0&&(x=!0),m===void 0&&(m=this.linearShader);var y=this.gl;this.setShader(m),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,h.texture),y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,d.texture),c?(y.bindFramebuffer(y.FRAMEBUFFER,c.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,c.texture,0),y.viewport(0,0,c.width,c.height)):y.viewport(0,0,h.width,h.height),x?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFramesAdditive:function(h,d,c,g,x){this.blendFrames(h,d,c,g,x,this.addShader)},clearFrame:function(h,d){d===void 0&&(d=!0);var c=this.gl;c.viewport(0,0,h.width,h.height),c.bindFramebuffer(c.FRAMEBUFFER,h.framebuffer),d?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;c.bindFramebuffer(c.FRAMEBUFFER,g)},setUVs:function(h,d,c,g,x,m,y,T){var R=this.vertexViewF32;R[2]=h,R[3]=d,R[6]=c,R[7]=g,R[10]=x,R[11]=m,R[14]=h,R[15]=d,R[18]=x,R[19]=m,R[22]=y,R[23]=T},setTargetUVs:function(h,d){var c=d.height/h.height;c>.5?c=.5-(c-.5):c=.5+(.5-c),this.setUVs(0,c,0,1+c,1,1+c,1,c)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=f},65641:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=S},68726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},67186:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},22709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},74469:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},93953:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},51687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},25034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},18970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(68726),BEFORE_FLUSH:t(67186),BIND:t(22709),BOOT:t(74469),DESTROY:t(93953),REBIND:t(51687),RESIZE:t(25034)}},32469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(87751),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(s,e){s=this.getController(s),this.set1f("amount",s.amount,e)}});p.exports=r},2134:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(88222),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(s){s=this.getController(s),this.set1f("strength",s.blurStrength),this.set3fv("color",s.glcolor)},onDraw:function(s){var e=this.getController(),i=this.fullFrame1,l=this.fullFrame2;this.copyFrame(s,l);for(var n=2/s.width*e.offsetX,a=2/s.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",n,0),this.copySprite(s,i),this.set2f("offset",0,a),this.copySprite(i,s);this.blendFrames(l,s,i,e.strength),this.copyToGame(i)}});p.exports=r},63377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(35491),o=t(75568),r=t(44481),s=t(80486),e=new u({Extends:s,initialize:function(l){s.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(i){var l=this.getController(),n=this.gl,a=this.fullFrame1,f=n.getParameter(n.FRAMEBUFFER_BINDING);this.bind(this.activeShader),n.activeTexture(n.TEXTURE0),n.viewport(0,0,i.width,i.height),this.set1i("uMainSampler",0),this.set2f("resolution",i.width,i.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var h=0;h<l.steps;h++)this.set2f("offset",l.x,0),this.copySprite(i,a),this.set2f("offset",0,l.y),this.copySprite(a,i);n.bindFramebuffer(n.FRAMEBUFFER,f),n.bindTexture(n.TEXTURE_2D,null),this.copyToGame(i)}});p.exports=e},49745:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(69960),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(s,e,i,l){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("amount",s.amount,e),this.set1f("contrast",s.contrast,e),this.set1f("strength",s.strength,e),this.set2f("blur",s.blurX,s.blurY,e),this.setBoolean("isTiltShift",s.isTiltShift,e),i&&l&&this.set2f("resolution",i,l,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},4323:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(33754),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(s,e,i,l){s=this.getController(s),this.set1f("scale",s.scale,e),this.set1f("feather",s.feather,e),this.set1f("thickness",s.thickness,e),this.set3fv("color",s.glcolor,e),this.set4fv("backgroundColor",s.glcolor2,e),i&&l&&this.set2f("resolution",i,l,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},92066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(80486),o=new u({Extends:v,initialize:function(s){v.call(this,{game:s})},onDraw:function(r){var s=this.fullFrame1;this.controller?this.manager.drawFrame(r,s,!0,this.controller):this.drawFrame(r,s),this.copyToGame(s)}});p.exports=o},89581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(35668),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(s){var e=this.game.textures.getFrame(s);e&&(this.glTexture=e.glTexture)},onDraw:function(s){var e=this.getController(),i=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(s,i),this.copyToGame(i)}});p.exports=r},55084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=t(69675),r=t(80486),s=t(75512),e=new u({Extends:r,initialize:function(l,n){var a=v(n,"quality",.1),f=v(n,"distance",10);r.call(this,{game:l,fragShader:s.setGlowQuality(o,l,a,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(i,l,n,a){i=this.getController(i),this.set1f("outerStrength",i.outerStrength,l),this.set1f("innerStrength",i.innerStrength,l),this.set4fv("glowColor",i.glcolor,l),this.setBoolean("knockout",i.knockout,l),n&&a&&this.set2f("resolution",n,a,l)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});p.exports=e},41653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(90993),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(s,e){s=this.getController(s),this.set1f("alpha",s.alpha,e),this.set1i("size",s.size,e),this.set3fv("color1",s.glcolor1,e),this.set3fv("color2",s.glcolor2,e),this.set2f("positionFrom",s.fromX,s.fromY,e),this.set2f("positionTo",s.toX,s.toY,e)}});p.exports=r},73416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(37945),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(s,e,i,l){s=this.getController(s),this.set1f("amount",s.amount,e),i&&l&&this.set2f("resolution",i,l,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},58049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(85718),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(s,e){s=this.getController(s);var i=s.samples;this.set1i("samples",i,e),this.set1f("intensity",s.intensity,e),this.set1f("decay",s.decay,e),this.set1f("power",s.power/i,e),this.set2f("lightPosition",s.x,s.y,e),this.set4fv("color",s.glcolor,e)}});p.exports=r},18026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(13740),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(s,e,i,l){s=this.getController(s),this.setTime("time",e),this.set1f("speed",s.speed,e),this.set1f("lineWidth",s.lineWidth,e),this.set1f("gradient",s.gradient,e),this.setBoolean("reveal",s.reveal,e),i&&l&&this.set2f("resolution",i,l,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},72381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(80617),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(s,e){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("strength",s.strength,e),this.set2f("position",s.x,s.y,e)}});p.exports=r},80542:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(62879),o=t(80486),r=new u({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(s,e){s=this.getController(s);var i=s.progress,l=s.wipeWidth,n=s.direction,a=s.axis;this.set4f("config",i,l,n,a,e),this.setBoolean("reveal",s.reveal,e)}});p.exports=r},58136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Barrel:t(32469),Bloom:t(2134),Blur:t(63377),Bokeh:t(49745),Circle:t(4323),ColorMatrix:t(92066),Displacement:t(89581),Glow:t(55084),Gradient:t(41653),Pixelate:t(73416),Shadow:t(58049),Shine:t(18026),Vignette:t(72381),Wipe:t(80542)};p.exports=u},62253:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65641),v=t(98611),o={FX:t(58136),BitmapMaskPipeline:t(5583),Events:t(18970),FXPipeline:t(81828),LightPipeline:t(66901),MobilePipeline:t(71264),MultiPipeline:t(77310),PointLightPipeline:t(10919),PostFXPipeline:t(80486),PreFXPipeline:t(87228),RopePipeline:t(21213),SinglePipeline:t(51212),UtilityPipeline:t(60848)};o=v(!1,o,u),p.exports=o},2529:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(2529),BitmapMaskFrag:t(91679),BitmapMaskVert:t(89053),ColorMatrixFrag:t(37486),CopyFrag:t(79060),FXBarrelFrag:t(87751),FXBloomFrag:t(88222),FXBlurHighFrag:t(44481),FXBlurLowFrag:t(35491),FXBlurMedFrag:t(75568),FXBokehFrag:t(69960),FXCircleFrag:t(33754),FXDisplacementFrag:t(35668),FXGlowFrag:t(69675),FXGradientFrag:t(90993),FXPixelateFrag:t(37945),FXShadowFrag:t(85718),FXShineFrag:t(13740),FXVignetteFrag:t(80617),FXWipeFrag:t(62879),LightFrag:t(65045),LinearBlendFrag:t(98921),MeshFrag:t(25005),MeshVert:t(94914),MobileFrag:t(11263),MobileVert:t(51852),MultiFrag:t(53787),MultiVert:t(15968),PointLightFrag:t(83327),PointLightVert:t(54677),PostFXFrag:t(12569),QuadVert:t(99365),SingleFrag:t(85060),SingleVert:t(18166)}},756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(55301),v=t(56694),o=t(6659),r=t(40444),s=t(97081),e=t(74181),i=t(2893),l=t(9229),n=t(72283),a=t(74118),f=t(90881),h=t(84314),d=t(93736),c=t(47751),g=new v({Extends:o,initialize:function(m){o.call(this),this.game=m,this.canvas,this.canvasBounds=new a,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=u.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=u.CENTER.NO_CENTER,this.orientation=u.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:n,windowResize:n,fullScreenChange:n,fullScreenError:n}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen,this.scaleMode!==u.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===u.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(s.PRE_STEP,this.step,this),x.events.once(s.READY,this.refresh,this),x.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var m=x.width,y=x.height,T=x.scaleMode,R=x.zoom,P=x.autoRound;if(typeof m=="string"){var D=this.parentSize.width;D===0&&(D=window.innerWidth);var I=parseInt(m,10)/100;m=Math.floor(D*I)}if(typeof y=="string"){var w=this.parentSize.height;w===0&&(w=window.innerHeight);var U=parseInt(y,10)/100;y=Math.floor(w*U)}this.scaleMode=T,this.autoRound=P,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,P&&(m=Math.floor(m),y=Math.floor(y)),this.gameSize.setSize(m,y),R===u.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),this.zoom=R,R!==1&&(this._resetZoom=!0),this.baseSize.setSize(m,y),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*R,x.minHeight*R),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*R,x.maxHeight*R),this.displaySize.setSize(m,y),this.orientation=l(m,y)},getParent:function(x){var m=x.parent;if(m!==null){if(this.parent=i(m),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==u.SCALE_MODE.NONE){var y=this.parent.getBoundingClientRect();(this.parentIsWindow||y.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",y=this.parent.getBoundingClientRect(),!this.parentIsWindow&&y.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=i(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,m=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(m.height=e(!0));var y=m.width,T=m.height;if(x.width!==y||x.height!==T)return x.setSize(y,T),!0;if(this.canvas){var R=this.canvasBounds,P=this.canvas.getBoundingClientRect();if(P.x!==R.x||P.y!==R.y)return!0}return!1},lockOrientation:function(x){var m=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return m?m.call(screen,x):!1},setParentSize:function(x,m){return this.parentSize.setSize(x,m),this.refresh()},setGameSize:function(x,m){var y=this.autoRound;y&&(x=Math.floor(x),m=Math.floor(m));var T=this.width,R=this.height;return this.gameSize.resize(x,m),this.baseSize.resize(x,m),y&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/m),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(T,R)},resize:function(x,m){var y=this.zoom,T=this.autoRound;T&&(x=Math.floor(x),m=Math.floor(m));var R=this.width,P=this.height;this.gameSize.resize(x,m),this.baseSize.resize(x,m),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*y,m*y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,I=x*y,w=m*y;return T&&(I=Math.floor(I),w=Math.floor(w)),(I!==x||w!==m)&&(D.width=I+"px",D.height=w+"px"),this.refresh(R,P)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(x,m){x===void 0&&(x=this.width),m===void 0&&(m=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var y=this.game.domContainer;if(y){this.baseSize.setCSS(y);var T=this.canvas.style,R=y.style;R.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",R.marginLeft=T.marginLeft,R.marginTop=T.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,m),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=l(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(r.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,m=this.gameSize.width,y=this.gameSize.height,T,R,P=this.zoom,D=this.autoRound;this.scaleMode===u.SCALE_MODE.NONE?(this.displaySize.setSize(m*P,y*P),T=this.displaySize.width,R=this.displaySize.height,D&&(T=Math.floor(T),R=Math.floor(R)),this._resetZoom&&(x.width=T+"px",x.height=R+"px",this._resetZoom=!1)):this.scaleMode===u.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),T=this.displaySize.width,R=this.displaySize.height,D&&(T=Math.floor(T),R=Math.floor(R)),this.canvas.width=T,this.canvas.height=R):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),T=this.displaySize.width,R=this.displaySize.height,D&&(T=Math.floor(T),R=Math.floor(R)),x.width=T+"px",x.height=R+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=h(this.parentSize.width,this.gameSize.width,0,!0),m=h(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,m),1)},updateCenter:function(){var x=this.autoCenter;if(x!==u.CENTER.NO_CENTER){var m=this.canvas,y=m.style,T=m.getBoundingClientRect(),R=T.width,P=T.height,D=Math.floor((this.parentSize.width-R)/2),I=Math.floor((this.parentSize.height-P)/2);x===u.CENTER.CENTER_HORIZONTALLY?I=0:x===u.CENTER.CENTER_VERTICALLY&&(D=0),y.marginLeft=D+"px",y.marginTop=I+"px"}},updateBounds:function(){var x=this.canvasBounds,m=this.canvas.getBoundingClientRect();x.x=m.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=m.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=m.width,x.height=m.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var m=this.fullscreen;if(!m.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!m.active){var y=this.getFullscreenTarget();m.keyboard?y[m.request](Element.ALLOW_KEYBOARD_INPUT):y[m.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var m=this.canvas.parentNode;m.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var m=x.parentNode;m.insertBefore(this.canvas,x),m.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,m=this.domlisteners;if(m.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0},m.windowResize=function(){x.updateBounds(),x.dirty=!0},window.addEventListener("orientationchange",m.orientationChange,!1),window.addEventListener("resize",m.windowResize,!1),this.fullscreen.available){m.fullScreenChange=function(T){return x.onFullScreenChange(T)},m.fullScreenError=function(T){return x.onFullScreenError(T)};var y=["webkit","moz",""];y.forEach(function(T){document.addEventListener(T+"fullscreenchange",m.fullScreenChange,!1),document.addEventListener(T+"fullscreenerror",m.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",m.fullScreenChange,!1),document.addEventListener("MSFullscreenError",m.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(x,m){x instanceof c||(m=x,x=void 0),m===void 0&&(m=new a);var y=this.baseSize,T=this.parentSize,R=this.canvasBounds,P=this.displayScale,D=R.x>=0?0:-(R.x*P.x),I=R.y>=0?0:-(R.y*P.y),w;T.width>=R.width?w=y.width:w=y.width-(R.width-T.width)*P.x;var U;return T.height>=R.height?U=y.height:U=y.height-(R.height-T.height)*P.y,m.setTo(D,I,w,U),x&&(m.width/=x.zoomX,m.height/=x.zoomY,m.centerX=x.centerX+x.scrollX,m.centerY=x.centerY+x.scrollY),m},step:function(x,m){this.parent&&(this._lastCheck+=m,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.domlisteners;window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var m=["webkit","moz",""];m.forEach(function(y){document.removeEventListener(y+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(y+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===u.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===u.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=g},35098:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={CENTER:t(35098),ORIENTATION:t(53539),SCALE_MODE:t(12637),ZOOM:t(10217)};p.exports=u},82085:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},11826:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},56691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},34739:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},26681:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},11428:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},40444:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(82085),FULLSCREEN_FAILED:t(11826),FULLSCREEN_UNSUPPORTED:t(56691),LEAVE_FULLSCREEN:t(34739),ORIENTATION_CHANGE:t(26681),RESIZE:t(11428)}},86754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(98611),v=t(55301),o={Center:t(35098),Events:t(40444),Orientation:t(53539),ScaleManager:t(756),ScaleModes:t(12637),Zoom:t(10217)};o=u(!1,o,v.CENTER),o=u(!1,o,v.ORIENTATION),o=u(!1,o,v.SCALE_MODE),o=u(!1,o,v.ZOOM),p.exports=o},47736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72632),v=t(40587),o=function(r){var s=r.game.config.defaultPhysicsSystem,e=u(r.settings,"physics",!1);if(!(!s&&!e)){var i=[];if(s&&i.push(v(s+"Physics")),e)for(var l in e)l=v(l.concat("Physics")),i.indexOf(l)===-1&&i.push(l);return i}};p.exports=o},91088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72632),v=function(o){var r=o.plugins.getDefaultScenePlugins(),s=u(o.settings,"plugins",!1);return Array.isArray(s)?s:r||[]};p.exports=v},90415:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=S},87157:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(63946),o=new u({initialize:function(s){this.sys=new v(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=o},13553:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(92980),o=t(7599),r=t(97081),s=t(10850),e=t(683),i=t(72283),l=t(87157),n=t(63946),a=new u({initialize:function(h,d){if(this.game=h,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++)this._pending.push({key:"default",scene:d[c],autoStart:c===0,data:{}})}h.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l);var f,h,d,c;for(f=0;f<this._pending.length;f++){h=this._pending[f],d=h.key,c=h.scene;var g;c instanceof l?g=this.createSceneFromInstance(d,c):typeof c=="object"?g=this.createSceneFromObject(d,c):typeof c=="function"&&(g=this.createSceneFromFunction(d,c)),d=g.sys.settings.key,this.keys[d]=g,this.scenes.push(g),this._data[d]&&(g.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(h.autoStart=!0)),(h.autoStart||g.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)h=this._start[f],this.start(h);this._start.length=0}},processQueue:function(){var f=this._pending.length,h=this._queue.length;if(!(f===0&&h===0)){var d,c;if(f){for(d=0;d<f;d++)c=this._pending[d],this.add(c.key,c.scene,c.autoStart,c.data);for(d=0;d<this._start.length;d++)c=this._start[d],this.start(c);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)c=this._queue[d],this[c.op](c.keyA,c.keyB);this._queue.length=0}},add:function(f,h,d,c){if(d===void 0&&(d=!1),c===void 0&&(c={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:h,autoStart:d,data:c}),this.isBooted||(this._data[f]={data:c}),null;f=this.getKey(f,h);var g;return h instanceof l?g=this.createSceneFromInstance(f,h):typeof h=="object"?(h.key=f,g=this.createSceneFromObject(f,h)):typeof h=="function"&&(g=this.createSceneFromFunction(f,h)),g.sys.settings.data=c,f=g.sys.settings.key,this.keys[f]=g,this.scenes.push(g),(d||g.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),g},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var h=this.getScene(f);if(!h||h.sys.isTransitioning())return this;var d=this.scenes.indexOf(h),c=h.sys.settings.key;d>-1&&(delete this.keys[c],this.scenes.splice(d,1),this._start.indexOf(c)>-1&&(d=this._start.indexOf(c),this._start.splice(d,1)),h.sys.destroy())}return this},bootScene:function(f){var h=f.sys,d=h.settings;h.sceneUpdate=i,f.init&&(f.init.call(f,d.data),d.status=v.INIT,d.isTransition&&h.events.emit(o.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var c;h.load&&(c=h.load,c.reset()),c&&f.preload?(f.preload.call(f),d.status=v.LOADING,c.once(e.COMPLETE,this.loadComplete,this),c.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,h){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var c=this.scenes[d].sys;c.settings.status>v.START&&c.settings.status<=v.RUNNING&&c.step(f,h),c.scenePlugin._target&&c.scenePlugin.step(f,h)}},render:function(f){for(var h=0;h<this.scenes.length;h++){var d=this.scenes[h].sys;d.settings.visible&&d.settings.status>=v.LOADING&&d.settings.status<v.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var h=f.sys,d=h.settings;f.create&&(d.status=v.CREATING,f.create.call(f,d.data),d.status===v.DESTROYED)||(d.isTransition&&h.events.emit(o.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(h.sceneUpdate=f.update),d.status=v.RUNNING,h.events.emit(o.CREATE,f))},createSceneFromFunction:function(f,h){var d=new h;if(d instanceof l){var c=d.sys.settings.key;if(c!==""&&(f=c),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new n(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,h){var d=h.sys.settings.key;return d===""&&(h.sys.settings.key=f),h.sys.init(this.game),h},createSceneFromObject:function(f,h){var d=new l(h),c=d.sys.settings.key;c!==""?f=c:d.sys.settings.key=f,d.sys.init(this.game);for(var g=["init","preload","create","update","render"],x=0;x<g.length;x++){var m=s(h,g[x],null);m&&(d[g[x]]=m)}if(h.hasOwnProperty("extend")){for(var y in h.extend)if(h.extend.hasOwnProperty(y)){var T=h.extend[y];y==="data"&&d.hasOwnProperty("data")&&typeof T=="object"?d.data.merge(T):y!=="sys"&&(d[y]=T)}}return d},getKey:function(f,h){if(f||(f="default"),typeof h=="function")return f;if(h instanceof l?f=h.sys.settings.key:typeof h=="object"&&h.hasOwnProperty("key")&&(f=h.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,h){f===void 0&&(f=!0),h===void 0&&(h=!1);for(var d=[],c=this.scenes,g=0;g<c.length;g++){var x=c[g];x&&(!f||f&&x.sys.isActive())&&d.push(x)}return h?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var h=0;h<this.scenes.length;h++)if(f===this.scenes[h])return f;return null},isActive:function(f){var h=this.getScene(f);return h?h.sys.isActive():null},isPaused:function(f){var h=this.getScene(f);return h?h.sys.isPaused():null},isVisible:function(f){var h=this.getScene(f);return h?h.sys.isVisible():null},isSleeping:function(f){var h=this.getScene(f);return h?h.sys.isSleeping():null},pause:function(f,h){var d=this.getScene(f);return d&&d.sys.pause(h),this},resume:function(f,h){var d=this.getScene(f);return d&&d.sys.resume(h),this},sleep:function(f,h){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(h),this},wake:function(f,h){var d=this.getScene(f);return d&&d.sys.wake(h),this},run:function(f,h){var d=this.getScene(f);if(!d){for(var c=0;c<this._pending.length;c++)if(this._pending[c].key===f){this.queueOp("start",f,h);break}return this}d.sys.isSleeping()?d.sys.wake(h):d.sys.isPaused()?d.sys.resume(h):this.start(f,h)},start:function(f,h){if(!this.isBooted)return this._data[f]={autoStart:!0,data:h},this;var d=this.getScene(f);if(!d)return console.warn("Scene not found for key: "+f),this;var c=d.sys,g=c.settings.status;if(g>=v.START&&g<=v.CREATING)return this;if(g>=v.RUNNING&&g<=v.SLEEPING)c.shutdown(),c.sceneUpdate=i,c.start(h);else{c.sceneUpdate=i,c.start(h);var x;if(c.load&&(x=c.load),x&&c.settings.hasOwnProperty("pack")&&(x.reset(),x.addPack({payload:c.settings.pack})))return c.settings.status=v.LOADING,x.once(e.COMPLETE,this.payloadComplete,this),x.start(),this}return this.bootScene(d),this},stop:function(f,h){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==v.SHUTDOWN){var c=d.sys.load;c&&(c.off(e.COMPLETE,this.loadComplete,this),c.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(h)}return this},switch:function(f,h){var d=this.getScene(f),c=this.getScene(h);return d&&c&&d!==c&&(this.sleep(f),this.isSleeping(h)?this.wake(h):this.start(h)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var h=this.getScene(f);return this.scenes.indexOf(h)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var h=this.getIndex(f);if(h!==-1&&h<this.scenes.length){var d=this.getScene(f);this.scenes.splice(h,1),this.scenes.push(d)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var h=this.getIndex(f);if(h!==-1&&h>0){var d=this.getScene(f);this.scenes.splice(h,1),this.scenes.unshift(d)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var h=this.getIndex(f);if(h>0){var d=h-1,c=this.getScene(f),g=this.getAt(d);this.scenes[h]=g,this.scenes[d]=c}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var h=this.getIndex(f);if(h<this.scenes.length-1){var d=h+1,c=this.getScene(f),g=this.getAt(d);this.scenes[h]=g,this.scenes[d]=c}}return this},moveAbove:function(f,h){if(f===h)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:h});else{var d=this.getIndex(f),c=this.getIndex(h);if(d!==-1&&c!==-1&&c<d){var g=this.getAt(c);this.scenes.splice(c,1),this.scenes.splice(d+(c>d),0,g)}}return this},moveBelow:function(f,h){if(f===h)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:h});else{var d=this.getIndex(f),c=this.getIndex(h);if(d!==-1&&c!==-1&&c>d){var g=this.getAt(c);this.scenes.splice(c,1),d===0?this.scenes.unshift(g):this.scenes.splice(d-(c<d),0,g)}}return this},queueOp:function(f,h,d){return this._queue.push({op:f,keyA:h,keyB:d}),this},swapPosition:function(f,h){if(f===h)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:h});else{var d=this.getIndex(f),c=this.getIndex(h);if(d!==c&&d!==-1&&c!==-1){var g=this.getAt(d);this.scenes[d]=this.scenes[c],this.scenes[c]=g}}return this},dump:function(){for(var f=[],h=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var c=this.scenes[d].sys,g=c.settings.visible&&(c.settings.status===v.RUNNING||c.settings.status===v.PAUSED)?"[*] ":"[-] ";g+=c.settings.key+" ("+h[c.settings.status]+")",f.push(g)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var h=this.scenes[f].sys;h.destroy()}this.systemScene.sys.destroy(),this.update=i,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=a},64051:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(7599),r=t(72632),s=t(91963),e=new v({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",i,l),this},restart:function(i){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,i),this},transition:function(i){i===void 0&&(i={});var l=r(i,"target",!1),n=this.manager.getScene(l);if(!l||!this.checkValidTransition(n))return!1;var a=r(i,"duration",1e3);this._elapsed=0,this._target=n,this._duration=a,this._willSleep=r(i,"sleep",!1),this._willRemove=r(i,"remove",!1);var f=r(i,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=r(i,"onUpdateScope",this.scene));var h=r(i,"allowInput",!1);this.settings.transitionAllowInput=h;var d=n.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=a,d.transitionAllowInput=h,r(i,"moveAbove",!1)?this.manager.moveAbove(this.key,l):r(i,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),n.sys.isSleeping()?n.sys.wake(r(i,"data")):this.manager.start(l,r(i,"data"));var c=r(i,"onStart",null),g=r(i,"onStartScope",this.scene);return c&&c.call(g,this.scene,n,a),this.systems.events.emit(o.TRANSITION_OUT,n,a),!0},checkValidTransition:function(i){return!(!i||i.sys.isActive()||i.sys.isTransitioning()||i===this.scene||this.systems.isTransitioning())},step:function(i,l){this._elapsed+=l,this.transitionProgress=u(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var i=this._target.sys,l=this._target.sys.settings;i.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(i,l,n,a){return this.manager.add(i,l,n,a)},launch:function(i,l){return i&&i!==this.key&&this.manager.queueOp("start",i,l),this},run:function(i,l){return i&&i!==this.key&&this.manager.queueOp("run",i,l),this},pause:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("pause",i,l),this},resume:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("resume",i,l),this},sleep:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("sleep",i,l),this},wake:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("wake",i,l),this},switch:function(i){return i!==this.key&&this.manager.queueOp("switch",this.key,i),this},stop:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("stop",i,l),this},setActive:function(i,l,n){l===void 0&&(l=this.key);var a=this.manager.getScene(l);return a&&a.sys.setActive(i,n),this},setVisible:function(i,l){l===void 0&&(l=this.key);var n=this.manager.getScene(l);return n&&n.sys.setVisible(i),this},isSleeping:function(i){return i===void 0&&(i=this.key),this.manager.isSleeping(i)},isActive:function(i){return i===void 0&&(i=this.key),this.manager.isActive(i)},isPaused:function(i){return i===void 0&&(i=this.key),this.manager.isPaused(i)},isVisible:function(i){return i===void 0&&(i=this.key),this.manager.isVisible(i)},swapPosition:function(i,l){return l===void 0&&(l=this.key),i!==l&&this.manager.swapPosition(i,l),this},moveAbove:function(i,l){return l===void 0&&(l=this.key),i!==l&&this.manager.moveAbove(i,l),this},moveBelow:function(i,l){return l===void 0&&(l=this.key),i!==l&&this.manager.moveBelow(i,l),this},remove:function(i){return i===void 0&&(i=this.key),this.manager.remove(i),this},moveUp:function(i){return i===void 0&&(i=this.key),this.manager.moveUp(i),this},moveDown:function(i){return i===void 0&&(i=this.key),this.manager.moveDown(i),this},bringToTop:function(i){return i===void 0&&(i=this.key),this.manager.bringToTop(i),this},sendToBack:function(i){return i===void 0&&(i=this.key),this.manager.sendToBack(i),this},get:function(i){return this.manager.getScene(i)},getStatus:function(i){var l=this.manager.getScene(i);if(l)return l.sys.getStatus()},getIndex:function(i){return i===void 0&&(i=this.key),this.manager.getIndex(i)},shutdown:function(){var i=this.systems.events;i.off(o.SHUTDOWN,this.shutdown,this),i.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",e,"scenePlugin"),p.exports=e},36765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(92980),v=t(10850),o=t(30657),r=t(90415),s={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:u.PENDING,key:v(e,"key",""),active:v(e,"active",!1),visible:v(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(e,"pack",!1),cameras:v(e,"cameras",null),map:v(e,"map",o(r,v(e,"mapAdd",{}))),physics:v(e,"physics",{}),loader:v(e,"loader",{}),plugins:v(e,"plugins",!1),input:v(e,"input",{})}}};p.exports=s},63946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(92980),o=t(18360),r=t(7599),s=t(47736),e=t(91088),i=t(72283),l=t(36765),n=new u({initialize:function(f,h){this.scene=f,this.game,this.renderer,this.config=h,this.settings=l.create(h),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=i},init:function(a){this.settings.status=v.INIT,this.sceneUpdate=i,this.game=a,this.renderer=a.renderer,this.canvas=a.canvas,this.context=a.context;var f=a.plugins;this.plugins=f,f.addToScene(this,o.Global,[o.CoreScene,e(this),s(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(a,f){var h=this.events;h.emit(r.PRE_UPDATE,a,f),h.emit(r.UPDATE,a,f),this.sceneUpdate.call(this.scene,a,f),h.emit(r.POST_UPDATE,a,f)},render:function(a){var f=this.displayList;f.depthSort(),this.events.emit(r.PRE_RENDER,a),this.cameras.render(a,f),this.events.emit(r.RENDER,a)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(a){var f=this.settings,h=this.getStatus();return h!==v.CREATING&&h!==v.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=v.PAUSED,f.active=!1,this.events.emit(r.PAUSE,this,a)),this},resume:function(a){var f=this.events,h=this.settings;return this.settings.active||(h.status=v.RUNNING,h.active=!0,f.emit(r.RESUME,this,a)),this},sleep:function(a){var f=this.settings,h=this.getStatus();return h!==v.CREATING&&h!==v.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=v.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(r.SLEEP,this,a)),this},wake:function(a){var f=this.events,h=this.settings;return h.status=v.RUNNING,h.active=!0,h.visible=!0,f.emit(r.WAKE,this,a),h.isTransition&&f.emit(r.TRANSITION_WAKE,h.transitionFrom,h.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var a=this.settings.status;return a>v.PENDING&&a<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(a){return this.settings.visible=a,this},setActive:function(a,f){return a?this.resume(f):this.pause(f)},start:function(a){var f=this.events,h=this.settings;a&&(h.data=a),h.status=v.START,h.active=!0,h.visible=!0,f.emit(r.START,this),f.emit(r.READY,this,a)},shutdown:function(a){var f=this.events,h=this.settings;f.off(r.TRANSITION_INIT),f.off(r.TRANSITION_START),f.off(r.TRANSITION_COMPLETE),f.off(r.TRANSITION_OUT),h.status=v.SHUTDOWN,h.active=!1,h.visible=!1,f.emit(r.SHUTDOWN,this,a)},destroy:function(){var a=this.events,f=this.settings;f.status=v.DESTROYED,f.active=!1,f.visible=!1,a.emit(r.DESTROY,this),a.removeAllListeners();for(var h=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<h.length;d++)this[h[d]]=null}});p.exports=n},92980:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=S},31803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},94817:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},28977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},91959:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},363:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},15643:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},17058:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},77125:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},76018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},28620:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},41538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},34268:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},2342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},96541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},74244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},17046:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},13637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},14733:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},33899:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},52418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},31735:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8470:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},7599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(31803),BOOT:t(94817),CREATE:t(28977),DESTROY:t(91959),PAUSE:t(363),POST_UPDATE:t(15643),PRE_RENDER:t(17058),PRE_UPDATE:t(77125),READY:t(76018),REMOVED_FROM_SCENE:t(28620),RENDER:t(41538),RESUME:t(34268),SHUTDOWN:t(2342),SLEEP:t(96541),START:t(74244),TRANSITION_COMPLETE:t(17046),TRANSITION_INIT:t(13637),TRANSITION_OUT:t(14733),TRANSITION_START:t(33899),TRANSITION_WAKE:t(52418),UPDATE:t(31735),WAKE:t(8470)}},20436:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(92980),v=t(98611),o={Events:t(7599),GetPhysicsPlugins:t(47736),GetScenePlugins:t(91088),SceneManager:t(13553),ScenePlugin:t(64051),Settings:t(36765),Systems:t(63946)};o=v(!1,o,u),p.exports=o},25798:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(6659),o=t(76038),r=t(98611),s=t(72283),e=new u({Extends:v,initialize:function(l,n,a){v.call(this),this.manager=l,this.key=n,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,a),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(console.error("addMarker "+i.name+" already exists in Sound"),!1):(i=r(!0,{name:"",start:0,duration:this.totalDuration-(i.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},i),this.markers[i.name]=i,!0)},updateMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(this.markers[i.name]=r(!0,this.markers[i.name],i),!0):(console.warn("Audio Marker: "+i.name+" missing in Sound: "+this.key),!1)},removeMarker:function(i){var l=this.markers[i];return l?(this.markers[i]=null,l):null},play:function(i,l){if(i===void 0&&(i=""),typeof i=="object"&&(l=i,i=""),typeof i!="string")return!1;if(!i)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[i])return console.warn("Marker: "+i+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[i],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var i=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,n=Math.pow(i,l);this.totalRate=this.currentConfig.rate*this.manager.rate*n},destroy:function(){this.pendingRemove||(this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=e},12486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(32742),o=t(6659),r=t(76038),s=t(97081),e=t(71608),i=t(51463),l=t(72283),n=t(93736),a=new u({Extends:o,initialize:function(h){o.call(this),this.game=h,this.jsonCache=h.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new n,h.events.on(s.BLUR,this.onGameBlur,this),h.events.on(s.FOCUS,this.onGameFocus,this),h.events.on(s.PRE_STEP,this.update,this),h.events.once(s.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,h){h===void 0&&(h={});var d=this.add(f,h);d.spritemap=this.jsonCache.get(f).spritemap;for(var c in d.spritemap)if(d.spritemap.hasOwnProperty(c)){var g=v(h),x=d.spritemap[c];g.loop=x.hasOwnProperty("loop")?x.loop:!1,d.addMarker({name:c,start:x.start,duration:x.end-x.start,config:g})}return d},get:function(f){return i(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,h){var d=this.add(f);return d.once(r.COMPLETE,d.destroy,d),h?h.name?(d.addMarker(h),d.play(h.name)):d.play(h):d.play()},playAudioSprite:function(f,h,d){var c=this.addAudioSprite(f);return c.once(r.COMPLETE,c.destroy,c),c.play(h,d)},remove:function(f){var h=this.sounds.indexOf(f);return h!==-1?(f.destroy(),this.sounds.splice(h,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var h=0,d=this.sounds.length-1;d>=0;d--){var c=this.sounds[d];c.key===f&&(c.destroy(),this.sounds.splice(d,1),h++)}return h},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(f){var h=0;return this.getAll(f).forEach(function(d){d.stop()&&h++}),h},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,h){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(c){c.update(f,h)})},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,h){var d=this;this.sounds.forEach(function(c,g){c&&!c.pendingRemove&&f.call(h||d,c,g,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(h){h.calculateRate()}),this.emit(r.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(h){h.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,f)}}});p.exports=a},84191:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27622),v=t(17546),o=t(55491),r={create:function(s){var e=s.config.audio,i=s.device.audio;return e.noAudio||!i.webAudio&&!i.audioData?new v(s):i.webAudio&&!e.disableWebAudio?new o(s):new u(s)}};p.exports=r},77578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},19679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},56951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},16436:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},55154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57890:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},83022:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},99170:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},64289:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},67214:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},53128:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},73078:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},76763:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},88426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},13765:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},80291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},11124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},55382:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},71157:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},31776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},39450:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},21939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},33019:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},76038:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(77578),DECODED:t(56951),DECODED_ALL:t(19679),DESTROY:t(16436),DETUNE:t(55154),GLOBAL_DETUNE:t(57818),GLOBAL_MUTE:t(57890),GLOBAL_RATE:t(83022),GLOBAL_VOLUME:t(99170),LOOP:t(67214),LOOPED:t(64289),MUTE:t(53128),PAN:t(73078),PAUSE_ALL:t(76763),PAUSE:t(88426),PLAY:t(13765),RATE:t(80291),RESUME_ALL:t(11124),RESUME:t(55382),SEEK:t(71157),STOP_ALL:t(31776),STOP:t(39450),UNLOCKED:t(21939),VOLUME:t(33019)}},34350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25798),v=t(56694),o=t(76038),r=t(82897),s=new v({Extends:u,initialize:function(i,l,n){if(n===void 0&&(n={}),this.tags=i.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,u.call(this,i,l,n)},play:function(e,i){return this.manager.isLocked(this,"play",[e,i])||!u.prototype.play.call(this,e,i)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!u.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!u.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,i=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),i===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+i*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var i=this.tags[e];if(i.dataset.used==="false")return i.dataset.used="true",this.audio=i,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(a){a.key===this.key&&a.audio&&l.push(a)},this),l.sort(function(a,f){return a.loop===f.loop?f.seek/f.duration-a.seek/a.duration:a.loop?1:-1});var n=l[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(i){console.warn(i)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){u.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var i=this.currentMarker?this.currentMarker.start:0,l=i+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=l-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,n-l),n=this.audio.currentTime):n<i&&(this.audio.currentTime+=i,n=this.audio.currentTime),n<this.previousTime&&this.emit(o.LOOPED,this);else if(n>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=n}},destroy:function(){u.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){u.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(o.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(o.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,o.RATE,e)&&(this.calculateRate(),this.emit(o.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,o.DETUNE,e)&&(this.calculateRate(),this.emit(o.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(o.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=s},27622:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12486),v=t(56694),o=t(76038),r=t(34350),s=new v({Extends:u,initialize:function(i){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,u.call(this,i)},add:function(e,i){var l=new r(this,e,i);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(a,f){for(var h=0;h<f.length;h++)if(f[h].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var i=!1,l=function(){i=!0},n=function(){if(i){i=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",n);var a=[];if(e.game.cache.audio.entries.each(function(h,d){for(var c=0;c<d.length;c++){var g=d[c];g.dataset.locked==="true"&&a.push(g)}return!0}),a.length!==0){var f=a[a.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,a.forEach(function(h){h.dataset.locked="false"}),e.unlocked=!0},a.forEach(function(h){h.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var a=this.lockedActionsQueue.shift();a.sound[a.prop].apply?a.sound[a.prop].apply(a.sound,a.value||[]):a.sound[a.prop]=a.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){u.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,i,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:i,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(i){i.updateMute()}),this.emit(o.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(i){i.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,e)}}});p.exports=s},56751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(84191),Events:t(76038),BaseSound:t(25798),BaseSoundManager:t(12486),WebAudioSound:t(96008),WebAudioSoundManager:t(55491),HTML5AudioSound:t(34350),HTML5AudioSoundManager:t(27622),NoAudioSound:t(38662),NoAudioSoundManager:t(17546)}},38662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25798),v=t(56694),o=t(6659),r=t(98611),s=t(72283),e=function(){return!1},i=function(){return null},l=function(){return this},n=new v({Extends:o,initialize:function(f,h,d){d===void 0&&(d={}),o.call(this),this.manager=f,this.key=h,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:i,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:i,resetConfig:i,update:s,calculateRate:i,destroy:function(){u.prototype.destroy.call(this)}});p.exports=n},17546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12486),v=t(56694),o=t(6659),r=t(38662),s=t(72283),e=new v({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(i,l){var n=new r(this,i,l);return this.sounds.push(n),n},addAudioSprite:function(i,l){var n=this.add(i,l);return n.spritemap={},n},get:function(i){return u.prototype.get.call(this,i)},getAll:function(i){return u.prototype.getAll.call(this,i)},play:function(i,l){return!1},playAudioSprite:function(i,l,n){return!1},remove:function(i){return u.prototype.remove.call(this,i)},removeAll:function(){return u.prototype.removeAll.call(this)},removeByKey:function(i){return u.prototype.removeByKey.call(this,i)},stopByKey:function(i){return u.prototype.stopByKey.call(this,i)},onBlur:s,onFocus:s,onGameBlur:s,onGameFocus:s,pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,unlock:s,forEachActiveSound:function(i,l){u.prototype.forEachActiveSound.call(this,i,l)},destroy:function(){u.prototype.destroy.call(this)}});p.exports=e},96008:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25798),v=t(56694),o=t(76038),r=t(72632),s=new v({Extends:u,initialize:function(i,l,n){if(n===void 0&&(n={}),this.audioBuffer=i.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=i.context.createGain(),this.volumeNode=i.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),i.context.createPanner&&(this.spatialNode=i.context.createPanner(),this.volumeNode.connect(this.spatialNode)),i.context.createStereoPanner?(this.pannerNode=i.context.createStereoPanner(),i.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(i.destination)):i.context.createPanner?this.spatialNode.connect(i.destination):this.volumeNode.connect(i.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,u.call(this,i,l,n)},play:function(e,i){return u.prototype.play.call(this,e,i)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return u.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,i=this.currentConfig.delay,l=this.manager.context.currentTime+i,n=(this.currentMarker?this.currentMarker.start:0)+e,a=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,n),Math.max(0,a)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),i=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,i),Math.max(0,l))},createBufferSource:function(){var e=this,i=this.manager.context.createBufferSource();return i.buffer=this.audioBuffer,i.connect(this.muteNode),i.onended=function(l){l.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},i},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var i=this.spatialNode;i.panningModel=r(e,"panningModel","equalpower"),i.distanceModel=r(e,"distanceModel","inverse"),i.orientationX.value=r(e,"orientationX",0),i.orientationY.value=r(e,"orientationY",0),i.orientationZ.value=r(e,"orientationZ",-1),i.refDistance=r(e,"refDistance",1),i.maxDistance=r(e,"maxDistance",1e4),i.rolloffFactor=r(e,"rolloffFactor",1),i.coneInnerAngle=r(e,"coneInnerAngle",360),i.coneOuterAngle=r(e,"coneOuterAngle",0),i.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(i.positionX.value=r(e,"x",0),i.positionY.value=r(e,"y",0),i.positionZ.value=r(e,"z",0))}u.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),i=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),i&&i!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=i)}this.hasEnded?(this.hasEnded=!1,u.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(u.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){u.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,i=0;i<this.rateUpdates.length;i++){var l=0;i<this.rateUpdates.length-1?l=this.rateUpdates[i+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[i].time)*this.rateUpdates[i].rate}return e},getLoopTime:function(){for(var e=0,i=0;i<this.rateUpdates.length-1;i++)e+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(o.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(o.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(o.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(o.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=s},55491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82329),v=t(12486),o=t(56694),r=t(76038),s=t(97081),e=t(96008),i=t(72632),l=new o({Extends:v,initialize:function(a){this.context=this.createAudioContext(a),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),v.call(this,a),this.locked&&a.isBooted?this.unlock():a.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(n){var a=n.config.audio;if(a.context)return a.context.resume(),a.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(n){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=n,this.masterMuteNode=n.createGain(),this.masterVolumeNode=n.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(n.destination),this.destination=this.masterMuteNode,this},add:function(n,a){var f=new e(this,n,a);return this.sounds.push(f),f},decodeAudio:function(n,a){var f;Array.isArray(n)?f=n:f=[{key:n,data:a}];for(var h=this.game.cache.audio,d=f.length,c=0;c<f.length;c++){var g=f[c],x=g.key,m=g.data;typeof m=="string"&&(m=u(m));var y=function(R,P){h.add(R,P),this.emit(r.DECODED,R),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,x),T=function(R,P){console.error("Error decoding audio: "+R+" - ",P?P.message:""),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,x);this.context.decodeAudioData(m,y,T)}},setListenerPosition:function(n,a){return n===void 0&&(n=this.game.scale.width/2),a===void 0&&(a=this.game.scale.height/2),this.listenerPosition.set(n,a),this},unlock:function(){var n=this,a=document.body,f=function h(){if(n.context&&a){var d=a.removeEventListener;n.context.resume().then(function(){d("touchstart",h),d("touchend",h),d("click",h),d("keydown",h),n.unlocked=!0},function(){d("touchstart",h),d("touchend",h),d("click",h),d("keydown",h)})}};a&&(a.addEventListener("touchstart",f,!1),a.addEventListener("touchend",f,!1),a.addEventListener("click",f,!1),a.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var n=this.context;n&&!this.locked&&(n.state==="suspended"||n.state==="interrupted")&&n.resume()},update:function(n,a){var f=this.context.listener;if(f&&f.positionX!==void 0){var h=i(this.listenerPosition,"x",null),d=i(this.listenerPosition,"y",null);h&&h!==this._spatialx&&(this._spatialx=f.positionX.value=h),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d)}v.prototype.update.call(this,n,a),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var n=this;this.context.close().then(function(){n.context=null})}v.prototype.destroy.call(this)},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(n){this.masterMuteNode.gain.setValueAtTime(n?0:1,0),this.emit(r.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(n){this.masterVolumeNode.gain.setValueAtTime(n,0),this.emit(r.GLOBAL_VOLUME,this,n)}}});p.exports=l},71207:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(59959),v=t(56694),o=t(72283),r=t(17922),s=new v({initialize:function(i){this.parent=i,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(e,i){return i?u.Add(this.list,e):u.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,i,l){return l?u.AddAt(this.list,e,i):u.AddAt(this.list,e,i,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,i){return e?(i===void 0&&(i=function(l,n){return l[e]-n[e]}),r(this.list,i),this):this},getByName:function(e){return u.GetFirst(this.list,"name",e)},getRandom:function(e,i){return u.GetRandom(this.list,e,i)},getFirst:function(e,i,l,n){return u.GetFirst(this.list,e,i,l,n)},getAll:function(e,i,l,n){return u.GetAll(this.list,e,i,l,n)},count:function(e,i){return u.CountAllMatching(this.list,e,i)},swap:function(e,i){u.Swap(this.list,e,i)},moveTo:function(e,i){return u.MoveTo(this.list,e,i)},moveAbove:function(e,i){return u.MoveAbove(this.list,e,i)},moveBelow:function(e,i){return u.MoveBelow(this.list,e,i)},remove:function(e,i){return i?u.Remove(this.list,e):u.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,i){return i?u.RemoveAt(this.list,e):u.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,i,l){return l?u.RemoveBetween(this.list,e,i):u.RemoveBetween(this.list,e,i,this.removeCallback,this)},removeAll:function(e){for(var i=this.list.length;i--;)this.remove(this.list[i],e);return this},bringToTop:function(e){return u.BringToTop(this.list,e)},sendToBack:function(e){return u.SendToBack(this.list,e)},moveUp:function(e){return u.MoveUp(this.list,e),e},moveDown:function(e){return u.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(e,i){return u.Replace(this.list,e,i)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,i,l,n){return u.SetAll(this.list,e,i,l,n),this},each:function(e,i){for(var l=[null],n=2;n<arguments.length;n++)l.push(arguments[n]);for(n=0;n<this.list.length;n++)l[0]=this.list[n],e.apply(i,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=s},33885:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r){if(this.entries={},this.size=0,Array.isArray(r))for(var s=0;s<r.length;s++)this.set(r[s][0],r[s][1])},set:function(o,r){return this.has(o)||this.size++,this.entries[o]=r,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],r=this.entries;for(var s in r)o.push(r[s]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],r=this.entries;for(var s in r)o.push(r[s]);return o},dump:function(){var o=this.entries;console.group("Map");for(var r in o)console.log(r,o[r]);console.groupEnd()},each:function(o){var r=this.entries;for(var s in r)if(o(s,r[s])===!1)break;return this},contains:function(o){var r=this.entries;for(var s in r)if(r[s]===o)return!0;return!1},merge:function(o,r){r===void 0&&(r=!1);var s=this.entries,e=o.entries;for(var i in e)s.hasOwnProperty(i)&&r?s[i]=e[i]:this.set(i,e[i]);return this}});p.exports=v},74623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(6659),o=t(36716),r=new u({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(s){return this._active.indexOf(s)>-1},isPending:function(s){return this._toProcess>0&&this._pending.indexOf(s)>-1},isDestroying:function(s){return this._destroy.indexOf(s)>-1},add:function(s){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(s),this._toProcess++),s},remove:function(s){if(this.isPending(s)){var e=this._pending,i=e.indexOf(s);i!==-1&&e.splice(i,1)}else this.isActive(s)&&(this._destroy.push(s),this._toProcess++);return s},removeAll:function(){for(var s=this._active,e=this._destroy,i=s.length;i--;)e.push(s[i]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var s=this._destroy,e=this._active,i,l;for(i=0;i<s.length;i++){l=s[i];var n=e.indexOf(l);n!==-1&&(e.splice(n,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(s.length=0,s=this._pending,i=0;i<s.length;i++)l=s[i],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return s.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=r},68687:(p,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(53466);function v(m){if(!(this instanceof v))return new v(m);this._maxEntries=Math.max(4,m||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(m){var y=this.data,T=[],R=this.toBBox;if(!c(m,y))return T;for(var P=[],D,I,w,U;y;){for(D=0,I=y.children.length;D<I;D++)w=y.children[D],U=y.leaf?R(w):w,c(m,U)&&(y.leaf?T.push(w):d(m,U)?this._all(w,T):P.push(w));y=P.pop()}return T},collides:function(m){var y=this.data,T=this.toBBox;if(!c(m,y))return!1;for(var R=[],P,D,I,w;y;){for(P=0,D=y.children.length;P<D;P++)if(I=y.children[P],w=y.leaf?T(I):I,c(m,w)){if(y.leaf||d(m,w))return!0;R.push(I)}y=R.pop()}return!1},load:function(m){if(!(m&&m.length))return this;if(m.length<this._minEntries){for(var y=0,T=m.length;y<T;y++)this.insert(m[y]);return this}var R=this._build(m.slice(),0,m.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var P=this.data;this.data=R,R=P}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(m){return m&&this._insert(m,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(m,y){if(!m)return this;for(var T=this.data,R=this.toBBox(m),P=[],D=[],I,w,U,G;T||P.length;){if(T||(T=P.pop(),w=P[P.length-1],I=D.pop(),G=!0),T.leaf&&(U=o(m,T.children,y),U!==-1))return T.children.splice(U,1),P.push(T),this._condense(P),this;!G&&!T.leaf&&d(T,R)?(P.push(T),D.push(I),I=0,w=T,T=T.children[0]):w?(I++,T=w.children[I],G=!1):T=null}return this},toBBox:function(m){return m},compareMinX:i,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(m){return this.data=m,this},_all:function(m,y){for(var T=[];m;)m.leaf?y.push.apply(y,m.children):T.push.apply(T,m.children),m=T.pop();return y},_build:function(m,y,T,R){var P=T-y+1,D=this._maxEntries,I;if(P<=D)return I=g(m.slice(y,T+1)),r(I,this.toBBox),I;R||(R=Math.ceil(Math.log(P)/Math.log(D)),D=Math.ceil(P/Math.pow(D,R-1))),I=g([]),I.leaf=!1,I.height=R;var w=Math.ceil(P/D),U=w*Math.ceil(Math.sqrt(D)),G,H,z,$;for(x(m,y,T,U,this.compareMinX),G=y;G<=T;G+=U)for(z=Math.min(G+U-1,T),x(m,G,z,w,this.compareMinY),H=G;H<=z;H+=w)$=Math.min(H+w-1,z),I.children.push(this._build(m,H,$,R-1));return r(I,this.toBBox),I},_chooseSubtree:function(m,y,T,R){for(var P,D,I,w,U,G,H,z;R.push(y),!(y.leaf||R.length-1===T);){for(H=z=1/0,P=0,D=y.children.length;P<D;P++)I=y.children[P],U=n(I),G=f(m,I)-U,G<z?(z=G,H=U<H?U:H,w=I):G===z&&U<H&&(H=U,w=I);y=w||y.children[0]}return y},_insert:function(m,y,T){var R=this.toBBox,P=T?m:R(m),D=[],I=this._chooseSubtree(P,this.data,y,D);for(I.children.push(m),e(I,P);y>=0&&D[y].children.length>this._maxEntries;)this._split(D,y),y--;this._adjustParentBBoxes(P,D,y)},_split:function(m,y){var T=m[y],R=T.children.length,P=this._minEntries;this._chooseSplitAxis(T,P,R);var D=this._chooseSplitIndex(T,P,R),I=g(T.children.splice(D,T.children.length-D));I.height=T.height,I.leaf=T.leaf,r(T,this.toBBox),r(I,this.toBBox),y?m[y-1].children.push(I):this._splitRoot(T,I)},_splitRoot:function(m,y){this.data=g([m,y]),this.data.height=m.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(m,y,T){var R,P,D,I,w,U,G,H;for(U=G=1/0,R=y;R<=T-y;R++)P=s(m,0,R,this.toBBox),D=s(m,R,T,this.toBBox),I=h(P,D),w=n(P)+n(D),I<U?(U=I,H=R,G=w<G?w:G):I===U&&w<G&&(G=w,H=R);return H},_chooseSplitAxis:function(m,y,T){var R=m.leaf?this.compareMinX:i,P=m.leaf?this.compareMinY:l,D=this._allDistMargin(m,y,T,R),I=this._allDistMargin(m,y,T,P);D<I&&m.children.sort(R)},_allDistMargin:function(m,y,T,R){m.children.sort(R);var P=this.toBBox,D=s(m,0,y,P),I=s(m,T-y,T,P),w=a(D)+a(I),U,G;for(U=y;U<T-y;U++)G=m.children[U],e(D,m.leaf?P(G):G),w+=a(D);for(U=T-y-1;U>=y;U--)G=m.children[U],e(I,m.leaf?P(G):G),w+=a(I);return w},_adjustParentBBoxes:function(m,y,T){for(var R=T;R>=0;R--)e(y[R],m)},_condense:function(m){for(var y=m.length-1,T;y>=0;y--)m[y].children.length===0?y>0?(T=m[y-1].children,T.splice(T.indexOf(m[y]),1)):this.clear():r(m[y],this.toBBox)},compareMinX:function(m,y){return m.left-y.left},compareMinY:function(m,y){return m.top-y.top},toBBox:function(m){return{minX:m.left,minY:m.top,maxX:m.right,maxY:m.bottom}}};function o(m,y,T){if(!T)return y.indexOf(m);for(var R=0;R<y.length;R++)if(T(m,y[R]))return R;return-1}function r(m,y){s(m,0,m.children.length,y,m)}function s(m,y,T,R,P){P||(P=g(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var D=y,I;D<T;D++)I=m.children[D],e(P,m.leaf?R(I):I);return P}function e(m,y){return m.minX=Math.min(m.minX,y.minX),m.minY=Math.min(m.minY,y.minY),m.maxX=Math.max(m.maxX,y.maxX),m.maxY=Math.max(m.maxY,y.maxY),m}function i(m,y){return m.minX-y.minX}function l(m,y){return m.minY-y.minY}function n(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function a(m){return m.maxX-m.minX+(m.maxY-m.minY)}function f(m,y){return(Math.max(y.maxX,m.maxX)-Math.min(y.minX,m.minX))*(Math.max(y.maxY,m.maxY)-Math.min(y.minY,m.minY))}function h(m,y){var T=Math.max(m.minX,y.minX),R=Math.max(m.minY,y.minY),P=Math.min(m.maxX,y.maxX),D=Math.min(m.maxY,y.maxY);return Math.max(0,P-T)*Math.max(0,D-R)}function d(m,y){return m.minX<=y.minX&&m.minY<=y.minY&&y.maxX<=m.maxX&&y.maxY<=m.maxY}function c(m,y){return y.minX<=m.maxX&&y.minY<=m.maxY&&y.maxX>=m.minX&&y.maxY>=m.minY}function g(m){return{children:m,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(m,y,T,R,P){for(var D=[y,T],I;D.length;)T=D.pop(),y=D.pop(),!(T-y<=R)&&(I=y+Math.ceil((T-y)/R/2)*R,u(m,I,y,T,P),D.push(y,I,I,T))}p.exports=v},58403:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var s=0;s<r.length;s++)this.set(r[s])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,r){for(var s=0;s<this.entries.length;s++){var e=this.entries[s];if(e[o]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(o){var r=this.entries.indexOf(o);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var r=this.entries[o];console.log(r)}console.groupEnd()},each:function(o,r){var s,e=this.entries.slice(),i=e.length;if(r)for(s=0;s<i&&o.call(r,e[s],s)!==!1;s++);else for(s=0;s<i&&o(e[s],s)!==!1;s++);return this},iterate:function(o,r){var s,e=this.entries.length;if(r)for(s=0;s<e&&o.call(r,this.entries[s],s)!==!1;s++);else for(s=0;s<e&&o(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(o){var r,s=[];for(r=1;r<arguments.length;r++)s.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var i=this.entries[r];i[o].apply(i,s)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var r=new v;return o.entries.forEach(function(s){r.set(s)}),this.entries.forEach(function(s){r.set(s)}),r},intersect:function(o){var r=new v;return this.entries.forEach(function(s){o.contains(s)&&r.set(s)}),r},difference:function(o){var r=new v;return this.entries.forEach(function(s){o.contains(s)||r.set(s)}),r},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});p.exports=v},90881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82897),v=t(56694),o=t(84314),r=t(93736),s=new v({initialize:function(i,l,n,a){i===void 0&&(i=0),l===void 0&&(l=i),n===void 0&&(n=0),a===void 0&&(a=null),this._width=i,this._height=l,this._parent=a,this.aspectMode=n,this.aspectRatio=l===0?1:i/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,i){return e===void 0&&(e=0),i===void 0&&(i=e),this.snapTo.set(e,i),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,i){return e===void 0&&(e=0),i===void 0&&(i=e),this.minWidth=u(e,0,this.maxWidth),this.minHeight=u(i,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,i){return e===void 0&&(e=Number.MAX_VALUE),i===void 0&&(i=e),this.maxWidth=u(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=u(i,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,i){switch(e===void 0&&(e=0),i===void 0&&(i=e),this.aspectMode){case s.NONE:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(i,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(e,i,!0);break;case s.ENVELOP:this.constrain(e,i,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,i){return this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,i){return i===void 0&&(i=!0),e=u(e,this.minWidth,this.maxWidth),i&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,i){return i===void 0&&(i=!0),e=u(e,this.minHeight,this.maxHeight),i&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,i,l){e===void 0&&(e=0),i===void 0&&(i=e),l===void 0&&(l=!0),e=this.getNewWidth(e),i=this.getNewHeight(i);var n=this.snapTo,a=i===0?1:e/i;return l&&this.aspectRatio>a||!l&&this.aspectRatio<a?(e=o(e,n.x),i=e/this.aspectRatio,n.y>0&&(i=o(i,n.y),e=i*this.aspectRatio)):(l&&this.aspectRatio<a||!l&&this.aspectRatio>a)&&(i=o(i,n.y),e=i*this.aspectRatio,n.x>0&&(e=o(e,n.x),i=e*(1/this.aspectRatio))),this._width=e,this._height=i,this},fitTo:function(e,i){return this.constrain(e,i,!0)},envelop:function(e,i){return this.constrain(e,i,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,p.exports=s},94160:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},95393:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},36716:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(94160),PROCESS_QUEUE_REMOVE:t(95393)}},20010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(36716),List:t(71207),Map:t(33885),ProcessQueue:t(74623),RTree:t(68687),Set:t(58403),Size:t(90881)}},17487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(82897),o=t(27119),r=t(86459),s=t(28621),e=t(31673),i=new u({Extends:e,initialize:function(n,a,f,h,d){e.call(this,n,a,f,h,d),this.add("__BASE",0,0,0,h,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=h,this.height=d,this.imageData=this.context.getImageData(0,0,h,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(l,n,a,f){return f===void 0&&(f=!0),this.context.drawImage(a,l,n),f&&this.update(),this},drawFrame:function(l,n,a,f,h){a===void 0&&(a=0),f===void 0&&(f=0),h===void 0&&(h=!0);var d=this.manager.getFrame(l,n);if(d){var c=d.canvasData,g=d.cutWidth,x=d.cutHeight,m=d.source.resolution;this.context.drawImage(d.source.image,c.x,c.y,g,x,a,f,g/m,x/m),h&&this.update()}return this},setPixel:function(l,n,a,f,h,d){d===void 0&&(d=255),l=Math.abs(Math.floor(l)),n=Math.abs(Math.floor(n));var c=this.getIndex(l,n);if(c>-1){var g=this.context.getImageData(l,n,1,1);g.data[0]=a,g.data[1]=f,g.data[2]=h,g.data[3]=d,this.context.putImageData(g,l,n)}return this},putData:function(l,n,a,f,h,d,c){return f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=l.width),c===void 0&&(c=l.height),this.context.putImageData(l,n,a,f,h,d,c),this},getData:function(l,n,a,f){l=v(Math.floor(l),0,this.width-1),n=v(Math.floor(n),0,this.height-1),a=v(a,1,this.width-l),f=v(f,1,this.height-n);var h=this.context.getImageData(l,n,a,f);return h},getPixel:function(l,n,a){a||(a=new o);var f=this.getIndex(l,n);if(f>-1){var h=this.data,d=h[f+0],c=h[f+1],g=h[f+2],x=h[f+3];a.setTo(d,c,g,x)}return a},getPixels:function(l,n,a,f){l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=this.width),f===void 0&&(f=a),l=Math.abs(Math.round(l)),n=Math.abs(Math.round(n));for(var h=v(l,0,this.width),d=v(l+a,0,this.width),c=v(n,0,this.height),g=v(n+f,0,this.height),x=new o,m=[],y=c;y<g;y++){for(var T=[],R=h;R<d;R++)x=this.getPixel(R,y,x),T.push({x:R,y,color:x.color,alpha:x.alphaGL});m.push(T)}return m},getIndex:function(l,n){return l=Math.abs(Math.round(l)),n=Math.abs(Math.round(n)),l<this.width&&n<this.height?(l+n*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,n,a,f,h){return l===void 0&&(l=0),n===void 0&&(n=0),a===void 0&&(a=this.width),f===void 0&&(f=this.height),h===void 0&&(h=!0),this.context.clearRect(l,n,a,f),h&&this.update(),this},setSize:function(l,n){return n===void 0&&(n=l),(l!==this.width||n!==this.height)&&(this.canvas.width=l,this.canvas.height=n,this._source.width=l,this._source.height=n,this._source.isPowerOf2=s(l,n),this.frames.__BASE.setSize(l,n,0,0),this.width=l,this.height=n,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=i},845:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95723),v=t(51052),o=t(61068),r=t(56694),s=t(86459),e=t(82047),i=t(72632),l=t(65641),n=t(37410),a=t(31673),f=t(75512),h=new r({Extends:a,initialize:function(c,g,x,m){x===void 0&&(x=256),m===void 0&&(m=256),this.type="DynamicTexture";var y=c.game.renderer,T=y&&y.type===s.CANVAS,R=T?o.create2D(this,x,m):[this];a.call(this,c,g,R,x,m),this.add("__BASE",0,0,0,x,m),this.renderer=y,this.isDrawing=!1,this.canvas=T?R:null,this.context=T?R.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,x,m).setScene(c.game.scene.systemScene,!1),this.renderTarget=T?null:new n(y,x,m,1,0,!1,!0,!0,!1),this.pipeline=T?null:y.pipelines.get(l.SINGLE_PIPELINE),this.setSize(x,m)},setSize:function(d,c){c===void 0&&(c=d);var g=this.get(),x=g.source;if(d!==this.width||c!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=c);var m=this.renderTarget;m&&(m.resize(d,c),g.glTexture=m.texture,x.isRenderTexture=!0,x.isGLTexture=!0,x.glTexture=m.texture,x.glTexture.flipY=!0),this.camera.setSize(d,c),x.width=d,x.height=c,g.setSize(d,c),this.width=d,this.height=c}else{var y=this.getSourceImage();g.cutX+d>y.width&&(d=y.width-g.cutX),g.cutY+c>y.height&&(c=y.height-g.cutY),g.setSize(d,c,g.cutX,g.cutY)}return this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,c,g,x,m,y){var T=this.camera,R=this.renderer;c===void 0&&(c=1),g===void 0&&(g=0),x===void 0&&(x=0),m===void 0&&(m=this.width),y===void 0&&(y=this.height);var P=d>>16&255,D=d>>8&255,I=d&255,w=this.renderTarget;if(T.preRender(),w){w.bind(!0);var U=this.pipeline.manager.set(this.pipeline),G=R.width/w.width,H=R.height/w.height;U.drawFillRect(g*G,x*H,m*G,y*H,f.getTintFromFloats(I/255,D/255,P/255,1),c),w.unbind(!0)}else{var z=this.context;R.setContext(z),z.globalCompositeOperation="source-over",z.fillStyle="rgba("+P+","+D+","+I+","+c+")",z.fillRect(g,x,m,y),R.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,c=this.renderTarget;c?c.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,c,g,x,m){g===void 0&&(g=0),x===void 0&&(x=0);var y=i(m,"alpha",1),T=i(m,"tint",16777215),R=i(m,"angle",0),P=i(m,"rotation",0),D=i(m,"scale",1),I=i(m,"scaleX",D),w=i(m,"scaleY",D),U=i(m,"originX",.5),G=i(m,"originY",.5),H=i(m,"blendMode",0),z=i(m,"erase",!1),$=i(m,"skipBatch",!1),J=this.manager.resetStamp(y,T);return J.setAngle(0),R!==0?J.setAngle(R):P!==0&&J.setRotation(P),J.setScale(I,w),J.setTexture(d,c),J.setOrigin(U,G),J.setBlendMode(H),z&&(this._eraseMode=!0),$?this.batchGameObject(J,g,x):this.draw(J,g,x),z&&(this._eraseMode=!1),this},erase:function(d,c,g){return this._eraseMode=!0,this.draw(d,c,g),this._eraseMode=!1,this},draw:function(d,c,g,x,m){return this.beginDraw(),this.batchDraw(d,c,g,x,m),this.endDraw(),this},drawFrame:function(d,c,g,x,m,y){return this.beginDraw(),this.batchDrawFrame(d,c,g,x,m,y),this.endDraw(),this},repeat:function(d,c,g,x,m,y,T,R,P){if(g===void 0&&(g=0),x===void 0&&(x=0),m===void 0&&(m=this.width),y===void 0&&(y=this.height),T===void 0&&(T=1),R===void 0&&(R=16777215),P===void 0&&(P=!1),d instanceof e?c=d:c=this.manager.getFrame(d,c),!c)return this;var D=this.manager.resetStamp(T,R);D.setFrame(c),D.setOrigin(0);var I=c.width,w=c.height;m=Math.floor(m),y=Math.floor(y);var U=Math.ceil(m/I),G=Math.ceil(y/w),H=U*I-m,z=G*w-y;H>0&&(H=I-H),z>0&&(z=w-z),g<0&&(U+=Math.ceil(Math.abs(g)/I)),x<0&&(G+=Math.ceil(Math.abs(x)/w));var $=g,J=x,W=!1,K=this.manager.stampCrop.setTo(0,0,I,w);P||this.beginDraw();for(var N=0;N<G;N++){if(J+w<0){J+=w;continue}for(var b=0;b<U;b++){if(W=!1,$+I<0){$+=I;continue}else $<0&&(W=!0,K.width=I+$,K.x=I-K.width);J<0&&(W=!0,K.height=w+J,K.y=w-K.height),H>0&&b===U-1&&(W=!0,K.width=H),z>0&&N===G-1&&(W=!0,K.height=z),W&&D.setCrop(K),this.batchGameObject(D,$,J),D.isCropped=!1,K.setTo(0,0,I,w),$+=I}$=g,J+=w}return P||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,c=this.renderer,g=this.renderTarget;d.preRender(),g?c.beginCapture(g.width,g.height):c.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,c,g,x,m){return Array.isArray(d)||(d=[d]),this.batchList(d,c,g,x,m),this},batchDrawFrame:function(d,c,g,x,m,y){g===void 0&&(g=0),x===void 0&&(x=0),m===void 0&&(m=1),y===void 0&&(y=16777215);var T=this.manager.getFrame(d,c);return T&&(this.renderTarget?this.pipeline.batchTextureFrame(T,g,x,y,m,this.camera.matrix,null):this.batchTextureFrame(T,g,x,m,y)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var c=this.renderer,g=this.renderTarget;if(g){var x=c.endCapture(),m=c.pipelines.setUtility();m.blitFrame(x,g,1,!1,!1,d,this.isSpriteTexture),c.resetScissor(),c.resetViewport()}else c.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,c,g,x,m){var y=d.length;if(y!==0)for(var T=0;T<y;T++){var R=d[T];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,c,g):R.isParent||R.list?this.batchGroup(R.getChildren(),c,g):typeof R=="string"?this.batchTextureFrameKey(R,null,c,g,x,m):R instanceof e?this.batchTextureFrame(R,c,g,x,m):Array.isArray(R)&&this.batchList(R,c,g,x,m))}},batchGroup:function(d,c,g){c===void 0&&(c=0),g===void 0&&(g=0);for(var x=0;x<d.length;x++){var m=d[x];m.willRender(this.camera)&&this.batchGameObject(m,m.x+c,m.y+g)}},batchGameObject:function(d,c,g){c===void 0&&(c=d.x),g===void 0&&(g=d.y);var x=d.x,m=d.y,y=this.camera,T=this.renderer,R=this._eraseMode,P=d.mask;if(d.setPosition(c,g),this.canvas){if(R){var D=d.blendMode;d.blendMode=u.ERASE}P&&P.preRenderCanvas(T,d,y),d.renderCanvas(T,d,y,null),P&&P.postRenderCanvas(T,d,y),R&&(d.blendMode=D)}else T&&(P&&P.preRenderWebGL(T,d,y),R||T.setBlendMode(d.blendMode),d.renderWebGL(T,d,y),P&&P.postRenderWebGL(T,y,this.renderTarget));d.setPosition(x,m)},batchTextureFrameKey:function(d,c,g,x,m,y){var T=this.manager.getFrame(d,c);T&&this.batchTextureFrame(T,g,x,m,y)},batchTextureFrame:function(d,c,g,x,m){c===void 0&&(c=0),g===void 0&&(g=0),x===void 0&&(x=1),m===void 0&&(m=16777215);var y=this.camera.matrix,T=this.renderTarget;if(T)this.pipeline.batchTextureFrame(d,c,g,m,x,y,null);else{var R=this.context,P=d.canvasData,D=d.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=x,y.setToContext(R),P.width>0&&P.height>0&&R.drawImage(D,P.x,P.y,P.width,P.height,c,g,P.width,P.height),R.restore()}},snapshotArea:function(d,c,g,x,m,y,T){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,m,!1,d,c,g,x,y,T):this.renderer.snapshotCanvas(this.canvas,m,!1,d,c,g,x,y,T),this},snapshot:function(d,c,g){return this.snapshotArea(0,0,this.width,this.height,d,c,g)},snapshotPixel:function(d,c,g){return this.snapshotArea(d,c,1,1,g,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,c,g,x){var m=this.manager.resetStamp();m.setTexture(this),m.setOrigin(0),m.renderWebGL(d,m,g,x)},renderCanvas:function(){},preDestroy:function(){o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});p.exports=h},82047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(82897),o=t(98611),r=new u({initialize:function(e,i,l,n,a,f,h){this.texture=e,this.name=i,this.source=e.source[l],this.sourceIndex=l,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(f,h,n,a)},setSize:function(s,e,i,l){i===void 0&&(i=0),l===void 0&&(l=0),this.cutX=i,this.cutY=l,this.cutWidth=s,this.cutHeight=e,this.width=s,this.height=e,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(e/2);var n=this.data,a=n.cut;a.x=i,a.y=l,a.w=s,a.h=e,a.r=i+s,a.b=l+e,n.sourceSize.w=s,n.sourceSize.h=e,n.spriteSourceSize.w=s,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(s*s+e*e);var f=n.drawImage;return f.x=i,f.y=l,f.width=s,f.height=e,this.updateUVs()},setTrim:function(s,e,i,l,n,a){var f=this.data,h=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=s,f.sourceSize.h=e,h.x=i,h.y=l,h.w=n,h.h=a,h.r=i+n,h.b=l+a,this.x=i,this.y=l,this.width=n,this.height=a,this.halfWidth=n*.5,this.halfHeight=a*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(a/2),this.updateUVs()},setCropUVs:function(s,e,i,l,n,a,f){var h=this.cutX,d=this.cutY,c=this.cutWidth,g=this.cutHeight,x=this.realWidth,m=this.realHeight;e=v(e,0,x),i=v(i,0,m),l=v(l,0,x-e),n=v(n,0,m-i);var y=h+e,T=d+i,R=l,P=n,D=this.data;if(D.trim){var I=D.spriteSourceSize;l=v(l,0,c-e),n=v(n,0,g-i);var w=e+l,U=i+n,G=!(I.r<e||I.b<i||I.x>w||I.y>U);if(G){var H=Math.max(I.x,e),z=Math.max(I.y,i),$=Math.min(I.r,w)-H,J=Math.min(I.b,U)-z;R=$,P=J,a?y=h+(c-(H-I.x)-$):y=h+(H-I.x),f?T=d+(g-(z-I.y)-J):T=d+(z-I.y),e=H,i=z,l=$,n=J}else y=0,T=0,R=0,P=0}else a&&(y=h+(c-e-l)),f&&(T=d+(g-i-n));var W=this.source.width,K=this.source.height;return s.u0=Math.max(0,y/W),s.v0=Math.max(0,T/K),s.u1=Math.min(1,(y+R)/W),s.v1=Math.min(1,(T+P)/K),s.x=e,s.y=i,s.cx=y,s.cy=T,s.cw=R,s.ch=P,s.width=l,s.height=n,s.flipX=a,s.flipY=f,s},updateCropUVs:function(s,e,i){return this.setCropUVs(s,s.x,s.y,s.width,s.height,e,i)},setUVs:function(s,e,i,l,n,a){var f=this.data.drawImage;return f.width=s,f.height=e,this.u0=i,this.v0=l,this.u1=n,this.v1=a,this},updateUVs:function(){var s=this.cutX,e=this.cutY,i=this.cutWidth,l=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=l;var a=this.source.width,f=this.source.height;return this.u0=s/a,this.v0=e/f,this.u1=(s+i)/a,this.v1=(e+l)/f,this},updateUVsInverted:function(){var s=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/e,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var s=new r(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=o(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=r},31673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(82047),o=t(32547),r='Texture "%s" has no frame "%s"',s=new u({initialize:function(i,l,n,a,f){Array.isArray(n)||(n=[n]),this.manager=i,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var h=0;h<n.length;h++)this.source.push(new o(this,n[h],a,f))},add:function(e,i,l,n,a,f){if(this.has(e))return null;var h=new v(this,e,i,l,n,a,f);return this.frames[e]=h,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,h},remove:function(e){if(this.has(e)){var i=this.get(e);return i.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var i=this.frames[e];return i||(console.warn(r,this.key,e),i=this.frames[this.firstFrame]),i},getTextureSourceIndex:function(e){for(var i=0;i<this.source.length;i++)if(this.source[i]===e)return i;return-1},getFramesFromTextureSource:function(e,i){i===void 0&&(i=!1);var l=[];for(var n in this.frames)if(!(n==="__BASE"&&!i)){var a=this.frames[n];a.sourceIndex===e&&l.push(a)}return l},getFrameNames:function(e){e===void 0&&(e=!1);var i=Object.keys(this.frames);if(!e){var l=i.indexOf("__BASE");l!==-1&&i.splice(l,1)}return i},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var i=this.frames[e];return i?i.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var i=this.frames[e],l;return i?l=i.sourceIndex:(console.warn(r,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var l=this.source[i];this.dataSource.push(new o(this,e[i],l.width,l.height))}},setFilter:function(e){var i;for(i=0;i<this.source.length;i++)this.source[i].setFilter(e);for(i=0;i<this.dataSource.length;i++)this.dataSource[i].setFilter(e)},destroy:function(){var e,i=this.source,l=this.dataSource;for(e=0;e<i.length;e++)i[e]&&i[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var n in this.frames){var a=this.frames[n];a&&a.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=s},6237:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61068),v=t(17487),o=t(56694),r=t(27119),s=t(86459),e=t(845),i=t(6659),l=t(38203),n=t(82047),a=t(97081),f=t(52780),h=t(10850),d=t(1539),c=t(42911),g=t(69150),x=t(74118),m=t(31673),y=new o({Extends:i,initialize:function(R){i.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=u.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new x,this.silentWarnings=!1,R.events.once(a.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var T=this.game.config;this.addBase64("__DEFAULT",T.defaultImage),this.addBase64("__MISSING",T.missingImage),this.addBase64("__WHITE",T.whiteImage),this.game.events.once(a.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY),this.stamp=new d(this.game.scene.systemScene).setOrigin(0))},checkKey:function(T){return this.exists(T)?(this.silentWarnings||console.error("Texture key already in use: "+T),!1):!0},remove:function(T){if(typeof T=="string")if(this.exists(T))T=this.get(T);else return this.silentWarnings||console.warn("No texture found matching key: "+T),this;return this.list.hasOwnProperty(T.key)&&(T.destroy(),this.emit(l.REMOVE,T.key),this.emit(l.REMOVE_KEY+T.key)),this},removeKey:function(T){return this.list.hasOwnProperty(T)&&delete this.list[T],this},addBase64:function(T,R){if(this.checkKey(T)){var P=this,D=new Image;D.onerror=function(){P.emit(l.ERROR,T)},D.onload=function(){var I=P.create(T,D);g.Image(I,0),P.emit(l.ADD,T,I),P.emit(l.ADD_KEY+T,I),P.emit(l.LOAD,T,I)},D.src=R}return this},getBase64:function(T,R,P,D){P===void 0&&(P="image/png"),D===void 0&&(D=.92);var I="",w=this.getFrame(T,R);if(w&&(w.source.isRenderTexture||w.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(w){var U=w.canvasData,G=u.create2D(this,U.width,U.height),H=G.getContext("2d",{willReadFrequently:!0});U.width>0&&U.height>0&&H.drawImage(w.source.image,U.x,U.y,U.width,U.height,0,0,U.width,U.height),I=G.toDataURL(P,D),u.remove(G)}return I},addImage:function(T,R,P){var D=null;return this.checkKey(T)&&(D=this.create(T,R),g.Image(D,0),P&&D.setDataSource(P),this.emit(l.ADD,T,D),this.emit(l.ADD_KEY+T,D)),D},addGLTexture:function(T,R,P,D){var I=null;return this.checkKey(T)&&(P===void 0&&(P=R.width),D===void 0&&(D=R.height),I=this.create(T,R,P,D),I.add("__BASE",0,0,0,P,D),this.emit(l.ADD,T,I),this.emit(l.ADD_KEY+T,I)),I},addCompressedTexture:function(T,R,P){var D=null;if(this.checkKey(T)){if(D=this.create(T,R),D.add("__BASE",0,0,0,R.width,R.height),P)if(Array.isArray(P))for(var I=0;I<P.length;I++)g.JSONHash(D,I,P[I]);else g.JSONHash(D,0,P);this.emit(l.ADD,T,D),this.emit(l.ADD_KEY+T,D)}return D},addRenderTexture:function(T,R){var P=null;return this.checkKey(T)&&(P=this.create(T,R),P.add("__BASE",0,0,0,R.width,R.height),this.emit(l.ADD,T,P),this.emit(l.ADD_KEY+T,P)),P},generate:function(T,R){if(this.checkKey(T)){var P=u.create(this,1,1);return R.canvas=P,f(R),this.addCanvas(T,P)}else return null},createCanvas:function(T,R,P){if(R===void 0&&(R=256),P===void 0&&(P=256),this.checkKey(T)){var D=u.create(this,R,P,s.CANVAS,!0);return this.addCanvas(T,D)}return null},addCanvas:function(T,R,P){P===void 0&&(P=!1);var D=null;return P?D=new v(this,T,R,R.width,R.height):this.checkKey(T)&&(D=new v(this,T,R,R.width,R.height),this.list[T]=D,this.emit(l.ADD,T,D),this.emit(l.ADD_KEY+T,D)),D},addDynamicTexture:function(T,R,P){var D=null;return typeof T=="string"&&!this.exists(T)?D=new e(this,T,R,P):(D=T,T=D.key),this.checkKey(T)?(this.list[T]=D,this.emit(l.ADD,T,D),this.emit(l.ADD_KEY+T,D)):D=null,D},addAtlas:function(T,R,P,D){return Array.isArray(P.textures)||Array.isArray(P.frames)?this.addAtlasJSONArray(T,R,P,D):this.addAtlasJSONHash(T,R,P,D)},addAtlasJSONArray:function(T,R,P,D){var I=null;if(R instanceof m?(T=I.key,I=R):this.checkKey(T)&&(I=this.create(T,R)),I){if(Array.isArray(P))for(var w=P.length===1,U=0;U<I.source.length;U++){var G=w?P[0]:P[U];g.JSONArray(I,U,G)}else g.JSONArray(I,0,P);D&&I.setDataSource(D),this.emit(l.ADD,T,I),this.emit(l.ADD_KEY+T,I)}return I},addAtlasJSONHash:function(T,R,P,D){var I=null;if(R instanceof m?(T=I.key,I=R):this.checkKey(T)&&(I=this.create(T,R)),I){if(Array.isArray(P))for(var w=0;w<P.length;w++)g.JSONHash(I,w,P[w]);else g.JSONHash(I,0,P);D&&I.setDataSource(D),this.emit(l.ADD,T,I),this.emit(l.ADD_KEY+T,I)}return I},addAtlasXML:function(T,R,P,D){var I=null;return R instanceof m?(T=I.key,I=R):this.checkKey(T)&&(I=this.create(T,R)),I&&(g.AtlasXML(I,0,P),D&&I.setDataSource(D),this.emit(l.ADD,T,I),this.emit(l.ADD_KEY+T,I)),I},addUnityAtlas:function(T,R,P,D){var I=null;return R instanceof m?(T=I.key,I=R):this.checkKey(T)&&(I=this.create(T,R)),I&&(g.UnityYAML(I,0,P),D&&I.setDataSource(D),this.emit(l.ADD,T,I),this.emit(l.ADD_KEY+T,I)),I},addSpriteSheet:function(T,R,P,D){var I=null;if(R instanceof m?(T=I.key,I=R):this.checkKey(T)&&(I=this.create(T,R)),I){var w=I.source[0].width,U=I.source[0].height;g.SpriteSheet(I,0,0,0,w,U,P),D&&I.setDataSource(D),this.emit(l.ADD,T,I),this.emit(l.ADD_KEY+T,I)}return I},addSpriteSheetFromAtlas:function(T,R){if(!this.checkKey(T))return null;var P=h(R,"atlas",null),D=h(R,"frame",null);if(!(!P||!D)){var I=this.get(P),w=I.get(D);if(w){var U=this.create(T,w.source.image);return w.trimmed?g.SpriteSheetFromAtlas(U,w,R):g.SpriteSheet(U,0,w.cutX,w.cutY,w.cutWidth,w.cutHeight,R),this.emit(l.ADD,T,U),this.emit(l.ADD_KEY+T,U),U}}},create:function(T,R,P,D){var I=null;return this.checkKey(T)&&(I=new m(this,T,R,P,D),this.list[T]=I),I},exists:function(T){return this.list.hasOwnProperty(T)},get:function(T){return T===void 0&&(T="__DEFAULT"),this.list[T]?this.list[T]:T instanceof m?T:T instanceof n?T.texture:this.list.__MISSING},cloneFrame:function(T,R){if(this.list[T])return this.list[T].get(R).clone()},getFrame:function(T,R){if(this.list[T])return this.list[T].get(R)},parseFrame:function(T){if(T){if(typeof T=="string")return this.getFrame(T);if(Array.isArray(T)&&T.length===2)return this.getFrame(T[0],T[1]);if(c(T))return this.getFrame(T.key,T.frame);if(T instanceof m)return T.get();if(T instanceof n)return T}else return},getTextureKeys:function(){var T=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&T.push(R);return T},getPixel:function(T,R,P,D){var I=this.getFrame(P,D);if(I){T-=I.x,R-=I.y;var w=I.data.cut;if(T+=w.x,R+=w.y,T>=w.x&&T<w.r&&R>=w.y&&R<w.b){var U=this._tempContext;U.clearRect(0,0,1,1),U.drawImage(I.source.image,T,R,1,1,0,0,1,1);var G=U.getImageData(0,0,1,1);return new r(G.data[0],G.data[1],G.data[2],G.data[3])}}return null},getPixelAlpha:function(T,R,P,D){var I=this.getFrame(P,D);if(I){T-=I.x,R-=I.y;var w=I.data.cut;if(T+=w.x,R+=w.y,T>=w.x&&T<w.r&&R>=w.y&&R<w.b){var U=this._tempContext;U.clearRect(0,0,1,1),U.drawImage(I.source.image,T,R,1,1,0,0,1,1);var G=U.getImageData(0,0,1,1);return G.data[3]}}return null},setTexture:function(T,R,P){return this.list[R]&&(T.texture=this.list[R],T.frame=T.texture.get(P)),T},renameTexture:function(T,R){var P=this.get(T);return P&&T!==R?(P.key=R,this.list[R]=P,delete this.list[T],!0):!1},each:function(T,R){for(var P=[null],D=1;D<arguments.length;D++)P.push(arguments[D]);for(var I in this.list)P[0]=this.list[I],T.apply(R,P)},resetStamp:function(T,R){T===void 0&&(T=1),R===void 0&&(R=16777215);var P=this.stamp;return P.setCrop(),P.setPosition(0),P.setAngle(0),P.setScale(1),P.setAlpha(T),P.setTint(R),P},destroy:function(){for(var T in this.list)this.list[T].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,u.remove(this._tempCanvas)}});p.exports=y},32547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61068),v=t(56694),o=t(28621),r=t(27394),s=new v({initialize:function(i,l,n,a,f){f===void 0&&(f=!1);var h=i.manager.game;this.renderer=h.renderer,this.texture=i,this.source=l,this.image=l.compressed?null:l,this.compressionAlgorithm=l.compressed?l.format:null,this.resolution=1,this.width=n||l.naturalWidth||l.videoWidth||l.width||0,this.height=a||l.naturalHeight||l.videoHeight||l.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=l instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&l instanceof HTMLVideoElement,this.isRenderTexture=l.type==="RenderTexture"||l.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&l instanceof WebGLTexture,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(h)},init:function(e){var i=this.renderer;if(i){var l=this.source;if(i.gl){var n=this.image,a=this.flipY,f=this.width,h=this.height,d=this.scaleMode;this.isCanvas?this.glTexture=i.createCanvasTexture(n,!1,a):this.isVideo?this.glTexture=i.createVideoTexture(n,!1,a):this.isRenderTexture?this.glTexture=i.createTextureFromSource(null,f,h,d):this.isGLTexture?this.glTexture=l:this.compressionAlgorithm?this.glTexture=i.createTextureFromSource(l):this.glTexture=i.createTextureFromSource(n,f,h,d)}else this.isRenderTexture&&(this.image=l.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer,i=this.image,l=this.flipY,n=e.gl;n&&this.isCanvas?this.glTexture=e.updateCanvasTexture(i,this.glTexture,l):n&&this.isVideo&&(this.glTexture=e.updateVideoTexture(i,this.glTexture,l))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&u.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=s},65154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};p.exports=S},49644:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},29569:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},60079:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},72665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},93006:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},69018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},85549:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},38203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(49644),ADD_KEY:t(29569),ERROR:t(60079),LOAD:t(72665),READY:t(93006),REMOVE:t(69018),REMOVE_KEY:t(85549)}},87499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(98611),v=t(65154),o={CanvasTexture:t(17487),DynamicTexture:t(845),Events:t(38203),FilterMode:v,Frame:t(82047),Parsers:t(69150),Texture:t(31673),TextureManager:t(6237),TextureSource:t(32547)};o=u(!1,o,v),p.exports=o},35082:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[u];t.add("__BASE",u,0,0,o.width,o.height);for(var r=v.getElementsByTagName("SubTexture"),s,e=0;e<r.length;e++){var i=r[e].attributes,l=i.name.value,n=parseInt(i.x.value,10),a=parseInt(i.y.value,10),f=parseInt(i.width.value,10),h=parseInt(i.height.value,10);if(s=t.add(l,u,n,a,f,h),i.frameX){var d=Math.abs(parseInt(i.frameX.value,10)),c=Math.abs(parseInt(i.frameY.value,10)),g=parseInt(i.frameWidth.value,10),x=parseInt(i.frameHeight.value,10);s.setTrim(f,h,d,c,g,x)}}return t};p.exports=S},83332:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.source[u];return t.add("__BASE",u,0,0,v.width,v.height),t};p.exports=S},21560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.source[u];return t.add("__BASE",u,0,0,v.width,v.height),t};p.exports=S},64423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(32742),v=function(o,r,s){if(!s.frames&&!s.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=o.source[r];o.add("__BASE",r,0,0,e.width,e.height);for(var i=Array.isArray(s.textures)?s.textures[r].frames:s.frames,l,n=0;n<i.length;n++){var a=i[n];if(l=o.add(a.filename,r,a.frame.x,a.frame.y,a.frame.w,a.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+a.filename);continue}a.trimmed&&l.setTrim(a.sourceSize.w,a.sourceSize.h,a.spriteSourceSize.x,a.spriteSourceSize.y,a.spriteSourceSize.w,a.spriteSourceSize.h),a.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=a.anchor||a.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),l.customData=u(a)}for(var h in s)h!=="frames"&&(Array.isArray(s[h])?o.customData[h]=s[h].slice(0):o.customData[h]=s[h]);return o};p.exports=v},17264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(32742),v=function(o,r,s){if(!s.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=o.source[r];o.add("__BASE",r,0,0,e.width,e.height);var i=s.frames,l;for(var n in i)if(i.hasOwnProperty(n)){var a=i[n];if(l=o.add(n,r,a.frame.x,a.frame.y,a.frame.w,a.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+n);continue}a.trimmed&&l.setTrim(a.sourceSize.w,a.sourceSize.h,a.spriteSourceSize.x,a.spriteSourceSize.y,a.spriteSourceSize.w,a.spriteSourceSize.h),a.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=a.anchor||a.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),l.customData=u(a)}for(var h in s)h!=="frames"&&(Array.isArray(s[h])?o.customData[h]=s[h].slice(0):o.customData[h]=s[h]);return o};p.exports=v},67409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u=[171,75,84,88,32,49,49,187,13,10,26,10],v,o=new Uint8Array(t,0,12);for(v=0;v<o.length;v++)if(o[v]!==u[v]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(t,12,13*r),e=s.getUint32(0,!0)===67305985,i=s.getUint32(1*r,e);if(i!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=s.getUint32(4*r,e),n=s.getUint32(6*r,e),a=s.getUint32(7*r,e),f=Math.max(1,s.getUint32(11*r,e)),h=s.getUint32(12*r,e),d=new Array(f),c=12+13*4+h,g=n,x=a;for(v=0;v<f;v++){var m=new Int32Array(t,c,1)[0];c+=4,d[v]={data:new Uint8Array(t,c,m),width:g,height:x},g=Math.max(1,g>>1),x=Math.max(1,x>>1),c+=m}return{mipmaps:d,width:n,height:a,internalFormat:l,compressed:!0,generateMipmap:!1}};p.exports=S},24904:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(T,R,P,D,I,w,U){return U===void 0&&(U=16),Math.floor((T+P)/I)*Math.floor((R+D)/w)*U}function t(T,R){return T=Math.max(T,16),R=Math.max(R,8),T*R/4}function u(T,R){return T=Math.max(T,8),R=Math.max(R,8),T*R/2}function v(T,R){return S(T,R,3,3,4,4,8)}function o(T,R){return S(T,R,3,3,4,4)}function r(T,R){return S(T,R,4,3,5,4)}function s(T,R){return S(T,R,4,4,5,5)}function e(T,R){return S(T,R,5,4,6,5)}function i(T,R){return S(T,R,5,5,6,6)}function l(T,R){return S(T,R,7,4,8,5)}function n(T,R){return S(T,R,7,5,8,6)}function a(T,R){return S(T,R,7,7,8,8)}function f(T,R){return S(T,R,9,4,10,5)}function h(T,R){return S(T,R,9,5,10,6)}function d(T,R){return S(T,R,9,7,10,8)}function c(T,R){return S(T,R,9,9,10,10)}function g(T,R){return S(T,R,11,9,12,10)}function x(T,R){return S(T,R,11,11,12,12)}var m={0:{sizeFunc:t,glFormat:35841},1:{sizeFunc:t,glFormat:35843},2:{sizeFunc:u,glFormat:35840},3:{sizeFunc:u,glFormat:35842},6:{sizeFunc:v,glFormat:36196},7:{sizeFunc:v,glFormat:33776},8:{sizeFunc:o,glFormat:33777},9:{sizeFunc:o,glFormat:33778},11:{sizeFunc:o,glFormat:33779},22:{sizeFunc:v,glFormat:37492},23:{sizeFunc:o,glFormat:37496},24:{sizeFunc:v,glFormat:37494},25:{sizeFunc:v,glFormat:37488},26:{sizeFunc:o,glFormat:37490},27:{sizeFunc:o,glFormat:37808},28:{sizeFunc:r,glFormat:37809},29:{sizeFunc:s,glFormat:37810},30:{sizeFunc:e,glFormat:37811},31:{sizeFunc:i,glFormat:37812},32:{sizeFunc:l,glFormat:37813},33:{sizeFunc:n,glFormat:37814},34:{sizeFunc:a,glFormat:37815},35:{sizeFunc:f,glFormat:37816},36:{sizeFunc:h,glFormat:37817},37:{sizeFunc:d,glFormat:37818},38:{sizeFunc:c,glFormat:37819},39:{sizeFunc:g,glFormat:37820},40:{sizeFunc:x,glFormat:37821}},y=function(T){for(var R=new Uint32Array(T,0,13),P=R[2],D=m[P].glFormat,I=m[P].sizeFunc,w=R[11],U=R[7],G=R[6],H=52+R[12],z=new Uint8Array(T,H),$=new Array(w),J=0,W=U,K=G,N=0;N<w;N++){var b=I(W,K);$[N]={data:new Uint8Array(z.buffer,z.byteOffset+J,b),width:W,height:K},W=Math.max(1,W>>1),K=Math.max(1,K>>1),J+=b}return{mipmaps:$,width:U,height:G,internalFormat:D,compressed:!0,generateMipmap:!1}};p.exports=y},6143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72632),v=function(o,r,s,e,i,l,n){var a=u(n,"frameWidth",null),f=u(n,"frameHeight",a);if(a===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var h=o.source[r];o.add("__BASE",r,0,0,h.width,h.height);var d=u(n,"startFrame",0),c=u(n,"endFrame",-1),g=u(n,"margin",0),x=u(n,"spacing",0),m=Math.floor((i-g+x)/(a+x)),y=Math.floor((l-g+x)/(f+x)),T=m*y;T===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(d>T||d<-T)&&(d=0),d<0&&(d=T+d),(c===-1||c>T||c<d)&&(c=T);for(var R=g,P=g,D=0,I=0,w=0,U=0;U<T;U++){D=0,I=0;var G=R+a,H=P+f;G>i&&(D=G-i),H>l&&(I=H-l),U>=d&&U<=c&&(o.add(w,r,s+R,e+P,a-D,f-I),w++),R+=a+x,R+a>i&&(R=g,P+=f+x)}return o};p.exports=v},20030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72632),v=function(o,r,s){var e=u(s,"frameWidth",null),i=u(s,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height),u(s,"startFrame",0),u(s,"endFrame",-1);for(var n=u(s,"margin",0),a=u(s,"spacing",0),f=r.cutX,h=r.cutY,d=r.cutWidth,c=r.cutHeight,g=r.realWidth,x=r.realHeight,m=Math.floor((g-n+a)/(e+a)),y=Math.floor((x-n+a)/(i+a)),T=r.x,R=e-T,P=e-(g-d-T),D=r.y,I=i-D,w=i-(x-c-D),U,G=n,H=n,z=0,$=0,J=0;J<y;J++){for(var W=J===0,K=J===y-1,N=0;N<m;N++){var b=N===0,Y=N===m-1;if(U=o.add(z,$,f+G,h+H,e,i),b||W||Y||K){var j=b?T:0,Q=W?D:0,q=0,tt=0;b&&(q+=e-R),Y&&(q+=e-P),W&&(tt+=i-I),K&&(tt+=i-w);var it=e-q,st=i-tt;U.cutWidth=it,U.cutHeight=st,U.setTrim(e,i,j,Q,it,st)}G+=a,b?G+=R:Y?G+=P:G+=e,z++}G=n,H+=a,W?H+=I:K?H+=w:H+=i}return o};p.exports=v},89187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(v,o,r,s){var e=S-s.y-s.height;v.add(r,o,s.x,e,s.width,s.height)},u=function(v,o,r){var s=v.source[o];v.add("__BASE",o,0,0,s.width,s.height),S=s.height;for(var e=r.split(`
`),i=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",n="",a={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var h=e[f].match(i);if(h){var d=h[1]==="- ",c=h[2],g=h[3];if(d&&(n!==l&&(t(v,o,n,a),l=n),a={x:0,y:0,width:0,height:0}),c==="name"){n=g;continue}switch(c){case"x":case"y":case"width":case"height":a[c]=parseInt(g,10);break}}}return n!==l&&t(v,o,n,a),v};p.exports=u},69150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(35082),Canvas:t(83332),Image:t(21560),JSONArray:t(64423),JSONHash:t(17264),KTXParser:t(67409),PVRParser:t(24904),SpriteSheet:t(6143),SpriteSheetFromAtlas:t(20030),UnityYAML:t(89187)}},93560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r,s,e,i,l,n,a){(e===void 0||e<=0)&&(e=32),(i===void 0||i<=0)&&(i=32),l===void 0&&(l=0),n===void 0&&(n=0),this.name=r,this.firstgid=s|0,this.imageWidth=e|0,this.imageHeight=i|0,this.imageMargin=l|0,this.imageSpacing=n|0,this.properties=a||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,r){return this.images.push({gid:o,image:r}),this.total++,this}});p.exports=v},46422:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=new u({initialize:function(r){if(this.gids=[],r!==void 0)for(var s=0;s<r.length;++s)for(var e=r[s],i=0;i<e.total;++i)this.gids[e.firstgid+i]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var r=this.gids[o.gid];if(r){var s=r.getTileData(o.gid);if(s)return s.type}}},setTextureAndFrame:function(o,r,s,e){if(r===null&&this.gids&&e.gid!==void 0){var i=this.gids[e.gid];i&&(r===null&&i.image!==void 0&&(r=i.image.key),s===null&&(s=e.gid-i.firstgid),o.scene.textures.getFrame(r,s)||(r=null,s=null))}o.setTexture(r,s)},setPropertiesFromTiledObject:function(o,r){if(this.gids!==void 0&&r.gid!==void 0){var s=this.gids[r.gid];s!==void 0&&this.setFromJSON(o,s.getTileProperties(r.gid))}this.setFromJSON(o,r.properties)},setFromJSON:function(o,r){if(r){if(Array.isArray(r)){r.forEach(function(e){o.setData(e.name,e.value)});return}for(var s in r)o[s]!==void 0?o[s]=r[s]:o.setData(s,r[s])}}});p.exports=v},15043:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93560),v=t(16586),o=t(90715),r=t(89797),s=function(e,i,l,n,a,f,h,d){l===void 0&&(l=32),n===void 0&&(n=32),a===void 0&&(a=10),f===void 0&&(f=10),d===void 0&&(d=!1);var c=null;if(Array.isArray(h)){var g=i!==void 0?i:"map";c=o(g,u.ARRAY_2D,h,l,n,d)}else if(i!==void 0){var x=e.cache.tilemap.get(i);x?c=o(i,x.format,x.data,l,n,d):console.warn("No map data found for key "+i)}return c===null&&(c=new v({tileWidth:l,tileHeight:n,width:a,height:f})),new r(e,c)};p.exports=s},29633:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(12920),r=t(28699),s=t(66658),e=new u({Mixins:[v.Alpha,v.Flip,v.Visible],initialize:function(l,n,a,f,h,d,c,g){this.layer=l,this.index=n,this.x=a,this.y=f,this.width=h,this.height=d,this.right,this.bottom,this.baseWidth=c!==void 0?c:h,this.baseHeight=g!==void 0?g:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(i,l){return!(i<this.pixelX||l<this.pixelY||i>this.right||l>this.bottom)},copy:function(i){return this.index=i.index,this.alpha=i.alpha,this.properties=r(i.properties),this.visible=i.visible,this.setFlip(i.flipX,i.flipY),this.tint=i.tint,this.rotation=i.rotation,this.collideUp=i.collideUp,this.collideDown=i.collideDown,this.collideLeft=i.collideLeft,this.collideRight=i.collideRight,this.collisionCallback=i.collisionCallback,this.collisionCallbackContext=i.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(i){var l=this.tilemapLayer;if(l){var n=l.tileToWorldXY(this.x,this.y,void 0,i);return n.x}return this.x*this.baseWidth},getRight:function(i){var l=this.tilemapLayer;return l?this.getLeft(i)+this.width*l.scaleX:this.getLeft(i)+this.width},getTop:function(i){var l=this.tilemapLayer;if(l){var n=l.tileToWorldXY(this.x,this.y,void 0,i);return n.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(i){var l=this.tilemapLayer;return l?this.getTop(i)+this.height*l.scaleY:this.getTop(i)+this.height},getBounds:function(i,l){return l===void 0&&(l=new s),l.x=this.getLeft(i),l.y=this.getTop(i),l.width=this.getRight(i)-l.x,l.height=this.getBottom(i)-l.y,l},getCenterX:function(i){return(this.getLeft(i)+this.getRight(i))/2},getCenterY:function(i){return(this.getTop(i)+this.getBottom(i))/2},intersects:function(i,l,n,a){return!(n<=this.pixelX||a<=this.pixelY||i>=this.right||l>=this.bottom)},isInteresting:function(i,l){return i&&l?this.canCollide||this.hasInterestingFace:i?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(i){if(i===void 0&&(i=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,i){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(i,l,n,a,f){if(l===void 0&&(l=i),n===void 0&&(n=i),a===void 0&&(a=i),f===void 0&&(f=!0),this.collideLeft=i,this.collideRight=l,this.collideUp=n,this.collideDown=a,this.faceLeft=i,this.faceRight=l,this.faceTop=n,this.faceBottom=a,f){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(i,l){return i===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=i,this.collisionCallbackContext=l),this},setSize:function(i,l,n,a){return i!==void 0&&(this.width=i),l!==void 0&&(this.height=l),n!==void 0&&(this.baseWidth=n),a!==void 0&&(this.baseHeight=a),this.updatePixelXY(),this},updatePixelXY:function(){var i=this.layer.orientation;if(i===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(i===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(i===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(i===o.HEXAGONAL){var l=this.layer.staggerAxis,n=this.layer.staggerIndex,a=this.layer.hexSideLength,f,h;l==="y"?(h=(this.baseHeight-a)/2+a,n==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*h):l==="x"&&(f=(this.baseWidth-a)/2+a,this.pixelX=this.x*f,n==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var i=this.layer.tilemapLayer;if(i){var l=i.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var i=this.tilemapLayer;return i?i.tilemap:null}}});p.exports=e},89797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(14556),v=t(56694),o=t(75606),r=t(93560),s=t(72632),e=t(94990),i=t(46422),l=t(12920),n=t(52257),a=t(72677),f=t(13747),h=t(29633),d=t(5047),c=t(87177),g=t(47975),x=new v({initialize:function(y,T){this.scene=y,this.tileWidth=T.tileWidth,this.tileHeight=T.tileHeight,this.width=T.width,this.height=T.height,this.orientation=T.orientation,this.renderOrder=T.renderOrder,this.format=T.format,this.version=T.version,this.properties=T.properties,this.widthInPixels=T.widthInPixels,this.heightInPixels=T.heightInPixels,this.imageCollections=T.imageCollections,this.images=T.images,this.layers=T.layers,this.tiles=T.tiles,this.tilesets=T.tilesets,this.objects=T.objects,this.currentLayerIndex=0,this.hexSideLength=T.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(R),WorldToTileX:d.GetWorldToTileXFunction(R),WorldToTileY:d.GetWorldToTileYFunction(R),TileToWorldXY:d.GetTileToWorldXYFunction(R),TileToWorldX:d.GetTileToWorldXFunction(R),TileToWorldY:d.GetTileToWorldYFunction(R),GetTileCorners:d.GetTileCornersFunction(R)}},setRenderOrder:function(m){var y=["right-down","left-down","right-up","left-up"];return typeof m=="number"&&(m=y[m]),y.indexOf(m)>-1&&(this.renderOrder=m),this},addTilesetImage:function(m,y,T,R,P,D,I,w){if(m===void 0)return null;if(y==null&&(y=m),!this.scene.sys.textures.exists(y))return console.warn("Invalid Tileset Image: "+y),null;var U=this.scene.sys.textures.get(y),G=this.getTilesetIndex(m);if(G===null&&this.format===r.TILED_JSON)return console.warn("No data found for Tileset: "+m),null;var H=this.tilesets[G];return H?(H.setTileSize(T,R),H.setSpacing(P,D),H.setImage(U),H):(T===void 0&&(T=this.tileWidth),R===void 0&&(R=this.tileHeight),P===void 0&&(P=0),D===void 0&&(D=0),I===void 0&&(I=0),w===void 0&&(w={x:0,y:0}),H=new g(m,I,T,R,P,D,void 0,void 0,w),H.setImage(U),this.tilesets.push(H),this.tiles=u(this),H)},copy:function(m,y,T,R,P,D,I,w){return w=this.getLayer(w),w!==null?(d.Copy(m,y,T,R,P,D,I,w),this):null},createBlankLayer:function(m,y,T,R,P,D,I,w){T===void 0&&(T=0),R===void 0&&(R=0),P===void 0&&(P=this.width),D===void 0&&(D=this.height),I===void 0&&(I=this.tileWidth),w===void 0&&(w=this.tileHeight);var U=this.getLayerIndex(m);if(U!==null)return console.warn("Invalid Tilemap Layer ID: "+m),null;for(var G=new e({name:m,tileWidth:I,tileHeight:w,width:P,height:D,orientation:this.orientation}),H,z=0;z<D;z++){H=[];for(var $=0;$<P;$++)H.push(new h(G,-1,$,z,I,w,this.tileWidth,this.tileHeight));G.data.push(H)}this.layers.push(G),this.currentLayerIndex=this.layers.length-1;var J=new c(this.scene,this,this.currentLayerIndex,y,T,R);return J.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(J),J},createLayer:function(m,y,T,R){var P=this.getLayerIndex(m);if(P===null)return console.warn("Invalid Tilemap Layer ID: "+m),typeof m=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[P];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+m),null;this.currentLayerIndex=P,T===void 0&&(T=D.x),R===void 0&&(R=D.y);var I=new c(this.scene,this,P,y,T,R);return I.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(I),I},createFromObjects:function(m,y,T){T===void 0&&(T=!0);var R=[],P=this.getObjectLayer(m);if(!P)return console.warn("createFromObjects: Invalid objectLayerName given: "+m),R;var D=new i(T?this.tilesets:void 0);Array.isArray(y)||(y=[y]);for(var I=P.objects,w=0;w<y.length;w++){var U=y[w],G=s(U,"id",null),H=s(U,"gid",null),z=s(U,"name",null),$=s(U,"type",null);D.enabled=!s(U,"ignoreTileset",null);for(var J,W=[],K=0;K<I.length;K++)J=I[K],(G===null&&H===null&&z===null&&$===null||G!==null&&J.id===G||H!==null&&J.gid===H||z!==null&&J.name===z||$!==null&&D.getTypeIncludingTile(J)===$)&&W.push(J);for(var N=s(U,"classType",f),b=s(U,"scene",this.scene),Y=s(U,"container",null),j=s(U,"key",null),Q=s(U,"frame",null),q=0;q<W.length;q++){J=W[q];var tt=new N(b);if(tt.setName(J.name),tt.setPosition(J.x,J.y),D.setTextureAndFrame(tt,j,Q,J),J.width&&(tt.displayWidth=J.width),J.height&&(tt.displayHeight=J.height),this.orientation===l.ISOMETRIC){var it=this.tileWidth/this.tileHeight,st={x:tt.x-tt.y,y:(tt.x+tt.y)/it};tt.x=st.x,tt.y=st.y}var lt={x:tt.originX*J.width,y:(tt.originY-(J.gid?1:0))*J.height};if(J.rotation){var ut=o(J.rotation);n(lt,ut),tt.rotation=ut}tt.x+=lt.x,tt.y+=lt.y,(J.flippedHorizontal!==void 0||J.flippedVertical!==void 0)&&tt.setFlip(J.flippedHorizontal,J.flippedVertical),J.visible||(tt.visible=!1),D.setPropertiesFromTiledObject(tt,J),Y?Y.add(tt):b.add.existing(tt),R.push(tt)}}return R},createFromTiles:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:d.CreateFromTiles(m,y,T,R,P,D)},fill:function(m,y,T,R,P,D,I){return D===void 0&&(D=!0),I=this.getLayer(I),I===null?null:(d.Fill(m,y,T,R,P,D,I),this)},filterObjects:function(m,y,T){if(typeof m=="string"){var R=m;if(m=this.getObjectLayer(m),!m)return console.warn("No object layer found with the name: "+R),null}return m.objects.filter(y,T)},filterTiles:function(m,y,T,R,P,D,I,w){return w=this.getLayer(w),w===null?null:d.FilterTiles(m,y,T,R,P,D,I,w)},findByIndex:function(m,y,T,R){return R=this.getLayer(R),R===null?null:d.FindByIndex(m,y,T,R)},findObject:function(m,y,T){if(typeof m=="string"){var R=m;if(m=this.getObjectLayer(m),!m)return console.warn("No object layer found with the name: "+R),null}return m.objects.find(y,T)||null},findTile:function(m,y,T,R,P,D,I,w){return w=this.getLayer(w),w===null?null:d.FindTile(m,y,T,R,P,D,I,w)},forEachTile:function(m,y,T,R,P,D,I,w){return w=this.getLayer(w),w===null?null:(d.ForEachTile(m,y,T,R,P,D,I,w),this)},getImageIndex:function(m){return this.getIndex(this.images,m)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(m){return m.name})},getIndex:function(m,y){for(var T=0;T<m.length;T++)if(m[T].name===y)return T;return null},getLayer:function(m){var y=this.getLayerIndex(m);return y!==null?this.layers[y]:null},getObjectLayer:function(m){var y=this.getIndex(this.objects,m);return y!==null?this.objects[y]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(m){return m.name})},getLayerIndex:function(m){return m===void 0?this.currentLayerIndex:typeof m=="string"?this.getLayerIndexByName(m):typeof m=="number"&&m<this.layers.length?m:m instanceof c&&m.tilemap===this?m.layerIndex:null},getLayerIndexByName:function(m){return this.getIndex(this.layers,m)},getTileAt:function(m,y,T,R){return R=this.getLayer(R),R===null?null:d.GetTileAt(m,y,T,R)},getTileAtWorldXY:function(m,y,T,R,P){return P=this.getLayer(P),P===null?null:d.GetTileAtWorldXY(m,y,T,R,P)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(m){return m.name})},getTilesWithin:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:d.GetTilesWithin(m,y,T,R,P,D)},getTilesWithinShape:function(m,y,T,R){return R=this.getLayer(R),R===null?null:d.GetTilesWithinShape(m,y,T,R)},getTilesWithinWorldXY:function(m,y,T,R,P,D,I){return I=this.getLayer(I),I===null?null:d.GetTilesWithinWorldXY(m,y,T,R,P,D,I)},getTileset:function(m){var y=this.getIndex(this.tilesets,m);return y!==null?this.tilesets[y]:null},getTilesetIndex:function(m){return this.getIndex(this.tilesets,m)},hasTileAt:function(m,y,T){return T=this.getLayer(T),T===null?null:d.HasTileAt(m,y,T)},hasTileAtWorldXY:function(m,y,T,R){return R=this.getLayer(R),R===null?null:d.HasTileAtWorldXY(m,y,T,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(m){this.setLayer(m)}},putTileAt:function(m,y,T,R,P){return R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:d.PutTileAt(m,y,T,R,P)},putTileAtWorldXY:function(m,y,T,R,P,D){return R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:d.PutTileAtWorldXY(m,y,T,R,P,D)},putTilesAt:function(m,y,T,R,P){return R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:(d.PutTilesAt(m,y,T,R,P),this)},randomize:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:(d.Randomize(m,y,T,R,P,D),this)},calculateFacesAt:function(m,y,T){return T=this.getLayer(T),T===null?null:(d.CalculateFacesAt(m,y,T),this)},calculateFacesWithin:function(m,y,T,R,P){return P=this.getLayer(P),P===null?null:(d.CalculateFacesWithin(m,y,T,R,P),this)},removeLayer:function(m){var y=this.getLayerIndex(m);if(y!==null){a(this.layers,y);for(var T=y;T<this.layers.length;T++)this.layers[T].tilemapLayer&&this.layers[T].tilemapLayer.layerIndex--;return this.currentLayerIndex===y&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(m){var y=this.getLayerIndex(m);return y!==null?(m=this.layers[y],m.tilemapLayer.destroy(),a(this.layers,y),this.currentLayerIndex===y&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var m=this.layers,y=0;y<m.length;y++)m[y].tilemapLayer&&m[y].tilemapLayer.destroy(!1);return m.length=0,this.currentLayerIndex=0,this},removeTile:function(m,y,T){y===void 0&&(y=-1),T===void 0&&(T=!0);var R=[];Array.isArray(m)||(m=[m]);for(var P=0;P<m.length;P++){var D=m[P];R.push(this.removeTileAt(D.x,D.y,!0,T,D.tilemapLayer)),y>-1&&this.putTileAt(y,D.x,D.y,T,D.tilemapLayer)}return R},removeTileAt:function(m,y,T,R,P){return T===void 0&&(T=!0),R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:d.RemoveTileAt(m,y,T,R,P)},removeTileAtWorldXY:function(m,y,T,R,P,D){return T===void 0&&(T=!0),R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:d.RemoveTileAtWorldXY(m,y,T,R,P,D)},renderDebug:function(m,y,T){return T=this.getLayer(T),T===null?null:(this.orientation===l.ORTHOGONAL&&d.RenderDebug(m,y,T),this)},renderDebugFull:function(m,y){for(var T=this.layers,R=0;R<T.length;R++)d.RenderDebug(m,y,T[R]);return this},replaceByIndex:function(m,y,T,R,P,D,I){return I=this.getLayer(I),I===null?null:(d.ReplaceByIndex(m,y,T,R,P,D,I),this)},setCollision:function(m,y,T,R,P){return y===void 0&&(y=!0),T===void 0&&(T=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(d.SetCollision(m,y,T,R,P),this)},setCollisionBetween:function(m,y,T,R,P){return T===void 0&&(T=!0),R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionBetween(m,y,T,R,P),this)},setCollisionByProperty:function(m,y,T,R){return y===void 0&&(y=!0),T===void 0&&(T=!0),R=this.getLayer(R),R===null?null:(d.SetCollisionByProperty(m,y,T,R),this)},setCollisionByExclusion:function(m,y,T,R){return y===void 0&&(y=!0),T===void 0&&(T=!0),R=this.getLayer(R),R===null?null:(d.SetCollisionByExclusion(m,y,T,R),this)},setCollisionFromCollisionGroup:function(m,y,T){return m===void 0&&(m=!0),y===void 0&&(y=!0),T=this.getLayer(T),T===null?null:(d.SetCollisionFromCollisionGroup(m,y,T),this)},setTileIndexCallback:function(m,y,T,R){return R=this.getLayer(R),R===null?null:(d.SetTileIndexCallback(m,y,T,R),this)},setTileLocationCallback:function(m,y,T,R,P,D,I){return I=this.getLayer(I),I===null?null:(d.SetTileLocationCallback(m,y,T,R,P,D,I),this)},setLayer:function(m){var y=this.getLayerIndex(m);return y!==null&&(this.currentLayerIndex=y),this},setBaseTileSize:function(m,y){this.tileWidth=m,this.tileHeight=y,this.widthInPixels=this.width*m,this.heightInPixels=this.height*y;for(var T=0;T<this.layers.length;T++){this.layers[T].baseTileWidth=m,this.layers[T].baseTileHeight=y;for(var R=this.layers[T].data,P=this.layers[T].width,D=this.layers[T].height,I=0;I<D;I++)for(var w=0;w<P;w++){var U=R[I][w];U!==null&&U.setSize(void 0,void 0,m,y)}}return this},setLayerTileSize:function(m,y,T){if(T=this.getLayer(T),T===null)return this;T.tileWidth=m,T.tileHeight=y;for(var R=T.data,P=T.width,D=T.height,I=0;I<D;I++)for(var w=0;w<P;w++){var U=R[I][w];U!==null&&U.setSize(m,y)}return this},shuffle:function(m,y,T,R,P){return P=this.getLayer(P),P===null?null:(d.Shuffle(m,y,T,R,P),this)},swapByIndex:function(m,y,T,R,P,D,I){return I=this.getLayer(I),I===null?null:(d.SwapByIndex(m,y,T,R,P,D,I),this)},tileToWorldX:function(m,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldX(m,y,T)},tileToWorldY:function(m,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldY(m,y,T)},tileToWorldXY:function(m,y,T,R,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldXY(m,y,T,R,P)},getTileCorners:function(m,y,T,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(m,y,T,R)},weightedRandomize:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:(d.WeightedRandomize(y,T,R,P,m,D),this)},worldToTileX:function(m,y,T,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(m,y,T,R)},worldToTileY:function(m,y,T,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(m,y,T,R)},worldToTileXY:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(m,y,T,R,P,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=x},4843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99325),v=t(15043);u.register("tilemap",function(o){var r=o!==void 0?o:{};return v(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},37940:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61286),v=t(15043);u.register("tilemap",function(o,r,s,e,i,l,n){return o===null&&(o=void 0),r===null&&(r=void 0),s===null&&(s=void 0),e===null&&(e=void 0),i===null&&(i=void 0),v(this.scene,o,r,s,e,i,l,n)})},87177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(64937),o=t(89980),r=t(5047),s=t(96193),e=t(93736),i=new u({Extends:o,Mixins:[v.Alpha,v.BlendMode,v.ComputedSize,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.Transform,v.Visible,v.ScrollFactor,s],initialize:function(n,a,f,h,d,c){o.call(this,n,"TilemapLayer"),this.isTilemap=!0,this.tilemap=a,this.layerIndex=f,this.layer=a.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new e,this.setTilesets(h),this.setAlpha(this.layer.alpha),this.setPosition(d,c),this.setOrigin(0,0),this.setSize(a.tileWidth*this.layer.width,a.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(l){var n=[],a=[],f=this.tilemap;Array.isArray(l)||(l=[l]);for(var h=0;h<l.length;h++){var d=l[h];if(typeof d=="string"&&(d=f.getTileset(d)),d){a.push(d);for(var c=d.firstgid,g=0;g<d.total;g++)n[c+g]=d}}this.gidMap=n,this.tileset=a},setRenderOrder:function(l){var n=["right-down","left-down","right-up","left-up"];return typeof l=="string"&&(l=n.indexOf(l)),l>=0&&l<4&&(this._renderOrder=l),this},calculateFacesAt:function(l,n){return r.CalculateFacesAt(l,n,this.layer),this},calculateFacesWithin:function(l,n,a,f){return r.CalculateFacesWithin(l,n,a,f,this.layer),this},createFromTiles:function(l,n,a,f,h){return r.CreateFromTiles(l,n,a,f,h,this.layer)},cull:function(l){return this.cullCallback(this.layer,l,this.culledTiles,this._renderOrder)},copy:function(l,n,a,f,h,d,c){return r.Copy(l,n,a,f,h,d,c,this.layer),this},fill:function(l,n,a,f,h,d){return r.Fill(l,n,a,f,h,d,this.layer),this},filterTiles:function(l,n,a,f,h,d,c){return r.FilterTiles(l,n,a,f,h,d,c,this.layer)},findByIndex:function(l,n,a){return r.FindByIndex(l,n,a,this.layer)},findTile:function(l,n,a,f,h,d,c){return r.FindTile(l,n,a,f,h,d,c,this.layer)},forEachTile:function(l,n,a,f,h,d,c){return r.ForEachTile(l,n,a,f,h,d,c,this.layer),this},setTint:function(l,n,a,f,h,d){l===void 0&&(l=16777215);var c=function(g){g.tint=l};return this.forEachTile(c,this,n,a,f,h,d)},getTileAt:function(l,n,a){return r.GetTileAt(l,n,a,this.layer)},getTileAtWorldXY:function(l,n,a,f){return r.GetTileAtWorldXY(l,n,a,f,this.layer)},getIsoTileAtWorldXY:function(l,n,a,f,h){a===void 0&&(a=!0);var d=this.tempVec;return r.IsometricWorldToTileXY(l,n,!0,d,h,this.layer,a),this.getTileAt(d.x,d.y,f)},getTilesWithin:function(l,n,a,f,h){return r.GetTilesWithin(l,n,a,f,h,this.layer)},getTilesWithinShape:function(l,n,a){return r.GetTilesWithinShape(l,n,a,this.layer)},getTilesWithinWorldXY:function(l,n,a,f,h,d){return r.GetTilesWithinWorldXY(l,n,a,f,h,d,this.layer)},hasTileAt:function(l,n){return r.HasTileAt(l,n,this.layer)},hasTileAtWorldXY:function(l,n,a){return r.HasTileAtWorldXY(l,n,a,this.layer)},putTileAt:function(l,n,a,f){return r.PutTileAt(l,n,a,f,this.layer)},putTileAtWorldXY:function(l,n,a,f,h){return r.PutTileAtWorldXY(l,n,a,f,h,this.layer)},putTilesAt:function(l,n,a,f){return r.PutTilesAt(l,n,a,f,this.layer),this},randomize:function(l,n,a,f,h){return r.Randomize(l,n,a,f,h,this.layer),this},removeTileAt:function(l,n,a,f){return r.RemoveTileAt(l,n,a,f,this.layer)},removeTileAtWorldXY:function(l,n,a,f,h){return r.RemoveTileAtWorldXY(l,n,a,f,h,this.layer)},renderDebug:function(l,n){return r.RenderDebug(l,n,this.layer),this},replaceByIndex:function(l,n,a,f,h,d){return r.ReplaceByIndex(l,n,a,f,h,d,this.layer),this},setSkipCull:function(l){return l===void 0&&(l=!0),this.skipCull=l,this},setCullPadding:function(l,n){return l===void 0&&(l=1),n===void 0&&(n=1),this.cullPaddingX=l,this.cullPaddingY=n,this},setCollision:function(l,n,a,f){return r.SetCollision(l,n,a,this.layer,f),this},setCollisionBetween:function(l,n,a,f){return r.SetCollisionBetween(l,n,a,f,this.layer),this},setCollisionByProperty:function(l,n,a){return r.SetCollisionByProperty(l,n,a,this.layer),this},setCollisionByExclusion:function(l,n,a){return r.SetCollisionByExclusion(l,n,a,this.layer),this},setCollisionFromCollisionGroup:function(l,n){return r.SetCollisionFromCollisionGroup(l,n,this.layer),this},setTileIndexCallback:function(l,n,a){return r.SetTileIndexCallback(l,n,a,this.layer),this},setTileLocationCallback:function(l,n,a,f,h,d){return r.SetTileLocationCallback(l,n,a,f,h,d,this.layer),this},shuffle:function(l,n,a,f){return r.Shuffle(l,n,a,f,this.layer),this},swapByIndex:function(l,n,a,f,h,d){return r.SwapByIndex(l,n,a,f,h,d,this.layer),this},tileToWorldX:function(l,n){return this.tilemap.tileToWorldX(l,n,this)},tileToWorldY:function(l,n){return this.tilemap.tileToWorldY(l,n,this)},tileToWorldXY:function(l,n,a,f){return this.tilemap.tileToWorldXY(l,n,a,f,this)},getTileCorners:function(l,n,a){return this.tilemap.getTileCorners(l,n,a,this)},weightedRandomize:function(l,n,a,f,h){return r.WeightedRandomize(n,a,f,h,l,this.layer),this},worldToTileX:function(l,n,a){return this.tilemap.worldToTileX(l,n,a,this)},worldToTileY:function(l,n,a){return this.tilemap.worldToTileY(l,n,a,this)},worldToTileXY:function(l,n,a,f,h){return this.tilemap.worldToTileXY(l,n,a,f,h,this)},destroy:function(l){l===void 0&&(l=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),l&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this))}});p.exports=i},17394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(69360),v=new u,o=new u,r=new u,s=function(e,i,l,n){var a=i.cull(l),f=a.length,h=l.alpha*i.alpha;if(!(f===0||h<=0)){var d=v,c=o,g=r;c.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),d.copyFrom(l.matrix);var x=e.currentContext,m=i.gidMap;x.save(),n?(d.multiplyWithOffset(n,-l.scrollX*i.scrollFactorX,-l.scrollY*i.scrollFactorY),c.e=i.x,c.f=i.y,d.multiply(c,g),g.copyToContext(x)):(c.e-=l.scrollX*i.scrollFactorX,c.f-=l.scrollY*i.scrollFactorY,c.copyToContext(x)),(!e.antialias||i.scaleX>1||i.scaleY>1)&&(x.imageSmoothingEnabled=!1);for(var y=0;y<f;y++){var T=a[y],R=m[T.index];if(R){var P=R.image.getSourceImage(),D=R.getTileTextureCoordinates(T.index),I=R.tileWidth,w=R.tileHeight;if(!(D===null||I===0||w===0)){var U=I*.5,G=w*.5;D.x+=R.tileOffset.x,D.y+=R.tileOffset.y,x.save(),x.translate(T.pixelX+U,T.pixelY+G),T.rotation!==0&&x.rotate(T.rotation),(T.flipX||T.flipY)&&x.scale(T.flipX?-1:1,T.flipY?-1:1),x.globalAlpha=h*T.alpha,x.drawImage(P,D.x,D.y,I,w,-U,-G,I,w),x.restore()}}}x.restore()}};p.exports=s},96193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72283),v=u,o=u;v=t(51395),o=t(17394),p.exports={renderWebGL:v,renderCanvas:o}},51395:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75512),v=function(o,r,s){var e=r.cull(s),i=e.length,l=s.alpha*r.alpha;if(!(i===0||l<=0)){var n=r.gidMap,a=o.pipelines.set(r.pipeline,r),f=u.getTintAppendFloatAlpha,h=r.scrollFactorX,d=r.scrollFactorY,c=r.x,g=r.y,x=r.scaleX,m=r.scaleY;o.pipelines.preBatch(r);for(var y=0;y<i;y++){var T=e[y],R=n[T.index];if(R){var P=R.getTileTextureCoordinates(T.index);if(P!==null){var D=R.glTexture,I=a.setTexture2D(D,r),w=R.tileWidth,U=R.tileHeight,G=P.x,H=P.y,z=R.tileWidth*.5,$=R.tileHeight*.5,J=R.tileOffset.x,W=R.tileOffset.y,K=f(T.tint,l*T.alpha);a.batchTexture(r,D,D.width,D.height,c+T.pixelX*x+(z*x-J),g+T.pixelY*m+($*m-W),T.width,T.height,x,m,T.rotation,T.flipX,T.flipY,h,d,z,$,G,H,w,U,K,K,K,K,!1,0,0,s,null,!0,I)}}}o.pipelines.postBatch(r)}};p.exports=v},47975:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(93736),o=new u({initialize:function(s,e,i,l,n,a,f,h,d){(i===void 0||i<=0)&&(i=32),(l===void 0||l<=0)&&(l=32),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f={}),h===void 0&&(h={}),this.name=s,this.firstgid=e,this.tileWidth=i,this.tileHeight=l,this.tileMargin=n,this.tileSpacing=a,this.tileProperties=f,this.tileData=h,this.tileOffset=new v,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var s=this.getTileData(r);return s&&s.objectgroup?s.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){return this.image=r,this.glTexture=r.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(r,s){return r!==void 0&&(this.tileWidth=r),s!==void 0&&(this.tileHeight=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,s){return r!==void 0&&(this.tileMargin=r),s!==void 0&&(this.tileSpacing=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,s){var e=(s-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(e%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),e=Math.floor(e),i=Math.floor(i),this.rows=e,this.columns=i,this.total=e*i,this.texCoordinates.length=0;for(var l=this.tileMargin,n=this.tileMargin,a=0;a<this.rows;a++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:l,y:n}),l+=this.tileWidth+this.tileSpacing;l=this.tileMargin,n+=this.tileHeight+this.tileSpacing}return this}});p.exports=o},92839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15494),v=function(o,r,s){var e=u(o,r,!0,s),i=u(o,r-1,!0,s),l=u(o,r+1,!0,s),n=u(o-1,r,!0,s),a=u(o+1,r,!0,s),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),i&&i.collides&&(f&&(e.faceTop=!1),i.faceBottom=!f),l&&l.collides&&(f&&(e.faceBottom=!1),l.faceTop=!f),n&&n.collides&&(f&&(e.faceLeft=!1),n.faceRight=!f),a&&a.collides&&(f&&(e.faceRight=!1),a.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};p.exports=v},60386:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15494),v=t(50811),o=function(r,s,e,i,l){for(var n=null,a=null,f=null,h=null,d=v(r,s,e,i,null,l),c=0;c<d.length;c++){var g=d[c];g&&(g.collides?(n=u(g.x,g.y-1,!0,l),a=u(g.x,g.y+1,!0,l),f=u(g.x-1,g.y,!0,l),h=u(g.x+1,g.y,!0,l),g.faceTop=!(n&&n.collides),g.faceBottom=!(a&&a.collides),g.faceLeft=!(f&&f.collides),g.faceRight=!(h&&h.collides)):g.resetFaces())}};p.exports=o},13125:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=new u,o=function(r,s,e,i){var l=e.tilemapLayer,n=l.cullPaddingX,a=l.cullPaddingY,f=l.tilemap.tileToWorldXY(r,s,v,i,l);return f.x>i.worldView.x+l.scaleX*e.tileWidth*(-n-.5)&&f.x<i.worldView.right+l.scaleX*e.tileWidth*(n-.5)&&f.y>i.worldView.y+l.scaleY*e.tileHeight*(-a-1)&&f.y<i.worldView.bottom+l.scaleY*e.tileHeight*(a-.5)};p.exports=o},17347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(60386),v=t(50811),o=t(62839),r=t(29633),s=function(e,i,l,n,a,f,h,d){h===void 0&&(h=!0);var c=v(e,i,l,n,null,d),g=[];c.forEach(function(D){var I=new r(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);I.copy(D),g.push(I)});for(var x=a-e,m=f-i,y=0;y<g.length;y++){var T=g[y],R=T.x+x,P=T.y+m;o(R,P,d)&&d.data[P][R]&&(T.x=R,T.y=P,T.updatePixelXY(),d.data[P][R]=T)}h&&u(a-1,f-1,l+2,n+2,d),c.length=0,g.length=0};p.exports=s},93604:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=t(51202),o=function(r,s,e,i,l,n){e||(e={}),Array.isArray(r)||(r=[r]);var a=n.tilemapLayer;i||(i=a.scene),l||(l=i.cameras.main);var f=u(0,0,n.width,n.height,null,n),h=[],d;for(d=0;d<f.length;d++){var c=f[d];if(r.indexOf(c.index)!==-1){var g=a.tileToWorldXY(c.x,c.y,void 0,l,n);e.x=g.x,e.y=g.y,h.push(i.make.sprite(e))}}if(typeof s=="number")for(d=0;d<r.length;d++)v(r[d],s,0,0,n.width,n.height,n);else if(Array.isArray(s))for(d=0;d<r.length;d++)v(r[d],s[d],0,0,n.width,n.height,n);return h};p.exports=o},71586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(74118),v=t(82127),o=t(84314),r=new u,s=function(e,i){var l=e.tilemapLayer.tilemap,n=e.tilemapLayer,a=Math.floor(l.tileWidth*n.scaleX),f=Math.floor(l.tileHeight*n.scaleY),h=o(i.worldView.x-n.x,a,0,!0)-n.cullPaddingX,d=v(i.worldView.right-n.x,a,0,!0)+n.cullPaddingX,c=o(i.worldView.y-n.y,f,0,!0)-n.cullPaddingY,g=v(i.worldView.bottom-n.y,f,0,!0)+n.cullPaddingY;return r.setTo(h,c,d-h,g-c)};p.exports=s},381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(71586),v=t(6987),o=function(r,s,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var l=r.tilemapLayer,n=u(r,s);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(n.left=0,n.right=r.width,n.top=0,n.bottom=r.height),v(r,n,i,e),e};p.exports=o},97734:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=t(60386),o=t(68234),r=function(s,e,i,l,n,a,f){for(var h=f.collideIndexes.indexOf(s)!==-1,d=u(e,i,l,n,null,f),c=0;c<d.length;c++)d[c].index=s,o(d[c],h);a&&v(e-1,i-1,l+2,n+2,f)};p.exports=r},63555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=function(o,r,s,e,i,l,n,a){var f=u(s,e,i,l,n,a);return f.filter(o,r)};p.exports=v},37982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){u===void 0&&(u=0),v===void 0&&(v=!1);var r=0,s,e,i;if(v){for(e=o.height-1;e>=0;e--)for(s=o.width-1;s>=0;s--)if(i=o.data[e][s],i&&i.index===t){if(r===u)return i;r+=1}}else for(e=0;e<o.height;e++)for(s=0;s<o.width;s++)if(i=o.data[e][s],i&&i.index===t){if(r===u)return i;r+=1}return null};p.exports=S},48297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=function(o,r,s,e,i,l,n,a){var f=u(s,e,i,l,n,a);return f.find(o,r)||null};p.exports=v},80916:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=function(o,r,s,e,i,l,n,a){var f=u(s,e,i,l,n,a);f.forEach(o,r)};p.exports=v},31493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12920),v=t(381),o=t(37524),r=t(20887),s=t(72283),e=t(19242),i=function(l){return l===u.ORTHOGONAL?v:l===u.HEXAGONAL?o:l===u.STAGGERED?e:l===u.ISOMETRIC?r:s};p.exports=i},15494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62839),v=function(o,r,s,e){if(s===void 0&&(s=!1),u(o,r,e)){var i=e.data[r][o]||null;return i?i.index===-1?s?i:null:i:null}else return null};p.exports=v},24640:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15494),v=t(93736),o=new v,r=function(s,e,i,l,n){return n.tilemapLayer.worldToTileXY(s,e,!0,o,l),u(o.x,o.y,i,n)};p.exports=r},48495:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e){var i=e.baseTileWidth,l=e.baseTileHeight,n=e.tilemapLayer,a=0,f=0;n&&(s||(s=n.scene.cameras.main),a=n.x+s.scrollX*(1-n.scrollFactorX),f=n.y+s.scrollY*(1-n.scrollFactorY),i*=n.scaleX,l*=n.scaleY);var h=a+o*i,d=f+r*l;return[new u(h,d),new u(h+i,d),new u(h+i,d+l),new u(h,d+l)]};p.exports=v},7160:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12920),v=t(63634),o=t(72283),r=t(48495),s=function(e){return e===u.ORTHOGONAL?r:e===u.ISOMETRIC?o:e===u.HEXAGONAL?v:(e===u.STAGGERED,o)};p.exports=s},16884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12920),v=t(72283),o=t(44150),r=function(s){return s===u.ORTHOGONAL?o:v};p.exports=r},68182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12920),v=t(21715),o=t(21808),r=t(72283),s=t(33388),e=t(46836),i=function(l){return l===u.ORTHOGONAL?e:l===u.ISOMETRIC?o:l===u.HEXAGONAL?v:l===u.STAGGERED?s:r};p.exports=i},3752:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12920),v=t(72283),o=t(84132),r=t(42477),s=function(e){return e===u.ORTHOGONAL?r:e===u.STAGGERED?o:v};p.exports=s},50811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72632),v=function(o,r,s,e,i,l){o===void 0&&(o=0),r===void 0&&(r=0),s===void 0&&(s=l.width),e===void 0&&(e=l.height),i||(i={});var n=u(i,"isNotEmpty",!1),a=u(i,"isColliding",!1),f=u(i,"hasInterestingFace",!1);o<0&&(s+=o,o=0),r<0&&(e+=r,r=0),o+s>l.width&&(s=Math.max(l.width-o,0)),r+e>l.height&&(e=Math.max(l.height-r,0));for(var h=[],d=r;d<r+e;d++)for(var c=o;c<o+s;c++){var g=l.data[d][c];if(g!==null){if(n&&g.index===-1||a&&!g.collides||f&&!g.hasInterestingFace)continue;h.push(g)}}return h};p.exports=v},31674:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84068),v=t(50811),o=t(7563),r=t(72283),s=t(93736),e=function(f,h){return o.RectangleToTriangle(h,f)},i=new s,l=new s,n=new s,a=function(f,h,d,c){if(f===void 0)return[];var g=r;f instanceof u.Circle?g=o.CircleToRectangle:f instanceof u.Rectangle?g=o.RectangleToRectangle:f instanceof u.Triangle?g=e:f instanceof u.Line&&(g=o.LineToRectangle),c.tilemapLayer.worldToTileXY(f.left,f.top,!0,l,d);var x=l.x,m=l.y;c.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,n,d);var y=Math.ceil(n.x),T=Math.ceil(n.y),R=Math.max(y-x,1),P=Math.max(T-m,1),D=v(x,m,R,P,h,c),I=c.tileWidth,w=c.tileHeight;c.tilemapLayer&&(I*=c.tilemapLayer.scaleX,w*=c.tilemapLayer.scaleY);for(var U=[],G=new u.Rectangle(0,0,I,w),H=0;H<D.length;H++){var z=D[H];c.tilemapLayer.tileToWorldXY(z.x,z.y,i,d),G.x=i.x,G.y=i.y,g(f,G)&&U.push(z)}return U};p.exports=a},44662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=t(93736),o=new v,r=new v,s=function(e,i,l,n,a,f,h){var d=h.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,i,!0,o,f,h);var c=o.x,g=o.y;d(e+l,i+n,!1,r,f,h);var x=Math.ceil(r.x),m=Math.ceil(r.y);return u(c,g,x-c,m-g,a,h)};p.exports=s},29296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12920),v=t(10618),o=t(806),r=function(s){return s===u.ORTHOGONAL?o:v};p.exports=r},32688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12920),v=t(11516),o=t(18750),r=t(72283),s=t(90562),e=t(45676),i=function(l){return l===u.ORTHOGONAL?e:l===u.ISOMETRIC?o:l===u.HEXAGONAL?v:l===u.STAGGERED?s:r};p.exports=i},74326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12920),v=t(10618),o=t(3689),r=t(70520),s=function(e){return e===u.ORTHOGONAL?r:e===u.STAGGERED?o:v};p.exports=s},46598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62839),v=function(o,r,s){if(u(o,r,s)){var e=s.data[r][o];return e!==null&&e.index>-1}else return!1};p.exports=v},28654:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(46598),v=t(93736),o=new v,r=function(s,e,i,l){l.tilemapLayer.worldToTileXY(s,e,!0,o,i);var n=o.x,a=o.y;return u(n,a,l)};p.exports=r},6358:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82127),v=t(84314),o=function(r,s){var e=r.tilemapLayer.tilemap,i=r.tilemapLayer,l=Math.floor(e.tileWidth*i.scaleX),n=Math.floor(e.tileHeight*i.scaleY),a=r.hexSideLength,f,h,d,c;if(this.staggerAxis==="y"){var g=(n-a)/2+a;f=v(s.worldView.x-i.x,l,0,!0)-i.cullPaddingX,h=u(s.worldView.right-i.x,l,0,!0)+i.cullPaddingX,d=v(s.worldView.y-i.y,g,0,!0)-i.cullPaddingY,c=u(s.worldView.bottom-i.y,g,0,!0)+i.cullPaddingY}else{var x=(l-a)/2+a;f=v(s.worldView.x-i.x,x,0,!0)-i.cullPaddingX,h=u(s.worldView.right-i.x,x,0,!0)+i.cullPaddingX,d=v(s.worldView.y-i.y,n,0,!0)-i.cullPaddingY,c=u(s.worldView.bottom-i.y,n,0,!0)+i.cullPaddingY}return{left:f,right:h,top:d,bottom:c}};p.exports=o},37524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6358),v=t(6987),o=function(r,s,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var l=r.tilemapLayer,n=u(r,s);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(n.left=0,n.right=r.width,n.top=0,n.bottom=r.height),v(r,n,i,e),e};p.exports=o},63634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(21715),v=t(93736),o=new v,r=function(s,e,i,l){var n=l.baseTileWidth,a=l.baseTileHeight,f=l.tilemapLayer;f&&(n*=f.scaleX,a*=f.scaleY);var h=u(s,e,o,i,l),d=[],c=.5773502691896257,g,x;this.staggerAxis==="y"?(g=c*n,x=a/2):(g=n/2,x=c*a);for(var m=0;m<6;m++){var y=2*Math.PI*(.5-m)/6;d.push(new v(h.x+g*Math.cos(y),h.y+x*Math.sin(y)))}return d};p.exports=r},21715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e,i){s||(s=new u);var l=i.baseTileWidth,n=i.baseTileHeight,a=i.tilemapLayer,f=0,h=0;a&&(e||(e=a.scene.cameras.main),f=a.x+e.scrollX*(1-a.scrollFactorX),h=a.y+e.scrollY*(1-a.scrollFactorY),l*=a.scaleX,n*=a.scaleY);var d=l/2,c=n/2,g,x;return this.staggerAxis==="y"?(g=f+l*o+l,x=h+1.5*r*c+c,r%2===0&&(this.staggerIndex==="odd"?g-=d:g+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(g=f+1.5*o*d+d,x=h+n*o+n,o%2===0&&(this.staggerIndex==="odd"?x-=c:x+=c)),s.set(g,x)};p.exports=v},11516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e,i,l){e||(e=new u);var n=l.baseTileWidth,a=l.baseTileHeight,f=l.tilemapLayer;f&&(i||(i=f.scene.cameras.main),o=o-(f.x+i.scrollX*(1-f.scrollFactorX)),r=r-(f.y+i.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,a*=f.scaleY);var h=.5773502691896257,d=-.3333333333333333,c=0,g=.6666666666666666,x=n/2,m=a/2,y,T,R,P,D;l.staggerAxis==="y"?(y=(o-x)/(h*n),T=(r-m)/m,R=h*y+d*T,P=c*y+g*T):(y=(o-x)/x,T=(r-m)/(h*a),R=d*y+h*T,P=g*y+c*T),D=-R-P;var I=Math.round(R),w=Math.round(P),U=Math.round(D),G=Math.abs(I-R),H=Math.abs(w-P),z=Math.abs(U-D);G>H&&G>z?I=-w-U:H>z&&(w=-I-U);var $,J=w;return l.staggerIndex==="odd"?$=J%2===0?w/2+I:w/2+I-.5:$=J%2===0?w/2+I:w/2+I+.5,e.set($,J)};p.exports=v},62839:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t>=0&&t<v.width&&u>=0&&u<v.height};p.exports=S},20887:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13125),v=function(o,r,s,e){s===void 0&&(s=[]),e===void 0&&(e=0),s.length=0;var i=o.tilemapLayer,l=o.data,n=o.width,a=o.height,f=i.skipCull,h=0,d=n,c=0,g=a,x,m,y;if(e===0){for(m=c;m<g;m++)for(x=h;x<d;x++)if(f||u(x,m,o,r)){if(y=l[m][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;s.push(y)}}else if(e===1){for(m=c;m<g;m++)for(x=d;x>=h;x--)if(f||u(x,m,o,r)){if(y=l[m][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;s.push(y)}}else if(e===2){for(m=g;m>=c;m--)for(x=h;x<d;x++)if(f||u(x,m,o,r)){if(y=l[m][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;s.push(y)}}else if(e===3){for(m=g;m>=c;m--)for(x=d;x>=h;x--)if(f||u(x,m,o,r)){if(y=l[m][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;s.push(y)}}return i.tilesDrawn=s.length,i.tilesTotal=n*a,s};p.exports=v},21808:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e,i){s||(s=new u);var l=i.baseTileWidth,n=i.baseTileHeight,a=i.tilemapLayer,f=0,h=0;a&&(e||(e=a.scene.cameras.main),f=a.x+e.scrollX*(1-a.scrollFactorX),l*=a.scaleX,h=a.y+e.scrollY*(1-a.scrollFactorY),n*=a.scaleY);var d=f+(o-r)*(l/2),c=h+(o+r)*(n/2);return s.set(d,c)};p.exports=v},18750:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e,i,l,n){e||(e=new u);var a=l.baseTileWidth,f=l.baseTileHeight,h=l.tilemapLayer;h&&(i||(i=h.scene.cameras.main),r=r-(h.y+i.scrollY*(1-h.scrollFactorY)),f*=h.scaleY,o=o-(h.x+i.scrollX*(1-h.scrollFactorX)),a*=h.scaleX);var d=a/2,c=f/2;o=o-d,n||(r=r-f);var g=.5*(o/d+r/c),x=.5*(-o/d+r/c);return s&&(g=Math.floor(g),x=Math.floor(x)),e.set(g,x)};p.exports=v},29003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29633),v=t(62839),o=t(92839),r=t(68234),s=function(e,i,l,n,a){if(n===void 0&&(n=!0),!v(i,l,a))return null;var f,h=a.data[l][i],d=h&&h.collides;e instanceof u?(a.data[l][i]===null&&(a.data[l][i]=new u(a,e.index,i,l,a.tileWidth,a.tileHeight)),a.data[l][i].copy(e)):(f=e,a.data[l][i]===null?a.data[l][i]=new u(a,f,i,l,a.tileWidth,a.tileHeight):a.data[l][i].index=f);var c=a.data[l][i],g=a.collideIndexes.indexOf(c.index)!==-1;if(f=e instanceof u?e.index:e,f===-1)c.width=a.tileWidth,c.height=a.tileHeight;else{var x=a.tilemapLayer.tilemap.tiles,m=x[f][2],y=a.tilemapLayer.tileset[m];c.width=y.tileWidth,c.height=y.tileHeight}return r(c,g),n&&d!==c.collides&&o(i,l,a),c};p.exports=s},48565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29003),v=t(93736),o=new v,r=function(s,e,i,l,n,a){return a.tilemapLayer.worldToTileXY(e,i,!0,o,n,a),u(s,o.x,o.y,l,a)};p.exports=r},56547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(60386),v=t(29003),o=function(r,s,e,i,l){if(i===void 0&&(i=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var n=r.length,a=r[0].length,f=0;f<n;f++)for(var h=0;h<a;h++){var d=r[f][h];v(d,s+h,e+f,!1,l)}i&&u(s-1,e-1,a+2,n+2,l)};p.exports=o},91180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=t(72861),o=function(r,s,e,i,l,n){var a,f=u(r,s,e,i,{},n);if(!l)for(l=[],a=0;a<f.length;a++)l.indexOf(f[a].index)===-1&&l.push(f[a].index);for(a=0;a<f.length;a++)f[a].index=v(l)};p.exports=o},929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29633),v=t(62839),o=t(92839),r=function(s,e,i,l,n){if(i===void 0&&(i=!0),l===void 0&&(l=!0),!v(s,e,n))return null;var a=n.data[e][s];if(a)n.data[e][s]=i?null:new u(n,-1,s,e,n.tileWidth,n.tileHeight);else return null;return l&&a&&a.collides&&o(s,e,n),a};p.exports=r},17384:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(929),v=t(93736),o=new v,r=function(s,e,i,l,n,a){return a.tilemapLayer.worldToTileXY(s,e,!0,o,n,a),u(o.x,o.y,i,l,a)};p.exports=r},93763:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=t(95509),o=new v(105,210,231,150),r=new v(243,134,48,200),s=new v(40,39,37,150),e=function(i,l,n){l===void 0&&(l={});var a=l.tileColor!==void 0?l.tileColor:o,f=l.collidingTileColor!==void 0?l.collidingTileColor:r,h=l.faceColor!==void 0?l.faceColor:s,d=u(0,0,n.width,n.height,null,n);i.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),i.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var c=0;c<d.length;c++){var g=d[c],x=g.width,m=g.height,y=g.pixelX,T=g.pixelY,R=g.collides?f:a;R!==null&&(i.fillStyle(R.color,R.alpha/255),i.fillRect(y,T,x,m)),y+=1,T+=1,x-=2,m-=2,h!==null&&(i.lineStyle(1,h.color,h.alpha/255),g.faceTop&&i.lineBetween(y,T,y+x,T),g.faceRight&&i.lineBetween(y+x,T,y+x,T+m),g.faceBottom&&i.lineBetween(y,T+m,y+x,T+m),g.faceLeft&&i.lineBetween(y,T,y,T+m))}};p.exports=e},51202:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=function(o,r,s,e,i,l,n){for(var a=u(s,e,i,l,null,n),f=0;f<a.length;f++)a[f]&&a[f].index===o&&(a[f].index=r)};p.exports=v},6987:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=t.data,s=t.width,e=t.height,i=t.tilemapLayer,l=Math.max(0,u.left),n=Math.min(s,u.right),a=Math.max(0,u.top),f=Math.min(e,u.bottom),h,d,c;if(v===0)for(d=a;d<f;d++)for(h=l;r[d]&&h<n;h++)c=r[d][h],!(!c||c.index===-1||!c.visible||c.alpha===0)&&o.push(c);else if(v===1)for(d=a;d<f;d++)for(h=n;r[d]&&h>=l;h--)c=r[d][h],!(!c||c.index===-1||!c.visible||c.alpha===0)&&o.push(c);else if(v===2)for(d=f;d>=a;d--)for(h=l;r[d]&&h<n;h++)c=r[d][h],!(!c||c.index===-1||!c.visible||c.alpha===0)&&o.push(c);else if(v===3)for(d=f;d>=a;d--)for(h=n;r[d]&&h>=l;h--)c=r[d][h],!(!c||c.index===-1||!c.visible||c.alpha===0)&&o.push(c);return i.tilesDrawn=o.length,i.tilesTotal=s*e,o};p.exports=S},51710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68234),v=t(60386),o=t(91181),r=function(s,e,i,l,n){e===void 0&&(e=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++)o(s[a],e,l);if(n)for(var f=0;f<l.height;f++)for(var h=0;h<l.width;h++){var d=l.data[f][h];d&&s.indexOf(d.index)!==-1&&u(d,e)}i&&v(0,0,l.width,l.height,l)};p.exports=r},15216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68234),v=t(60386),o=t(91181),r=function(s,e,i,l,n,a){if(i===void 0&&(i=!0),l===void 0&&(l=!0),a===void 0&&(a=!0),!(s>e)){for(var f=s;f<=e;f++)o(f,i,n);if(a)for(var h=0;h<n.height;h++)for(var d=0;d<n.width;d++){var c=n.data[h][d];c&&c.index>=s&&c.index<=e&&u(c,i)}l&&v(0,0,n.width,n.height,n)}};p.exports=r},33158:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68234),v=t(60386),o=t(91181),r=function(s,e,i,l){e===void 0&&(e=!0),i===void 0&&(i=!0),Array.isArray(s)||(s=[s]);for(var n=0;n<l.height;n++)for(var a=0;a<l.width;a++){var f=l.data[n][a];f&&s.indexOf(f.index)===-1&&(u(f,e),o(f.index,e,l))}i&&v(0,0,l.width,l.height,l)};p.exports=r},4180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68234),v=t(60386),o=t(19256),r=function(s,e,i,l){e===void 0&&(e=!0),i===void 0&&(i=!0);for(var n=0;n<l.height;n++)for(var a=0;a<l.width;a++){var f=l.data[n][a];if(f){for(var h in s)if(o(f.properties,h)){var d=s[h];Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++)f.properties[h]===d[c]&&u(f,e)}}}i&&v(0,0,l.width,l.height,l)};p.exports=r},18625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(68234),v=t(60386),o=function(r,s,e){r===void 0&&(r=!0),s===void 0&&(s=!0);for(var i=0;i<e.height;i++)for(var l=0;l<e.width;l++){var n=e.data[i][l];if(n){var a=n.getCollisionGroup();a&&a.objects&&a.objects.length>0&&u(n,r)}}s&&v(0,0,e.width,e.height,e)};p.exports=o},91181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=v.collideIndexes.indexOf(t);u&&o===-1?v.collideIndexes.push(t):!u&&o!==-1&&v.collideIndexes.splice(o,1)};p.exports=S},68234:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=S},11628:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){if(typeof t=="number")o.callbacks[t]=u!==null?{callback:u,callbackContext:v}:void 0;else for(var r=0,s=t.length;r<s;r++)o.callbacks[t[r]]=u!==null?{callback:u,callbackContext:v}:void 0};p.exports=S},72732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=function(o,r,s,e,i,l,n){for(var a=u(o,r,s,e,null,n),f=0;f<a.length;f++)a[f].setCollisionCallback(i,l)};p.exports=v},34397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=t(18592),o=function(r,s,e,i,l){var n=u(r,s,e,i,null,l),a=n.map(function(h){return h.index});v(a);for(var f=0;f<n.length;f++)n[f].index=a[f]};p.exports=o},53945:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82127),v=t(84314),o=function(r,s){var e=r.tilemapLayer.tilemap,i=r.tilemapLayer,l=Math.floor(e.tileWidth*i.scaleX),n=Math.floor(e.tileHeight*i.scaleY),a=v(s.worldView.x-i.x,l,0,!0)-i.cullPaddingX,f=u(s.worldView.right-i.x,l,0,!0)+i.cullPaddingX,h=v(s.worldView.y-i.y,n/2,0,!0)-i.cullPaddingY,d=u(s.worldView.bottom-i.y,n/2,0,!0)+i.cullPaddingY;return{left:a,right:f,top:h,bottom:d}};p.exports=o},19242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(53945),v=t(6987),o=function(r,s,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var l=r.tilemapLayer,n=u(r,s);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(n.left=0,n.right=r.width,n.top=0,n.bottom=r.height),v(r,n,i,e),e};p.exports=o},33388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e,i){s||(s=new u);var l=i.baseTileWidth,n=i.baseTileHeight,a=i.tilemapLayer,f=0,h=0;a&&(e||(e=a.scene.cameras.main),f=a.x+e.scrollX*(1-a.scrollFactorX),l*=a.scaleX,h=a.y+e.scrollY*(1-a.scrollFactorY),n*=a.scaleY);var d=f+o*l+r%2*(l/2),c=h+r*(n/2);return s.set(d,c)};p.exports=v},84132:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=v.baseTileHeight,r=v.tilemapLayer,s=0;return r&&(u===void 0&&(u=r.scene.cameras.main),s=r.y+u.scrollY*(1-r.scrollFactorY),o*=r.scaleY),s+t*(o/2)+o};p.exports=S},90562:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e,i,l){e||(e=new u);var n=l.baseTileWidth,a=l.baseTileHeight,f=l.tilemapLayer;f&&(i||(i=f.scene.cameras.main),r=r-(f.y+i.scrollY*(1-f.scrollFactorY)),a*=f.scaleY,o=o-(f.x+i.scrollX*(1-f.scrollFactorX)),n*=f.scaleX);var h=s?Math.floor(r/(a/2)):r/(a/2),d=s?Math.floor((o+h%2*.5*n)/n):(o+h%2*.5*n)/n;return e.set(d,h)};p.exports=v},3689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=o.baseTileHeight,s=o.tilemapLayer;return s&&(v||(v=s.scene.cameras.main),t=t-(s.y+v.scrollY*(1-s.scrollFactorY)),r*=s.scaleY),u?Math.floor(t/(r/2)):t/(r/2)};p.exports=S},55217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=function(o,r,s,e,i,l,n){for(var a=u(s,e,i,l,null,n),f=0;f<a.length;f++)a[f]&&(a[f].index===o?a[f].index=r:a[f].index===r&&(a[f].index=o))};p.exports=v},44150:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=v.baseTileWidth,r=v.tilemapLayer,s=0;return r&&(u||(u=r.scene.cameras.main),s=r.x+u.scrollX*(1-r.scrollFactorX),o*=r.scaleX),s+t*o};p.exports=S},46836:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(44150),v=t(42477),o=t(93736),r=function(s,e,i,l,n){return i||(i=new o(0,0)),i.x=u(s,l,n),i.y=v(e,l,n),i};p.exports=r},42477:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=v.baseTileHeight,r=v.tilemapLayer,s=0;return r&&(u||(u=r.scene.cameras.main),s=r.y+u.scrollY*(1-r.scrollFactorY),o*=r.scaleY),s+t*o};p.exports=S},39677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50811),v=function(o,r,s,e,i,l){if(i){var n,a=u(o,r,s,e,null,l),f=0;for(n=0;n<i.length;n++)f+=i[n].weight;if(!(f<=0))for(n=0;n<a.length;n++){for(var h=Math.random()*f,d=0,c=-1,g=0;g<i.length;g++)if(d+=i[g].weight,h<=d){var x=i[g].index;c=Array.isArray(x)?x[Math.floor(Math.random()*x.length)]:x;break}a[n].index=c}}};p.exports=v},806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45676),v=t(93736),o=new v,r=function(s,e,i,l){return u(s,0,e,o,i,l),o.x};p.exports=r},45676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93736),v=function(o,r,s,e,i,l){s===void 0&&(s=!0),e||(e=new u);var n=l.baseTileWidth,a=l.baseTileHeight,f=l.tilemapLayer;f&&(i||(i=f.scene.cameras.main),o=o-(f.x+i.scrollX*(1-f.scrollFactorX)),r=r-(f.y+i.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,a*=f.scaleY);var h=o/n,d=r/a;return s&&(h=Math.floor(h),d=Math.floor(d)),e.set(h,d)};p.exports=v},70520:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45676),v=t(93736),o=new v,r=function(s,e,i,l){return u(0,s,e,o,i,l),o.y};p.exports=r},5047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(92839),CalculateFacesWithin:t(60386),CheckIsoBounds:t(13125),Copy:t(17347),CreateFromTiles:t(93604),CullBounds:t(71586),CullTiles:t(381),Fill:t(97734),FilterTiles:t(63555),FindByIndex:t(37982),FindTile:t(48297),ForEachTile:t(80916),GetCullTilesFunction:t(31493),GetTileAt:t(15494),GetTileAtWorldXY:t(24640),GetTileCorners:t(48495),GetTileCornersFunction:t(7160),GetTilesWithin:t(50811),GetTilesWithinShape:t(31674),GetTilesWithinWorldXY:t(44662),GetTileToWorldXFunction:t(16884),GetTileToWorldXYFunction:t(68182),GetTileToWorldYFunction:t(3752),GetWorldToTileXFunction:t(29296),GetWorldToTileXYFunction:t(32688),GetWorldToTileYFunction:t(74326),HasTileAt:t(46598),HasTileAtWorldXY:t(28654),HexagonalCullBounds:t(6358),HexagonalCullTiles:t(37524),HexagonalGetTileCorners:t(63634),HexagonalTileToWorldXY:t(21715),HexagonalWorldToTileXY:t(11516),IsInLayerBounds:t(62839),IsometricCullTiles:t(20887),IsometricTileToWorldXY:t(21808),IsometricWorldToTileXY:t(18750),PutTileAt:t(29003),PutTileAtWorldXY:t(48565),PutTilesAt:t(56547),Randomize:t(91180),RemoveTileAt:t(929),RemoveTileAtWorldXY:t(17384),RenderDebug:t(93763),ReplaceByIndex:t(51202),RunCull:t(6987),SetCollision:t(51710),SetCollisionBetween:t(15216),SetCollisionByExclusion:t(33158),SetCollisionByProperty:t(4180),SetCollisionFromCollisionGroup:t(18625),SetLayerCollisionIndex:t(91181),SetTileCollision:t(68234),SetTileIndexCallback:t(11628),SetTileLocationCallback:t(72732),Shuffle:t(34397),StaggeredCullBounds:t(53945),StaggeredCullTiles:t(19242),StaggeredTileToWorldXY:t(33388),StaggeredTileToWorldY:t(84132),StaggeredWorldToTileXY:t(90562),StaggeredWorldToTileY:t(3689),SwapByIndex:t(55217),TileToWorldX:t(44150),TileToWorldXY:t(46836),TileToWorldY:t(42477),WeightedRandomize:t(39677),WorldToTileX:t(806),WorldToTileXY:t(45676),WorldToTileY:t(70520)}},12920:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ORIENTATION:t(12920)};p.exports=u},52678:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(98611),v=t(84758),o={Components:t(5047),Parsers:t(34124),Formats:t(93560),ImageCollection:t(97042),ParseToTilemap:t(15043),Tile:t(29633),Tilemap:t(89797),TilemapCreator:t(4843),TilemapFactory:t(37940),Tileset:t(47975),TilemapLayer:t(87177),Orientation:t(12920),LayerData:t(94990),MapData:t(16586),ObjectLayer:t(15256)};o=u(!1,o,v.ORIENTATION),p.exports=o},94990:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12920),o=t(72632),r=new u({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","layer"),this.x=o(e,"x",0),this.y=o(e,"y",0),this.width=o(e,"width",0),this.height=o(e,"height",0),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.baseTileWidth=o(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(e,"baseTileHeight",this.tileHeight),this.orientation=o(e,"orientation",v.ORTHOGONAL),this.widthInPixels=o(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(e,"alpha",1),this.visible=o(e,"visible",!0),this.properties=o(e,"properties",[]),this.indexes=o(e,"indexes",[]),this.collideIndexes=o(e,"collideIndexes",[]),this.callbacks=o(e,"callbacks",[]),this.bodies=o(e,"bodies",[]),this.data=o(e,"data",[]),this.tilemapLayer=o(e,"tilemapLayer",null),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});p.exports=r},16586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(12920),o=t(72632),r=new u({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","map"),this.width=o(e,"width",0),this.height=o(e,"height",0),this.infinite=o(e,"infinite",!1),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.widthInPixels=o(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.tileHeight),this.format=o(e,"format",null),this.orientation=o(e,"orientation",v.ORTHOGONAL),this.renderOrder=o(e,"renderOrder","right-down"),this.version=o(e,"version","1"),this.properties=o(e,"properties",{}),this.layers=o(e,"layers",[]),this.images=o(e,"images",[]),this.objects=o(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(e,"collision",{}),this.tilesets=o(e,"tilesets",[]),this.imageCollections=o(e,"imageCollections",[]),this.tiles=o(e,"tiles",[]),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});p.exports=r},15256:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=new u({initialize:function(s){s===void 0&&(s={}),this.name=v(s,"name","object layer"),this.opacity=v(s,"opacity",1),this.properties=v(s,"properties",{}),this.propertyTypes=v(s,"propertytypes",{}),this.type=v(s,"type","objectgroup"),this.visible=v(s,"visible",!0),this.objects=v(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=o},21394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12920),v=function(o){return o=o.toLowerCase(),o==="isometric"?u.ISOMETRIC:o==="staggered"?u.STAGGERED:o==="hexagonal"?u.HEXAGONAL:u.ORTHOGONAL};p.exports=v},90715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93560),v=t(84346),o=t(96097),r=t(2378),s=t(44909),e=function(i,l,n,a,f,h){var d;switch(l){case u.ARRAY_2D:d=v(i,n,a,f,h);break;case u.CSV:d=o(i,n,a,f,h);break;case u.TILED_JSON:d=r(i,n,h);break;case u.WELTMEISTER:d=s(i,n,h);break;default:console.warn("Unrecognized tilemap data format: "+l),d=null}return d};p.exports=e},84346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93560),v=t(94990),o=t(16586),r=t(29633),s=function(e,i,l,n,a){for(var f=new v({tileWidth:l,tileHeight:n}),h=new o({name:e,tileWidth:l,tileHeight:n,format:u.ARRAY_2D,layers:[f]}),d=[],c=i.length,g=0,x=0;x<i.length;x++){d[x]=[];for(var m=i[x],y=0;y<m.length;y++){var T=parseInt(m[y],10);isNaN(T)||T===-1?d[x][y]=a?null:new r(f,-1,y,x,l,n):d[x][y]=new r(f,T,y,x,l,n)}g===0&&(g=m.length)}return h.width=f.width=g,h.height=f.height=c,h.widthInPixels=f.widthInPixels=g*l,h.heightInPixels=f.heightInPixels=c*n,f.data=d,h};p.exports=s},96097:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93560),v=t(84346),o=function(r,s,e,i,l){var n=s.trim().split(`
`).map(function(f){return f.split(",")}),a=v(r,n,e,i,l);return a.format=u.CSV,a};p.exports=o},30951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(94990),v=t(29633),o=function(r,s){for(var e=[],i=0;i<r.layer.length;i++){for(var l=r.layer[i],n=new u({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),a=[],f=[],h=0;h<l.data.length;h++){for(var d=0;d<l.data[h].length;d++){var c=l.data[h][d]-1,g;c>-1?g=new v(n,c,d,h,l.tilesize,l.tilesize):g=s?null:new v(n,-1,d,h,l.tilesize,l.tilesize),a.push(g)}f.push(a),a=[]}n.data=f,e.push(n)}return e};p.exports=o},47488:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(47975),v=function(o){for(var r=[],s=[],e=0;e<o.layer.length;e++){var i=o.layer[e],l=i.tilesetName;l!==""&&s.indexOf(l)===-1&&(s.push(l),r.push(new u(l,0,i.tilesize,i.tilesize,0,0)))}return r};p.exports=v},44909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93560),v=t(16586),o=t(30951),r=t(47488),s=function(e,i,l){if(i.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var n=0,a=0,f=0;f<i.layer.length;f++)i.layer[f].width>n&&(n=i.layer[f].width),i.layer[f].height>a&&(a=i.layer[f].height);var h=new v({width:n,height:a,name:e,tileWidth:i.layer[0].tilesize,tileHeight:i.layer[0].tilesize,format:u.WELTMEISTER});return h.layers=o(i,l),h.tilesets=r(i),h};p.exports=s},24507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(30951),ParseTilesets:t(47488),ParseWeltmeister:t(44909)}},34124:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(21394),Parse:t(90715),Parse2DArray:t(84346),ParseCSV:t(96097),Impact:t(24507),Tiled:t(50044)}},48646:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(98611),v=function(o){for(var r,s,e,i,l,n=0;n<o.layers.length;n++){r=o.layers[n],i=null;for(var a=0;a<r.data.length;a++){l=r.data[a];for(var f=0;f<l.length;f++)s=l[f],!(s===null||s.index<0)&&(e=o.tiles[s.index][2],i=o.tilesets[e],s.width=i.tileWidth,s.height=i.tileHeight,i.tileProperties&&i.tileProperties[s.index-i.firstgid]&&(s.properties=u(s.properties,i.tileProperties[s.index-i.firstgid])))}}};p.exports=v},43908:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var u=window.atob(t),v=u.length,o=new Array(v/4),r=0;r<v;r+=4)o[r/4]=(u.charCodeAt(r)|u.charCodeAt(r+1)<<8|u.charCodeAt(r+2)<<16|u.charCodeAt(r+3)<<24)>>>0;return o};p.exports=S},14556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(47975),v=function(o){var r,s,e=[];for(r=0;r<o.imageCollections.length;r++)for(var i=o.imageCollections[r],l=i.images,n=0;n<l.length;n++){var a=l[n];s=new u(a.image,a.gid,i.imageWidth,i.imageHeight,0,0),s.updateTileData(i.imageWidth,i.imageHeight),o.tilesets.push(s)}for(r=0;r<o.tilesets.length;r++){s=o.tilesets[r];for(var f=s.tileMargin,h=s.tileMargin,d=0,c=0,g=0,x=s.firstgid;x<s.firstgid+s.total&&(e[x]=[f,h,r],f+=s.tileWidth+s.tileSpacing,d++,!(d===s.total||(c++,c===s.columns&&(f=s.tileMargin,h+=s.tileHeight+s.tileSpacing,c=0,g++,g===s.rows))));x++);}return e};p.exports=v},92044:(p,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72632),v=function(o,r,s){if(!r)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+u(r,"startx",0)*o.tilewidth+u(r,"offsetx",0),i=r.y+u(r,"starty",0)*o.tileheight+u(r,"offsety",0);return{i:0,layers:r.layers,name:s.name+r.name+"/",opacity:s.opacity*r.opacity,visible:s.visible&&r.visible,x:s.x+e,y:s.y+i}};p.exports=v},8847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,u=536870912,v=function(o){var r=!!(o&S),s=!!(o&t),e=!!(o&u);o=o&~(S|t|u);var i=0,l=!1;return r&&s&&e?(i=Math.PI/2,l=!0):r&&s&&!e?(i=Math.PI,l=!1):r&&!s&&e?(i=Math.PI/2,l=!1):r&&!s&&!e?(i=0,l=!0):!r&&s&&e?(i=3*Math.PI/2,l=!1):!r&&s&&!e?(i=Math.PI,l=!0):!r&&!s&&e?(i=3*Math.PI/2,l=!0):!r&&!s&&!e&&(i=0,l=!1),{gid:o,flippedHorizontal:r,flippedVertical:s,flippedAntiDiagonal:e,rotation:i,flipped:l}};p.exports=v},78339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72632),v=t(92044),o=function(r){for(var s=[],e=[],i=v(r);i.i<i.layers.length||e.length>0;){if(i.i>=i.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=e.pop();continue}var l=i.layers[i.i];if(i.i++,l.type!=="imagelayer"){if(l.type==="group"){var n=v(r,l,i);e.push(i),i=n}continue}var a=u(l,"offsetx",0)+u(l,"startx",0),f=u(l,"offsety",0)+u(l,"starty",0);s.push({name:i.name+l.name,image:l.image,x:i.x+a+l.x,y:i.y+f+l.y,alpha:i.opacity*l.opacity,visible:i.visible&&l.visible,properties:u(l,"properties",{})})}return s};p.exports=o},2378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(48646),v=t(14556),o=t(12920),r=t(28699),s=t(93560),e=t(21394),i=t(16586),l=t(78339),n=t(61136),a=t(95925),f=t(93392),h=function(d,c,g){var x=r(c),m=new i({width:x.width,height:x.height,name:d,tileWidth:x.tilewidth,tileHeight:x.tileheight,orientation:e(x.orientation),format:s.TILED_JSON,version:x.version,properties:x.properties,renderOrder:x.renderorder,infinite:x.infinite});m.orientation===o.HEXAGONAL&&(m.hexSideLength=x.hexsidelength,m.staggerAxis=x.staggeraxis,m.staggerIndex=x.staggerindex),m.layers=a(x,g),m.images=l(x);var y=f(x);return m.tilesets=y.tilesets,m.imageCollections=y.imageCollections,m.objects=n(x),m.tiles=v(m),u(m),m};p.exports=h},4281:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28820),v=t(8847),o=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],s=function(e,i,l){i===void 0&&(i=0),l===void 0&&(l=0);var n=u(e,r);if(n.x+=i,n.y+=l,e.gid){var a=v(e.gid);n.gid=a.gid,n.flippedHorizontal=a.flippedHorizontal,n.flippedVertical=a.flippedVertical,n.flippedAntiDiagonal=a.flippedAntiDiagonal}else e.polyline?n.polyline=e.polyline.map(o):e.polygon?n.polygon=e.polygon.map(o):e.ellipse?n.ellipse=e.ellipse:e.text?n.text=e.text:e.point?n.point=!0:n.rectangle=!0;return n};p.exports=s},61136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72632),v=t(4281),o=t(15256),r=t(92044),s=function(e){for(var i=[],l=[],n=r(e);n.i<n.layers.length||l.length>0;){if(n.i>=n.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=l.pop();continue}var a=n.layers[n.i];if(n.i++,a.opacity*=n.opacity,a.visible=n.visible&&a.visible,a.type!=="objectgroup"){if(a.type==="group"){var f=r(e,a,n);l.push(n),n=f}continue}a.name=n.name+a.name;for(var h=n.x+u(a,"startx",0)+u(a,"offsetx",0),d=n.y+u(a,"starty",0)+u(a,"offsety",0),c=[],g=0;g<a.objects.length;g++){var x=v(a.objects[g],h,d);c.push(x)}var m=new o(a);m.objects=c,i.push(m)}return i};p.exports=s},95925:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43908),v=t(12920),o=t(92044),r=t(21394),s=t(72632),e=t(94990),i=t(8847),l=t(29633),n=function(a,f){for(var h=s(a,"infinite",!1),d=[],c=[],g=o(a);g.i<g.layers.length||c.length>0;){if(g.i>=g.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=c.pop();continue}var x=g.layers[g.i];if(g.i++,x.type!=="tilelayer"){if(x.type==="group"){var m=o(a,x,g);c.push(g),g=m}continue}if(x.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+x.name+"'");continue}else if(x.encoding&&x.encoding==="base64"){if(x.chunks)for(var y=0;y<x.chunks.length;y++)x.chunks[y].data=u(x.chunks[y].data);x.data&&(x.data=u(x.data)),delete x.encoding}var T,R,P,D,I=[],w=0;if(h){var U=s(x,"startx",0)+x.x,G=s(x,"starty",0)+x.y;T=new e({name:g.name+x.name,x:g.x+s(x,"offsetx",0)+U*a.tilewidth,y:g.y+s(x,"offsety",0)+G*a.tileheight,width:x.width,height:x.height,tileWidth:a.tilewidth,tileHeight:a.tileheight,alpha:g.opacity*x.opacity,visible:g.visible&&x.visible,properties:s(x,"properties",[]),orientation:r(a.orientation)}),T.orientation===v.HEXAGONAL&&(T.hexSideLength=a.hexsidelength,T.staggerAxis=a.staggeraxis,T.staggerIndex=a.staggerindex);for(var H=0;H<x.height;H++){I[H]=[null];for(var z=0;z<x.width;z++)I[H][z]=null}for(H=0,tt=x.chunks.length;H<tt;H++)for(var $=x.chunks[H],J=$.x-U,W=$.y-G,K=0,N=0,b=$.data.length;N<b;N++){var Y=w+J,j=K+W;R=i($.data[N]),R.gid>0?(P=new l(T,R.gid,Y,j,a.tilewidth,a.tileheight),P.rotation=R.rotation,P.flipX=R.flipped,I[j][Y]=P):(D=f?null:new l(T,-1,Y,j,a.tilewidth,a.tileheight),I[j][Y]=D),w++,w===$.width&&(K++,w=0)}}else{T=new e({name:g.name+x.name,x:g.x+s(x,"offsetx",0)+x.x,y:g.y+s(x,"offsety",0)+x.y,width:x.width,height:x.height,tileWidth:a.tilewidth,tileHeight:a.tileheight,alpha:g.opacity*x.opacity,visible:g.visible&&x.visible,properties:s(x,"properties",[]),orientation:r(a.orientation)}),T.orientation===v.HEXAGONAL&&(T.hexSideLength=a.hexsidelength,T.staggerAxis=a.staggeraxis,T.staggerIndex=a.staggerindex);for(var Q=[],q=0,tt=x.data.length;q<tt;q++)R=i(x.data[q]),R.gid>0?(P=new l(T,R.gid,w,I.length,a.tilewidth,a.tileheight),P.rotation=R.rotation,P.flipX=R.flipped,Q.push(P)):(D=f?null:new l(T,-1,w,I.length,a.tilewidth,a.tileheight),Q.push(D)),w++,w===x.width&&(I.push(Q),w=0,Q=[])}T.data=I,d.push(T)}return d};p.exports=n},93392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(47975),v=t(97042),o=t(4281),r=t(39642),s=function(e){for(var i=[],l=[],n=null,a,f=0;f<e.tilesets.length;f++){var h=e.tilesets[f];if(h.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(h.image){var d=new u(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing,void 0,void 0,h.tileoffset);if(e.version>1){var c=void 0,g=void 0;if(Array.isArray(h.tiles)){c=c||{},g=g||{};for(var x=0;x<h.tiles.length;x++){var m=h.tiles[x];if(m.properties){var y={};m.properties.forEach(function(H){y[H.name]=H.value}),g[m.id]=y}if(m.objectgroup&&((c[m.id]||(c[m.id]={})).objectgroup=m.objectgroup,m.objectgroup.objects)){var T=m.objectgroup.objects.map(function(H){return o(H)});c[m.id].objectgroup.objects=T}m.animation&&((c[m.id]||(c[m.id]={})).animation=m.animation),m.type&&((c[m.id]||(c[m.id]={})).type=m.type)}}Array.isArray(h.wangsets)&&(c=c||{},g=g||{},r(h.wangsets,c)),c&&(d.tileData=c,d.tileProperties=g)}else if(h.tileproperties&&(d.tileProperties=h.tileproperties),h.tiles){d.tileData=h.tiles;for(a in d.tileData){var R=d.tileData[a].objectgroup;if(R&&R.objects){var P=R.objects.map(function(H){return o(H)});d.tileData[a].objectgroup.objects=P}}}d.updateTileData(h.imagewidth,h.imageheight),i.push(d)}else{var D=new v(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing,h.properties),I=0;for(x=0;x<h.tiles.length;x++){m=h.tiles[x];var w=m.image,U=parseInt(m.id,10),G=h.firstgid+U;D.addImage(G,w),I=Math.max(U,I)}D.maxId=I,l.push(D)}n&&(n.lastgid=h.firstgid-1),n=h}return{tilesets:i,imageCollections:l}};p.exports=s},39642:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){for(var v=0;v<t.length;v++){var o=t[v],r=v;if(o.name&&o.name!==""&&(r=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var s={},e={},i,l,n;if(Array.isArray(o.edgecolors))for(i=0;i<o.edgecolors.length;i++)n=1+i,l=o.edgecolors[i],l.name!==""&&(s[n]=l.name);if(Array.isArray(o.cornercolors))for(i=0;i<o.cornercolors.length;i++)n=1+i,l=o.cornercolors[i],l.name!==""&&(e[n]=l.name);if(Array.isArray(o.colors))for(i=0;i<o.colors.length;i++)l=o.colors[i],n=1+i,l.name!==""&&(s[n]=e[n]=l.name);for(var a=[s,e,s,e,s,e,s,e],f=0;f<o.wangtiles.length;f++){var h=o.wangtiles[f],d=u[h.tileid]||(u[h.tileid]={});d=d.wangid||(d.wangid={});for(var c=[],g=0;g<Math.min(a.length,h.wangid.length);g++){if(l=h.wangid[g],l===0){c.push(void 0);continue}var x=a[g][l];if(x!==void 0){c.push(x);continue}c.push(l)}d[r]=c}}}};p.exports=S},50044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(48646),Base64Decode:t(43908),BuildTilesetIndex:t(14556),CreateGroupLayer:t(92044),ParseGID:t(8847),ParseImageLayers:t(78339),ParseJSONTiled:t(2378),ParseObject:t(4281),ParseObjectLayers:t(61136),ParseTileLayers:t(95925),ParseTilesets:t(93392)}},73779:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(91963),o=t(7599),r=t(57911),s=t(66458),e=new u({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var i=this.systems.events;i.on(o.PRE_UPDATE,this.preUpdate,this),i.on(o.UPDATE,this.update,this),i.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(i){var l;return i instanceof r?(l=i,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat):l=new r(i),this._pendingInsertion.push(l),l},delayedCall:function(i,l,n,a){return this.addEvent({delay:i,callback:l,args:n,callbackScope:a})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(i){Array.isArray(i)||(i=[i]);for(var l=0;l<i.length;l++){var n=i[l];s(this._pendingRemoval,n),s(this._pendingInsertion,n),s(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var i=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(i===0&&l===0)){var n,a;for(n=0;n<i;n++){a=this._pendingRemoval[n];var f=this._active.indexOf(a);f>-1&&this._active.splice(f,1),a.destroy()}for(n=0;n<l;n++)a=this._pendingInsertion[n],this._active.push(a);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(i,l){if(this.now=i,!this.paused){l*=this.timeScale;for(var n=0;n<this._active.length;n++){var a=this._active[n];if(!a.paused&&(a.elapsed+=l*a.timeScale,a.elapsed>=a.delay)){var f=a.elapsed-a.delay;if(a.elapsed=a.delay,!a.hasDispatched&&a.callback&&(a.hasDispatched=!0,a.callback.apply(a.callbackScope,a.args)),a.repeatCount>0){if(a.repeatCount--,f>=a.delay)for(;f>=a.delay&&a.repeatCount>0;)a.callback&&a.callback.apply(a.callbackScope,a.args),f-=a.delay,a.repeatCount--;a.elapsed=f,a.hasDispatched=!1}else a.hasDispatched&&this._pendingRemoval.push(a)}}}},shutdown:function(){var i;for(i=0;i<this._pendingInsertion.length;i++)this._pendingInsertion[i].destroy();for(i=0;i<this._active.length;i++)this._active[i].destroy();for(i=0;i<this._pendingRemoval.length;i++)this._pendingRemoval[i].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",e,"time"),p.exports=e},20517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(6659),o=t(61286),r=t(72632),s=t(7599),e=new u({Extends:v,initialize:function(l,n){v.call(this),this.scene=l,this.systems=l.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var a=this.systems.events;a.on(s.PRE_UPDATE,this.preUpdate,this),a.on(s.UPDATE,this.update,this),a.once(s.SHUTDOWN,this.destroy,this),n&&this.add(n)},preUpdate:function(i,l){this.paused||(this.elapsed+=l)},update:function(){if(!this.paused){var i,l=this.events,n=!1,a=this.systems,f;for(i=0;i<l.length;i++){var h=l[i];if(!h.complete&&h.time<=this.elapsed){if(h.complete=!0,this.totalComplete++,h.once&&(n=!0),h.set&&h.target)for(var d in h.set)h.target[d]=h.set[d];h.tween&&a.tweens.add(h.tween),h.sound&&(typeof h.sound=="string"?a.sound.play(h.sound):a.sound.play(h.sound.key,h.sound.config)),f=h.target?h.target:this,h.event&&this.emit(h.event,f),h.run&&h.run.call(f),h.stop&&this.stop()}}if(n)for(i=0;i<l.length;i++)l[i].complete&&l[i].once&&(l.splice(i,1),i--);this.totalComplete>=l.length&&(this.complete=!0)}},play:function(i){return i===void 0&&(i=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,i&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var i=0;i<this.events.length;i++)this.events[i].complete=!1;return this.play(!1)},add:function(i){Array.isArray(i)||(i=[i]);var l=this.events,n=0;l.length>0&&(n=l[l.length-1].time);for(var a=0;a<i.length;a++){var f=i[a],h=r(f,"at",0),d=r(f,"in",null);d!==null&&(h=this.elapsed+d);var c=r(f,"from",null);c!==null&&(h=n+c),l.push({complete:!1,time:h,run:r(f,"run",null),event:r(f,"event",null),target:r(f,"target",null),set:r(f,"set",null),tween:r(f,"tween",null),sound:r(f,"sound",null),once:r(f,"once",!1),stop:r(f,"stop",!1)}),n=h}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var i=Math.min(this.totalComplete,this.events.length);return i/this.events.length},destroy:function(){var i=this.systems.events;i.off(s.PRE_UPDATE,this.preUpdate,this),i.off(s.UPDATE,this.update,this),i.off(s.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});o.register("timeline",function(i){return new e(this.scene,i)}),p.exports=e},57911:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(72632),o=new u({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(r){if(this.delay=v(r,"delay",0),this.repeat=v(r,"repeat",0),this.loop=v(r,"loop",!1),this.callback=v(r,"callback",void 0),this.callbackScope=v(r,"callbackScope",this),this.args=v(r,"args",[]),this.timeScale=v(r,"timeScale",1),this.startAt=v(r,"startAt",0),this.paused=v(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,s=this.elapsed+this.delay*(this.repeat-this.repeatCount);return s/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=o},97121:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(73779),Timeline:t(20517),TimerEvent:t(57911)}},64532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66458),v=t(56694),o=t(5454),r=t(68710),s=t(91963),e=t(7599),i=t(91944),l=t(39366),n=t(68061),a=t(45641),f=t(56034),h=new v({initialize:function(c){this.scene=c,this.events=c.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var c=[],g=0;g<d.length;g++){var x=d[g];x instanceof l||x instanceof a?c.push(x):Array.isArray(x.tweens)?c.push(f(this,x)):c.push(n(this,x))}return c.length===1?c[0]:c},add:function(d){var c=d,g=this.tweens;return c instanceof l||c instanceof a||(Array.isArray(c.tweens)?c=f(this,c):c=n(this,c)),g.push(c.reset()),c},addMultiple:function(d){for(var c,g=[],x=this.tweens,m=0;m<d.length;m++)c=d[m],c instanceof l||c instanceof a||(Array.isArray(c.tweens)?c=f(this,c):c=n(this,c)),x.push(c.reset()),g.push(c);return g},chain:function(d){var c=f(this,d);return this.tweens.push(c.init()),c},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var c=r(this,d);return this.tweens.push(c.reset()),c},stagger:function(d,c){return i(d,c)},setLagSmooth:function(d,c){return d===void 0&&(d=1/1e-8),c===void 0&&(c=0),this.maxLag=d,this.lagSkip=Math.min(c,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var c=Date.now()-this.prevTime;c>this.maxLag&&(this.startTime+=c-this.lagSkip),this.prevTime+=c;var g=this.prevTime-this.startTime,x=g-this.nextTime,m=g-this.time*1e3;return x>0||d?(g/=1e3,this.time=g,this.nextTime+=x+(x>=this.gap?4:this.gap-x)):m=0,m},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var c=this.getDelta(d);if(!(c<=0)){this.processing=!0;var g,x,m=[],y=this.tweens;for(g=0;g<y.length;g++)x=y[g],x.update(c)&&m.push(x);var T=m.length;if(T&&y.length>0){for(g=0;g<T;g++){x=m[g];var R=y.indexOf(x);R>-1&&(x.isPendingRemove()||x.isDestroyed())&&(y.splice(R,1),x.destroy())}m.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(u(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,c){var g,x=[null];for(g=1;g<arguments.length;g++)x.push(arguments[g]);return this.tweens.forEach(function(m){x[0]=m,d.apply(c,x)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var c=[],g=this.tweens;Array.isArray(d)?d=o(d):d=[d];for(var x=d.length,m=0;m<g.length;m++)for(var y=g[m],T=0;T<x;T++)!y.isDestroyed()&&y.hasTarget(d[T])&&c.push(y);return c},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var c=this.tweens,g,x=0;x<c.length;x++)if(g=c[x],g.isPlaying()&&g.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,c=0;c<d.length;c++)d[c].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var c=this.getTweensOf(d),g=0;g<c.length;g++)c[g].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});s.register("TweenManager",h,"tweens"),p.exports=h},63130:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){return t&&t.hasOwnProperty(u)?t[u]:v};p.exports=S},21902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35060),v=t(40587),o=function(r,s){var e=u.Power0;if(typeof r=="string")if(u.hasOwnProperty(r))e=u[r];else{var i="";if(r.indexOf(".")){i=r.substring(r.indexOf(".")+1);var l=i.toLowerCase();l==="in"?i="easeIn":l==="out"?i="easeOut":l==="inout"&&(i="easeInOut")}r=v(r.substring(0,r.indexOf(".")+1)+i),u.hasOwnProperty(r)&&(e=u[r])}else typeof r=="function"&&(e=r);if(!s)return e;var n=s.slice(0);return n.unshift(0),function(a){return n[0]=a,e.apply(this,n)}};p.exports=o},4840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(63210),v=t(88332),o=t(47614),r={bezier:u,catmull:v,catmullrom:v,linear:o},s=function(e){if(e===null)return null;var i=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(i=r[e]):typeof e=="function"&&(i=e),i};p.exports=s},28348:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o;if(t.hasOwnProperty(u)){var r=typeof t[u];r==="function"?o=function(s,e,i,l,n,a){return t[u](s,e,i,l,n,a)}:o=function(){return t[u]}}else typeof v=="function"?o=v:o=function(){return v};return o};p.exports=S},92407:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(53709),v=function(o){var r,s=[];if(o.hasOwnProperty("props"))for(r in o.props)r.substring(0,1)!=="_"&&s.push({key:r,value:o.props[r]});else for(r in o)u.indexOf(r)===-1&&r.substring(0,1)!=="_"&&s.push({key:r,value:o[r]});return s};p.exports=v},65868:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10850),v=function(o){var r=u(o,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};p.exports=v},9744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(17489),v=t(61616);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function r(l){return!!l.getStart&&typeof l.getStart=="function"}function s(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return r(l)||s(l)||o(l)}var i=function(l,n){var a,f=function($,J,W){return W},h=function($,J,W){return W},d=null,c=typeof n;if(c==="number")f=function(){return n};else if(Array.isArray(n))h=function(){return n[0]},f=function(){return n[n.length-1]};else if(c==="string"){var g=n.toLowerCase(),x=g.substring(0,6)==="random",m=g.substring(0,3)==="int";if(x||m){var y=g.indexOf("("),T=g.indexOf(")"),R=g.indexOf(",");if(y&&T&&R){var P=parseFloat(g.substring(y+1,R)),D=parseFloat(g.substring(R+1,T));x?f=function(){return v(P,D)}:f=function(){return u(P,D)}}else throw new Error("invalid random() format")}else{g=g[0];var I=parseFloat(n.substr(2));switch(g){case"+":f=function($,J,W){return W+I};break;case"-":f=function($,J,W){return W-I};break;case"*":f=function($,J,W){return W*I};break;case"/":f=function($,J,W){return W/I};break;default:f=function(){return parseFloat(n)}}}}else if(c==="function")f=n;else if(c==="object")if(e(n))o(n)&&(d=n.getActive),s(n)&&(f=n.getEnd),r(n)&&(h=n.getStart);else if(n.hasOwnProperty("value"))a=i(l,n.value);else{var w=n.hasOwnProperty("to"),U=n.hasOwnProperty("from"),G=n.hasOwnProperty("start");if(w&&(U||G)){if(a=i(l,n.to),G){var H=i(l,n.start);a.getActive=H.getEnd}if(U){var z=i(l,n.from);a.getStart=z.getEnd}}}return a||(a={getActive:d,getEnd:f,getStart:h}),a};p.exports=i},68710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(502),v=t(99730),o=t(20494),r=t(63130),s=t(21902),e=t(28348),i=t(10850),l=t(9744),n=t(72066),a=t(39366),f=function(h,d,c){if(d instanceof a)return d.parent=h,d;c===void 0?c=v:c=n(v,c);var g=i(d,"from",0),x=i(d,"to",1),m=[{value:g}],y=i(d,"delay",c.delay),T=i(d,"easeParams",c.easeParams),R=i(d,"ease",c.ease),P=l("value",x),D=new a(h,m),I=D.add(0,"value",P.getEnd,P.getStart,P.getActive,s(i(d,"ease",R),i(d,"easeParams",T)),e(d,"delay",y),i(d,"duration",c.duration),r(d,"yoyo",c.yoyo),i(d,"hold",c.hold),i(d,"repeat",c.repeat),i(d,"repeatDelay",c.repeatDelay),!1,!1);I.start=g,I.current=g,D.completeDelay=o(d,"completeDelay",0),D.loop=Math.round(o(d,"loop",0)),D.loopDelay=Math.round(o(d,"loopDelay",0)),D.paused=r(d,"paused",!1),D.persist=r(d,"persist",!1),D.callbackScope=i(d,"callbackScope",D);for(var w=u.TYPES,U=0;U<w.length;U++){var G=w[U],H=i(d,G,!1);if(H){var z=i(d,G+"Params",[]);D.setCallback(G,H,z)}}return D};p.exports=f},91944:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(21902),v=t(10850),o=t(83392),r=function(s,e){e===void 0&&(e={});var i,l=v(e,"start",0),n=v(e,"ease",null),a=v(e,"grid",null),f=v(e,"from",0),h=f==="first",d=f==="center",c=f==="last",g=typeof f=="number",x=Array.isArray(s),m=parseFloat(x?s[0]:s),y=x?parseFloat(s[1]):0,T=Math.max(m,y);if(x&&(l+=m),a){var R=a[0],P=a[1],D=0,I=0,w=0,U=0,G=[];c?(D=R-1,I=P-1):g?(D=f%R,I=Math.floor(f/R)):d&&(D=(R-1)/2,I=(P-1)/2);for(var H=o.MIN_SAFE_INTEGER,z=0;z<P;z++){G[z]=[];for(var $=0;$<R;$++){w=D-$,U=I-z;var J=Math.sqrt(w*w+U*U);J>H&&(H=J),G[z][$]=J}}}var W=n?u(n):null;return a?i=function(K,N,b,Y){var j=0,Q=Y%R,q=Math.floor(Y/R);Q>=0&&Q<R&&q>=0&&q<P&&(j=G[q][Q]);var tt;if(x){var it=y-m;W?tt=j/H*it*W(j/H):tt=j/H*it}else W?tt=j*m*W(j/H):tt=j*m;return tt+l}:i=function(K,N,b,Y,j){j--;var Q;h?Q=Y:d?Q=Math.abs(j/2-Y):c?Q=j-Y:g&&(Q=Math.abs(f-Y));var q;if(x){var tt;d?tt=(y-m)/j*(Q*2):tt=(y-m)/j*Q,W?q=tt*W(Q/j):q=tt}else W?q=j*T*W(Q/j):q=Q*m;return q+l},i};p.exports=r},68061:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(502),v=t(99730),o=t(20494),r=t(63130),s=t(21902),e=t(4840),i=t(28348),l=t(92407),n=t(65868),a=t(10850),f=t(9744),h=t(72066),d=t(39366),c=function(g,x,m){if(x instanceof d)return x.parent=g,x;m===void 0?m=v:m=h(v,m);var y=n(x);!y&&m.targets&&(y=m.targets);for(var T=l(x),R=a(x,"delay",m.delay),P=a(x,"duration",m.duration),D=a(x,"easeParams",m.easeParams),I=a(x,"ease",m.ease),w=a(x,"hold",m.hold),U=a(x,"repeat",m.repeat),G=a(x,"repeatDelay",m.repeatDelay),H=r(x,"yoyo",m.yoyo),z=r(x,"flipX",m.flipX),$=r(x,"flipY",m.flipY),J=a(x,"interpolation",m.interpolation),W=function(lt,ut,vt,ft){if(vt==="texture"){var Et=ft,It=void 0;Array.isArray(ft)?(Et=ft[0],It=ft[1]):ft.hasOwnProperty("value")?(Et=ft.value,Array.isArray(ft.value)?(Et=ft.value[0],It=ft.value[1]):typeof ft.value=="string"&&(Et=ft.value)):typeof ft=="string"&&(Et=ft),lt.addFrame(ut,Et,It,i(ft,"delay",R),a(ft,"duration",P),a(ft,"hold",w),a(ft,"repeat",U),a(ft,"repeatDelay",G),r(ft,"flipX",z),r(ft,"flipY",$))}else{var Nt=f(vt,ft),Dt=e(a(ft,"interpolation",J));lt.add(ut,vt,Nt.getEnd,Nt.getStart,Nt.getActive,s(a(ft,"ease",I),a(ft,"easeParams",D)),i(ft,"delay",R),a(ft,"duration",P),r(ft,"yoyo",H),a(ft,"hold",w),a(ft,"repeat",U),a(ft,"repeatDelay",G),r(ft,"flipX",z),r(ft,"flipY",$),Dt,Dt?ft:null)}},K=new d(g,y),N=0;N<T.length;N++)for(var b=T[N].key,Y=T[N].value,j=0;j<y.length;j++)b==="scale"&&!y[j].hasOwnProperty("scale")?(W(K,j,"scaleX",Y),W(K,j,"scaleY",Y)):W(K,j,b,Y);K.completeDelay=o(x,"completeDelay",0),K.loop=Math.round(o(x,"loop",0)),K.loopDelay=Math.round(o(x,"loopDelay",0)),K.paused=r(x,"paused",!1),K.persist=r(x,"persist",!1),K.callbackScope=a(x,"callbackScope",K);for(var Q=u.TYPES,q=0;q<Q.length;q++){var tt=Q[q],it=a(x,tt,!1);if(it){var st=a(x,tt+"Params",[]);K.setCallback(tt,it,st)}}return K};p.exports=c},56034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(502),v=t(20494),o=t(63130),r=t(65868),s=t(10850),e=t(68061),i=t(45641),l=function(n,a){if(a instanceof i)return a.parent=n,a;var f=new i(n);f.startDelay=s(a,"delay",0),f.completeDelay=v(a,"completeDelay",0),f.loop=Math.round(v(a,"loop",s(a,"repeat",0))),f.loopDelay=Math.round(v(a,"loopDelay",s(a,"repeatDelay",0))),f.paused=o(a,"paused",!1),f.persist=o(a,"persist",!0),f.callbackScope=s(a,"callbackScope",f);var h,d=u.TYPES;for(h=0;h<d.length;h++){var c=d[h],g=s(a,c,!1);if(g){var x=s(a,c+"Params",[]);f.setCallback(c,g,x)}}var m=s(a,"tweens",null);if(Array.isArray(m)){var y=[],T=r(a),R=void 0;for(T&&(R={targets:T}),h=0;h<m.length;h++)y.push(e(f,m[h],R));f.add(y)}return f};p.exports=l},79619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(63130),GetEaseFunction:t(21902),GetInterpolationFunction:t(4840),GetNewValue:t(28348),GetProps:t(92407),GetTargets:t(65868),GetValueOp:t(9744),NumberTweenBuilder:t(68710),StaggerBuilder:t(91944),TweenBuilder:t(68061)}},5570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},6383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},72582:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},90281:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},80803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},13640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},10472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},5379:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},43449:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},61541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},54272:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(5570),TWEEN_COMPLETE:t(6383),TWEEN_LOOP:t(72582),TWEEN_PAUSE:t(90281),TWEEN_RESUME:t(13640),TWEEN_REPEAT:t(80803),TWEEN_START:t(10472),TWEEN_STOP:t(5379),TWEEN_UPDATE:t(43449),TWEEN_YOYO:t(61541)}},75193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={States:t(55303),Builders:t(79619),Events:t(54272),TweenManager:t(64532),Tween:t(39366),TweenData:t(15718),TweenFrameData:t(96490),BaseTween:t(502),TweenChain:t(45641)};p.exports=u},502:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(6659),o=t(54272),r=t(55303),s=new u({Extends:v,initialize:function(i){v.call(this),this.parent=i,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,i,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:i,params:l}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});s.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=s},65521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(56694),v=t(54272),o=t(55303),r=new u({initialize:function(e,i,l,n,a,f,h,d,c,g){this.tween=e,this.targetIndex=i,this.duration=n,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=a,this.hold=f,this.repeat=h,this.repeatDelay=d,this.repeatCounter=0,this.flipX=c,this.flipY=g,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(s){s===void 0&&(s=this.current),this.tween.targets[this.targetIndex][this.key]=s},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(s){this.yoyo?this.onRepeat(s,!0,!0):this.repeatCounter>0?this.onRepeat(s,!0,!1):this.setCompleteState()},setStateFromStart:function(s){this.repeatCounter>0?this.onRepeat(s,!1):this.setCompleteState()},reset:function(){var s=this.tween,e=s.totalTargets,i=this.targetIndex,l=s.targets[i],n=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,n,0,i,e,s),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var a=this.duration+this.hold;this.yoyo&&(a+=this.duration);var f=a+this.repeatDelay;this.totalDuration=this.delay+a,this.repeat===-1?(this.totalDuration+=f*o.MAX,s.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>s.duration&&(s.duration=this.totalDuration),this.delay<s.startDelay&&(s.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(s,e,i){var l=this.tween,n=l.totalTargets,a=this.targetIndex,f=l.targets[a],h=this.key,d=h!=="texture";if(this.elapsed=s,this.progress=s/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||i)&&(this.start=this.getStartValue(f,h,this.start,a,n,l)),i){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,h,this.start,a,n,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-s,d&&(this.current=this.start,f[h]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=r},99730:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=S},53709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(502),v=t(56694),o=t(54272),r=t(99325),s=t(61286),e=t(83392),i=t(55303),l=t(15718),n=t(96490),a=new v({Extends:u,initialize:function(h,d){u.call(this,h),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,h,d,c,g,x,m,y,T,R,P,D,I,w,U,G){var H=new l(this,f,h,d,c,g,x,m,y,T,R,P,D,I,w,U,G);return this.totalData=this.data.push(H),H},addFrame:function(f,h,d,c,g,x,m,y,T,R){var P=new n(this,f,h,d,c,g,x,m,y,T,R);return this.totalData=this.data.push(P),P},getValue:function(f){f===void 0&&(f=0);var h=null;return this.data&&(h=this.data[f].current),h},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,h,d){if(d===void 0&&(d=!1),f!=="texture")for(var c=0;c<this.totalData;c++){var g=this.data[c];g.key===f&&(g.isPlayingForward()||g.isPlayingBackward())&&(g.end=h,d&&(g.start=g.current))}return this},restart:function(){switch(this.state){case i.REMOVED:case i.FINISHED:this.seek(),this.parent.makeActive(this);break;case i.PENDING:case i.PENDING_REMOVE:this.parent.reset(this);break;case i.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,u.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,h,d){if(f===void 0&&(f=0),h===void 0&&(h=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var c=this.paused;if(this.paused=!1,f>0){for(var g=Math.floor(f/h),x=f-g*h,m=0;m<g;m++)this.update(h);x>0&&this.update(x)}return this.paused=c,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var h=this.data,d=0;d<this.totalData;d++)h[d].reset(f);this.duration=Math.max(this.duration,.01);var c=this.duration,g=this.completeDelay,x=this.loopCounter,m=this.loopDelay;x>0?this.totalDuration=c+g+(c+m)*x:this.totalDuration=c+g},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=i.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),f=0));var h=!1;if(this.isActive())for(var d=this.data,c=0;c<this.totalData;c++)d[c].update(f)&&(h=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),h||this.nextState();var g=this.isPendingRemove();return g&&this.persist&&(this.setFinishedState(),g=!1),g},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,h){if(!this.isSeeking){this.emit(f,this,this.targets);var d=this.callbacks[h];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){u.prototype.destroy.call(this),this.targets=null}});s.register("tween",function(f){return this.scene.sys.tweens.add(f)}),r.register("tween",function(f){return this.scene.sys.tweens.create(f)}),p.exports=a},45641:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66458),v=t(502),o=t(56694),r=t(54272),s=t(99325),e=t(61286),i=t(55303),l=new o({Extends:v,initialize:function(a){v.call(this,a),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?i.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive"),this},add:function(n){var a=this.parent.create(n);Array.isArray(a)||(a=[a]);for(var f=this.data,h=0;h<a.length;h++){var d=a[h];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(n){return u(this.data,n),n.setRemovedState(),n===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(n){for(var a=this.data,f=0;f<this.totalData;f++)if(a[f].hasTarget(n))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(n){return n.seek(),n.setActiveState(),this},makeActive:function(n){return n.reset(),n.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var n=this.data,a=this.totalData,f=0;f<a;f++)n[f].reset(!1);this.currentIndex=0,this.currentTween=n[0]},update:function(n){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;n*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(n):this.isCompleteDelayed()?this.updateCompleteDelay(n):this.isStartDelayed()&&(n=this.updateStartCountdown(n));var a=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(n)&&this.nextTween()&&this.nextState(),a=this.isPendingRemove(),a&&this.persist&&(this.setFinishedState(),a=!1)),a},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(n){this.currentIndex=n,this.currentTween=this.data[n],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(n,a){this.emit(n,this);var f=this.callbacks[a];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(n){return this.scene.sys.tweens.chain(n)}),s.register("tweenchain",function(n){return this.scene.sys.tweens.create(n)}),p.exports=l},15718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65521),v=t(82897),o=t(56694),r=t(54272),s=new o({Extends:u,initialize:function(i,l,n,a,f,h,d,c,g,x,m,y,T,R,P,D,I){u.call(this,i,l,c,g,x,m,y,T,R,P),this.key=n,this.getActiveValue=h,this.getEndValue=a,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=I},reset:function(e){u.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex],l=this.key;e&&(i[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(i[l]=this.getActiveValue(i,l,0))},update:function(e){var i=this.tween,l=i.totalTargets,n=this.targetIndex,a=i.targets[n],f=this.key;if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(a,f,a[f],n,l,i),this.end=this.getEndValue(a,f,this.start,n,l,i),this.current=this.start,a[f]=this.start,this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),d=this.isPlayingBackward();if(h||d){var c=this.elapsed,g=this.duration,x=0,m=!1;c+=e,c>=g?(x=c-g,c=g,m=!0):c<0&&(c=0);var y=v(c/g,0,1);if(this.elapsed=c,this.progress=y,this.previous=this.current,m)h?(this.current=this.end,a[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(this.current=this.start,a[f]=this.start,this.setStateFromStart(x));else{h||(y=1-y);var T=this.ease(y);this.interpolation?this.current=this.interpolation(this.interpolationData,T):this.current=this.start+(this.end-this.start)*T,a[f]=this.current}this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,i){var l=this.tween;if(!l.isSeeking){var n=l.targets[this.targetIndex],a=this.key,f=this.current,h=this.previous;l.emit(e,l,a,n,f,h);var d=l.callbacks[i];d&&d.func.apply(l.callbackScope,[l,n,a,f,h].concat(d.params))}},destroy:function(){u.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=s},96490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65521),v=t(82897),o=t(56694),r=t(54272),s=new o({Extends:u,initialize:function(i,l,n,a,f,h,d,c,g,x,m){u.call(this,i,l,f,h,!1,d,c,g,x,m),this.key="texture",this.startTexture=null,this.endTexture=n,this.startFrame=null,this.endFrame=a,this.yoyo=c!==0},reset:function(e){u.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=i.texture.key,this.startFrame=i.frame.name),e&&i.setTexture(this.startTexture,this.startFrame)},update:function(e){var i=this.tween,l=this.targetIndex,n=i.targets[l];if(!n)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&n.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var a=this.isPlayingForward(),f=this.isPlayingBackward();if(a||f){var h=this.elapsed,d=this.duration,c=0,g=!1;h+=e,h>=d?(c=h-d,h=d,g=!0):h<0&&(h=0);var x=v(h/d,0,1);this.elapsed=h,this.progress=x,g&&(a?(n.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(c)):(n.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(c))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,i){var l=this.tween;if(!l.isSeeking){var n=l.targets[this.targetIndex],a=this.key;l.emit(e,l,a,n);var f=l.callbacks[i];f&&f.func.apply(l.callbackScope,[l,n,a].concat(f.params))}},destroy:function(){u.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=s},55303:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=S},56694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}function t(s,e,i){var l=i?s[e]:Object.getOwnPropertyDescriptor(s,e);return!i&&l.value&&typeof l.value=="object"&&(l=l.value),l&&S(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function u(s,e){var i=Object.getOwnPropertyDescriptor(s,e);return i?(i.value&&typeof i.value=="object"&&(i=i.value),i.configurable===!1):!1}function v(s,e,i,l){for(var n in e)if(e.hasOwnProperty(n)){var a=t(e,n,i);if(a!==!1){var f=l||s;if(u(f.prototype,n)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+n+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,n,a)}else s.prototype[n]=e[n]}}function o(s,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)v(s,e[i].prototype||e[i])}}function r(s){s||(s={});var e,i;if(s.initialize){if(typeof s.initialize!="function")throw new Error("initialize must be a function");e=s.initialize,delete s.initialize}else if(s.Extends){var l=s.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};s.Extends?(e.prototype=Object.create(s.Extends.prototype),e.prototype.constructor=e,i=s.Extends,delete s.Extends):e.prototype.constructor=e;var n=null;return s.Mixins&&(n=s.Mixins,delete s.Mixins),o(e,n),v(e,s,!0,i),e}r.extend=v,r.mixin=o,r.ignoreFinals=!1,p.exports=r},72283:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},10618:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};p.exports=S},78991:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r){if(r===void 0&&(r=t),v>0){var s=v-t.length;if(s<=0)return null}if(!Array.isArray(u))return t.indexOf(u)===-1?(t.push(u),o&&o.call(r,u),u):null;for(var e=u.length-1;e>=0;)t.indexOf(u[e])!==-1&&u.splice(e,1),e--;if(e=u.length,e===0)return null;v>0&&e>s&&(u.splice(s),e=s);for(var i=0;i<e;i++){var l=u[i];t.push(l),o&&o.call(r,l)}return u};p.exports=S},48522:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o,r,s){if(v===void 0&&(v=0),s===void 0&&(s=t),o>0){var e=o-t.length;if(e<=0)return null}if(!Array.isArray(u))return t.indexOf(u)===-1?(t.splice(v,0,u),r&&r.call(s,u),u):null;for(var i=u.length-1;i>=0;)t.indexOf(u[i])!==-1&&u.pop(),i--;if(i=u.length,i===0)return null;o>0&&i>e&&(u.splice(e),i=e);for(var l=i-1;l>=0;l--){var n=u[l];t.splice(v,0,n),r&&r.call(s,n)}return u};p.exports=S},58742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.indexOf(u);return v!==-1&&v<t.length&&(t.splice(v,1),t.push(u)),u};p.exports=S},30164:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45838),v=function(o,r,s,e,i){e===void 0&&(e=0),i===void 0&&(i=o.length);var l=0;if(u(o,e,i))for(var n=e;n<i;n++){var a=o[n];a[r]===s&&l++}return l};p.exports=v},36337:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o,r=[null];for(o=3;o<arguments.length;o++)r.push(arguments[o]);for(o=0;o<t.length;o++)r[0]=t[o],u.apply(v,r);return t};p.exports=S},46208:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45838),v=function(o,r,s,e,i){if(e===void 0&&(e=0),i===void 0&&(i=o.length),u(o,e,i)){var l,n=[null];for(l=5;l<arguments.length;l++)n.push(arguments[l]);for(l=e;l<i;l++)n[0]=o[l],r.apply(s,n)}return o};p.exports=v},2406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(u.length){if(u.length===1)return u[0]}else return NaN;var o=1,r,s;if(v){if(t<u[0][v])return u[0];for(;u[o][v]<t;)o++}else for(;u[o]<t;)o++;return o>u.length&&(o=u.length),v?(r=u[o-1][v],s=u[o][v],s-t<=t-r?u[o]:u[o-1]):(r=u[o-1],s=u[o],s-t<=t-r?s:r)};p.exports=S},5454:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u=[]);for(var v=0;v<t.length;v++)Array.isArray(t[v])?S(t[v],u):u.push(t[v]);return u};p.exports=S},71608:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45838),v=function(o,r,s,e,i){e===void 0&&(e=0),i===void 0&&(i=o.length);var l=[];if(u(o,e,i))for(var n=e;n<i;n++){var a=o[n];(!r||r&&s===void 0&&a.hasOwnProperty(r)||r&&s!==void 0&&a[r]===s)&&l.push(a)}return l};p.exports=v},51463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45838),v=function(o,r,s,e,i){if(e===void 0&&(e=0),i===void 0&&(i=o.length),u(o,e,i))for(var l=e;l<i;l++){var n=o[l];if(!r||r&&s===void 0&&n.hasOwnProperty(r)||r&&s!==void 0&&n[r]===s)return n}return null};p.exports=v},72861:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){u===void 0&&(u=0),v===void 0&&(v=t.length);var o=u+Math.floor(Math.random()*v);return t[o]===void 0?null:t[o]};p.exports=S},24218:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(u===v)return t;var o=t.indexOf(u),r=t.indexOf(v);if(o<0||r<0)throw new Error("Supplied items must be elements of the same array");return o>r||(t.splice(o,1),r===t.length-1?t.push(u):t.splice(r,0,u)),t};p.exports=S},58258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(u===v)return t;var o=t.indexOf(u),r=t.indexOf(v);if(o<0||r<0)throw new Error("Supplied items must be elements of the same array");return o<r||(t.splice(o,1),r===0?t.unshift(u):t.splice(r,0,u)),t};p.exports=S},51172:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.indexOf(u);if(v>0){var o=t[v-1],r=t.indexOf(o);t[v]=o,t[r]=u}return t};p.exports=S},68396:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=t.indexOf(u);if(o===-1||v<0||v>=t.length)throw new Error("Supplied index out of bounds");return o!==v&&(t.splice(o,1),t.splice(v,0,u)),u};p.exports=S},27555:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.indexOf(u);if(v!==-1&&v<t.length-1){var o=t[v+1],r=t.indexOf(o);t[v]=o,t[r]=u}return t};p.exports=S},13401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=[],s,e=!1;if((v||o)&&(e=!0,v||(v=""),o||(o="")),u<t)for(s=t;s>=u;s--)e?r.push(v+s.toString()+o):r.push(s);else for(s=t;s<=u;s++)e?r.push(v+s.toString()+o):r.push(s);return r};p.exports=S},89955:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(67233),v=function(o,r,s){o===void 0&&(o=0),r===void 0&&(r=null),s===void 0&&(s=1),r===null&&(r=o,o=0);for(var e=[],i=Math.max(u((r-o)/(s||1)),0),l=0;l<i;l++)e.push(o),o+=s;return e};p.exports=v},53466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(v,o,r){var s=v[o];v[o]=v[r],v[r]=s}function t(v,o){return v<o?-1:v>o?1:0}var u=function(v,o,r,s,e){for(r===void 0&&(r=0),s===void 0&&(s=v.length-1),e===void 0&&(e=t);s>r;){if(s-r>600){var i=s-r+1,l=o-r+1,n=Math.log(i),a=.5*Math.exp(2*n/3),f=.5*Math.sqrt(n*a*(i-a)/i)*(l-i/2<0?-1:1),h=Math.max(r,Math.floor(o-l*a/i+f)),d=Math.min(s,Math.floor(o+(i-l)*a/i+f));u(v,o,h,d,e)}var c=v[o],g=r,x=s;for(S(v,r,o),e(v[s],c)>0&&S(v,r,s);g<x;){for(S(v,g,x),g++,x--;e(v[g],c)<0;)g++;for(;e(v[x],c)>0;)x--}e(v[r],c)===0?S(v,r,x):(x++,S(v,x,s)),x<=o&&(r=x+1),o<=x&&(s=x-1)}};p.exports=u},75757:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10850),v=t(18592),o=function(s,e,i){for(var l=[],n=0;n<s.length;n++)for(var a=0;a<e.length;a++)for(var f=0;f<i;f++)l.push({a:s[n],b:e[a]});return l},r=function(s,e,i){var l=u(i,"max",0),n=u(i,"qty",1),a=u(i,"random",!1),f=u(i,"randomB",!1),h=u(i,"repeat",0),d=u(i,"yoyo",!1),c=[];if(f&&v(e),h===-1)if(l===0)h=0;else{var g=s.length*e.length*n;d&&(g*=2),h=Math.ceil(l/g)}for(var x=0;x<=h;x++){var m=o(s,e,n);a&&v(m),c=c.concat(m),d&&(m.reverse(),c=c.concat(m))}return l&&c.splice(l),c};p.exports=r},66458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72677),v=function(o,r,s,e){e===void 0&&(e=o);var i;if(!Array.isArray(r))return i=o.indexOf(r),i!==-1?(u(o,i),s&&s.call(e,r),r):null;for(var l=r.length-1,n=[];l>=0;){var a=r[l];i=o.indexOf(a),i!==-1&&(u(o,i),n.push(a),s&&s.call(e,a)),l--}return n};p.exports=v},8324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72677),v=function(o,r,s,e){if(e===void 0&&(e=o),r<0||r>o.length-1)throw new Error("Index out of bounds");var i=u(o,r);return s&&s.call(e,i),i};p.exports=v},47427:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45838),v=function(o,r,s,e,i){if(r===void 0&&(r=0),s===void 0&&(s=o.length),i===void 0&&(i=o),u(o,r,s)){var l=s-r,n=o.splice(r,l);if(e)for(var a=0;a<n.length;a++){var f=n[a];e.call(i,f)}return n}else return[]};p.exports=v},50147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72677),v=function(o,r,s){r===void 0&&(r=0),s===void 0&&(s=o.length);var e=r+Math.floor(Math.random()*s);return u(o,e)};p.exports=v},80402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=t.indexOf(u),r=t.indexOf(v);return o!==-1&&r===-1?(t[o]=v,!0):!1};p.exports=S},77640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u=1);for(var v=null,o=0;o<u;o++)v=t.shift(),t.push(v);return v};p.exports=S},38487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){u===void 0&&(u=1);for(var v=null,o=0;o<u;o++)v=t.pop(),t.unshift(v);return v};p.exports=S},45838:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){var r=t.length;if(u<0||u>r||u>=v||v>r){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=S},27847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){var v=t.indexOf(u);return v!==-1&&v>0&&(t.splice(v,1),t.unshift(u)),u};p.exports=S},6034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45838),v=function(o,r,s,e,i){if(e===void 0&&(e=0),i===void 0&&(i=o.length),u(o,e,i))for(var l=e;l<i;l++){var n=o[l];n.hasOwnProperty(r)&&(n[r]=s)}return o};p.exports=v},18592:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var u=t.length-1;u>0;u--){var v=Math.floor(Math.random()*(u+1)),o=t[u];t[u]=t[v],t[v]=o}return t};p.exports=S},28834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u=/\D/g;return t.sort(function(v,o){return parseInt(v.replace(u,""),10)-parseInt(o.replace(u,""),10)}),t};p.exports=S},72677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){if(!(u>=t.length)){for(var v=t.length-1,o=t[u],r=u;r<v;r++)t[r]=t[r+1];return t.length=v,o}};p.exports=S},17922:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(77290);function v(e,i){return String(e).localeCompare(i)}function o(e,i){var l=e.length;if(l<=1)return e;for(var n=new Array(l),a=1;a<l;a*=2){r(e,i,a,n);var f=e;e=n,n=f}return e}function r(e,i,l,n){var a=e.length,f=0,h=l*2,d,c,g,x,m;for(d=0;d<a;d+=h)for(c=d+l,g=c+l,c>a&&(c=a),g>a&&(g=a),x=d,m=c;;)if(x<c&&m<g)i(e[x],e[m])<=0?n[f++]=e[x++]:n[f++]=e[m++];else if(x<c)n[f++]=e[x++];else if(m<g)n[f++]=e[m++];else break}var s=function(e,i){if(i===void 0&&(i=v),!e||e.length<2)return e;if(u.features.stableSort)return e.sort(i);var l=o(e,i);return l!==e&&r(l,null,e.length,e),e};p.exports=s},96928:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(u===v)return t;var o=t.indexOf(u),r=t.indexOf(v);if(o<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[o]=v,t[r]=u,t};p.exports=S},59959:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(13515),Add:t(78991),AddAt:t(48522),BringToTop:t(58742),CountAllMatching:t(30164),Each:t(36337),EachInRange:t(46208),FindClosestInSorted:t(2406),Flatten:t(5454),GetAll:t(71608),GetFirst:t(51463),GetRandom:t(72861),MoveDown:t(51172),MoveTo:t(68396),MoveUp:t(27555),MoveAbove:t(24218),MoveBelow:t(58258),NumberArray:t(13401),NumberArrayStep:t(89955),QuickSelect:t(53466),Range:t(75757),Remove:t(66458),RemoveAt:t(8324),RemoveBetween:t(47427),RemoveRandomElement:t(50147),Replace:t(80402),RotateLeft:t(77640),RotateRight:t(38487),SafeRange:t(45838),SendToBack:t(27847),SetAll:t(6034),Shuffle:t(18592),SortByDigits:t(28834),SpliceOne:t(72677),StableSort:t(17922),Swap:t(96928)}},97494:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var u=t[0].length,v=1;v<t.length;v++)if(t[v].length!==u)return!1;return!0};p.exports=S},68428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(76400),v=t(97494),o=function(r){var s="";if(!v(r))return s;for(var e=0;e<r.length;e++){for(var i=0;i<r[e].length;i++){var l=r[e][i].toString();l!=="undefined"?s+=u(l,2):s+="?",i<r[e].length-1&&(s+=" |")}if(e<r.length-1){s+=`
`;for(var n=0;n<r[e].length;n++)s+="---",n<r[e].length-1&&(s+="+");s+=`
`}}return s};p.exports=o},59521:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};p.exports=S},51995:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var u=0;u<t.length;u++)t[u].reverse();return t};p.exports=S},89011:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(63515),v=function(o){return u(o,180)};p.exports=v},42549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(63515),v=function(o){return u(o,90)};p.exports=v},63515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97494),v=t(78581),o=function(r,s){if(s===void 0&&(s=90),!u(r))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")r=v(r),r.reverse();else if(s===-90||s===270||s==="rotateRight")r.reverse(),r=v(r);else if(Math.abs(s)===180||s==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};p.exports=o},14305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(63515),v=function(o){return u(o,-90)};p.exports=v},27365:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(77640),v=t(38487),o=function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),e!==0&&(e<0?u(r,Math.abs(e)):v(r,e)),s!==0)for(var i=0;i<r.length;i++){var l=r[i];s<0?u(l,Math.abs(s)):v(l,s)}return r};p.exports=o},78581:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var u=t.length,v=t[0].length,o=new Array(v),r=0;r<v;r++){o[r]=new Array(u);for(var s=u-1;s>-1;s--)o[r][s]=t[s][r]}return o};p.exports=S},13515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(97494),MatrixToString:t(68428),ReverseColumns:t(59521),ReverseRows:t(51995),Rotate180:t(89011),RotateLeft:t(42549),RotateMatrix:t(63515),RotateRight:t(14305),Translate:t(27365),TransposeMatrix:t(78581)}},40581:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(u,v){for(var o=new Uint8Array(u),r=o.length,s=v?"data:"+v+";base64,":"",e=0;e<r;e+=3)s+=S[o[e]>>2],s+=S[(o[e]&3)<<4|o[e+1]>>4],s+=S[(o[e+1]&15)<<2|o[e+2]>>6],s+=S[o[e+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};p.exports=t},82329:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),u=0;u<S.length;u++)t[S.charCodeAt(u)]=u;var v=function(o){o=o.substr(o.indexOf(",")+1);var r=o.length,s=r*.75,e=0,i,l,n,a;o[r-1]==="="&&(s--,o[r-2]==="="&&s--);for(var f=new ArrayBuffer(s),h=new Uint8Array(f),d=0;d<r;d+=4)i=t[o.charCodeAt(d)],l=t[o.charCodeAt(d+1)],n=t[o.charCodeAt(d+2)],a=t[o.charCodeAt(d+3)],h[e++]=i<<2|l>>4,h[e++]=(l&15)<<4|n>>2,h[e++]=(n&3)<<6|a&63;return f};p.exports=v},78417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(40581),Base64ToArrayBuffer:t(82329)}},22178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(59959),Base64:t(78417),Objects:t(64615),String:t(50379),NOOP:t(72283),NULL:t(10618)}},32742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u={};for(var v in t)Array.isArray(t[v])?u[v]=t[v].slice(0):u[v]=t[v];return u};p.exports=S},28699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var u,v,o;if(typeof t!="object"||t===null)return t;u=Array.isArray(t)?[]:{};for(o in t)v=t[o],u[o]=S(v);return u};p.exports=S},98611:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(42911),v=function(){var o,r,s,e,i,l,n=arguments[0]||{},a=1,f=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[1]||{},a=2),f===a&&(n=this,--a);a<f;a++)if((o=arguments[a])!=null)for(r in o)s=n[r],e=o[r],n!==e&&(h&&e&&(u(e)||(i=Array.isArray(e)))?(i?(i=!1,l=s&&Array.isArray(s)?s:[]):l=s&&u(s)?s:{},n[r]=v(h,l,e)):e!==void 0&&(n[r]=e));return n};p.exports=v},20494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(5923),v=t(10850),o=function(r,s,e){var i=v(r,s,null);if(i===null)return e;if(Array.isArray(i))return u.RND.pick(i);if(typeof i=="object"){if(i.hasOwnProperty("randInt"))return u.RND.integerInRange(i.randInt[0],i.randInt[1]);if(i.hasOwnProperty("randFloat"))return u.RND.realInRange(i.randFloat[0],i.randFloat[1])}else if(typeof i=="function")return i(s);return i};p.exports=o},72632:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){var o=typeof t;return!t||o==="number"||o==="string"?v:t.hasOwnProperty(u)&&t[u]!==void 0?t[u]:v};p.exports=S},94324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10850),v=t(82897),o=function(r,s,e,i,l){l===void 0&&(l=e);var n=u(r,s,l);return v(n,e,i)};p.exports=o},10850:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){if(!t&&!o||typeof t=="number")return v;if(t&&t.hasOwnProperty(u))return t[u];if(o&&o.hasOwnProperty(u))return o[u];if(u.indexOf(".")!==-1){for(var r=u.split("."),s=t,e=o,i=v,l=v,n=!0,a=!0,f=0;f<r.length;f++)s&&s.hasOwnProperty(r[f])?(i=s[r[f]],s=s[r[f]]):n=!1,e&&e.hasOwnProperty(r[f])?(l=e[r[f]],e=e[r[f]]):a=!1;return n?i:a?l:v}else return v};p.exports=S},87701:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){for(var v=0;v<u.length;v++)if(!t.hasOwnProperty(u[v]))return!1;return!0};p.exports=S},53523:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){for(var v=0;v<u.length;v++)if(t.hasOwnProperty(u[v]))return!0;return!1};p.exports=S},19256:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.hasOwnProperty(u)};p.exports=S},42911:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=S},30657:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(32742),v=function(o,r){var s=u(o);for(var e in r)s.hasOwnProperty(e)||(s[e]=r[e]);return s};p.exports=v},72066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(32742),v=function(o,r){var s=u(o);for(var e in r)s.hasOwnProperty(e)&&(s[e]=r[e]);return s};p.exports=v},28820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19256),v=function(o,r){for(var s={},e=0;e<r.length;e++){var i=r[e];u(o,i)&&(s[i]=o[i])}return s};p.exports=v},22440:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(u))return t[u]=v,!0;if(u.indexOf(".")!==-1){for(var o=u.split("."),r=t,s=t,e=0;e<o.length;e++)if(r.hasOwnProperty(o[e]))s=r,r=r[o[e]];else return!1;return s[o[o.length-1]]=v,!0}return!1};p.exports=S},64615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(32742),DeepCopy:t(28699),Extend:t(98611),GetAdvancedValue:t(20494),GetFastValue:t(72632),GetMinMaxValue:t(94324),GetValue:t(10850),HasAll:t(87701),HasAny:t(53523),HasValue:t(19256),IsPlainObject:t(42911),Merge:t(30657),MergeRight:t(72066),Pick:t(28820),SetValue:t(22440)}},69429:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return t.replace(/%([0-9]+)/g,function(v,o){return u[Number(o)-1]})};p.exports=S},76400:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u,v,o){u===void 0&&(u=0),v===void 0&&(v=" "),o===void 0&&(o=3),t=t.toString();var r=0;if(u+1>=t.length)switch(o){case 1:t=new Array(u+1-t.length).join(v)+t;break;case 3:var s=Math.ceil((r=u-t.length)/2),e=r-s;t=new Array(e+1).join(v)+t+new Array(s+1).join(v);break;default:t=t+new Array(u+1-t.length).join(v);break}return t};p.exports=S},76872:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,u){return u===0?t.slice(1):t.slice(0,u-1)+t.slice(u)};p.exports=S},8051:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};p.exports=S},76583:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var u=Math.random()*16|0,v=t==="x"?u:u&3|8;return v.toString(16)})};p.exports=S},40587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=S},50379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(69429),Pad:t(76400),RemoveAt:t(76872),Reverse:t(8051),UppercaseFirst:t(40587),UUID:t(76583)}}},B={};function V(p){var S=B[p];if(S!==void 0)return S.exports;var t=B[p]={exports:{}};return M[p](t,t.exports,V),t.exports}V.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var k=V(92491);return k})())})(Ov);var Mv=Ov.exports;const Mt=Iv(Mv);class Ra extends Mt.Scene{}class gt{}var Jo=(L=>(L.WIN="game/win",L.LOSE="game/lose",L))(Jo||{}),Me=(L=>(L.SYSTEM="SYSTEM",L.FINISH="FINISH",L.WORLD="WORLD",L.SCREEN="SCREEN",L.MENU="MENU",L))(Me||{}),Ri=(L=>(L.START="start",L.FINISH="finish",L.UPDATE_SETTINGS="update_settings",L.TOGGLE_PAUSE="toggle_pause",L))(Ri||{}),ye=(L=>(L.IDLE="IDLE",L.STARTED="STARTED",L.FINISHED="FINISHED",L.PAUSED="PAUSED",L))(ye||{}),ei=(L=>(L.AUDIO="AUDIO",L.SHOW_DAMAGE="SHOW_DAMAGE",L.EFFECTS="EFFECTS",L.TUTORIAL="TUTORIAL",L))(ei||{}),Ds=(L=>(L.EASY="EASY",L.NORMAL="NORMAL",L.HARD="HARD",L))(Ds||{}),gi=(L=>(L.INFINITY="INFINITY",L.FLAGS="FLAGS",L))(gi||{}),Zt=(L=>(L.BLOOD="BLOOD",L.ADS="ADS",L.AUTO_ORIENTATION="AUTO_ORIENTATION",L.COPYRIGHT="COPYRIGHT",L.LOGS="LOGS",L.ANTICHEAT="ANTICHEAT",L.LEADERBOARD="LEADERBOARD",L.POLICY="POLICY",L.FULLSCREEN="FULLSCREEN",L.INCOGNITO="INCOGNITO",L))(Zt||{}),Qe=(L=>(L.DEVELOPMENT="development",L.CENTARIUS="centarius",L.POKI="poki",L.CRAZY_GAMES="crazy_games",L.VANILLA="vanilla",L))(Qe||{});const vr={CONTAINER_ID:"game-container",AUDIO_VOLUME:.1,MAX_SAVES:5,LINKS:{PRIVACY_POLICY:"https://izowave.neki.guru/policy.html",DISCORD:"https://discord.gg/cnFAdMsRxn"},DEBUG:{basic:!1,position:!1,path:!1}},Go={[Qe.POKI]:{sdk:"patch/poki-sdk.js",flags:{[Zt.ADS]:!0,[Zt.AUTO_ORIENTATION]:!0,[Zt.LOGS]:!0,[Zt.ANTICHEAT]:!0,[Zt.LEADERBOARD]:!0,[Zt.POLICY]:!0}},[Qe.CRAZY_GAMES]:{sdk:"https://sdk.crazygames.com/crazygames-sdk-v2.js",flags:{[Zt.ADS]:!0,[Zt.COPYRIGHT]:!0,[Zt.LOGS]:!0,[Zt.ANTICHEAT]:!0,[Zt.LEADERBOARD]:!0,[Zt.FULLSCREEN]:!0,[Zt.INCOGNITO]:!0}},[Qe.CENTARIUS]:{token:"10bbc105-ac8c-43e1-9749-73fb57a3ef12",flags:{[Zt.ADS]:!0,[Zt.COPYRIGHT]:!0,[Zt.LOGS]:!0,[Zt.ANTICHEAT]:!0,[Zt.FULLSCREEN]:!0,[Zt.INCOGNITO]:!0}},[Qe.VANILLA]:{flags:{[Zt.BLOOD]:!0,[Zt.COPYRIGHT]:!0,[Zt.LOGS]:!0,[Zt.ANTICHEAT]:!0,[Zt.LEADERBOARD]:!0,[Zt.FULLSCREEN]:!0,[Zt.INCOGNITO]:!0}},[Qe.DEVELOPMENT]:{flags:{[Zt.COPYRIGHT]:!0,[Zt.BLOOD]:!0,[Zt.LEADERBOARD]:!0,[Zt.FULLSCREEN]:!0,[Zt.INCOGNITO]:!0}}};class pe{static Register(){if(this.Platform=this.GetCustomPlatform()??"poki",!this.Platform)throw Error("Invalid environment platform")}static GetFlag(A){return Go[this.Platform].flags[A]}static GetSDK(){return Go[this.Platform].sdk}static GetToken(){return Go[this.Platform].token}static GetCustomPlatform(){const A=new URLSearchParams(window.location.search).get("sdk")?.toLowerCase();if(A&&A in Go)return A}}const kc=L=>{L=1831565813+(L|=0)|0;let A=Math.imul(L^L>>>15,1|L);return A=A+Math.imul(A^A>>>7,61|A)^A,((A^A>>>14)>>>0)/4294967296};class Pg{constructor(A){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:M,separator:B,dictionaries:V,style:k,seed:p}=A;this.dictionaries=V,this.separator=B,this.length=M,this.style=k,this.seed=p}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let A=this.seed;return this.dictionaries.slice(0,this.length).reduce((M,B)=>{let V;A?(V=(p=>{if(typeof p=="string"){const S=p.split("").map(u=>u.charCodeAt(0)).reduce((u,v)=>u+v,1),t=Math.floor(Number(S));return kc(t)}return kc(p)})(A),A=4294967296*V):V=Math.random();let k=B[Math.floor(V*B.length)]||"";if(this.style==="lowerCase")k=k.toLowerCase();else if(this.style==="capital"){const[p,...S]=k.split("");k=p.toUpperCase()+S.join("")}else this.style==="upperCase"&&(k=k.toUpperCase());return M?`${M}${this.separator}${k}`:`${k}`},"")}}const Zc={separator:"_",dictionaries:[]},Ig=L=>{const A=[...L&&L.dictionaries||Zc.dictionaries],M={...Zc,...L,length:L&&L.length||A.length,dictionaries:A};if(!L||!L.dictionaries||!L.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new Pg(M).generate()};var Og=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","olympic","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","soviet","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],Mg=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"];let Vo;const Dg=new Uint8Array(16);function Ng(){if(!Vo&&(Vo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Vo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vo(Dg)}const ti=[];for(let L=0;L<256;++L)ti.push((L+256).toString(16).slice(1));function wg(L,A=0){return ti[L[A+0]]+ti[L[A+1]]+ti[L[A+2]]+ti[L[A+3]]+"-"+ti[L[A+4]]+ti[L[A+5]]+"-"+ti[L[A+6]]+ti[L[A+7]]+"-"+ti[L[A+8]]+ti[L[A+9]]+"-"+ti[L[A+10]]+ti[L[A+11]]+ti[L[A+12]]+ti[L[A+13]]+ti[L[A+14]]+ti[L[A+15]]}const Fg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qc={randomUUID:Fg};function Er(L,A,M){if(Qc.randomUUID&&!A&&!L)return Qc.randomUUID();L=L||{};const B=L.random||(L.rng||Ng)();if(B[6]=B[6]&15|64,B[8]=B[8]&63|128,A){M=M||0;for(let V=0;V<16;++V)A[M+V]=B[V];return A}return wg(B)}const Bg="izowave",Ug="Isometric game. Build and defend in open world",Gg="1.23.3",Vg=[],bg={name:"Nikita Galadiy",email:"dev@neki.guru",url:"https://neki.guru/"},zg="./dist/index.html",Wg={start:"vite --host","start:manager":"vite --config ./manager/vite.config.js",build:"vite build --mode vanilla","build:crazy_games":"vite build --mode crazy_games","build:poki":"vite build --mode poki","build:centarius":"vite build --mode centarius",test:"jest",lint:'eslint "./**/*.{js,ts,tsx}" --ignore-path .gitignore --fix'},Yg={detectincognitojs:"^1.3.0","gen-biome":"2.4.0",heap:"0.2.7",idb:"7.1.1",phaser:"3.60.0","phaser-react-ui":"1.15.0","phaser3-rex-plugins":"1.60.6",react:"18.2.0","react-dom":"18.2.0","styled-components":"6.1.0","unique-names-generator":"^4.7.1",uuid:"9.0.1"},Xg={"@ant-design/icons":"5.2.6","@types/heap":"0.2.33","@types/jest":"29.5.7","@types/node":"20.8.10","@types/react":"18.2.25","@types/react-dom":"18.2.10","@types/styled-components":"5.1.29","@types/ua-parser-js":"0.7.39","@types/uuid":"9.0.6","@vitejs/plugin-react":"4.1.1","alias-reuse":"2.0.1",antd:"5.11.3",dayjs:"1.11.10",eslint:"8.51.0","eslint-config-neki":"1.3.0",jest:"29.7.0","jest-canvas-mock":"2.5.2","jest-environment-jsdom":"29.7.0",phaser3spectorjs:"0.0.8","react-apexcharts":"1.4.1","react-router-dom":"6.20.0",semver:"7.5.4","ts-jest":"29.1.1",typescript:"5.2.2","ua-parser-js":"1.0.37",vite:"4.5.0","vite-plugin-checker":"0.6.2","vite-plugin-static-copy":"0.17.0","vite-plugin-zip-pack":"1.0.6"},ln={name:Bg,description:Ug,version:Gg,private:!0,keywords:Vg,author:bg,main:zg,scripts:Wg,dependencies:Yg,devDependencies:Xg},hi={TOKEN:"lmd+sign",HOST:"https://izowave.neki.guru/api",ENDPOINTS:{GET_TRAFFIC:"get-traffic",GET_RECORDS:"get-records",GET_LEADERBOARD:"get-leaderboard",GET_USERS:"get-users",GET_RESOURCES:"get-resources",GET_SESSIONS:"get-sessions",GET_MODES:"get-modes",GET_DIFFICULTIES:"get-difficulties",GET_PLANETS:"get-planets",GET_LANGS:"get-langs",GET_WAVE_COMPLETIONS:"get-wave-completions",GET_FLAG_CAPTURES:"get-flag-captures",GET_ERRORS:"get-errors",GET_USER_NAME:"get-user-name",MARK_AS_CHEATER:"mark-as-cheater",UPDATE_USER_NAME:"update-user-name",UPDATE_RECORD:"update-record",CREATE_RECORD:"create-record",CREATE_SESSION:"create-session",CREATE_ACCOUNT:"create-account",CREATE_GAME_RESULT:"create-game-result",CREATE_WAVE_COMPLETION:"create-wave-completion",CREATE_FLAG_CAPTURE:"create-flag-capture",CREATE_ERROR:"create-error"}},Hg={ENEMIES:"Enemies",WAVE_TIMELEFT:"Timeleft",WAVE:"Wave",SKIP_WAVE_TIMELEFT:`Start wave
prematurely`,MODE:"Mode",INFINITY:"Endless waves",FLAGS:"Capture flags",FLAGS_CAPTURE:`Capture all flags
to win`,BUILDING:"Building",BUILDING_NAME_WALL:"Wall",BUILDING_DESCRIPTION_WALL:"Defends other buildings",BUILDING_NAME_TOWER_FIRE:"Fire tower",BUILDING_DESCRIPTION_TOWER_FIRE:"Basic fire attack of enemies",BUILDING_NAME_TOWER_FROZEN:"Frozen tower",BUILDING_DESCRIPTION_TOWER_FROZEN:"Freezes enemies for some time",BUILDING_NAME_TOWER_LAZER:"Laser tower",BUILDING_DESCRIPTION_TOWER_LAZER:"Instant and continuous laser attack of enemies",BUILDING_NAME_TOWER_ELECTRO:"Electro tower",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Mass electric shock",BUILDING_NAME_GENERATOR:"Generator",BUILDING_DESCRIPTION_GENERATOR:"Generates resources for builds and upgrades",BUILDING_NAME_AMMUNITION:"Ammo stock",BUILDING_DESCRIPTION_AMMUNITION:"Reloads towers ammo within building radius",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Uncovers enemies within building radius",BUILDING_NAME_BOOSTER:"Booster",BUILDING_DESCRIPTION_BOOSTER:"Increases towers efficiency",BUILDING_CATEGORY_DEFENSE:"Defense",BUILDING_CATEGORY_ATTACK:"Attack",BUILDING_CATEGORY_RESOURCES:"Resources",BUILDING_CATEGORY_OTHER:"Other",BUILDING_HEALTH:"Health",BUILDING_RADIUS:"Radius",BUILDING_FREEZE:"Freeze",BUILDING_POWER:"Power",BUILDING_AMMO:"Ammo",BUILDING_DAMAGE:"Damage",BUILDING_SPEED:"Speed",BUILDING_DELAY:"Delay",BUILDING_UPGRADE:"Upgrade",BUILDING_BUY_AMMO:"Buy ammo",BUILDING_REPAIR:"Repair",BUILDING_WILL_BE_AVAILABLE:"Will be available on %1 wave",BUILDING_LIMIT_REACHED:"You have maximum %1s",BUILDING_NEAR_TOWER:"Must be placed next to the tower",NOT_ENOUGH_RESOURCES:"Not enough resources",NOT_ENOUGH_EXPERIENCE:"Not enough experience",TIME_SCALE:`Increase time speed
during wave`,BUILDING_INDICATORS:`Display buildings
health and ammo`,AUTO_REPAIR:`Auto buy ammo
and repair buildings`,PATH_TO_CRYSTAL:`Display path
to nearest crystal`,ASSISTANT:"Assistant",ASSISTANT_UNLOCK:"New assistant with improved weapon",SKILLS:"Skills",SKILLS_CLOSE:"Close",SKILL_TARGET_CHARACTER:"Character",SKILL_TARGET_ASSISTANT:"Assistant",SKILL_UPGRADE:"Upgrade",SKILL_MAX_LEVEL:`Max
level`,SKILL_LABEL_MAX_HEALTH:"Health",SKILL_LABEL_SPEED:"Move speed",SKILL_LABEL_STAMINA:"Stamina",SKILL_LABEL_BUILD_SPEED:"Build speed",SKILL_LABEL_ATTACK_DAMAGE:"Damage",SKILL_LABEL_ATTACK_DISTANCE:"Attack distance",SKILL_LABEL_ATTACK_SPEED:"Attack speed",RESOURCES:"Resources",EXPERIENCE:"Experience",SCORE:"Score",ADS_SHOW:"Watch a video and get a reward",ADS_UNLOCK:"Unlock extra superskill by watching video",FEATURES_UNLOCKED:`Unlocked
new features!`,YES:"Yes",NO:"No",SUPERSKILL:"Superskill",SUPERSKILL_NAME_INVISIBLE:"Invisible",SUPERSKILL_DESCRIPTION_INVISIBLE:"Hides character from enemies",SUPERSKILL_NAME_FROST:"Frost",SUPERSKILL_DESCRIPTION_FROST:"Freezes all enemies",SUPERSKILL_NAME_RAGE:"Rage",SUPERSKILL_DESCRIPTION_RAGE:"Doubles towers damage",SUPERSKILL_NAME_SHIELD:"Shield",SUPERSKILL_DESCRIPTION_SHIELD:"Prevents damage to all buildings",SUPERSKILL_NAME_FIRE:"Fire",SUPERSKILL_DESCRIPTION_FIRE:"Deals damage to all enemies",TUTORIAL_SKIP_TIMELEFT:`Click to start
wave prematurely`,TUTORIAL_CLICK_TO_UPGRADE:"Click to upgrade",TUTORIAL_HOVER_TO_UPGRADE:`Hover and press [E]
to upgrade`,TUTORIAL_RESOURCES:`If resources are not enough,
you can find <crystals> on the map`,TUTORIAL_BUILD_GENERATOR:`Build <generator>
to get resources`,TUTORIAL_BUILD_GENERATOR_SECOND:`Build second <generator>
to get more resources`,TUTORIAL_BUILD_TOWER_FIRE:`Build <fire tower>
to attack enemies`,TUTORIAL_BUILD_AMMUNITION:`Build <ammo stock>
to reload towers`,TUTORIAL_BUILD_RADAR:`Build <radar>
to uncover enemies`,TUTORIAL_STOP_BUILD:"Use [Right click] to stop build",TUTORIAL_RELOAD_TOWER:"Build <ammo stock> nearby",TUTORIAL_CLICK_TO_BUY_AMMO:"Click to buy ammo",TUTORIAL_HOVER_TO_BUY_AMMO:`Hover and press [F]
to buy ammo`,TUTORIAL_FLAG_CAPTION:`Stand nearby
to capture the <flag>`,TUTORIAL_ASSISTANT_STOP:"Click to hold position",TUTORIAL_ASSISTANT_FOLLOW:"Click to follow you",NEW_GAME:"New game",LOAD_GAME:"Load game",SAVE_GAME:"Save game",CONTINUE_GAME:"Continue",RESTART_GAME:"Restart",MAIN_MENU:"Exit to menu",SETTINGS:"Settings",CONTROLS:"Controls",LEADERBOARD:"Leaderboard",MENU:"Menu",CONFIRM_STOP_GAME:"Do you confirm to stop the game?",CONFIRM_RESTART_GAME:"Do you confirm to restart the game?",SAVES_NOT_ALLOWED:`Attention! The game is open in incognito mode.
After restarting the game, all saves will be lost.`,PLANET:"Planet",DIFFICULTY:"Difficulty",START:"Start",SAVES_NOT_FOUND:"Saves not found",SAVES_LIMIT:`You have maximum saves.
Delete or rewrite existing ones`,SAVE:"Save",SAVE_NAME:"Name",SAVE_DATE:"Date",CONFIRM_REWRITE_SAVE:"Do you confirm to rewrite this save?",CONFIRM_DELETE_SAVE:"Do you confirm to delete this save?",EARTH:"Earth",MOON:"Moon",MARS:"Mars",EASY:"Easy",NORMAL:"Normal",HARD:"Hard",ON:"On",OFF:"Off",TUTORIAL:"Tutorial",AUDIO:"Audio",SHOW_DAMAGE:"Show damage",EFFECTS:"Effects",PLAYER:"Player",BUILDER:"Construction",BUILDINGS:"Buildings",MOVEMENT:"Movement",BUILD:"Build",STOP_BUILD:"Stop build",UPGRADE_BUILDING:"Upgrade building",REPAIR_BUILDING:"Repair building",DESTROY_BUILDING:"Destroy building",BUY_AMMO:"Buy ammo",ASSISTANT_FOLLOW:"Lock assistant moving",RECORD:"Record",TOTAL_SCORE:"Total score",WAVES_COMPLETED:"Waves completed",ENEMIES_KILLED:"Enemies killed",MINUTES_LIVED:"Minutes lived"},Kg={ENEMIES:"Enemigos",WAVE_TIMELEFT:"Tiempo restante",WAVE:"Ola",SKIP_WAVE_TIMELEFT:`Iniciar ola
prematuramente`,MODE:"Modo",INFINITY:"Olas infinitas",FLAGS:"Captura las banderas",FLAGS_CAPTURE:`Captura todas las banderas
para ganar`,BUILDING:"Edificio",BUILDING_NAME_WALL:"Muro",BUILDING_DESCRIPTION_WALL:"Defiende otros edificios",BUILDING_NAME_TOWER_FIRE:"Torre de fuego",BUILDING_DESCRIPTION_TOWER_FIRE:"Ataque bsico de fuego de los enemigos",BUILDING_NAME_TOWER_FROZEN:"Torre congelante",BUILDING_DESCRIPTION_TOWER_FROZEN:"Congela a los enemigos durante algn tiempo",BUILDING_NAME_TOWER_LAZER:"Torre laser",BUILDING_DESCRIPTION_TOWER_LAZER:"Ataque de lser instantneo y continuo de los enemigos",BUILDING_NAME_TOWER_ELECTRO:"Torre electrica",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Ataque masivo de electricidad",BUILDING_NAME_GENERATOR:"Generador",BUILDING_DESCRIPTION_GENERATOR:"Genera recursos para construcciones y mejoras",BUILDING_NAME_AMMUNITION:"Municion",BUILDING_DESCRIPTION_AMMUNITION:"Recarga la municin de las torres dentro del radio del edificio",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Descubre enemigos dentro del radio del edificio",BUILDING_NAME_BOOSTER:"Impulsor",BUILDING_DESCRIPTION_BOOSTER:"Aumenta la eficiencia de las torres",BUILDING_CATEGORY_DEFENSE:"Defensa",BUILDING_CATEGORY_ATTACK:"Ataque",BUILDING_CATEGORY_RESOURCES:"Recursos",BUILDING_CATEGORY_OTHER:"Otros",BUILDING_HEALTH:"Salud",BUILDING_RADIUS:"Radio",BUILDING_FREEZE:"Congelar",BUILDING_POWER:"Potencia",BUILDING_AMMO:"Municin",BUILDING_DAMAGE:"Dao",BUILDING_SPEED:"Velocidad",BUILDING_DELAY:"Retraso",BUILDING_UPGRADE:"Mejorar",BUILDING_BUY_AMMO:"Buy ammo",BUILDING_REPAIR:"Reparar",BUILDING_WILL_BE_AVAILABLE:"Estar disponible en la oleada %1",BUILDING_LIMIT_REACHED:"Tienes un mximo de %1",BUILDING_NEAR_TOWER:"Debe colocarse junto a la torre",NOT_ENOUGH_RESOURCES:"No hay suficientes recursos",NOT_ENOUGH_EXPERIENCE:"No hay suficiente experiencia",TIME_SCALE:`Aumentar la velocidad del tiempo
durante la oleada`,BUILDING_INDICATORS:`Mostrar salud y municin
de los edificios`,AUTO_REPAIR:`Compra automtica de municin
y reparacin de edificios`,PATH_TO_CRYSTAL:`Mostrar el camino
hacia el cristal ms cercano`,ASSISTANT:"Asistente",ASSISTANT_UNLOCK:"Nuevo asistente con arma mejorada",SKILLS:"Habilidades",SKILLS_CLOSE:"Cerrar",SKILL_TARGET_CHARACTER:"Personaje",SKILL_TARGET_ASSISTANT:"Asistente",SKILL_UPGRADE:"Mejorar",SKILL_MAX_LEVEL:`Nivel
mximo`,SKILL_LABEL_MAX_HEALTH:"Salud",SKILL_LABEL_SPEED:"Velocidad de movimiento",SKILL_LABEL_STAMINA:"Resistencia",SKILL_LABEL_BUILD_SPEED:"Velocidad de construccion",SKILL_LABEL_ATTACK_DAMAGE:"Dano",SKILL_LABEL_ATTACK_DISTANCE:"Distancia de ataque",SKILL_LABEL_ATTACK_SPEED:"Velocidad de ataque",RESOURCES:"Recursos",EXPERIENCE:"Experiencia",SCORE:"Puntaje",ADS_SHOW:"Mira un video y obtn una recompensa",ADS_UNLOCK:"Desbloquear sperhabilidad adicional viendo el video",FEATURES_UNLOCKED:`Nuevas funciones
desbloqueadas!`,YES:"Si",NO:"No",SUPERSKILL:"Superhabilidad",SUPERSKILL_NAME_INVISIBLE:"Invisible",SUPERSKILL_DESCRIPTION_INVISIBLE:"Oculta al personaje de los enemigos",SUPERSKILL_NAME_FROST:"Helada",SUPERSKILL_DESCRIPTION_FROST:"Congela a todos los enemigos",SUPERSKILL_NAME_RAGE:"Ira",SUPERSKILL_DESCRIPTION_RAGE:"Duplica el dao de las torres",SUPERSKILL_NAME_SHIELD:"Escudo",SUPERSKILL_DESCRIPTION_SHIELD:"Evita el dao a todos los edificios",SUPERSKILL_NAME_FIRE:"Fuego",SUPERSKILL_DESCRIPTION_FIRE:"Inflige dao a todos los enemigos",TUTORIAL_SKIP_TIMELEFT:`Haz clic para empezar
la oleada prematuramente`,TUTORIAL_CLICK_TO_UPGRADE:"Haz clic para mejorar",TUTORIAL_HOVER_TO_UPGRADE:`Pasa el cursor y presiona [E]
para mejorar`,TUTORIAL_RESOURCES:`Si no tienes suficientes recursos,
puedes encontrar <cristales> en el mapa`,TUTORIAL_BUILD_GENERATOR:`Construye un <generador>
para obtener recursos`,TUTORIAL_BUILD_GENERATOR_SECOND:`Construye un segundo <generador>
para obtener ms recursos`,TUTORIAL_BUILD_TOWER_FIRE:`Construye <torre de fuego>
para atacar a los enemigos`,TUTORIAL_BUILD_AMMUNITION:`Construye <municin>
para recargar las torres`,TUTORIAL_BUILD_RADAR:`Construye un <radar>
para descubrir enemigos`,TUTORIAL_STOP_BUILD:"Usa [Click derecho] para detener la construccin",TUTORIAL_RELOAD_TOWER:"Construye <municin> cercana",TUTORIAL_CLICK_TO_BUY_AMMO:"Haz clic para comprar municin",TUTORIAL_HOVER_TO_BUY_AMMO:`Pasa el cursor y presiona [F]
para comprar municin`,TUTORIAL_FLAG_CAPTION:`Permanece cerca
para capturar la <bandera>`,TUTORIAL_ASSISTANT_STOP:"Haz clic para mantener la posicin",TUTORIAL_ASSISTANT_FOLLOW:"Haz clic para seguirte",NEW_GAME:"Nuevo juego",LOAD_GAME:"Cargar juego",SAVE_GAME:"Guardar juego",CONTINUE_GAME:"Continuar",RESTART_GAME:"Reiniciar",MAIN_MENU:"Salir al menu",SETTINGS:"Ajustes",CONTROLS:"Controles",LEADERBOARD:"Ranking",MENU:"Menu",CONFIRM_STOP_GAME:"Confirma detener el juego?",CONFIRM_RESTART_GAME:"Confirma reiniciar el juego?",PLANET:"Planeta",DIFFICULTY:"Dificultad",START:"Comenzar",SAVES_NOT_FOUND:"Guardados no encontrados",SAVES_LIMIT:`Has alcanzado el mximo de guardados.
Elimina o sobrescribe los existentes`,SAVE:"Guardar",SAVE_NAME:"Nombre",SAVE_DATE:"Fecha",CONFIRM_REWRITE_SAVE:"Confirma sobrescribir este guardado?",CONFIRM_DELETE_SAVE:"Confirma eliminar este guardado?",SAVES_NOT_ALLOWED:`Atencin! El juego est abierto en modo incgnito.
Al reiniciar el juego, se perdern todas las partidas guardadas.`,EARTH:"Tierra",MOON:"Luna",MARS:"Marte",EASY:"Facil",NORMAL:"Normal",HARD:"Duro",ON:"On",OFF:"Off",TUTORIAL:"Tutorial",AUDIO:"Audio",SHOW_DAMAGE:"Mostrar dano",EFFECTS:"Efectos",PLAYER:"Jugador",BUILDER:"Construccin",BUILDINGS:"Edificios",MOVEMENT:"Movimiento",BUILD:"Construir",STOP_BUILD:"Detener construccin",UPGRADE_BUILDING:"Mejorar edificio",REPAIR_BUILDING:"Reparar edificio",DESTROY_BUILDING:"Destruir edificio",BUY_AMMO:"Comprar municin",ASSISTANT_FOLLOW:"Bloquear movimiento del asistente",RECORD:"Registro",TOTAL_SCORE:"Puntuacion total",WAVES_COMPLETED:"Oleadas completadas",ENEMIES_KILLED:"Enemigos eliminados",MINUTES_LIVED:"Minutos vividos"},$g={ENEMIES:"Ennemies",WAVE_TIMELEFT:"Temps restant",WAVE:"Vague",SKIP_WAVE_TIMELEFT:`Dmarrer la vague
prmaturment`,MODE:"Mode",INFINITY:"Vagues infinies",FLAGS:"Capture les drapeaux",FLAGS_CAPTURE:`Capturez tous les drapeaux
pour gagner`,BUILDING:"Btiment",BUILDING_NAME_WALL:"Mur",BUILDING_DESCRIPTION_WALL:"Dfend les autres btiments",BUILDING_NAME_TOWER_FIRE:"Tour de feu",BUILDING_DESCRIPTION_TOWER_FIRE:"Attaque de feu de base des ennemis",BUILDING_NAME_TOWER_FROZEN:"Tour gelee",BUILDING_DESCRIPTION_TOWER_FROZEN:"Gle les ennemis pendant un certain temps",BUILDING_NAME_TOWER_LAZER:"Tour laser",BUILDING_DESCRIPTION_TOWER_LAZER:"Attaque au laser instantane et continue des ennemis",BUILDING_NAME_TOWER_ELECTRO:"Tour electrique",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Attaque lectrique de masse",BUILDING_NAME_GENERATOR:"Generateur",BUILDING_DESCRIPTION_GENERATOR:"Gnre des ressources pour les constructions",BUILDING_NAME_AMMUNITION:"Munitions",BUILDING_DESCRIPTION_AMMUNITION:"Recharge la munition des tours dans le rayon du btiment",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Dcouvre les ennemis dans le rayon du btiment",BUILDING_NAME_BOOSTER:"Booster",BUILDING_DESCRIPTION_BOOSTER:"Augmente l`efficacit des tours",BUILDING_CATEGORY_DEFENSE:"Defense",BUILDING_CATEGORY_ATTACK:"Attaque",BUILDING_CATEGORY_RESOURCES:"Ressources",BUILDING_CATEGORY_OTHER:"Autre",BUILDING_HEALTH:"Sant",BUILDING_RADIUS:"Rayon",BUILDING_FREEZE:"Geler",BUILDING_POWER:"Puissance",BUILDING_AMMO:"Munitions",BUILDING_DAMAGE:"Dommages",BUILDING_SPEED:"Vitesse",BUILDING_DELAY:"Dlai",BUILDING_UPGRADE:"Amlioration",BUILDING_BUY_AMMO:"Buy ammo",BUILDING_REPAIR:"Rparation",BUILDING_WILL_BE_AVAILABLE:"Sera disponible  la vague %1",BUILDING_LIMIT_REACHED:"Vous avez atteint le maximum de %1",BUILDING_NEAR_TOWER:"Doit tre plac  ct de la tour",NOT_ENOUGH_RESOURCES:"Pas assez de ressources",NOT_ENOUGH_EXPERIENCE:"Pas assez d`exprience",TIME_SCALE:`Augmenter la vitesse du temps
pendant la vague`,BUILDING_INDICATORS:`Afficher la sant et
la munition des btiments`,AUTO_REPAIR:`Acheter automatiquement de
la munition et rparer les btiments`,PATH_TO_CRYSTAL:`Afficher le chemin
vers le cristal le plus proche`,ASSISTANT:"Assistant",ASSISTANT_UNLOCK:"Nouvel assistant avec une arme amliore",SKILLS:"Competences",SKILLS_CLOSE:"Fermer",SKILL_TARGET_CHARACTER:"Personnage",SKILL_TARGET_ASSISTANT:"Assistant",SKILL_UPGRADE:"Ameliorer",SKILL_MAX_LEVEL:`Niveau
max`,SKILL_LABEL_MAX_HEALTH:"Sante",SKILL_LABEL_SPEED:"Vitesse de deplacement",SKILL_LABEL_STAMINA:"Endurance",SKILL_LABEL_BUILD_SPEED:"Vitesse de construction",SKILL_LABEL_ATTACK_DAMAGE:"Dommages",SKILL_LABEL_ATTACK_DISTANCE:"Distance d`attaque",SKILL_LABEL_ATTACK_SPEED:"Vitesse d`attaque",RESOURCES:"Ressources",EXPERIENCE:"Experience",SCORE:"Compte",ADS_SHOW:"Regarder une vido et obtenir une rcompense",ADS_UNLOCK:"Dbloquer une comptence super supplmentaire",FEATURES_UNLOCKED:`Nouvelles
fonctionnalites debloquees!`,YES:"Oui",NO:"Non",SUPERSKILL:"Supercomptence",SUPERSKILL_NAME_INVISIBLE:"Invisible",SUPERSKILL_DESCRIPTION_INVISIBLE:"Cache le personnage des ennemis",SUPERSKILL_NAME_FROST:"Gel",SUPERSKILL_DESCRIPTION_FROST:"Gle tous les ennemis",SUPERSKILL_NAME_RAGE:"Colere",SUPERSKILL_DESCRIPTION_RAGE:"Double les dgts des tours",SUPERSKILL_NAME_SHIELD:"Bouclier",SUPERSKILL_DESCRIPTION_SHIELD:"Empche les dgts sur tous les btiments",SUPERSKILL_NAME_FIRE:"Feu",SUPERSKILL_DESCRIPTION_FIRE:"Inflige des dgts  tous les ennemis",TUTORIAL_SKIP_TIMELEFT:`Cliquez pour dmarrer
la vague prmaturment`,TUTORIAL_CLICK_TO_UPGRADE:"Cliquez pour amliorer",TUTORIAL_HOVER_TO_UPGRADE:`Survolez et appuyez sur [E]
pour amliorer`,TUTORIAL_RESOURCES:`Si les ressources ne sont pas suffisantes,
vous pouvez trouver des <cristaux> sur la carte`,TUTORIAL_BUILD_GENERATOR:`Construisez <gnrateur>
pour obtenir des ressources`,TUTORIAL_BUILD_GENERATOR_SECOND:`Construisez deuxime <gnrateur>
pour obtenir plus de ressources`,TUTORIAL_BUILD_TOWER_FIRE:`Construisez <tour de feu>
pour attaquer les ennemis`,TUTORIAL_BUILD_AMMUNITION:`Construisez des <munitions>
pour recharger les tours`,TUTORIAL_BUILD_RADAR:`Construisez <radar>
pour dcouvrir les ennemis`,TUTORIAL_STOP_BUILD:"Utilisez [Clic droit] pour arrter la construction",TUTORIAL_RELOAD_TOWER:"Construisez des <munitions>  proximit",TUTORIAL_CLICK_TO_BUY_AMMO:"Cliquez pour acheter des munitions",TUTORIAL_HOVER_TO_BUY_AMMO:`Survolez et appuyez sur [F]
pour acheter des munitions`,TUTORIAL_FLAG_CAPTION:`Restez  proximit
pour capturer le <drapeau>`,TUTORIAL_ASSISTANT_STOP:"Cliquez pour maintenir la position",TUTORIAL_ASSISTANT_FOLLOW:"Cliquez pour vous suivre",NEW_GAME:"Nouvelle jeu",LOAD_GAME:"Charger jeu",SAVE_GAME:"Sauvegarder",CONTINUE_GAME:"Continuer",RESTART_GAME:"Recommencer",MAIN_MENU:"Retour au menu",SETTINGS:"Parametres",CONTROLS:"Controles",LEADERBOARD:"Classement",MENU:"Menu",CONFIRM_STOP_GAME:"Confirmez-vous l`arret du jeu?",CONFIRM_RESTART_GAME:"Confirmez-vous le redemarrage du jeu?",PLANET:"Planete",DIFFICULTY:"Difficulte",START:"Commencer",SAVES_NOT_FOUND:"Sauvegardes non trouvees",SAVES_LIMIT:`Vous avez atteint le nombre maximum de sauvegardes.
Supprimez ou rcrivez les existantes`,SAVE:"Sauvegarder",SAVE_NAME:"Nom",SAVE_DATE:"Date",CONFIRM_REWRITE_SAVE:`Confirmez-vous la reecriture
de cette sauvegarde?`,CONFIRM_DELETE_SAVE:`Confirmez-vous la suppression
de cette sauvegarde?`,SAVES_NOT_ALLOWED:`Attention! Le jeu est ouvert en mode incognito.
Aprs le redmarrage du jeu, toutes les sauvegardes seront perdues.`,EARTH:"Terre",MOON:"Lune",MARS:"Mars",EASY:"Facile",NORMAL:"Normal",HARD:"Difficile",ON:"On",OFF:"Off",TUTORIAL:"Didacticiel",AUDIO:"Audio",SHOW_DAMAGE:"Afficher les degats",EFFECTS:"Effets",PLAYER:"Joueur",BUILDER:"Construction",BUILDINGS:"Btiments",MOVEMENT:"Mouvement",BUILD:"Construire",STOP_BUILD:"Arrter la construction",UPGRADE_BUILDING:"Amliorer le btiment",REPAIR_BUILDING:"Rparer le btiment",DESTROY_BUILDING:"Dtruire le btiment",BUY_AMMO:"Acheter des munitions",ASSISTANT_FOLLOW:"Verrouiller le dplacement de assistant",RECORD:"Record",TOTAL_SCORE:"Score total",WAVES_COMPLETED:"Vagues terminees",ENEMIES_KILLED:"Ennemis tues",MINUTES_LIVED:"Minutes ecoulees"},jg={ENEMIES:"Musuh",WAVE_TIMELEFT:"Sisa waktu",WAVE:"Gelombang",SKIP_WAVE_TIMELEFT:`Mulai gelombang
dengan cepat`,MODE:"Mode",INFINITY:"Gelombang tak terbatas",FLAGS:"Tangkap bendera",FLAGS_CAPTURE:`Tangkap semua bendera
untuk menang`,BUILDING:"Bangunan",BUILDING_NAME_WALL:"Dinding",BUILDING_DESCRIPTION_WALL:"Membela bangunan lain",BUILDING_NAME_TOWER_FIRE:"Menara Api",BUILDING_DESCRIPTION_TOWER_FIRE:"Serangan api dasar dari musuh",BUILDING_NAME_TOWER_FROZEN:"Menara Beku",BUILDING_DESCRIPTION_TOWER_FROZEN:"Membekukan musuh untuk beberapa waktu",BUILDING_NAME_TOWER_LAZER:"Menara Laser",BUILDING_DESCRIPTION_TOWER_LAZER:"Serangan laser instan dan terus-menerus dari musuh",BUILDING_NAME_TOWER_ELECTRO:"Menara Elektro",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Guncangan listrik massal",BUILDING_NAME_GENERATOR:"Generator",BUILDING_DESCRIPTION_GENERATOR:"Menghasilkan sumber daya untuk membangun dan meningkatkan",BUILDING_NAME_AMMUNITION:"Stock Amunisi",BUILDING_DESCRIPTION_AMMUNITION:"Mengisi ulang amunisi menara dalam radius bangunan",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Mengungkap musuh dalam radius bangunan",BUILDING_NAME_BOOSTER:"Peningkat",BUILDING_DESCRIPTION_BOOSTER:"Meningkatkan efisiensi menara",BUILDING_CATEGORY_DEFENSE:"Pertahanan",BUILDING_CATEGORY_ATTACK:"Serangan",BUILDING_CATEGORY_RESOURCES:"Sumber daya",BUILDING_CATEGORY_OTHER:"Lainnya",BUILDING_HEALTH:"Darah",BUILDING_RADIUS:"Radius",BUILDING_FREEZE:"Beku",BUILDING_POWER:"Daya",BUILDING_AMMO:"Amunisi",BUILDING_DAMAGE:"Kerusakan",BUILDING_SPEED:"Kecepatan",BUILDING_DELAY:"Tunda",BUILDING_UPGRADE:"Meningkatkan",BUILDING_BUY_AMMO:"Beli amunisi",BUILDING_REPAIR:"Perbaiki",BUILDING_WILL_BE_AVAILABLE:"Akan tersedia pada gelombang %1",BUILDING_LIMIT_REACHED:"Anda memiliki maksimum %1",BUILDING_NEAR_TOWER:"Harus ditempatkan di samping menara",NOT_ENOUGH_RESOURCES:"Sumber daya tidak cukup",NOT_ENOUGH_EXPERIENCE:"Pengalaman tidak cukup",TIME_SCALE:`Tingkatkan kecepatan waktu
selama gelombang`,BUILDING_INDICATORS:`Tampilkan kesehatan
bangunan dan amunisi`,AUTO_REPAIR:`Otomatis beli amunisi
dan perbaiki bangunan`,PATH_TO_CRYSTAL:`Tampilkan jalur
menuju kristal terdekat`,ASSISTANT:"Asisten",ASSISTANT_UNLOCK:"Asisten baru dengan senjata yang ditingkatkan",SKILLS:"Keahlian",SKILLS_CLOSE:"Tutup",SKILL_TARGET_CHARACTER:"Karakter",SKILL_TARGET_ASSISTANT:"Asisten",SKILL_UPGRADE:"Upgrade",SKILL_MAX_LEVEL:`Maks
level`,SKILL_LABEL_MAX_HEALTH:"Darah",SKILL_LABEL_SPEED:"Kecepatan gerak",SKILL_LABEL_STAMINA:"Stamina",SKILL_LABEL_BUILD_SPEED:"Kecepatan membangun",SKILL_LABEL_ATTACK_DAMAGE:"Kerusakan",SKILL_LABEL_ATTACK_DISTANCE:"Jarak serangan",SKILL_LABEL_ATTACK_SPEED:"Kecepatan serangan",RESOURCES:"Sumber daya",EXPERIENCE:"Pengalaman",SCORE:"Skor",ADS_SHOW:"Tonton video dan dapatkan hadiah",ADS_UNLOCK:"Buka superskill ekstra dengan menonton video",FEATURES_UNLOCKED:"Fitur baru dibuka!",YES:"Ya",NO:"Tidak",SUPERSKILL:"Superskill",SUPERSKILL_NAME_INVISIBLE:"Invisible",SUPERSKILL_DESCRIPTION_INVISIBLE:"Menyembunyikan karakter dari musuh",SUPERSKILL_NAME_FROST:"Frost",SUPERSKILL_DESCRIPTION_FROST:"Membekukan semua musuh",SUPERSKILL_NAME_RAGE:"Rage",SUPERSKILL_DESCRIPTION_RAGE:"Menggandakan kerusakan menara",SUPERSKILL_NAME_SHIELD:"Shield",SUPERSKILL_DESCRIPTION_SHIELD:"Mencegah kerusakan pada semua bangunan",SUPERSKILL_NAME_FIRE:"Fire",SUPERSKILL_DESCRIPTION_FIRE:"Mengakibatkan kerusakan pada semua musuh",TUTORIAL_SKIP_TIMELEFT:`Klik untuk memulai
gelombang sebelum waktunya`,TUTORIAL_CLICK_TO_UPGRADE:"Klik untuk meningkatkan",TUTORIAL_HOVER_TO_UPGRADE:`Arahkan dan tekan [E]
untuk meningkatkan`,TUTORIAL_RESOURCES:`Jika sumber daya tidak cukup,
Anda dapat menemukan <kristal> di peta`,TUTORIAL_BUILD_GENERATOR:`Bangun <generator>
untuk mendapatkan sumber daya`,TUTORIAL_BUILD_GENERATOR_SECOND:`Bangun <generator> kedua
untuk mendapatkan lebih banyak sumber daya`,TUTORIAL_BUILD_TOWER_FIRE:`Bangun <menara api>
untuk menyerang musuh`,TUTORIAL_BUILD_AMMUNITION:`Bangun <stock amunisi>
untuk mengisi ulang menara`,TUTORIAL_BUILD_RADAR:`Bangun <radar>
untuk mengungkap musuh`,TUTORIAL_STOP_BUILD:"Gunakan [Klik kanan] untuk menghentikan pembangunan",TUTORIAL_RELOAD_TOWER:"Bangun <stock amunisi> di dekatnya",TUTORIAL_CLICK_TO_BUY_AMMO:"Klik untuk membeli amunisi",TUTORIAL_HOVER_TO_BUY_AMMO:`Arahkan dan tekan [F]
untuk membeli amunisi`,TUTORIAL_FLAG_CAPTION:`Berdiri di dekatnya
untuk menangkap <bendera>`,TUTORIAL_ASSISTANT_STOP:"Klik untuk menahan posisi",TUTORIAL_ASSISTANT_FOLLOW:"Klik untuk mengikuti anda",NEW_GAME:"Permainan baru",LOAD_GAME:"Muat permainan",SAVE_GAME:"Simpan permainan",CONTINUE_GAME:"Lanjutkan",RESTART_GAME:"Mulai ulang",MAIN_MENU:"Keluar ke menu",SETTINGS:"Pengaturan",CONTROLS:"Kontrol",LEADERBOARD:"Papan peringkat",MENU:"Menu",CONFIRM_STOP_GAME:`Apakah anda yakin ingin
menghentikan permainan?`,CONFIRM_RESTART_GAME:`Apakah anda yakin ingin
memulai ulang permainan?`,PLANET:"Planet",DIFFICULTY:"Kesulitan",START:"Mulai",SAVES_NOT_FOUND:"Simpanan riwayat tidak ditemukan",SAVES_LIMIT:`Anda memiliki maksimum riwayat simpanan.
Hapus atau tulis ulang yang sudah ada`,SAVE:"Simpan",SAVE_NAME:"Nama",SAVE_DATE:"Tanggal",CONFIRM_REWRITE_SAVE:`Apakah anda yakin ingin
menumpuk ulang riwayat simpanan ini?`,CONFIRM_DELETE_SAVE:`Apakah anda yakin ingin
menghapus riwayat simpanan ini?`,SAVES_NOT_ALLOWED:`Perhatian! Permainan dibuka dalam mode penyamaran.
Setelah me-restart permainan, semua penyimpanan akan hilang.`,EARTH:"Bumi",MOON:"Bulan",MARS:"Mars",EASY:"Mudah",NORMAL:"Normal",HARD:"Sulit",ON:"On",OFF:"Off",TUTORIAL:"Tutorial",AUDIO:"Audio",SHOW_DAMAGE:"Tampilkan Kerusakan",EFFECTS:"Efek",PLAYER:"Pemain",BUILDER:"Konstruksi",BUILDINGS:"Bangunans",MOVEMENT:"Gerak",BUILD:"Bangun",STOP_BUILD:"Hentikan bangun",UPGRADE_BUILDING:"Meningkatkan bangunan",REPAIR_BUILDING:"Perbaiki bangunan",DESTROY_BUILDING:"Hancurkan bangunan",BUY_AMMO:"Beli amunisi",ASSISTANT_FOLLOW:"Kunci pergerakan asisten",RECORD:"Rekor",TOTAL_SCORE:"Skor total",WAVES_COMPLETED:"Gelombang selesai",ENEMIES_KILLED:"Musuh dibunuh",MINUTES_LIVED:"Menit hidup"},kg={ENEMIES:"Inimigos",WAVE_TIMELEFT:"Tempo restante",WAVE:"Onda",SKIP_WAVE_TIMELEFT:`Iniciar onda
prematuramente`,MODE:"Modo",INFINITY:"Ondas infinitas",FLAGS:"Capturar bandeiras",FLAGS_CAPTURE:`Capturar todas as bandeiras
para vencer`,BUILDING:"Edifcio",BUILDING_NAME_WALL:"Muro",BUILDING_DESCRIPTION_WALL:"Defende outros edifcios",BUILDING_NAME_TOWER_FIRE:"Torre de fogo",BUILDING_DESCRIPTION_TOWER_FIRE:"Ataque bsico de fogo dos inimigos",BUILDING_NAME_TOWER_FROZEN:"Torre congelante",BUILDING_DESCRIPTION_TOWER_FROZEN:"Congela inimigos por algum tempo",BUILDING_NAME_TOWER_LAZER:"Torre a laser",BUILDING_DESCRIPTION_TOWER_LAZER:"Ataque instantneo e contnuo a laser dos inimigos",BUILDING_NAME_TOWER_ELECTRO:"Torre eletrica",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Choque eltrico em massa",BUILDING_NAME_GENERATOR:"Gerador",BUILDING_DESCRIPTION_GENERATOR:"Gera recursos para construes e melhorias",BUILDING_NAME_AMMUNITION:"Municao",BUILDING_DESCRIPTION_AMMUNITION:"Recarrega munio das torres dentro do raio do edifcio",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Revela inimigos dentro do raio do edifcio",BUILDING_NAME_BOOSTER:"Impulsionador",BUILDING_DESCRIPTION_BOOSTER:"Aumenta a eficincia das torres",BUILDING_CATEGORY_DEFENSE:"Defesa",BUILDING_CATEGORY_ATTACK:"Ataque",BUILDING_CATEGORY_RESOURCES:"Recursos",BUILDING_CATEGORY_OTHER:"Outros",BUILDING_HEALTH:"Vida",BUILDING_RADIUS:"Raio",BUILDING_FREEZE:"Congelar",BUILDING_POWER:"Potncia",BUILDING_AMMO:"Munio",BUILDING_DAMAGE:"Dano",BUILDING_SPEED:"Velocidade",BUILDING_DELAY:"Atraso",BUILDING_UPGRADE:"Melhorar",BUILDING_BUY_AMMO:"Comprar munio",BUILDING_REPAIR:"Reparar",BUILDING_WILL_BE_AVAILABLE:"Estar disponvel na onda %1",BUILDING_LIMIT_REACHED:"Voc atingiu o mximo de %1s",BUILDING_NEAR_TOWER:"Deve ser colocado ao lado da torre",NOT_ENOUGH_RESOURCES:"Recursos insuficientes",NOT_ENOUGH_EXPERIENCE:"Experincia insuficiente",TIME_SCALE:`Aumentar a velocidade do tempo
durante a onda`,BUILDING_INDICATORS:`Mostrar vida e munio
dos edifcios`,AUTO_REPAIR:`Comprar automaticamente munio
e reparar edifcios`,PATH_TO_CRYSTAL:`Mostrar caminho
para o cristal mais prximo`,ASSISTANT:"Assistente",ASSISTANT_UNLOCK:"Novo assistente com arma melhorada",SKILLS:"Habilidades",SKILLS_CLOSE:"Fechar",SKILL_TARGET_CHARACTER:"Personagem",SKILL_TARGET_ASSISTANT:"Assistente",SKILL_UPGRADE:"Melhorar",SKILL_MAX_LEVEL:"Nvel mximo",SKILL_LABEL_MAX_HEALTH:"Vida maxima",SKILL_LABEL_SPEED:"Velocidade de movimento",SKILL_LABEL_STAMINA:"Stamina",SKILL_LABEL_BUILD_SPEED:"Velocidade de construcao",SKILL_LABEL_ATTACK_DAMAGE:"Dano de ataque",SKILL_LABEL_ATTACK_DISTANCE:"Distancia de ataque",SKILL_LABEL_ATTACK_SPEED:"Velocidade de ataque",RESOURCES:"Recursos",EXPERIENCE:"Experiencia",SCORE:"Pontuacao",ADS_SHOW:"Assista a um vdeo e ganhe uma recompensa",ADS_UNLOCK:"Desbloqueie uma habilidade extra assistindo a um vdeo",FEATURES_UNLOCKED:`Desbloqueadas
novas possibilidades!`,YES:"Sim",NO:"Nao",SUPERSKILL:"Hiperhabilidade",SUPERSKILL_NAME_INVISIBLE:"Invisivel",SUPERSKILL_DESCRIPTION_INVISIBLE:"Esconde o personagem dos inimigos",SUPERSKILL_NAME_FROST:"Gelo",SUPERSKILL_DESCRIPTION_FROST:"Congela todos os inimigos",SUPERSKILL_NAME_RAGE:"Raiva",SUPERSKILL_DESCRIPTION_RAGE:"Dobra o dano das torres",SUPERSKILL_NAME_SHIELD:"Escudo",SUPERSKILL_DESCRIPTION_SHIELD:"Impede danos a todos os edifcios",SUPERSKILL_NAME_FIRE:"Fogo",SUPERSKILL_DESCRIPTION_FIRE:"Causa dano a todos os inimigos",TUTORIAL_SKIP_TIMELEFT:`Clique para iniciar
a onda prematuramente`,TUTORIAL_CLICK_TO_UPGRADE:"Clique para melhorar",TUTORIAL_HOVER_TO_UPGRADE:`Passe o mouse e pressione [E]
para melhorar`,TUTORIAL_RESOURCES:`Se os recursos no forem suficientes,
voc pode encontrar <cristais> no mapa`,TUTORIAL_BUILD_GENERATOR:`Construa <gerador>
para obter recursos`,TUTORIAL_BUILD_GENERATOR_SECOND:`Construa segundo <gerador>
para obter mais recursos`,TUTORIAL_BUILD_TOWER_FIRE:`Construa <torre de fogo>
para atacar inimigos`,TUTORIAL_BUILD_AMMUNITION:`Construa <munio>
para recarregar torres`,TUTORIAL_BUILD_RADAR:`Construa <radar>
para revelar inimigos`,TUTORIAL_STOP_BUILD:"Use [Clique direito] para parar a construo",TUTORIAL_RELOAD_TOWER:"Construa <munio> nas proximidades",TUTORIAL_CLICK_TO_BUY_AMMO:"Clique para comprar munio",TUTORIAL_HOVER_TO_BUY_AMMO:`Passe o mouse e pressione [F]
para comprar munio`,TUTORIAL_FLAG_CAPTION:`Fique prximo
para capturar a <bandeira>`,TUTORIAL_ASSISTANT_STOP:"Clique para manter a posio",TUTORIAL_ASSISTANT_FOLLOW:"Clique para seguir voc",NEW_GAME:"Novo jogo",LOAD_GAME:"Carregar jogo",SAVE_GAME:"Salvar jogo",CONTINUE_GAME:"Continuar",RESTART_GAME:"Reiniciar",MAIN_MENU:"Sair para o menu",SETTINGS:"Configuracoes",CONTROLS:"Controles",LEADERBOARD:"Classificacao",MENU:"Menu",CONFIRM_STOP_GAME:"Confirma parar o jogo?",CONFIRM_RESTART_GAME:"Confirma reiniciar o jogo?",PLANET:"Planeta",DIFFICULTY:"Dificuldade",START:"Iniciar",SAVES_NOT_FOUND:"Salvamentos nao encontrados",SAVES_LIMIT:`Voc atingiu o limite mximo de salvamentos.
Exclua ou reescreva os existentes`,SAVE:"Salvar",SAVE_NAME:"Nome",SAVE_DATE:"Data",CONFIRM_REWRITE_SAVE:"Confirma reescrever este salvamento?",CONFIRM_DELETE_SAVE:"Confirma excluir este salvamento?",SAVES_NOT_ALLOWED:`Ateno! O jogo est aberto no modo de navegao annima.
Aps reiniciar o jogo, todos os salvamentos sero perdidos.`,EARTH:"Terra",MOON:"Lua",MARS:"Marte",EASY:"Facil",NORMAL:"Normal",HARD:"Dificil",ON:"On",OFF:"Off",TUTORIAL:"Tutorial",AUDIO:"udio",SHOW_DAMAGE:"Mostrar dano",EFFECTS:"Efeitos",PLAYER:"Jogador",BUILDER:"Construo",BUILDINGS:"Edifcios",MOVEMENT:"Movimento",BUILD:"Construir",STOP_BUILD:"Parar construo",UPGRADE_BUILDING:"Melhorar edifcio",REPAIR_BUILDING:"Reparar edifcio",DESTROY_BUILDING:"Destruir edifcio",BUY_AMMO:"Comprar munio",ASSISTANT_FOLLOW:"Bloquear movimento do assistente",RECORD:"Recorde",TOTAL_SCORE:"Pontuacao total",WAVES_COMPLETED:"Ondas completadas",ENEMIES_KILLED:"Inimigos mortos",MINUTES_LIVED:"Minutos vividos"},Zg={ENEMIES:"",WAVE_TIMELEFT:" ",WAVE:"",SKIP_WAVE_TIMELEFT:` 
`,MODE:"",INFINITY:" ",FLAGS:" ",FLAGS_CAPTURE:`  
 `,BUILDING:"",BUILDING_NAME_WALL:"",BUILDING_DESCRIPTION_WALL:"   ",BUILDING_NAME_TOWER_FIRE:" ",BUILDING_DESCRIPTION_TOWER_FIRE:"  ",BUILDING_NAME_TOWER_FROZEN:" ",BUILDING_DESCRIPTION_TOWER_FROZEN:" ",BUILDING_NAME_TOWER_LAZER:" ",BUILDING_DESCRIPTION_TOWER_LAZER:"   ",BUILDING_NAME_TOWER_ELECTRO:" ",BUILDING_DESCRIPTION_TOWER_ELECTRO:"  ",BUILDING_NAME_GENERATOR:"",BUILDING_DESCRIPTION_GENERATOR:"   ",BUILDING_NAME_AMMUNITION:" ",BUILDING_DESCRIPTION_AMMUNITION:"      ",BUILDING_NAME_RADAR:"",BUILDING_DESCRIPTION_RADAR:"    ",BUILDING_NAME_BOOSTER:"",BUILDING_DESCRIPTION_BOOSTER:"  ",BUILDING_CATEGORY_DEFENSE:"",BUILDING_CATEGORY_ATTACK:"",BUILDING_CATEGORY_RESOURCES:"",BUILDING_CATEGORY_OTHER:"",BUILDING_HEALTH:"",BUILDING_RADIUS:"",BUILDING_FREEZE:"",BUILDING_POWER:"",BUILDING_AMMO:"",BUILDING_DAMAGE:"",BUILDING_SPEED:"",BUILDING_DELAY:"",BUILDING_UPGRADE:"",BUILDING_BUY_AMMO:" ",BUILDING_REPAIR:"",BUILDING_WILL_BE_AVAILABLE:"   %1 ",BUILDING_LIMIT_REACHED:"  %1",BUILDING_NEAR_TOWER:"     ",NOT_ENOUGH_RESOURCES:" ",NOT_ENOUGH_EXPERIENCE:" ",TIME_SCALE:` 
  `,BUILDING_INDICATORS:` 
  `,AUTO_REPAIR:` 
  `,PATH_TO_CRYSTAL:` 
  `,ASSISTANT:"",ASSISTANT_UNLOCK:"    ",SKILLS:"",SKILLS_CLOSE:"",SKILL_TARGET_CHARACTER:"",SKILL_TARGET_ASSISTANT:"",SKILL_UPGRADE:"",SKILL_MAX_LEVEL:`
`,SKILL_LABEL_MAX_HEALTH:"",SKILL_LABEL_SPEED:" ",SKILL_LABEL_STAMINA:"",SKILL_LABEL_BUILD_SPEED:" ",SKILL_LABEL_ATTACK_DAMAGE:"",SKILL_LABEL_ATTACK_DISTANCE:" ",SKILL_LABEL_ATTACK_SPEED:" ",RESOURCES:"",EXPERIENCE:"",SCORE:"",ADS_SHOW:"    ",ADS_UNLOCK:"  ",FEATURES_UNLOCKED:`
 !`,YES:"",NO:"",SUPERSKILL:"",SUPERSKILL_NAME_INVISIBLE:"",SUPERSKILL_DESCRIPTION_INVISIBLE:"   ",SUPERSKILL_NAME_FROST:"",SUPERSKILL_DESCRIPTION_FROST:"  ",SUPERSKILL_NAME_RAGE:"",SUPERSKILL_DESCRIPTION_RAGE:"   ",SUPERSKILL_NAME_SHIELD:"",SUPERSKILL_DESCRIPTION_SHIELD:"   ",SUPERSKILL_NAME_FIRE:"",SUPERSKILL_DESCRIPTION_FIRE:"    ",TUTORIAL_SKIP_TIMELEFT:`,  
 `,TUTORIAL_CLICK_TO_UPGRADE:",  ",TUTORIAL_HOVER_TO_UPGRADE:`   [E]
 `,TUTORIAL_RESOURCES:`  ,
    <>  `,TUTORIAL_BUILD_GENERATOR:` <>
  `,TUTORIAL_BUILD_GENERATOR_SECOND:`  <>
    `,TUTORIAL_BUILD_TOWER_FIRE:` < >
  `,TUTORIAL_BUILD_AMMUNITION:` < >
  `,TUTORIAL_BUILD_RADAR:` <>
  `,TUTORIAL_STOP_BUILD:` [ ] 
 `,TUTORIAL_RELOAD_TOWER:"  < >",TUTORIAL_CLICK_TO_BUY_AMMO:",   ",TUTORIAL_HOVER_TO_BUY_AMMO:`   [F]
  `,TUTORIAL_FLAG_CAPTION:` ,
  <>`,TUTORIAL_ASSISTANT_STOP:`, 
 `,TUTORIAL_ASSISTANT_FOLLOW:`, 
  `,NEW_GAME:" ",LOAD_GAME:"",SAVE_GAME:"",CONTINUE_GAME:"",RESTART_GAME:" ",MAIN_MENU:"  ",SETTINGS:"",CONTROLS:"",LEADERBOARD:" ",MENU:"",CONFIRM_STOP_GAME:" ?",CONFIRM_RESTART_GAME:" ?",PLANET:"",DIFFICULTY:"",START:"",SAVES_NOT_FOUND:"  ",SAVES_LIMIT:`    .
   `,SAVE:"",SAVE_NAME:"",SAVE_DATE:"",CONFIRM_REWRITE_SAVE:"  ?",CONFIRM_DELETE_SAVE:"  ?",SAVES_NOT_ALLOWED:`!     .
      .`,EARTH:"",MOON:"",MARS:"",EASY:"",NORMAL:"",HARD:"",ON:"",OFF:"",TUTORIAL:"",AUDIO:"",SHOW_DAMAGE:" ",EFFECTS:"",PLAYER:"",BUILDER:"",BUILDINGS:"",MOVEMENT:"",BUILD:" ",STOP_BUILD:" ",UPGRADE_BUILDING:" ",REPAIR_BUILDING:" ",DESTROY_BUILDING:" ",BUY_AMMO:" ",ASSISTANT_FOLLOW:" ",RECORD:"",TOTAL_SCORE:" ",WAVES_COMPLETED:" ",ENEMIES_KILLED:" ",MINUTES_LIVED:" "},tu={EN:Hg,RU:Zg,FR:$g,ES:Kg,PT:kg,ID:jg},gu=(()=>{try{return(new URLSearchParams(window.location.search).get("lang")||Intl.DateTimeFormat().resolvedOptions().locale||navigator.language.split("-")[0])?.toUpperCase()??"EN"}catch{return"EN"}})(),Qg=gu in tu?tu[gu]:tu.EN;function Ot(L,A){let M=Qg[L];return M?(A&&(M=M.replace(/%\d+/g,B=>A[Number(B.slice(1))-1])),M):L}var mi=(L=>(L.MIDGAME="midgame",L.REWARDED="rewarded",L))(mi||{});const Dv=class On{static RegisterUser(){this.Identificate(),this.Request(hi.ENDPOINTS.CREATE_ACCOUNT,{method:"POST",body:{userId:this.UserId,host:document.referrer?.replace(/(https?:\/\/)?([^/?]+).*/,"$2")??window.location.host,agent:window.navigator.userAgent,lang:gu,name:Ig({dictionaries:[Og,Mg]})}});try{switch(pe.Platform){case Qe.CENTARIUS:{fetch("https://www.centarius.app/reg-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:pe.GetToken(),userID:this.UserId})});break}}}catch(A){On.LogWarn("Failed to remotely register user",A)}}static ShowAds(A){return pe.GetFlag(Zt.ADS)?new Promise(M=>{try{switch(pe.Platform){case Qe.CRAZY_GAMES:{window.CrazyGames.SDK.ad.requestAd(A,{adFinished:()=>{const B=A===mi.REWARDED;M(B)},adError:()=>{M(!1)}});break}case Qe.POKI:{const B=A===mi.REWARDED?"rewardedBreak":"commercialBreak";window.PokiSDK[B]().then(V=>{const k=A===mi.REWARDED&&V;M(k)});break}default:{On.LogWarn("Failed to show ads. Undefined ads platform handler"),M(!1);break}}}catch(B){On.LogWarn("Failed to show ads",B),M(!1)}}):Promise.resolve(!1)}static ToggleLoadState(A){try{switch(pe.Platform){case Qe.DEVELOPMENT:break;case Qe.CRAZY_GAMES:{A?window.CrazyGames?.SDK.game.sdkGameLoadingStart():window.CrazyGames?.SDK.game.sdkGameLoadingStop();break}case Qe.POKI:{A||window.PokiSDK?.gameLoadingFinished();break}}}catch(M){On.LogWarn("Failed to toggle load state",M)}}static TogglePlayState(A){if(this.IsPlaying!==A)try{switch(this.IsPlaying=A,pe.Platform){case Qe.DEVELOPMENT:break;case Qe.CRAZY_GAMES:{A?window.CrazyGames?.SDK.game.gameplayStart():window.CrazyGames?.SDK.game.gameplayStop();break}case Qe.POKI:{A?window.PokiSDK?.gameplayStart():window.PokiSDK?.gameplayStop();break}}}catch(M){On.LogWarn("Failed to toggle play state",M)}}static SendScore(A){try{switch(pe.Platform){case Qe.CENTARIUS:{fetch("https://www.centarius.app/enter-leaderboard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:pe.GetToken(),userID:this.UserId,score:A})});break}}}catch(M){On.LogWarn("Failed to remotely send score",M)}}static GetLeaderboard(A,M){return this.Request(hi.ENDPOINTS.GET_LEADERBOARD,{method:"GET",query:{currentUserId:this.UserId,mode:A,difficulty:M}})}static GetRecords(){return this.Request(hi.ENDPOINTS.GET_RECORDS,{method:"GET",query:{userId:this.UserId}}).then(A=>A.map(M=>{const{mode:B,difficulty:V,...k}=M;return{mode:B,difficulty:V,stat:k}})).catch(A=>(On.LogWarn("Failed to load records",A),[]))}static CreateRecord(A){return this.Request(hi.ENDPOINTS.CREATE_RECORD,{method:"POST",body:{userId:this.UserId,...A}})}static UpdateRecord(A){return this.Request(hi.ENDPOINTS.UPDATE_RECORD,{method:"PATCH",body:{userId:this.UserId,...A}})}static GetName(){return this.Request(hi.ENDPOINTS.GET_USER_NAME,{method:"GET",query:{userId:this.UserId}})}static UpdateName(A){return this.Request(hi.ENDPOINTS.UPDATE_USER_NAME,{method:"PATCH",body:{userId:this.UserId,name:A}})}static LogError(A){pe.GetFlag(Zt.LOGS)&&this.Request(hi.ENDPOINTS.CREATE_ERROR,{method:"POST",body:{type:"error",message:A.message,stack:A.stack,userId:this.UserId}})}static LogWarn(A,M){pe.GetFlag(Zt.LOGS)&&(console.warn(A),M&&console.warn(` > Origin Error: ${M.message}`),this.Request(hi.ENDPOINTS.CREATE_ERROR,{method:"POST",body:{type:"warn",message:A,stack:M?.message,userId:this.UserId}}))}static MarkAsCheater(){this.Request(hi.ENDPOINTS.MARK_AS_CHEATER,{method:"POST",body:{userId:this.UserId}})}static NewSession(A){this.SessionId=Er(),this.Request(hi.ENDPOINTS.CREATE_SESSION,{method:"POST",body:{sessionId:this.SessionId,userId:this.UserId,version:ln.version,...A}})}static TrackWaveComplete(A){this.Request(hi.ENDPOINTS.CREATE_WAVE_COMPLETION,{method:"POST",body:{waveNumber:A.wave.number-1,resources:A.player.resources,sessionId:this.SessionId}})}static TrackFlagCapture(A){this.Request(hi.ENDPOINTS.CREATE_FLAG_CAPTURE,{method:"POST",body:{flag:A.getCapturedFlags().length,waveNumber:A.wave.number,sessionId:this.SessionId}})}static SendGameResult(A,M){this.Request(hi.ENDPOINTS.CREATE_GAME_RESULT,{method:"POST",body:{success:A,score:M,sessionId:this.SessionId}})}static Identificate(){const A=localStorage.getItem("USER_ID");A?this.UserId=A:(this.UserId=Er(),localStorage.setItem("USER_ID",this.UserId))}static async Load(){const A=pe.GetSDK();return A?new Promise((M,B)=>{const V=document.createElement("script");V.setAttribute("src",A),V.addEventListener("load",M),V.addEventListener("error",B),document.body.appendChild(V)}).then(()=>{switch(pe.Platform){case Qe.POKI:window.PokiSDK?.init()}}).catch(M=>{On.LogWarn("Failed to load SDK script",M)}):Promise.resolve()}static Request(A,M={}){let B=`${hi.HOST}/${A}.php`;return M.query&&(B+=`?${new URLSearchParams(M.query)}`),fetch(B,{method:M.method??"GET",headers:{"Content-Type":"application/json","API-Self-Token":hi.TOKEN},body:M.body&&JSON.stringify(M.body)}).then(V=>V.json()).then(V=>M.modify?M.modify(V):V).catch(()=>{})}};Dv.IsPlaying=!1;let Ft=Dv;var ya=(L=>(L.BAD_SCREEN_SIZE="BAD_SCREEN_SIZE",L.UNCAUGHT_ERROR="UNCAUGHT_ERROR",L))(ya||{});function Jg(L){if(document.getElementById(`failure-${L}`))return;const A=document.createElement("div");switch(A.classList.add("system-overlay"),A.id=`failure-${L}`,L){case ya.BAD_SCREEN_SIZE:A.innerText="TURN PHONE TO LANDSCAPE ORIENTATION";break;case ya.UNCAUGHT_ERROR:A.innerText="UNCAUGHT ERROR";break}document.body.append(A)}function qg(L){const A=document.getElementById(`failure-${L}`);A&&A.remove()}function Jc(L){const A=document.getElementById("loading-status");A&&(A.innerText=L)}function _g(){const L=document.getElementById("loading");L&&L.remove()}var Nv=void 0,t0=function(){return new Promise(function(L,A){var M="Unknown";function B(h){L({isPrivate:h,browserName:M})}function V(){var h=navigator.userAgent;return h.match(/Chrome/)?navigator.brave!==void 0?"Brave":h.match(/Edg/)?"Edge":h.match(/OPR/)?"Opera":"Chrome":"Chromium"}function k(h){return h===eval.toString().length}function p(){var h=navigator.vendor;return h!==void 0&&h.indexOf("Apple")===0&&k(37)}function S(){var h=navigator.vendor;return h!==void 0&&h.indexOf("Google")===0&&k(33)}function t(){return document.documentElement!==void 0&&document.documentElement.style.MozAppearance!==void 0&&k(37)}function u(){return navigator.msSaveBlob!==void 0&&k(39)}function v(){var h=String(Math.random());try{var d=window.indexedDB.open(h,1);d.onupgradeneeded=function(c){var g,x,m=(g=c.target)===null||g===void 0?void 0:g.result;try{m.createObjectStore("test",{autoIncrement:!0}).put(new Blob),B(!1)}catch(R){var y=R;if(R instanceof Error&&(y=(x=R.message)!==null&&x!==void 0?x:R),typeof y!="string")return B(!1);var T=/BlobURLs are not yet supported/.test(y);return B(T)}finally{m.close(),window.indexedDB.deleteDatabase(h)}}}catch{return B(!1)}}function o(){var h=window.openDatabase,d=window.localStorage;try{h(null,null,null,null)}catch{return B(!0)}try{d.setItem("test","1"),d.removeItem("test")}catch{return B(!0)}return B(!1)}function r(){navigator.maxTouchPoints!==void 0?v():o()}function s(){var h=window;return h.performance!==void 0&&h.performance.memory!==void 0&&h.performance.memory.jsHeapSizeLimit!==void 0?performance.memory.jsHeapSizeLimit:1073741824}function e(){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(h,d){var c=Math.round(d/1048576),g=Math.round(s()/(1024*1024))*2;B(c<g)},function(h){A(new Error("detectIncognito somehow failed to query storage quota: "+h.message))})}function i(){var h=window.webkitRequestFileSystem,d=function(){B(!1)},c=function(){B(!0)};h(0,1,d,c)}function l(){self.Promise!==void 0&&self.Promise.allSettled!==void 0?e():i()}function n(){B(navigator.serviceWorker===void 0)}function a(){B(window.indexedDB===void 0)}function f(){p()?(M="Safari",r()):S()?(M=V(),l()):t()?(M="Firefox",n()):u()?(M="Internet Explorer",a()):A(new Error("detectIncognito cannot determine the browser"))}f()})};Nv=t0;class ce{static RegisterAudio(A){this.Files=this.Files.concat(this.Normalize(A).map(M=>({key:M,type:"audio",url:`assets/audio/${M}.mp3?v=${ln.version}`})))}static RegisterImages(A){this.Files=this.Files.concat(this.Normalize(A).map(M=>({key:M,type:"image",url:`assets/sprites/${M}.png?v=${ln.version}`})))}static RegisterSprites(A,M){this.Files=this.Files.concat(this.Normalize(A).map(B=>{const{width:V,height:k,margin:p,spacing:S}=typeof M=="function"?M(B):M;return{key:B,type:"spritesheet",url:`assets/sprites/${B}.png?v=${ln.version}`,frameConfig:{frameWidth:V,frameHeight:k,margin:p,spacing:S}}}))}static Clear(){this.Files=[]}static Normalize(A){return typeof A=="string"?[A]:Object.values(A)}}ce.Files=[];function e0(L){const A=Math.floor(L/1e3/60),M=Math.ceil(L/1e3)%60;return`${A<10?"0":""}${A}:${M<10?"0":""}${M}`}function i0(L){return L.split("").reduce((A,M)=>{const B=(A<<5)-A+M.charCodeAt(0);return B&B},0).toString()}function n0(L,A){let M=0,B=L;for(let V=1;V<=A;V++)V===B&&(M++,B=V+M);return M}function yr(L,A){Object.entries(L).forEach(([M,B],V)=>{A(M,B,V)})}function qo(L,A){return Object.entries(L).map(([M,B],V)=>A(M,B,V))}var En=(L=>(L.OUTLINE="OUTLINE",L))(En||{});class s0 extends Mt.Renderer.WebGL.Pipelines.PostFXPipeline{constructor(A){super({game:A,name:"OutlineShader",renderTarget:!0,fragShader:`
        precision mediump float;
        uniform sampler2D uMainSampler;
        varying vec2 outTexCoord;
        uniform vec2 imageSize;
        uniform float thickness;
        uniform vec3 outlineColor;
        void main() {
          vec4 texture = texture2D(uMainSampler, outTexCoord);
          vec2 mag = vec2(thickness, thickness) / imageSize;
          float upAlpha = texture2D(uMainSampler, outTexCoord + vec2(0.0, mag.y)).a;
          float leftAlpha = texture2D(uMainSampler, outTexCoord + vec2(-mag.x, 0.0)).a;
          float downAlpha = texture2D(uMainSampler, outTexCoord + vec2(0.0, -mag.y)).a;
          float rightAlpha = texture2D(uMainSampler, outTexCoord + vec2(mag.x, 0.0)).a;
          if (texture.a == 0.0 && max(max(upAlpha, downAlpha), max(leftAlpha, rightAlpha)) == 1.0) {
            gl_FragColor = vec4(outlineColor.rgb, 1.0);
          } else {
            gl_FragColor = texture;
          }
        }
      `}),this.size=1,this.color=new Mt.Display.Color(255,255,255)}onPreRender(){this.set1f("thickness",this.size),this.set3f("outlineColor",this.color.redGL,this.color.greenGL,this.color.blueGL),this.set2f("imageSize",this.renderer.width,this.renderer.height)}setConfig({size:A,color:M}){A!==void 0&&(this.size=A),M!==void 0&&this.color.setFromRGB(Mt.Display.Color.IntegerToRGB(M))}}const r0={[En.OUTLINE]:s0};function a0(L){if(L instanceof Phaser.Renderer.Canvas.CanvasRenderer){Ft.LogWarn("WebGL renderer is not supported");return}yr(r0,(A,M)=>{try{L.pipelines.addPostPipeline(A,M)}catch(B){Ft.LogWarn(`Failed to register '${A}' shader`,B)}})}function wv(L,A){try{this.setPostPipeline(L),A&&this.updateShader(L,A)}catch(M){Ft.LogWarn(`Failed to add '${L}' shader`,M)}}function Fv(L,A){try{const M=this.postPipelines.find(B=>B.name===L);M&&M.setConfig(A)}catch(M){Ft.LogWarn(`Failed to update '${L}' shader`,M)}}function Bv(L){try{this.removePostPipeline(L)}catch(A){Ft.LogWarn(`Failed to remove '${L}' shader`,A)}}Phaser.GameObjects.Image.prototype.addShader=wv;Phaser.GameObjects.Sprite.prototype.addShader=wv;Phaser.GameObjects.Image.prototype.updateShader=Fv;Phaser.GameObjects.Sprite.prototype.updateShader=Fv;Phaser.GameObjects.Image.prototype.removeShader=Bv;Phaser.GameObjects.Sprite.prototype.removeShader=Bv;const o0=(L,A)=>A.some(M=>L instanceof M);let qc,_c;function l0(){return qc||(qc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h0(){return _c||(_c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,xu=new WeakMap,Gv=new WeakMap,eu=new WeakMap,Bu=new WeakMap;function u0(L){const A=new Promise((M,B)=>{const V=()=>{L.removeEventListener("success",k),L.removeEventListener("error",p)},k=()=>{M(Bn(L.result)),V()},p=()=>{B(L.error),V()};L.addEventListener("success",k),L.addEventListener("error",p)});return A.then(M=>{M instanceof IDBCursor&&Uv.set(M,L)}).catch(()=>{}),Bu.set(A,L),A}function f0(L){if(xu.has(L))return;const A=new Promise((M,B)=>{const V=()=>{L.removeEventListener("complete",k),L.removeEventListener("error",p),L.removeEventListener("abort",p)},k=()=>{M(),V()},p=()=>{B(L.error||new DOMException("AbortError","AbortError")),V()};L.addEventListener("complete",k),L.addEventListener("error",p),L.addEventListener("abort",p)});xu.set(L,A)}let Eu={get(L,A,M){if(L instanceof IDBTransaction){if(A==="done")return xu.get(L);if(A==="objectStoreNames")return L.objectStoreNames||Gv.get(L);if(A==="store")return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Bn(L[A])},set(L,A,M){return L[A]=M,!0},has(L,A){return L instanceof IDBTransaction&&(A==="done"||A==="store")?!0:A in L}};function d0(L){Eu=L(Eu)}function c0(L){return L===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(A,...M){const B=L.call(iu(this),A,...M);return Gv.set(B,A.sort?A.sort():[A]),Bn(B)}:h0().includes(L)?function(...A){return L.apply(iu(this),A),Bn(Uv.get(this))}:function(...A){return Bn(L.apply(iu(this),A))}}function v0(L){return typeof L=="function"?c0(L):(L instanceof IDBTransaction&&f0(L),o0(L,l0())?new Proxy(L,Eu):L)}function Bn(L){if(L instanceof IDBRequest)return u0(L);if(eu.has(L))return eu.get(L);const A=v0(L);return A!==L&&(eu.set(L,A),Bu.set(A,L)),A}const iu=L=>Bu.get(L);function p0(L,A,{blocked:M,upgrade:B,blocking:V,terminated:k}={}){const p=indexedDB.open(L,A),S=Bn(p);return B&&p.addEventListener("upgradeneeded",t=>{B(Bn(p.result),t.oldVersion,t.newVersion,Bn(p.transaction),t)}),M&&p.addEventListener("blocked",t=>M(t.oldVersion,t.newVersion,t)),S.then(t=>{k&&t.addEventListener("close",()=>k()),V&&t.addEventListener("versionchange",u=>V(u.oldVersion,u.newVersion,u))}).catch(()=>{}),S}function m0(L,{blocked:A}={}){const M=indexedDB.deleteDatabase(L);return A&&M.addEventListener("blocked",B=>A(B.oldVersion,B)),Bn(M).then(()=>{})}const g0=["get","getKey","getAll","getAllKeys","count"],x0=["put","add","delete","clear"],nu=new Map;function tv(L,A){if(!(L instanceof IDBDatabase&&!(A in L)&&typeof A=="string"))return;if(nu.get(A))return nu.get(A);const M=A.replace(/FromIndex$/,""),B=A!==M,V=x0.includes(M);if(!(M in(B?IDBIndex:IDBObjectStore).prototype)||!(V||g0.includes(M)))return;const k=async function(p,...S){const t=this.transaction(p,V?"readwrite":"readonly");let u=t.store;return B&&(u=u.index(S.shift())),(await Promise.all([u[M](...S),V&&t.done]))[0]};return nu.set(A,k),k}d0(L=>({...L,get:(A,M,B)=>tv(A,M)||L.get(A,M,B),has:(A,M)=>!!tv(A,M)||L.has(A,M)}));const ev="SAVES";var rn=(L=>(L.SAVES="SAVES",L))(rn||{});const Uu=class yu{static async Connect(){return p0(ev,1,{upgrade:(A,M,B)=>{A.objectStoreNames.contains(rn.SAVES)?B&&B>M&&this.ClearData(A):A.createObjectStore(rn.SAVES,{keyPath:"name"})}}).then(A=>{this.DB=A}).catch(A=>{A.message?.includes("is less than the existing version")?m0(ev).then(()=>{this.Connect()}):Ft.LogWarn("Failed to register storage",A)})}static async ClearData(A){try{await A.transaction(rn.SAVES,"readwrite").objectStore(rn.SAVES).clear()}catch(M){Ft.LogWarn("Failed to clear storage",M)}}static async LoadSaves(){if(!this.DB)return Promise.resolve();const M=this.DB.transaction(rn.SAVES,"readonly").objectStore(rn.SAVES);this.Saves=[],await M.getAll().then(B=>{B.forEach(V=>{try{this.Saves.push({...V,payload:JSON.parse(V.payload)})}catch{return null}}),this.Saves=this.Saves.sort((V,k)=>k.date-V.date)}).catch(B=>{Ft.LogWarn("Failed to load game saves",B)})}static async DeleteSave(A){if(!this.DB)return Promise.resolve();await this.DB.transaction(rn.SAVES,"readwrite").objectStore(rn.SAVES).delete(A);const V=this.Saves.findIndex(k=>k.name===A);V!==-1&&this.Saves.splice(V,1)}static GetSnapshot(A){return{game:A.getSavePayload(),world:gt.World.getSavePayload(),level:gt.World.level.getSavePayload(),player:gt.World.player.getSavePayload(),wave:gt.World.wave.getSavePayload()}}static AutoSave(A){return{name:"[AUTOSAVE]",date:Date.now(),payload:yu.GetSnapshot(A)}}static async AddSave(A,M=""){if(!this.DB)return Promise.resolve(null);const V=this.DB.transaction(rn.SAVES,"readwrite").objectStore(rn.SAVES),k={name:M,payload:yu.GetSnapshot(A),date:Date.now()},p=this.Saves.findIndex(S=>S.name===M);return p!==-1&&(await V.delete(M),this.Saves.splice(p,1)),V.add({...k,payload:JSON.stringify(k.payload)}).then(()=>(this.Saves.unshift(k),k)).catch(S=>(Ft.LogWarn("Failed to save game",S),null))}};Uu.DB=null;Uu.Saves=[];let Wi=Uu;var Yt=(L=>(L.SKIP_TIMELEFT="SKIP_TIMELEFT",L.STOP_BUILD="STOP_BUILD",L.BUILD_TOWER_FIRE="BUILD_TOWER_FIRE",L.BUILD_AMMUNITION="BUILD_AMMUNITION",L.BUILD_GENERATOR="BUILD_GENERATOR",L.BUILD_GENERATOR_SECOND="BUILD_GENERATOR_SECOND",L.BUILD_RADAR="BUILD_RADAR",L.BUY_AMMO="BUY_AMMO",L.UPGRADE_BUILDING="UPGRADE_BUILDING",L.RELOAD_TOWER="RELOAD_TOWER",L.UPGRADE_SKILL="UPGRADE_SKILL",L.RESOURCES="RESOURCES",L.CRYSTAL_PICKUP="CRYSTAL_PICKUP",L))(Yt||{}),Mn=(L=>(L.IDLE="IDLE",L.IN_PROGRESS="IN_PROGRESS",L.PAUSED="PAUSED",L.COMPLETED="COMPLETED",L))(Mn||{}),ns=(L=>(L.BEG="beg",L.END="end",L))(ns||{});class Gt{static get Progress(){return this._Progress}static set Progress(A){this._Progress=A}static get IsEnabled(){return this._IsEnabled}static set IsEnabled(A){this._IsEnabled=A}static Reset(){this.IndexBind=0,this.Progress={},this.EventListeners=[],this.EventHistory=[]}static Load(A){this.IndexBind=0,this.Progress={...A},this.EventListeners=[],this.EventHistory=[],this.RecallEmit()}static Start(A){this.Progress[A]===Mn.IN_PROGRESS||this.Progress[A]===Mn.COMPLETED||(this.Progress[A]=Mn.IN_PROGRESS,this.Emit(ns.BEG,A))}static Pause(A){this.Progress[A]===Mn.IN_PROGRESS&&(this.Progress[A]=Mn.PAUSED,this.Emit(ns.END,A))}static Complete(A){this.Progress[A]!==Mn.COMPLETED&&(this.Progress[A]=Mn.COMPLETED,this.Emit(ns.END,A))}static IsPending(A){return this.Progress[A]===Mn.IN_PROGRESS}static Bind(A,M){const{beg:B,end:V}=M,k=this.Subscribe(ns.BEG,A,B),p=this.Subscribe(ns.END,A,V);return()=>{this.Unsubscribe(k),this.Unsubscribe(p)}}static ToggleHintsVisible(A){document.querySelectorAll("[role=hint]").forEach(B=>{B.classList.toggle("hidden",!A)})}static Enable(){this.IsEnabled||(this.IsEnabled=!0,this.RecallEmit())}static Disable(){if(!this.IsEnabled)return;this.EventHistory=[],Object.keys(this.Progress).forEach(M=>{this.IsPending(M)&&this.Emit(ns.END,M)}),this.IsEnabled=!1}static RecallEmit(){if(!this.IsEnabled)return;Object.keys(this.Progress).forEach(M=>{this.IsPending(M)&&this.Emit(ns.BEG,M)})}static Emit(A,M){!this.IsEnabled||this.EventHistory.some(V=>V.event===A&&V.step===M)||(this.EventHistory.push({event:A,step:M}),this.EventListeners.forEach(V=>{V.event===A&&(!V.step||V.step===M)&&V.callback(M)}))}static Subscribe(A,M,B){const V=this.IndexBind;return this.IndexBind++,this.EventListeners.push({index:V,event:A,step:M,callback:B}),this.EventHistory.forEach(k=>{k.event===A&&(!M||k.step===M)&&B(k.step)}),V}static Unsubscribe(A){const M=this.EventListeners.findIndex(B=>B.index===A);M!==-1&&this.EventListeners.splice(M,1)}}Gt._Progress={};Gt._IsEnabled=!0;Gt.IndexBind=0;Gt.EventHistory=[];Gt.EventListeners=[];var Te=(L=>(L.UPGRADE="upgrade",L.RELOAD="reload",L.NEED_RELOAD="need_reload",L.BUY_AMMO="buy_ammo",L.AMMO_OVER="ammo_over",L.BREAK="break",L.CREATE="create",L))(Te||{}),$t=(L=>(L.WALL="WALL",L.TOWER_FIRE="TOWER_FIRE",L.TOWER_LAZER="TOWER_LAZER",L.TOWER_FROZEN="TOWER_FROZEN",L.TOWER_ELECTRO="TOWER_ELECTRO",L.GENERATOR="GENERATOR",L.AMMUNITION="AMMUNITION",L.RADAR="RADAR",L.BOOSTER="BOOSTER",L))($t||{}),Pr=(L=>(L.WALL="building/textures/wall",L.TOWER_FIRE="building/textures/tower_fire",L.TOWER_FROZEN="building/textures/tower_frozen",L.TOWER_LAZER="building/textures/tower_lazer",L.TOWER_ELECTRO="building/textures/tower_electro",L.GENERATOR="building/textures/generator",L.AMMUNITION="building/textures/ammunition",L.RADAR="building/textures/radar",L.BOOSTER="building/textures/booster",L))(Pr||{}),fi=(L=>(L.CONFIRM="building/icons/confirm",L.CONFIRM_DISABLED="building/icons/confirm_disabled",L.DECLINE="building/icons/decline",L.ALERT="building/icons/alert",L.UPGRADE="building/icons/upgrade",L.AMMO="building/icons/params/ammo",L.DAMAGE="building/icons/params/damage",L.SPEED="building/icons/params/speed",L.DELAY="building/icons/params/delay",L.POWER="building/icons/params/power",L.FREEZE="building/icons/params/freeze",L))(fi||{}),pi=(L=>(L.SELECT="building/select",L.UNSELECT="building/unselect",L.BUILD="building/build",L.UPGRADE="building/upgrade",L.DEAD="building/dead",L.OVER="building/over",L.RELOAD="building/reload",L.REPAIR="building/repair",L.DAMAGE_1="building/damage_1",L.DAMAGE_2="building/damage_2",L.ELECTRO="building/electro",L))(pi||{}),Dn=(L=>(L.NONE="NONE",L.FOCUSED="FOCUSED",L.SELECTED="SELECTED",L))(Dn||{}),an=(L=>(L.DEFENSE="DEFENSE",L.ATTACK="ATTACK",L.RESOURCES="RESOURCES",L.OTHER="OTHER",L))(an||{});const E0=[{step:Yt.BUILD_RADAR,variant:$t.RADAR},{step:Yt.BUILD_AMMUNITION,variant:$t.AMMUNITION},{step:Yt.BUILD_GENERATOR_SECOND,variant:$t.GENERATOR},{step:Yt.BUILD_GENERATOR,variant:$t.GENERATOR},{step:Yt.BUILD_TOWER_FIRE,variant:$t.TOWER_FIRE}],y0={[Yt.BUILD_GENERATOR]:{variant:$t.GENERATOR,label:"TUTORIAL_BUILD_GENERATOR"},[Yt.BUILD_GENERATOR_SECOND]:{variant:$t.GENERATOR,label:"TUTORIAL_BUILD_GENERATOR_SECOND"},[Yt.BUILD_RADAR]:{variant:$t.RADAR,label:"TUTORIAL_BUILD_RADAR"},[Yt.BUILD_TOWER_FIRE]:{variant:$t.TOWER_FIRE,label:"TUTORIAL_BUILD_TOWER_FIRE"},[Yt.BUILD_AMMUNITION]:{variant:$t.AMMUNITION,label:"TUTORIAL_BUILD_AMMUNITION"}};var Bt;(L=>{class A{constructor(p){this.cloned=!1,this.value=p.defaultValue,this.defaultValue=p.defaultValue,this.growth=p.growth,this.maxLevel=p.maxLevel,this.roundTo=p.roundTo,this.minValue=p.minValue}get value(){return this._value}set value(p){this._value=p}getValue(p){let S=this.getRawValue(p);return S=this.clampValue(S),S=this.round(S),S}calculate(p,S=1){if(this.cloned){let t=this.getRawValue(p)*S;t=this.clampValue(t),t=this.round(t),this.value=t}else throw Error("Invalid calculate of origin progression")}clampValue(p){return this.minValue?Math.max(this.minValue,p):p}clampLevel(p){return this.maxLevel?Math.min(this.maxLevel,p):p}round(p){return this.roundTo?Math.floor(p/this.roundTo)*this.roundTo:Math.floor(p)}clone(){const p=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return p.cloned=!0,p}}class M extends A{getRawValue(p){const S=this.clampLevel(p);return this.defaultValue+this.defaultValue*this.growth*(S-1)}}L.Linear=M;class B extends A{constructor(p){super(p),this.retardationLevel=p.retardationLevel}getRawValue(p){const S=this.getRetardationValue(p);if(S===null){const t=this.clampLevel(p);return this.defaultValue*(this.growth+1)**(t-1)}return S}getRetardationValue(p){if(!this.retardationLevel||p<=this.retardationLevel)return null;const S=new B({defaultValue:this.defaultValue,growth:this.growth});return new M({defaultValue:S.getValue(this.retardationLevel),growth:this.growth}).getValue(p-this.retardationLevel+1)}}L.Quadratic=B;class V extends A{getRawValue(p){const S=this.clampLevel(p);return this.defaultValue*S**(this.growth+1)}}L.QuadraticMixed=V})(Bt||(Bt={}));const T0={[$t.WALL]:{CATEGORY:an.DEFENSE,COST:10,MIN_WAVE:4,MAX_LEVEL:3,HEALTH:new Bt.Quadratic({defaultValue:2e3,growth:1,roundTo:100})},[$t.TOWER_FROZEN]:{CATEGORY:an.DEFENSE,COST:40,MIN_WAVE:4,MAX_LEVEL:5,HEALTH:new Bt.Quadratic({defaultValue:400,growth:1,roundTo:100}),AMMO:30,FREEZE:new Bt.Linear({defaultValue:800,growth:.375}),RADIUS:new Bt.Linear({defaultValue:130,growth:.15}),DELAY:new Bt.Linear({defaultValue:1400,growth:-.11,roundTo:100}),SHOT_SPEED:new Bt.Linear({defaultValue:300,growth:.083})},[$t.TOWER_FIRE]:{CATEGORY:an.ATTACK,COST:30,MIN_WAVE:1,MAX_LEVEL:5,HEALTH:new Bt.Quadratic({defaultValue:300,growth:1,roundTo:100}),AMMO:30,DAMAGE:new Bt.Linear({defaultValue:45,growth:.9,roundTo:1}),RADIUS:new Bt.Linear({defaultValue:150,growth:.15}),DELAY:new Bt.Linear({defaultValue:1400,growth:-.11,roundTo:100}),SHOT_SPEED:new Bt.Linear({defaultValue:300,growth:.083})},[$t.TOWER_LAZER]:{CATEGORY:an.ATTACK,COST:80,MIN_WAVE:6,MAX_LEVEL:5,HEALTH:new Bt.Quadratic({defaultValue:300,growth:1,roundTo:100}),AMMO:30,DAMAGE:new Bt.Linear({defaultValue:70,growth:.9,roundTo:1}),RADIUS:new Bt.Linear({defaultValue:140,growth:.15}),DELAY:new Bt.Linear({defaultValue:1300,growth:-.14,roundTo:100})},[$t.TOWER_ELECTRO]:{CATEGORY:an.ATTACK,COST:120,MIN_WAVE:15,MAX_LEVEL:5,HEALTH:new Bt.Quadratic({defaultValue:400,growth:1,roundTo:100}),AMMO:30,DAMAGE:new Bt.Linear({defaultValue:110,growth:.8,roundTo:1}),RADIUS:new Bt.Linear({defaultValue:90,growth:.2}),DELAY:new Bt.Linear({defaultValue:1500,growth:-.1,roundTo:100})},[$t.GENERATOR]:{CATEGORY:an.RESOURCES,COST:20,MIN_WAVE:1,MAX_LEVEL:4,LIMIT:!0,HEALTH:new Bt.Quadratic({defaultValue:200,growth:1,roundTo:100}),DELAY:new Bt.Linear({defaultValue:1200,growth:-.138,roundTo:100})},[$t.AMMUNITION]:{CATEGORY:an.RESOURCES,COST:40,MIN_WAVE:3,MAX_LEVEL:3,HEALTH:new Bt.Quadratic({defaultValue:600,growth:1,roundTo:100}),RADIUS:new Bt.Linear({defaultValue:105,growth:.3}),MAX_AMMO:120,DEFAULT_AMMO:new Bt.Quadratic({defaultValue:120,growth:1,roundTo:10})},[$t.BOOSTER]:{CATEGORY:an.OTHER,COST:80,MIN_WAVE:9,MAX_LEVEL:3,HEALTH:new Bt.Quadratic({defaultValue:600,growth:1,roundTo:100}),RADIUS:new Bt.Linear({defaultValue:80,growth:.2}),POWER:new Bt.Linear({defaultValue:.1,growth:1,roundTo:.1})},[$t.RADAR]:{CATEGORY:an.OTHER,COST:50,MIN_WAVE:8,MAX_LEVEL:4,HEALTH:new Bt.Quadratic({defaultValue:400,growth:1,roundTo:100}),RADIUS:new Bt.Linear({defaultValue:140,growth:.3})}},jt={TILE:{width:42,height:48,origin:.75},VARIANTS:T0,BREAK_COST_MULTIPLIER:.5,UPGRADE_COST_MULTIPLIER:.5,REPAIR_COST_MULTIPLIER:.75,LIMITED_BOUND:5,TILE_COST_MULTIPLIER:.0013,EXPERIENCE_BUILD:30,EXPERIENCE_UPGRADE:new Bt.Linear({defaultValue:15,growth:1})};var xn=(L=>(L.BUILDING_SELECT="building_select",L.BUILDING_UNSELECT="building_unselect",L.BUILD_START="build_start",L.BUILD_STOP="build_stop",L.BUILD="build",L))(xn||{}),Xt=(L=>(L.BUILDING="BUILDING",L.NPC="NPC",L.ENEMY="ENEMY",L.SHOT="SHOT",L.CRYSTAL="CRYSTAL",L.SPRITE="SPRITE",L.FLAG="FLAG",L))(Xt||{}),Gu=(L=>(L.CRYSTAL="crystal/crystal",L))(Gu||{}),Vu=(L=>(L.PICKUP="crystal/pickup",L))(Vu||{}),Ta=(L=>(L.PICKUP="pickup",L))(Ta||{}),pr=(L=>(L.PLAYER="player/player",L.SUPERSKILL="player/superskill",L))(pr||{}),bu=(L=>(L.MAX_HEALTH="player/skills/max_health",L.SPEED="player/skills/speed",L.STAMINA="player/skills/stamina",L.BUILD_SPEED="player/skills/build_speed",L.ATTACK_DAMAGE="player/skills/attack_damage",L.ATTACK_DISTANCE="player/skills/attack_distance",L.ATTACK_SPEED="player/skills/attack_speed",L))(bu||{}),ll=(L=>(L.INVISIBLE="player/superskills/invisible",L.FROST="player/superskills/frost",L.SHIELD="player/superskills/shield",L.RAGE="player/superskills/rage",L.FIRE="player/superskills/fire",L))(ll||{}),on=(L=>(L.UPGRADE="player/upgrade",L.WALK="player/walk",L.DAMAGE_1="player/damage_1",L.DAMAGE_2="player/damage_2",L.DAMAGE_3="player/damage_3",L.SUPERSKILL="player/superskill",L))(on||{}),wn=(L=>(L.CHARACTER="CHARACTER",L.ASSISTANT="ASSISTANT",L))(wn||{}),ge=(L=>(L.MAX_HEALTH="MAX_HEALTH",L.SPEED="SPEED",L.STAMINA="STAMINA",L.BUILD_SPEED="BUILD_SPEED",L.ATTACK_DAMAGE="ATTACK_DAMAGE",L.ATTACK_DISTANCE="ATTACK_DISTANCE",L.ATTACK_SPEED="ATTACK_SPEED",L))(ge||{}),si=(L=>(L.SHIELD="SHIELD",L.INVISIBLE="INVISIBLE",L.FROST="FROST",L.FIRE="FIRE",L.RAGE="RAGE",L))(si||{}),xe=(L=>(L.USE_SUPERSKILL="use_superskill",L.COMPLETE_SUPERSKILL="complete_superskill",L.UNLOCK_SUPERSKILL="unlock_superskill",L.UPGRADE_SKILL="upgrade_skill",L.UPDATE_EXPERIENCE="update_experience",L.UPDATE_SCORE="update_score",L.UPDATE_RESOURCES="update_resources",L))(xe||{}),ii=(L=>(L.UP="up",L.DOWN="down",L.LEFT="left",L.RIGHT="right",L))(ii||{}),Pi=(L=>(L.START="start",L.COMPLETE="complete",L.SKIP_TIMELEFT="skip_timeleft",L))(Pi||{}),fr=(L=>(L.START="wave/start",L.COMPLETE="wave/complete",L.TICK="wave/tick",L))(fr||{});class zu{static Bind(A){this.World=A,A.wave.on(Pi.START,this.OnWaveStart.bind(this)),A.wave.on(Pi.COMPLETE,this.OnWaveComplete.bind(this)),A.wave.on(Pi.SKIP_TIMELEFT,this.OnWaveSkipTimeleft.bind(this)),A.player.on(xe.UPDATE_RESOURCES,this.OnPlayerUpdateResources.bind(this)),A.player.on(xe.UPGRADE_SKILL,this.OnPlayerUpgradeSkill.bind(this)),A.getEntitiesGroup(Xt.CRYSTAL).on(Ta.PICKUP,this.OnCrystalPickup.bind(this)),A.builder.on(xn.BUILDING_UNSELECT,this.OnBuilderUnselectBuilding.bind(this)),A.builder.on(xn.BUILD,this.OnBuilderBuild.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Te.UPGRADE,this.OnBuildingUpgrade.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Te.RELOAD,this.OnBuildingReload.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Te.NEED_RELOAD,this.OnBuildingNeedReload.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Te.AMMO_OVER,this.OnBuildingAmmoOver.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Te.BUY_AMMO,this.OnBuildingBuyAmmo.bind(this)),this.OnStart()}static OnStart(){Gt.Start(Yt.BUILD_TOWER_FIRE)}static OnWaveStart(){Gt.IsPending(Yt.SKIP_TIMELEFT)&&Gt.Complete(Yt.SKIP_TIMELEFT)}static OnWaveComplete(A){switch(A){case 1:{Gt.Start(Yt.BUILD_GENERATOR_SECOND);break}case 2:{Gt.Start(Yt.BUILD_AMMUNITION);break}case 7:{Gt.Start(Yt.BUILD_RADAR);break}}}static OnWaveSkipTimeleft(){Gt.Complete(Yt.SKIP_TIMELEFT)}static OnPlayerUpdateResources(A){A<jt.VARIANTS.GENERATOR.COST?this.World.builder.getBuildingsByVariant($t.GENERATOR).length===0&&Gt.Start(Yt.RESOURCES):Gt.IsPending(Yt.RESOURCES)&&Gt.Complete(Yt.RESOURCES)}static OnPlayerUpgradeSkill(){Gt.Complete(Yt.UPGRADE_SKILL)}static OnCrystalPickup(){Gt.Complete(Yt.CRYSTAL_PICKUP)}static OnBuilderBuild(A){switch(A){case $t.AMMUNITION:{Gt.Complete(Yt.BUILD_AMMUNITION);break}case $t.RADAR:{Gt.Complete(Yt.BUILD_RADAR);break}case $t.TOWER_FIRE:{Gt.IsPending(Yt.BUILD_TOWER_FIRE)&&(Gt.Complete(Yt.BUILD_TOWER_FIRE),Gt.Start(Yt.BUILD_GENERATOR));break}case $t.GENERATOR:Gt.IsPending(Yt.BUILD_GENERATOR)?Gt.Complete(Yt.BUILD_GENERATOR):Gt.IsPending(Yt.BUILD_GENERATOR_SECOND)&&(Gt.Complete(Yt.BUILD_GENERATOR_SECOND),Gt.Start(Yt.UPGRADE_BUILDING))}this.World.builder.variant&&Gt.Start(Yt.STOP_BUILD)}static OnBuilderUnselectBuilding(){Gt.IsPending(Yt.STOP_BUILD)&&(Gt.Complete(Yt.STOP_BUILD),Gt.Start(Yt.UPGRADE_SKILL))}static OnBuildingUpgrade(){Gt.IsPending(Yt.UPGRADE_BUILDING)&&(Gt.Complete(Yt.UPGRADE_BUILDING),this.World.wave.isGoing||Gt.Start(Yt.SKIP_TIMELEFT))}static OnBuildingNeedReload(){Gt.Start(Yt.RELOAD_TOWER)}static OnBuildingReload(){Gt.Complete(Yt.RELOAD_TOWER)}static OnBuildingAmmoOver(){Gt.Start(Yt.BUY_AMMO)}static OnBuildingBuyAmmo(){Gt.Complete(Yt.BUY_AMMO)}static IsBuildingAllow(A){if(!Gt.IsEnabled)return!0;const M=E0.find(B=>Gt.IsPending(B.step));return M?M.variant===A:this.World.wave.number>2}}var Vv={exports:{}},su={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function S0(){if(iv)return re;iv=1;var L=Symbol.for("react.element"),A=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),p=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),t=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),o=Symbol.iterator;function r(z){return z===null||typeof z!="object"?null:(z=o&&z[o]||z["@@iterator"],typeof z=="function"?z:null)}var s={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e=Object.assign,i={};function l(z,$,J){this.props=z,this.context=$,this.refs=i,this.updater=J||s}l.prototype.isReactComponent={},l.prototype.setState=function(z,$){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,$,"setState")},l.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function n(){}n.prototype=l.prototype;function a(z,$,J){this.props=z,this.context=$,this.refs=i,this.updater=J||s}var f=a.prototype=new n;f.constructor=a,e(f,l.prototype),f.isPureReactComponent=!0;var h=Array.isArray,d=Object.prototype.hasOwnProperty,c={current:null},g={key:!0,ref:!0,__self:!0,__source:!0};function x(z,$,J){var W,K={},N=null,b=null;if($!=null)for(W in $.ref!==void 0&&(b=$.ref),$.key!==void 0&&(N=""+$.key),$)d.call($,W)&&!g.hasOwnProperty(W)&&(K[W]=$[W]);var Y=arguments.length-2;if(Y===1)K.children=J;else if(1<Y){for(var j=Array(Y),Q=0;Q<Y;Q++)j[Q]=arguments[Q+2];K.children=j}if(z&&z.defaultProps)for(W in Y=z.defaultProps,Y)K[W]===void 0&&(K[W]=Y[W]);return{$$typeof:L,type:z,key:N,ref:b,props:K,_owner:c.current}}function m(z,$){return{$$typeof:L,type:z.type,key:$,ref:z.ref,props:z.props,_owner:z._owner}}function y(z){return typeof z=="object"&&z!==null&&z.$$typeof===L}function T(z){var $={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(J){return $[J]})}var R=/\/+/g;function P(z,$){return typeof z=="object"&&z!==null&&z.key!=null?T(""+z.key):$.toString(36)}function D(z,$,J,W,K){var N=typeof z;(N==="undefined"||N==="boolean")&&(z=null);var b=!1;if(z===null)b=!0;else switch(N){case"string":case"number":b=!0;break;case"object":switch(z.$$typeof){case L:case A:b=!0}}if(b)return b=z,K=K(b),z=W===""?"."+P(b,0):W,h(K)?(J="",z!=null&&(J=z.replace(R,"$&/")+"/"),D(K,$,J,"",function(Q){return Q})):K!=null&&(y(K)&&(K=m(K,J+(!K.key||b&&b.key===K.key?"":(""+K.key).replace(R,"$&/")+"/")+z)),$.push(K)),1;if(b=0,W=W===""?".":W+":",h(z))for(var Y=0;Y<z.length;Y++){N=z[Y];var j=W+P(N,Y);b+=D(N,$,J,j,K)}else if(j=r(z),typeof j=="function")for(z=j.call(z),Y=0;!(N=z.next()).done;)N=N.value,j=W+P(N,Y++),b+=D(N,$,J,j,K);else if(N==="object")throw $=String(z),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return b}function I(z,$,J){if(z==null)return z;var W=[],K=0;return D(z,W,"","",function(N){return $.call(J,N,K++)}),W}function w(z){if(z._status===-1){var $=z._result;$=$(),$.then(function(J){(z._status===0||z._status===-1)&&(z._status=1,z._result=J)},function(J){(z._status===0||z._status===-1)&&(z._status=2,z._result=J)}),z._status===-1&&(z._status=0,z._result=$)}if(z._status===1)return z._result.default;throw z._result}var U={current:null},G={transition:null},H={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:G,ReactCurrentOwner:c};return re.Children={map:I,forEach:function(z,$,J){I(z,function(){$.apply(this,arguments)},J)},count:function(z){var $=0;return I(z,function(){$++}),$},toArray:function(z){return I(z,function($){return $})||[]},only:function(z){if(!y(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},re.Component=l,re.Fragment=M,re.Profiler=V,re.PureComponent=a,re.StrictMode=B,re.Suspense=t,re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,re.cloneElement=function(z,$,J){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var W=e({},z.props),K=z.key,N=z.ref,b=z._owner;if($!=null){if($.ref!==void 0&&(N=$.ref,b=c.current),$.key!==void 0&&(K=""+$.key),z.type&&z.type.defaultProps)var Y=z.type.defaultProps;for(j in $)d.call($,j)&&!g.hasOwnProperty(j)&&(W[j]=$[j]===void 0&&Y!==void 0?Y[j]:$[j])}var j=arguments.length-2;if(j===1)W.children=J;else if(1<j){Y=Array(j);for(var Q=0;Q<j;Q++)Y[Q]=arguments[Q+2];W.children=Y}return{$$typeof:L,type:z.type,key:K,ref:N,props:W,_owner:b}},re.createContext=function(z){return z={$$typeof:p,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:k,_context:z},z.Consumer=z},re.createElement=x,re.createFactory=function(z){var $=x.bind(null,z);return $.type=z,$},re.createRef=function(){return{current:null}},re.forwardRef=function(z){return{$$typeof:S,render:z}},re.isValidElement=y,re.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:w}},re.memo=function(z,$){return{$$typeof:u,type:z,compare:$===void 0?null:$}},re.startTransition=function(z){var $=G.transition;G.transition={};try{z()}finally{G.transition=$}},re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},re.useCallback=function(z,$){return U.current.useCallback(z,$)},re.useContext=function(z){return U.current.useContext(z)},re.useDebugValue=function(){},re.useDeferredValue=function(z){return U.current.useDeferredValue(z)},re.useEffect=function(z,$){return U.current.useEffect(z,$)},re.useId=function(){return U.current.useId()},re.useImperativeHandle=function(z,$,J){return U.current.useImperativeHandle(z,$,J)},re.useInsertionEffect=function(z,$){return U.current.useInsertionEffect(z,$)},re.useLayoutEffect=function(z,$){return U.current.useLayoutEffect(z,$)},re.useMemo=function(z,$){return U.current.useMemo(z,$)},re.useReducer=function(z,$,J){return U.current.useReducer(z,$,J)},re.useRef=function(z){return U.current.useRef(z)},re.useState=function(z){return U.current.useState(z)},re.useSyncExternalStore=function(z,$,J){return U.current.useSyncExternalStore(z,$,J)},re.useTransition=function(){return U.current.useTransition()},re.version="18.2.0",re}var nv;function hl(){return nv||(nv=1,su.exports=S0()),su.exports}var bo={},ru={exports:{}},Ci={},au={exports:{}},ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function A0(){return sv||(sv=1,function(L){function A(G,H){var z=G.length;G.push(H);t:for(;0<z;){var $=z-1>>>1,J=G[$];if(0<V(J,H))G[$]=H,G[z]=J,z=$;else break t}}function M(G){return G.length===0?null:G[0]}function B(G){if(G.length===0)return null;var H=G[0],z=G.pop();if(z!==H){G[0]=z;t:for(var $=0,J=G.length,W=J>>>1;$<W;){var K=2*($+1)-1,N=G[K],b=K+1,Y=G[b];if(0>V(N,z))b<J&&0>V(Y,N)?(G[$]=Y,G[b]=z,$=b):(G[$]=N,G[K]=z,$=K);else if(b<J&&0>V(Y,z))G[$]=Y,G[b]=z,$=b;else break t}}return H}function V(G,H){var z=G.sortIndex-H.sortIndex;return z!==0?z:G.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var k=performance;L.unstable_now=function(){return k.now()}}else{var p=Date,S=p.now();L.unstable_now=function(){return p.now()-S}}var t=[],u=[],v=1,o=null,r=3,s=!1,e=!1,i=!1,l=typeof setTimeout=="function"?setTimeout:null,n=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(G){for(var H=M(u);H!==null;){if(H.callback===null)B(u);else if(H.startTime<=G)B(u),H.sortIndex=H.expirationTime,A(t,H);else break;H=M(u)}}function h(G){if(i=!1,f(G),!e)if(M(t)!==null)e=!0,w(d);else{var H=M(u);H!==null&&U(h,H.startTime-G)}}function d(G,H){e=!1,i&&(i=!1,n(x),x=-1),s=!0;var z=r;try{for(f(H),o=M(t);o!==null&&(!(o.expirationTime>H)||G&&!T());){var $=o.callback;if(typeof $=="function"){o.callback=null,r=o.priorityLevel;var J=$(o.expirationTime<=H);H=L.unstable_now(),typeof J=="function"?o.callback=J:o===M(t)&&B(t),f(H)}else B(t);o=M(t)}if(o!==null)var W=!0;else{var K=M(u);K!==null&&U(h,K.startTime-H),W=!1}return W}finally{o=null,r=z,s=!1}}var c=!1,g=null,x=-1,m=5,y=-1;function T(){return!(L.unstable_now()-y<m)}function R(){if(g!==null){var G=L.unstable_now();y=G;var H=!0;try{H=g(!0,G)}finally{H?P():(c=!1,g=null)}}else c=!1}var P;if(typeof a=="function")P=function(){a(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,I=D.port2;D.port1.onmessage=R,P=function(){I.postMessage(null)}}else P=function(){l(R,0)};function w(G){g=G,c||(c=!0,P())}function U(G,H){x=l(function(){G(L.unstable_now())},H)}L.unstable_IdlePriority=5,L.unstable_ImmediatePriority=1,L.unstable_LowPriority=4,L.unstable_NormalPriority=3,L.unstable_Profiling=null,L.unstable_UserBlockingPriority=2,L.unstable_cancelCallback=function(G){G.callback=null},L.unstable_continueExecution=function(){e||s||(e=!0,w(d))},L.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<G?Math.floor(1e3/G):5},L.unstable_getCurrentPriorityLevel=function(){return r},L.unstable_getFirstCallbackNode=function(){return M(t)},L.unstable_next=function(G){switch(r){case 1:case 2:case 3:var H=3;break;default:H=r}var z=r;r=H;try{return G()}finally{r=z}},L.unstable_pauseExecution=function(){},L.unstable_requestPaint=function(){},L.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var z=r;r=G;try{return H()}finally{r=z}},L.unstable_scheduleCallback=function(G,H,z){var $=L.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?$+z:$):z=$,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=z+J,G={id:v++,callback:H,priorityLevel:G,startTime:z,expirationTime:J,sortIndex:-1},z>$?(G.sortIndex=z,A(u,G),M(t)===null&&G===M(u)&&(i?(n(x),x=-1):i=!0,U(h,z-$))):(G.sortIndex=J,A(t,G),e||s||(e=!0,w(d))),G},L.unstable_shouldYield=T,L.unstable_wrapCallback=function(G){var H=r;return function(){var z=r;r=H;try{return G.apply(this,arguments)}finally{r=z}}}}(ou)),ou}var rv;function C0(){return rv||(rv=1,au.exports=A0()),au.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function R0(){if(av)return Ci;av=1;var L=hl(),A=C0();function M(E){for(var C="https://reactjs.org/docs/error-decoder.html?invariant="+E,O=1;O<arguments.length;O++)C+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+E+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B=new Set,V={};function k(E,C){p(E,C),p(E+"Capture",C)}function p(E,C){for(V[E]=C,E=0;E<C.length;E++)B.add(C[E])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},o={};function r(E){return t.call(o,E)?!0:t.call(v,E)?!1:u.test(E)?o[E]=!0:(v[E]=!0,!1)}function s(E,C,O,F){if(O!==null&&O.type===0)return!1;switch(typeof C){case"function":case"symbol":return!0;case"boolean":return F?!1:O!==null?!O.acceptsBooleans:(E=E.toLowerCase().slice(0,5),E!=="data-"&&E!=="aria-");default:return!1}}function e(E,C,O,F){if(C===null||typeof C>"u"||s(E,C,O,F))return!0;if(F)return!1;if(O!==null)switch(O.type){case 3:return!C;case 4:return C===!1;case 5:return isNaN(C);case 6:return isNaN(C)||1>C}return!1}function i(E,C,O,F,X,Z,et){this.acceptsBooleans=C===2||C===3||C===4,this.attributeName=F,this.attributeNamespace=X,this.mustUseProperty=O,this.propertyName=E,this.type=C,this.sanitizeURL=Z,this.removeEmptyString=et}var l={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(E){l[E]=new i(E,0,!1,E,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(E){var C=E[0];l[C]=new i(C,1,!1,E[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(E){l[E]=new i(E,2,!1,E.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(E){l[E]=new i(E,2,!1,E,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(E){l[E]=new i(E,3,!1,E.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(E){l[E]=new i(E,3,!0,E,null,!1,!1)}),["capture","download"].forEach(function(E){l[E]=new i(E,4,!1,E,null,!1,!1)}),["cols","rows","size","span"].forEach(function(E){l[E]=new i(E,6,!1,E,null,!1,!1)}),["rowSpan","start"].forEach(function(E){l[E]=new i(E,5,!1,E.toLowerCase(),null,!1,!1)});var n=/[\-:]([a-z])/g;function a(E){return E[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(E){var C=E.replace(n,a);l[C]=new i(C,1,!1,E,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(E){var C=E.replace(n,a);l[C]=new i(C,1,!1,E,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(E){var C=E.replace(n,a);l[C]=new i(C,1,!1,E,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(E){l[E]=new i(E,1,!1,E.toLowerCase(),null,!1,!1)}),l.xlinkHref=new i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(E){l[E]=new i(E,1,!1,E.toLowerCase(),null,!0,!0)});function f(E,C,O,F){var X=l.hasOwnProperty(C)?l[C]:null;(X!==null?X.type!==0:F||!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(e(C,O,X,F)&&(O=null),F||X===null?r(C)&&(O===null?E.removeAttribute(C):E.setAttribute(C,""+O)):X.mustUseProperty?E[X.propertyName]=O===null?X.type===3?!1:"":O:(C=X.attributeName,F=X.attributeNamespace,O===null?E.removeAttribute(C):(X=X.type,O=X===3||X===4&&O===!0?"":""+O,F?E.setAttributeNS(F,C,O):E.setAttribute(C,O))))}var h=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),c=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),G=Symbol.iterator;function H(E){return E===null||typeof E!="object"?null:(E=G&&E[G]||E["@@iterator"],typeof E=="function"?E:null)}var z=Object.assign,$;function J(E){if($===void 0)try{throw Error()}catch(O){var C=O.stack.trim().match(/\n( *(at )?)/);$=C&&C[1]||""}return`
`+$+E}var W=!1;function K(E,C){if(!E||W)return"";W=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(C)if(C=function(){throw Error()},Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(ct){var F=ct}Reflect.construct(E,[],C)}else{try{C.call()}catch(ct){F=ct}E.call(C.prototype)}else{try{throw Error()}catch(ct){F=ct}E()}}catch(ct){if(ct&&F&&typeof ct.stack=="string"){for(var X=ct.stack.split(`
`),Z=F.stack.split(`
`),et=X.length-1,nt=Z.length-1;1<=et&&0<=nt&&X[et]!==Z[nt];)nt--;for(;1<=et&&0<=nt;et--,nt--)if(X[et]!==Z[nt]){if(et!==1||nt!==1)do if(et--,nt--,0>nt||X[et]!==Z[nt]){var rt=`
`+X[et].replace(" at new "," at ");return E.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",E.displayName)),rt}while(1<=et&&0<=nt);break}}}finally{W=!1,Error.prepareStackTrace=O}return(E=E?E.displayName||E.name:"")?J(E):""}function N(E){switch(E.tag){case 5:return J(E.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return E=K(E.type,!1),E;case 11:return E=K(E.type.render,!1),E;case 1:return E=K(E.type,!0),E;default:return""}}function b(E){if(E==null)return null;if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case g:return"Fragment";case c:return"Portal";case m:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList"}if(typeof E=="object")switch(E.$$typeof){case T:return(E.displayName||"Context")+".Consumer";case y:return(E._context.displayName||"Context")+".Provider";case R:var C=E.render;return E=E.displayName,E||(E=C.displayName||C.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case I:return C=E.displayName||null,C!==null?C:b(E.type)||"Memo";case w:C=E._payload,E=E._init;try{return b(E(C))}catch{}}return null}function Y(E){var C=E.type;switch(E.tag){case 24:return"Cache";case 9:return(C.displayName||"Context")+".Consumer";case 10:return(C._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return E=C.render,E=E.displayName||E.name||"",C.displayName||(E!==""?"ForwardRef("+E+")":"ForwardRef");case 7:return"Fragment";case 5:return C;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(C);case 8:return C===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C}return null}function j(E){switch(typeof E){case"boolean":case"number":case"string":case"undefined":return E;case"object":return E;default:return""}}function Q(E){var C=E.type;return(E=E.nodeName)&&E.toLowerCase()==="input"&&(C==="checkbox"||C==="radio")}function q(E){var C=Q(E)?"checked":"value",O=Object.getOwnPropertyDescriptor(E.constructor.prototype,C),F=""+E[C];if(!E.hasOwnProperty(C)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var X=O.get,Z=O.set;return Object.defineProperty(E,C,{configurable:!0,get:function(){return X.call(this)},set:function(et){F=""+et,Z.call(this,et)}}),Object.defineProperty(E,C,{enumerable:O.enumerable}),{getValue:function(){return F},setValue:function(et){F=""+et},stopTracking:function(){E._valueTracker=null,delete E[C]}}}}function tt(E){E._valueTracker||(E._valueTracker=q(E))}function it(E){if(!E)return!1;var C=E._valueTracker;if(!C)return!0;var O=C.getValue(),F="";return E&&(F=Q(E)?E.checked?"true":"false":E.value),E=F,E!==O?(C.setValue(E),!0):!1}function st(E){if(E=E||(typeof document<"u"?document:void 0),typeof E>"u")return null;try{return E.activeElement||E.body}catch{return E.body}}function lt(E,C){var O=C.checked;return z({},C,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:O??E._wrapperState.initialChecked})}function ut(E,C){var O=C.defaultValue==null?"":C.defaultValue,F=C.checked!=null?C.checked:C.defaultChecked;O=j(C.value!=null?C.value:O),E._wrapperState={initialChecked:F,initialValue:O,controlled:C.type==="checkbox"||C.type==="radio"?C.checked!=null:C.value!=null}}function vt(E,C){C=C.checked,C!=null&&f(E,"checked",C,!1)}function ft(E,C){vt(E,C);var O=j(C.value),F=C.type;if(O!=null)F==="number"?(O===0&&E.value===""||E.value!=O)&&(E.value=""+O):E.value!==""+O&&(E.value=""+O);else if(F==="submit"||F==="reset"){E.removeAttribute("value");return}C.hasOwnProperty("value")?It(E,C.type,O):C.hasOwnProperty("defaultValue")&&It(E,C.type,j(C.defaultValue)),C.checked==null&&C.defaultChecked!=null&&(E.defaultChecked=!!C.defaultChecked)}function Et(E,C,O){if(C.hasOwnProperty("value")||C.hasOwnProperty("defaultValue")){var F=C.type;if(!(F!=="submit"&&F!=="reset"||C.value!==void 0&&C.value!==null))return;C=""+E._wrapperState.initialValue,O||C===E.value||(E.value=C),E.defaultValue=C}O=E.name,O!==""&&(E.name=""),E.defaultChecked=!!E._wrapperState.initialChecked,O!==""&&(E.name=O)}function It(E,C,O){(C!=="number"||st(E.ownerDocument)!==E)&&(O==null?E.defaultValue=""+E._wrapperState.initialValue:E.defaultValue!==""+O&&(E.defaultValue=""+O))}var Nt=Array.isArray;function Dt(E,C,O,F){if(E=E.options,C){C={};for(var X=0;X<O.length;X++)C["$"+O[X]]=!0;for(O=0;O<E.length;O++)X=C.hasOwnProperty("$"+E[O].value),E[O].selected!==X&&(E[O].selected=X),X&&F&&(E[O].defaultSelected=!0)}else{for(O=""+j(O),C=null,X=0;X<E.length;X++){if(E[X].value===O){E[X].selected=!0,F&&(E[X].defaultSelected=!0);return}C!==null||E[X].disabled||(C=E[X])}C!==null&&(C.selected=!0)}}function pt(E,C){if(C.dangerouslySetInnerHTML!=null)throw Error(M(91));return z({},C,{value:void 0,defaultValue:void 0,children:""+E._wrapperState.initialValue})}function Pt(E,C){var O=C.value;if(O==null){if(O=C.children,C=C.defaultValue,O!=null){if(C!=null)throw Error(M(92));if(Nt(O)){if(1<O.length)throw Error(M(93));O=O[0]}C=O}C==null&&(C=""),O=C}E._wrapperState={initialValue:j(O)}}function Lt(E,C){var O=j(C.value),F=j(C.defaultValue);O!=null&&(O=""+O,O!==E.value&&(E.value=O),C.defaultValue==null&&E.defaultValue!==O&&(E.defaultValue=O)),F!=null&&(E.defaultValue=""+F)}function ee(E){var C=E.textContent;C===E._wrapperState.initialValue&&C!==""&&C!==null&&(E.value=C)}function Jt(E){switch(E){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ee(E,C){return E==null||E==="http://www.w3.org/1999/xhtml"?Jt(C):E==="http://www.w3.org/2000/svg"&&C==="foreignObject"?"http://www.w3.org/1999/xhtml":E}var de,oe=function(E){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(C,O,F,X){MSApp.execUnsafeLocalFunction(function(){return E(C,O,F,X)})}:E}(function(E,C){if(E.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in E)E.innerHTML=C;else{for(de=de||document.createElement("div"),de.innerHTML="<svg>"+C.valueOf().toString()+"</svg>",C=de.firstChild;E.firstChild;)E.removeChild(E.firstChild);for(;C.firstChild;)E.appendChild(C.firstChild)}});function te(E,C){if(C){var O=E.firstChild;if(O&&O===E.lastChild&&O.nodeType===3){O.nodeValue=C;return}}E.textContent=C}var ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];Object.keys(ue).forEach(function(E){we.forEach(function(C){C=C+E.charAt(0).toUpperCase()+E.substring(1),ue[C]=ue[E]})});function Fe(E,C,O){return C==null||typeof C=="boolean"||C===""?"":O||typeof C!="number"||C===0||ue.hasOwnProperty(E)&&ue[E]?(""+C).trim():C+"px"}function Ge(E,C){E=E.style;for(var O in C)if(C.hasOwnProperty(O)){var F=O.indexOf("--")===0,X=Fe(O,C[O],F);O==="float"&&(O="cssFloat"),F?E.setProperty(O,X):E[O]=X}}var di=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hi(E,C){if(C){if(di[E]&&(C.children!=null||C.dangerouslySetInnerHTML!=null))throw Error(M(137,E));if(C.dangerouslySetInnerHTML!=null){if(C.children!=null)throw Error(M(60));if(typeof C.dangerouslySetInnerHTML!="object"||!("__html"in C.dangerouslySetInnerHTML))throw Error(M(61))}if(C.style!=null&&typeof C.style!="object")throw Error(M(62))}}function Ki(E,C){if(E.indexOf("-")===-1)return typeof C.is=="string";switch(E){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $i=null;function ji(E){return E=E.target||E.srcElement||window,E.correspondingUseElement&&(E=E.correspondingUseElement),E.nodeType===3?E.parentNode:E}var ki=null,Gs=null,Vs=null;function uf(E){if(E=Jr(E)){if(typeof ki!="function")throw Error(M(280));var C=E.stateNode;C&&(C=Ja(C),ki(E.stateNode,E.type,C))}}function ff(E){Gs?Vs?Vs.push(E):Vs=[E]:Gs=E}function df(){if(Gs){var E=Gs,C=Vs;if(Vs=Gs=null,uf(E),C)for(E=0;E<C.length;E++)uf(C[E])}}function cf(E,C){return E(C)}function vf(){}var gl=!1;function pf(E,C,O){if(gl)return E(C,O);gl=!0;try{return cf(E,C,O)}finally{gl=!1,(Gs!==null||Vs!==null)&&(vf(),df())}}function Mr(E,C){var O=E.stateNode;if(O===null)return null;var F=Ja(O);if(F===null)return null;O=F[C];t:switch(C){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(E=E.type,F=!(E==="button"||E==="input"||E==="select"||E==="textarea")),E=!F;break t;default:E=!1}if(E)return null;if(O&&typeof O!="function")throw Error(M(231,C,typeof O));return O}var xl=!1;if(S)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){xl=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{xl=!1}function Np(E,C,O,F,X,Z,et,nt,rt){var ct=Array.prototype.slice.call(arguments,3);try{C.apply(O,ct)}catch(St){this.onError(St)}}var Nr=!1,Oa=null,Ma=!1,El=null,wp={onError:function(E){Nr=!0,Oa=E}};function Fp(E,C,O,F,X,Z,et,nt,rt){Nr=!1,Oa=null,Np.apply(wp,arguments)}function Bp(E,C,O,F,X,Z,et,nt,rt){if(Fp.apply(this,arguments),Nr){if(Nr){var ct=Oa;Nr=!1,Oa=null}else throw Error(M(198));Ma||(Ma=!0,El=ct)}}function ds(E){var C=E,O=E;if(E.alternate)for(;C.return;)C=C.return;else{E=C;do C=E,C.flags&4098&&(O=C.return),E=C.return;while(E)}return C.tag===3?O:null}function mf(E){if(E.tag===13){var C=E.memoizedState;if(C===null&&(E=E.alternate,E!==null&&(C=E.memoizedState)),C!==null)return C.dehydrated}return null}function gf(E){if(ds(E)!==E)throw Error(M(188))}function Up(E){var C=E.alternate;if(!C){if(C=ds(E),C===null)throw Error(M(188));return C!==E?null:E}for(var O=E,F=C;;){var X=O.return;if(X===null)break;var Z=X.alternate;if(Z===null){if(F=X.return,F!==null){O=F;continue}break}if(X.child===Z.child){for(Z=X.child;Z;){if(Z===O)return gf(X),E;if(Z===F)return gf(X),C;Z=Z.sibling}throw Error(M(188))}if(O.return!==F.return)O=X,F=Z;else{for(var et=!1,nt=X.child;nt;){if(nt===O){et=!0,O=X,F=Z;break}if(nt===F){et=!0,F=X,O=Z;break}nt=nt.sibling}if(!et){for(nt=Z.child;nt;){if(nt===O){et=!0,O=Z,F=X;break}if(nt===F){et=!0,F=Z,O=X;break}nt=nt.sibling}if(!et)throw Error(M(189))}}if(O.alternate!==F)throw Error(M(190))}if(O.tag!==3)throw Error(M(188));return O.stateNode.current===O?E:C}function xf(E){return E=Up(E),E!==null?Ef(E):null}function Ef(E){if(E.tag===5||E.tag===6)return E;for(E=E.child;E!==null;){var C=Ef(E);if(C!==null)return C;E=E.sibling}return null}var yf=A.unstable_scheduleCallback,Tf=A.unstable_cancelCallback,Gp=A.unstable_shouldYield,Vp=A.unstable_requestPaint,Be=A.unstable_now,bp=A.unstable_getCurrentPriorityLevel,yl=A.unstable_ImmediatePriority,Sf=A.unstable_UserBlockingPriority,Da=A.unstable_NormalPriority,zp=A.unstable_LowPriority,Af=A.unstable_IdlePriority,Na=null,fn=null;function Wp(E){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Na,E,void 0,(E.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:Hp,Yp=Math.log,Xp=Math.LN2;function Hp(E){return E>>>=0,E===0?32:31-(Yp(E)/Xp|0)|0}var wa=64,Fa=4194304;function wr(E){switch(E&-E){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return E&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return E}}function Ba(E,C){var O=E.pendingLanes;if(O===0)return 0;var F=0,X=E.suspendedLanes,Z=E.pingedLanes,et=O&268435455;if(et!==0){var nt=et&~X;nt!==0?F=wr(nt):(Z&=et,Z!==0&&(F=wr(Z)))}else et=O&~X,et!==0?F=wr(et):Z!==0&&(F=wr(Z));if(F===0)return 0;if(C!==0&&C!==F&&!(C&X)&&(X=F&-F,Z=C&-C,X>=Z||X===16&&(Z&4194240)!==0))return C;if(F&4&&(F|=O&16),C=E.entangledLanes,C!==0)for(E=E.entanglements,C&=F;0<C;)O=31-Zi(C),X=1<<O,F|=E[O],C&=~X;return F}function Kp(E,C){switch(E){case 1:case 2:case 4:return C+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $p(E,C){for(var O=E.suspendedLanes,F=E.pingedLanes,X=E.expirationTimes,Z=E.pendingLanes;0<Z;){var et=31-Zi(Z),nt=1<<et,rt=X[et];rt===-1?(!(nt&O)||nt&F)&&(X[et]=Kp(nt,C)):rt<=C&&(E.expiredLanes|=nt),Z&=~nt}}function Tl(E){return E=E.pendingLanes&-1073741825,E!==0?E:E&1073741824?1073741824:0}function Cf(){var E=wa;return wa<<=1,!(wa&4194240)&&(wa=64),E}function Sl(E){for(var C=[],O=0;31>O;O++)C.push(E);return C}function Fr(E,C,O){E.pendingLanes|=C,C!==536870912&&(E.suspendedLanes=0,E.pingedLanes=0),E=E.eventTimes,C=31-Zi(C),E[C]=O}function jp(E,C){var O=E.pendingLanes&~C;E.pendingLanes=C,E.suspendedLanes=0,E.pingedLanes=0,E.expiredLanes&=C,E.mutableReadLanes&=C,E.entangledLanes&=C,C=E.entanglements;var F=E.eventTimes;for(E=E.expirationTimes;0<O;){var X=31-Zi(O),Z=1<<X;C[X]=0,F[X]=-1,E[X]=-1,O&=~Z}}function Al(E,C){var O=E.entangledLanes|=C;for(E=E.entanglements;O;){var F=31-Zi(O),X=1<<F;X&C|E[F]&C&&(E[F]|=C),O&=~X}}var me=0;function Rf(E){return E&=-E,1<E?4<E?E&268435455?16:536870912:4:1}var Lf,Cl,Pf,If,Of,Rl=!1,Ua=[],Gn=null,Vn=null,bn=null,Br=new Map,Ur=new Map,zn=[],kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mf(E,C){switch(E){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Br.delete(C.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(C.pointerId)}}function Gr(E,C,O,F,X,Z){return E===null||E.nativeEvent!==Z?(E={blockedOn:C,domEventName:O,eventSystemFlags:F,nativeEvent:Z,targetContainers:[X]},C!==null&&(C=Jr(C),C!==null&&Cl(C)),E):(E.eventSystemFlags|=F,C=E.targetContainers,X!==null&&C.indexOf(X)===-1&&C.push(X),E)}function Zp(E,C,O,F,X){switch(C){case"focusin":return Gn=Gr(Gn,E,C,O,F,X),!0;case"dragenter":return Vn=Gr(Vn,E,C,O,F,X),!0;case"mouseover":return bn=Gr(bn,E,C,O,F,X),!0;case"pointerover":var Z=X.pointerId;return Br.set(Z,Gr(Br.get(Z)||null,E,C,O,F,X)),!0;case"gotpointercapture":return Z=X.pointerId,Ur.set(Z,Gr(Ur.get(Z)||null,E,C,O,F,X)),!0}return!1}function Df(E){var C=cs(E.target);if(C!==null){var O=ds(C);if(O!==null){if(C=O.tag,C===13){if(C=mf(O),C!==null){E.blockedOn=C,Of(E.priority,function(){Pf(O)});return}}else if(C===3&&O.stateNode.current.memoizedState.isDehydrated){E.blockedOn=O.tag===3?O.stateNode.containerInfo:null;return}}}E.blockedOn=null}function Ga(E){if(E.blockedOn!==null)return!1;for(var C=E.targetContainers;0<C.length;){var O=Pl(E.domEventName,E.eventSystemFlags,C[0],E.nativeEvent);if(O===null){O=E.nativeEvent;var F=new O.constructor(O.type,O);$i=F,O.target.dispatchEvent(F),$i=null}else return C=Jr(O),C!==null&&Cl(C),E.blockedOn=O,!1;C.shift()}return!0}function Nf(E,C,O){Ga(E)&&O.delete(C)}function Qp(){Rl=!1,Gn!==null&&Ga(Gn)&&(Gn=null),Vn!==null&&Ga(Vn)&&(Vn=null),bn!==null&&Ga(bn)&&(bn=null),Br.forEach(Nf),Ur.forEach(Nf)}function Vr(E,C){E.blockedOn===C&&(E.blockedOn=null,Rl||(Rl=!0,A.unstable_scheduleCallback(A.unstable_NormalPriority,Qp)))}function br(E){function C(X){return Vr(X,E)}if(0<Ua.length){Vr(Ua[0],E);for(var O=1;O<Ua.length;O++){var F=Ua[O];F.blockedOn===E&&(F.blockedOn=null)}}for(Gn!==null&&Vr(Gn,E),Vn!==null&&Vr(Vn,E),bn!==null&&Vr(bn,E),Br.forEach(C),Ur.forEach(C),O=0;O<zn.length;O++)F=zn[O],F.blockedOn===E&&(F.blockedOn=null);for(;0<zn.length&&(O=zn[0],O.blockedOn===null);)Df(O),O.blockedOn===null&&zn.shift()}var bs=h.ReactCurrentBatchConfig,Va=!0;function Jp(E,C,O,F){var X=me,Z=bs.transition;bs.transition=null;try{me=1,Ll(E,C,O,F)}finally{me=X,bs.transition=Z}}function qp(E,C,O,F){var X=me,Z=bs.transition;bs.transition=null;try{me=4,Ll(E,C,O,F)}finally{me=X,bs.transition=Z}}function Ll(E,C,O,F){if(Va){var X=Pl(E,C,O,F);if(X===null)Hl(E,C,F,ba,O),Mf(E,F);else if(Zp(X,E,C,O,F))F.stopPropagation();else if(Mf(E,F),C&4&&-1<kp.indexOf(E)){for(;X!==null;){var Z=Jr(X);if(Z!==null&&Lf(Z),Z=Pl(E,C,O,F),Z===null&&Hl(E,C,F,ba,O),Z===X)break;X=Z}X!==null&&F.stopPropagation()}else Hl(E,C,F,null,O)}}var ba=null;function Pl(E,C,O,F){if(ba=null,E=ji(F),E=cs(E),E!==null)if(C=ds(E),C===null)E=null;else if(O=C.tag,O===13){if(E=mf(C),E!==null)return E;E=null}else if(O===3){if(C.stateNode.current.memoizedState.isDehydrated)return C.tag===3?C.stateNode.containerInfo:null;E=null}else C!==E&&(E=null);return ba=E,null}function wf(E){switch(E){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bp()){case yl:return 1;case Sf:return 4;case Da:case zp:return 16;case Af:return 536870912;default:return 16}default:return 16}}var Wn=null,Il=null,za=null;function Ff(){if(za)return za;var E,C=Il,O=C.length,F,X="value"in Wn?Wn.value:Wn.textContent,Z=X.length;for(E=0;E<O&&C[E]===X[E];E++);var et=O-E;for(F=1;F<=et&&C[O-F]===X[Z-F];F++);return za=X.slice(E,1<F?1-F:void 0)}function Wa(E){var C=E.keyCode;return"charCode"in E?(E=E.charCode,E===0&&C===13&&(E=13)):E=C,E===10&&(E=13),32<=E||E===13?E:0}function Ya(){return!0}function Bf(){return!1}function Ii(E){function C(O,F,X,Z,et){this._reactName=O,this._targetInst=X,this.type=F,this.nativeEvent=Z,this.target=et,this.currentTarget=null;for(var nt in E)E.hasOwnProperty(nt)&&(O=E[nt],this[nt]=O?O(Z):Z[nt]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?Ya:Bf,this.isPropagationStopped=Bf,this}return z(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),C}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(E){return E.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Ii(zs),zr=z({},zs,{view:0,detail:0}),_p=Ii(zr),Ml,Dl,Wr,Xa=z({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(E){return E.relatedTarget===void 0?E.fromElement===E.srcElement?E.toElement:E.fromElement:E.relatedTarget},movementX:function(E){return"movementX"in E?E.movementX:(E!==Wr&&(Wr&&E.type==="mousemove"?(Ml=E.screenX-Wr.screenX,Dl=E.screenY-Wr.screenY):Dl=Ml=0,Wr=E),Ml)},movementY:function(E){return"movementY"in E?E.movementY:Dl}}),Uf=Ii(Xa),tm=z({},Xa,{dataTransfer:0}),em=Ii(tm),im=z({},zr,{relatedTarget:0}),Nl=Ii(im),nm=z({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),sm=Ii(nm),rm=z({},zs,{clipboardData:function(E){return"clipboardData"in E?E.clipboardData:window.clipboardData}}),am=Ii(rm),om=z({},zs,{data:0}),Gf=Ii(om),lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(E){var C=this.nativeEvent;return C.getModifierState?C.getModifierState(E):(E=um[E])?!!C[E]:!1}function wl(){return fm}var dm=z({},zr,{key:function(E){if(E.key){var C=lm[E.key]||E.key;if(C!=="Unidentified")return C}return E.type==="keypress"?(E=Wa(E),E===13?"Enter":String.fromCharCode(E)):E.type==="keydown"||E.type==="keyup"?hm[E.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(E){return E.type==="keypress"?Wa(E):0},keyCode:function(E){return E.type==="keydown"||E.type==="keyup"?E.keyCode:0},which:function(E){return E.type==="keypress"?Wa(E):E.type==="keydown"||E.type==="keyup"?E.keyCode:0}}),cm=Ii(dm),vm=z({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=Ii(vm),pm=z({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),mm=Ii(pm),gm=z({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),xm=Ii(gm),Em=z({},Xa,{deltaX:function(E){return"deltaX"in E?E.deltaX:"wheelDeltaX"in E?-E.wheelDeltaX:0},deltaY:function(E){return"deltaY"in E?E.deltaY:"wheelDeltaY"in E?-E.wheelDeltaY:"wheelDelta"in E?-E.wheelDelta:0},deltaZ:0,deltaMode:0}),ym=Ii(Em),Tm=[9,13,27,32],Fl=S&&"CompositionEvent"in window,Yr=null;S&&"documentMode"in document&&(Yr=document.documentMode);var Sm=S&&"TextEvent"in window&&!Yr,bf=S&&(!Fl||Yr&&8<Yr&&11>=Yr),zf=String.fromCharCode(32),Wf=!1;function Yf(E,C){switch(E){case"keyup":return Tm.indexOf(C.keyCode)!==-1;case"keydown":return C.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xf(E){return E=E.detail,typeof E=="object"&&"data"in E?E.data:null}var Ws=!1;function Am(E,C){switch(E){case"compositionend":return Xf(C);case"keypress":return C.which!==32?null:(Wf=!0,zf);case"textInput":return E=C.data,E===zf&&Wf?null:E;default:return null}}function Cm(E,C){if(Ws)return E==="compositionend"||!Fl&&Yf(E,C)?(E=Ff(),za=Il=Wn=null,Ws=!1,E):null;switch(E){case"paste":return null;case"keypress":if(!(C.ctrlKey||C.altKey||C.metaKey)||C.ctrlKey&&C.altKey){if(C.char&&1<C.char.length)return C.char;if(C.which)return String.fromCharCode(C.which)}return null;case"compositionend":return bf&&C.locale!=="ko"?null:C.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hf(E){var C=E&&E.nodeName&&E.nodeName.toLowerCase();return C==="input"?!!Rm[E.type]:C==="textarea"}function Kf(E,C,O,F){ff(F),C=ka(C,"onChange"),0<C.length&&(O=new Ol("onChange","change",null,O,F),E.push({event:O,listeners:C}))}var Xr=null,Hr=null;function Lm(E){hd(E,0)}function Ha(E){var C=$s(E);if(it(C))return E}function Pm(E,C){if(E==="change")return C}var $f=!1;if(S){var Bl;if(S){var Ul="oninput"in document;if(!Ul){var jf=document.createElement("div");jf.setAttribute("oninput","return;"),Ul=typeof jf.oninput=="function"}Bl=Ul}else Bl=!1;$f=Bl&&(!document.documentMode||9<document.documentMode)}function kf(){Xr&&(Xr.detachEvent("onpropertychange",Zf),Hr=Xr=null)}function Zf(E){if(E.propertyName==="value"&&Ha(Hr)){var C=[];Kf(C,Hr,E,ji(E)),pf(Lm,C)}}function Im(E,C,O){E==="focusin"?(kf(),Xr=C,Hr=O,Xr.attachEvent("onpropertychange",Zf)):E==="focusout"&&kf()}function Om(E){if(E==="selectionchange"||E==="keyup"||E==="keydown")return Ha(Hr)}function Mm(E,C){if(E==="click")return Ha(C)}function Dm(E,C){if(E==="input"||E==="change")return Ha(C)}function Nm(E,C){return E===C&&(E!==0||1/E===1/C)||E!==E&&C!==C}var Qi=typeof Object.is=="function"?Object.is:Nm;function Kr(E,C){if(Qi(E,C))return!0;if(typeof E!="object"||E===null||typeof C!="object"||C===null)return!1;var O=Object.keys(E),F=Object.keys(C);if(O.length!==F.length)return!1;for(F=0;F<O.length;F++){var X=O[F];if(!t.call(C,X)||!Qi(E[X],C[X]))return!1}return!0}function Qf(E){for(;E&&E.firstChild;)E=E.firstChild;return E}function Jf(E,C){var O=Qf(E);E=0;for(var F;O;){if(O.nodeType===3){if(F=E+O.textContent.length,E<=C&&F>=C)return{node:O,offset:C-E};E=F}t:{for(;O;){if(O.nextSibling){O=O.nextSibling;break t}O=O.parentNode}O=void 0}O=Qf(O)}}function qf(E,C){return E&&C?E===C?!0:E&&E.nodeType===3?!1:C&&C.nodeType===3?qf(E,C.parentNode):"contains"in E?E.contains(C):E.compareDocumentPosition?!!(E.compareDocumentPosition(C)&16):!1:!1}function _f(){for(var E=window,C=st();C instanceof E.HTMLIFrameElement;){try{var O=typeof C.contentWindow.location.href=="string"}catch{O=!1}if(O)E=C.contentWindow;else break;C=st(E.document)}return C}function Gl(E){var C=E&&E.nodeName&&E.nodeName.toLowerCase();return C&&(C==="input"&&(E.type==="text"||E.type==="search"||E.type==="tel"||E.type==="url"||E.type==="password")||C==="textarea"||E.contentEditable==="true")}function wm(E){var C=_f(),O=E.focusedElem,F=E.selectionRange;if(C!==O&&O&&O.ownerDocument&&qf(O.ownerDocument.documentElement,O)){if(F!==null&&Gl(O)){if(C=F.start,E=F.end,E===void 0&&(E=C),"selectionStart"in O)O.selectionStart=C,O.selectionEnd=Math.min(E,O.value.length);else if(E=(C=O.ownerDocument||document)&&C.defaultView||window,E.getSelection){E=E.getSelection();var X=O.textContent.length,Z=Math.min(F.start,X);F=F.end===void 0?Z:Math.min(F.end,X),!E.extend&&Z>F&&(X=F,F=Z,Z=X),X=Jf(O,Z);var et=Jf(O,F);X&&et&&(E.rangeCount!==1||E.anchorNode!==X.node||E.anchorOffset!==X.offset||E.focusNode!==et.node||E.focusOffset!==et.offset)&&(C=C.createRange(),C.setStart(X.node,X.offset),E.removeAllRanges(),Z>F?(E.addRange(C),E.extend(et.node,et.offset)):(C.setEnd(et.node,et.offset),E.addRange(C)))}}for(C=[],E=O;E=E.parentNode;)E.nodeType===1&&C.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<C.length;O++)E=C[O],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}var Fm=S&&"documentMode"in document&&11>=document.documentMode,Ys=null,Vl=null,$r=null,bl=!1;function td(E,C,O){var F=O.window===O?O.document:O.nodeType===9?O:O.ownerDocument;bl||Ys==null||Ys!==st(F)||(F=Ys,"selectionStart"in F&&Gl(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),$r&&Kr($r,F)||($r=F,F=ka(Vl,"onSelect"),0<F.length&&(C=new Ol("onSelect","select",null,C,O),E.push({event:C,listeners:F}),C.target=Ys)))}function Ka(E,C){var O={};return O[E.toLowerCase()]=C.toLowerCase(),O["Webkit"+E]="webkit"+C,O["Moz"+E]="moz"+C,O}var Xs={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},zl={},ed={};S&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function $a(E){if(zl[E])return zl[E];if(!Xs[E])return E;var C=Xs[E],O;for(O in C)if(C.hasOwnProperty(O)&&O in ed)return zl[E]=C[O];return E}var id=$a("animationend"),nd=$a("animationiteration"),sd=$a("animationstart"),rd=$a("transitionend"),ad=new Map,od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(E,C){ad.set(E,C),k(C,[E])}for(var Wl=0;Wl<od.length;Wl++){var Yl=od[Wl],Bm=Yl.toLowerCase(),Um=Yl[0].toUpperCase()+Yl.slice(1);Yn(Bm,"on"+Um)}Yn(id,"onAnimationEnd"),Yn(nd,"onAnimationIteration"),Yn(sd,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(rd,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),k("onBeforeInput",["compositionend","keypress","textInput","paste"]),k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function ld(E,C,O){var F=E.type||"unknown-event";E.currentTarget=O,Bp(F,C,void 0,E),E.currentTarget=null}function hd(E,C){C=(C&4)!==0;for(var O=0;O<E.length;O++){var F=E[O],X=F.event;F=F.listeners;t:{var Z=void 0;if(C)for(var et=F.length-1;0<=et;et--){var nt=F[et],rt=nt.instance,ct=nt.currentTarget;if(nt=nt.listener,rt!==Z&&X.isPropagationStopped())break t;ld(X,nt,ct),Z=rt}else for(et=0;et<F.length;et++){if(nt=F[et],rt=nt.instance,ct=nt.currentTarget,nt=nt.listener,rt!==Z&&X.isPropagationStopped())break t;ld(X,nt,ct),Z=rt}}}if(Ma)throw E=El,Ma=!1,El=null,E}function Ce(E,C){var O=C[Ql];O===void 0&&(O=C[Ql]=new Set);var F=E+"__bubble";O.has(F)||(ud(C,E,2,!1),O.add(F))}function Xl(E,C,O){var F=0;C&&(F|=4),ud(O,E,F,C)}var ja="_reactListening"+Math.random().toString(36).slice(2);function kr(E){if(!E[ja]){E[ja]=!0,B.forEach(function(O){O!=="selectionchange"&&(Gm.has(O)||Xl(O,!1,E),Xl(O,!0,E))});var C=E.nodeType===9?E:E.ownerDocument;C===null||C[ja]||(C[ja]=!0,Xl("selectionchange",!1,C))}}function ud(E,C,O,F){switch(wf(C)){case 1:var X=Jp;break;case 4:X=qp;break;default:X=Ll}O=X.bind(null,C,O,E),X=void 0,!xl||C!=="touchstart"&&C!=="touchmove"&&C!=="wheel"||(X=!0),F?X!==void 0?E.addEventListener(C,O,{capture:!0,passive:X}):E.addEventListener(C,O,!0):X!==void 0?E.addEventListener(C,O,{passive:X}):E.addEventListener(C,O,!1)}function Hl(E,C,O,F,X){var Z=F;if(!(C&1)&&!(C&2)&&F!==null)t:for(;;){if(F===null)return;var et=F.tag;if(et===3||et===4){var nt=F.stateNode.containerInfo;if(nt===X||nt.nodeType===8&&nt.parentNode===X)break;if(et===4)for(et=F.return;et!==null;){var rt=et.tag;if((rt===3||rt===4)&&(rt=et.stateNode.containerInfo,rt===X||rt.nodeType===8&&rt.parentNode===X))return;et=et.return}for(;nt!==null;){if(et=cs(nt),et===null)return;if(rt=et.tag,rt===5||rt===6){F=Z=et;continue t}nt=nt.parentNode}}F=F.return}pf(function(){var ct=Z,St=ji(O),At=[];t:{var Tt=ad.get(E);if(Tt!==void 0){var wt=Ol,Vt=E;switch(E){case"keypress":if(Wa(O)===0)break t;case"keydown":case"keyup":wt=cm;break;case"focusin":Vt="focus",wt=Nl;break;case"focusout":Vt="blur",wt=Nl;break;case"beforeblur":case"afterblur":wt=Nl;break;case"click":if(O.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=Uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=mm;break;case id:case nd:case sd:wt=sm;break;case rd:wt=xm;break;case"scroll":wt=_p;break;case"wheel":wt=ym;break;case"copy":case"cut":case"paste":wt=am;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=Vf}var bt=(C&4)!==0,Ue=!bt&&E==="scroll",ht=bt?Tt!==null?Tt+"Capture":null:Tt;bt=[];for(var ot=ct,dt;ot!==null;){dt=ot;var Ct=dt.stateNode;if(dt.tag===5&&Ct!==null&&(dt=Ct,ht!==null&&(Ct=Mr(ot,ht),Ct!=null&&bt.push(Zr(ot,Ct,dt)))),Ue)break;ot=ot.return}0<bt.length&&(Tt=new wt(Tt,Vt,null,O,St),At.push({event:Tt,listeners:bt}))}}if(!(C&7)){t:{if(Tt=E==="mouseover"||E==="pointerover",wt=E==="mouseout"||E==="pointerout",Tt&&O!==$i&&(Vt=O.relatedTarget||O.fromElement)&&(cs(Vt)||Vt[Tn]))break t;if((wt||Tt)&&(Tt=St.window===St?St:(Tt=St.ownerDocument)?Tt.defaultView||Tt.parentWindow:window,wt?(Vt=O.relatedTarget||O.toElement,wt=ct,Vt=Vt?cs(Vt):null,Vt!==null&&(Ue=ds(Vt),Vt!==Ue||Vt.tag!==5&&Vt.tag!==6)&&(Vt=null)):(wt=null,Vt=ct),wt!==Vt)){if(bt=Uf,Ct="onMouseLeave",ht="onMouseEnter",ot="mouse",(E==="pointerout"||E==="pointerover")&&(bt=Vf,Ct="onPointerLeave",ht="onPointerEnter",ot="pointer"),Ue=wt==null?Tt:$s(wt),dt=Vt==null?Tt:$s(Vt),Tt=new bt(Ct,ot+"leave",wt,O,St),Tt.target=Ue,Tt.relatedTarget=dt,Ct=null,cs(St)===ct&&(bt=new bt(ht,ot+"enter",Vt,O,St),bt.target=dt,bt.relatedTarget=Ue,Ct=bt),Ue=Ct,wt&&Vt)e:{for(bt=wt,ht=Vt,ot=0,dt=bt;dt;dt=Hs(dt))ot++;for(dt=0,Ct=ht;Ct;Ct=Hs(Ct))dt++;for(;0<ot-dt;)bt=Hs(bt),ot--;for(;0<dt-ot;)ht=Hs(ht),dt--;for(;ot--;){if(bt===ht||ht!==null&&bt===ht.alternate)break e;bt=Hs(bt),ht=Hs(ht)}bt=null}else bt=null;wt!==null&&fd(At,Tt,wt,bt,!1),Vt!==null&&Ue!==null&&fd(At,Ue,Vt,bt,!0)}}t:{if(Tt=ct?$s(ct):window,wt=Tt.nodeName&&Tt.nodeName.toLowerCase(),wt==="select"||wt==="input"&&Tt.type==="file")var Wt=Pm;else if(Hf(Tt))if($f)Wt=Dm;else{Wt=Om;var Ht=Im}else(wt=Tt.nodeName)&&wt.toLowerCase()==="input"&&(Tt.type==="checkbox"||Tt.type==="radio")&&(Wt=Mm);if(Wt&&(Wt=Wt(E,ct))){Kf(At,Wt,O,St);break t}Ht&&Ht(E,Tt,ct),E==="focusout"&&(Ht=Tt._wrapperState)&&Ht.controlled&&Tt.type==="number"&&It(Tt,"number",Tt.value)}switch(Ht=ct?$s(ct):window,E){case"focusin":(Hf(Ht)||Ht.contentEditable==="true")&&(Ys=Ht,Vl=ct,$r=null);break;case"focusout":$r=Vl=Ys=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,td(At,O,St);break;case"selectionchange":if(Fm)break;case"keydown":case"keyup":td(At,O,St)}var Kt;if(Fl)t:{switch(E){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else Ws?Yf(E,O)&&(qt="onCompositionEnd"):E==="keydown"&&O.keyCode===229&&(qt="onCompositionStart");qt&&(bf&&O.locale!=="ko"&&(Ws||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Ws&&(Kt=Ff()):(Wn=St,Il="value"in Wn?Wn.value:Wn.textContent,Ws=!0)),Ht=ka(ct,qt),0<Ht.length&&(qt=new Gf(qt,E,null,O,St),At.push({event:qt,listeners:Ht}),Kt?qt.data=Kt:(Kt=Xf(O),Kt!==null&&(qt.data=Kt)))),(Kt=Sm?Am(E,O):Cm(E,O))&&(ct=ka(ct,"onBeforeInput"),0<ct.length&&(St=new Gf("onBeforeInput","beforeinput",null,O,St),At.push({event:St,listeners:ct}),St.data=Kt))}hd(At,C)})}function Zr(E,C,O){return{instance:E,listener:C,currentTarget:O}}function ka(E,C){for(var O=C+"Capture",F=[];E!==null;){var X=E,Z=X.stateNode;X.tag===5&&Z!==null&&(X=Z,Z=Mr(E,O),Z!=null&&F.unshift(Zr(E,Z,X)),Z=Mr(E,C),Z!=null&&F.push(Zr(E,Z,X))),E=E.return}return F}function Hs(E){if(E===null)return null;do E=E.return;while(E&&E.tag!==5);return E||null}function fd(E,C,O,F,X){for(var Z=C._reactName,et=[];O!==null&&O!==F;){var nt=O,rt=nt.alternate,ct=nt.stateNode;if(rt!==null&&rt===F)break;nt.tag===5&&ct!==null&&(nt=ct,X?(rt=Mr(O,Z),rt!=null&&et.unshift(Zr(O,rt,nt))):X||(rt=Mr(O,Z),rt!=null&&et.push(Zr(O,rt,nt)))),O=O.return}et.length!==0&&E.push({event:C,listeners:et})}var Vm=/\r\n?/g,bm=/\u0000|\uFFFD/g;function dd(E){return(typeof E=="string"?E:""+E).replace(Vm,`
`).replace(bm,"")}function Za(E,C,O){if(C=dd(C),dd(E)!==C&&O)throw Error(M(425))}function Qa(){}var Kl=null,$l=null;function jl(E,C){return E==="textarea"||E==="noscript"||typeof C.children=="string"||typeof C.children=="number"||typeof C.dangerouslySetInnerHTML=="object"&&C.dangerouslySetInnerHTML!==null&&C.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,zm=typeof clearTimeout=="function"?clearTimeout:void 0,cd=typeof Promise=="function"?Promise:void 0,Wm=typeof queueMicrotask=="function"?queueMicrotask:typeof cd<"u"?function(E){return cd.resolve(null).then(E).catch(Ym)}:kl;function Ym(E){setTimeout(function(){throw E})}function Zl(E,C){var O=C,F=0;do{var X=O.nextSibling;if(E.removeChild(O),X&&X.nodeType===8)if(O=X.data,O==="/$"){if(F===0){E.removeChild(X),br(C);return}F--}else O!=="$"&&O!=="$?"&&O!=="$!"||F++;O=X}while(O);br(C)}function Xn(E){for(;E!=null;E=E.nextSibling){var C=E.nodeType;if(C===1||C===3)break;if(C===8){if(C=E.data,C==="$"||C==="$!"||C==="$?")break;if(C==="/$")return null}}return E}function vd(E){E=E.previousSibling;for(var C=0;E;){if(E.nodeType===8){var O=E.data;if(O==="$"||O==="$!"||O==="$?"){if(C===0)return E;C--}else O==="/$"&&C++}E=E.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),dn="__reactFiber$"+Ks,Qr="__reactProps$"+Ks,Tn="__reactContainer$"+Ks,Ql="__reactEvents$"+Ks,Xm="__reactListeners$"+Ks,Hm="__reactHandles$"+Ks;function cs(E){var C=E[dn];if(C)return C;for(var O=E.parentNode;O;){if(C=O[Tn]||O[dn]){if(O=C.alternate,C.child!==null||O!==null&&O.child!==null)for(E=vd(E);E!==null;){if(O=E[dn])return O;E=vd(E)}return C}E=O,O=E.parentNode}return null}function Jr(E){return E=E[dn]||E[Tn],!E||E.tag!==5&&E.tag!==6&&E.tag!==13&&E.tag!==3?null:E}function $s(E){if(E.tag===5||E.tag===6)return E.stateNode;throw Error(M(33))}function Ja(E){return E[Qr]||null}var Jl=[],js=-1;function Hn(E){return{current:E}}function Re(E){0>js||(E.current=Jl[js],Jl[js]=null,js--)}function Se(E,C){js++,Jl[js]=E.current,E.current=C}var Kn={},ri=Hn(Kn),Ei=Hn(!1),vs=Kn;function ks(E,C){var O=E.type.contextTypes;if(!O)return Kn;var F=E.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===C)return F.__reactInternalMemoizedMaskedChildContext;var X={},Z;for(Z in O)X[Z]=C[Z];return F&&(E=E.stateNode,E.__reactInternalMemoizedUnmaskedChildContext=C,E.__reactInternalMemoizedMaskedChildContext=X),X}function yi(E){return E=E.childContextTypes,E!=null}function qa(){Re(Ei),Re(ri)}function pd(E,C,O){if(ri.current!==Kn)throw Error(M(168));Se(ri,C),Se(Ei,O)}function md(E,C,O){var F=E.stateNode;if(C=C.childContextTypes,typeof F.getChildContext!="function")return O;F=F.getChildContext();for(var X in F)if(!(X in C))throw Error(M(108,Y(E)||"Unknown",X));return z({},O,F)}function _a(E){return E=(E=E.stateNode)&&E.__reactInternalMemoizedMergedChildContext||Kn,vs=ri.current,Se(ri,E),Se(Ei,Ei.current),!0}function gd(E,C,O){var F=E.stateNode;if(!F)throw Error(M(169));O?(E=md(E,C,vs),F.__reactInternalMemoizedMergedChildContext=E,Re(Ei),Re(ri),Se(ri,E)):Re(Ei),Se(Ei,O)}var Sn=null,to=!1,ql=!1;function xd(E){Sn===null?Sn=[E]:Sn.push(E)}function Km(E){to=!0,xd(E)}function $n(){if(!ql&&Sn!==null){ql=!0;var E=0,C=me;try{var O=Sn;for(me=1;E<O.length;E++){var F=O[E];do F=F(!0);while(F!==null)}Sn=null,to=!1}catch(X){throw Sn!==null&&(Sn=Sn.slice(E+1)),yf(yl,$n),X}finally{me=C,ql=!1}}return null}var Zs=[],Qs=0,eo=null,io=0,Fi=[],Bi=0,ps=null,An=1,Cn="";function ms(E,C){Zs[Qs++]=io,Zs[Qs++]=eo,eo=E,io=C}function Ed(E,C,O){Fi[Bi++]=An,Fi[Bi++]=Cn,Fi[Bi++]=ps,ps=E;var F=An;E=Cn;var X=32-Zi(F)-1;F&=~(1<<X),O+=1;var Z=32-Zi(C)+X;if(30<Z){var et=X-X%5;Z=(F&(1<<et)-1).toString(32),F>>=et,X-=et,An=1<<32-Zi(C)+X|O<<X|F,Cn=Z+E}else An=1<<Z|O<<X|F,Cn=E}function _l(E){E.return!==null&&(ms(E,1),Ed(E,1,0))}function th(E){for(;E===eo;)eo=Zs[--Qs],Zs[Qs]=null,io=Zs[--Qs],Zs[Qs]=null;for(;E===ps;)ps=Fi[--Bi],Fi[Bi]=null,Cn=Fi[--Bi],Fi[Bi]=null,An=Fi[--Bi],Fi[Bi]=null}var Oi=null,Mi=null,Pe=!1,Ji=null;function yd(E,C){var O=bi(5,null,null,0);O.elementType="DELETED",O.stateNode=C,O.return=E,C=E.deletions,C===null?(E.deletions=[O],E.flags|=16):C.push(O)}function Td(E,C){switch(E.tag){case 5:var O=E.type;return C=C.nodeType!==1||O.toLowerCase()!==C.nodeName.toLowerCase()?null:C,C!==null?(E.stateNode=C,Oi=E,Mi=Xn(C.firstChild),!0):!1;case 6:return C=E.pendingProps===""||C.nodeType!==3?null:C,C!==null?(E.stateNode=C,Oi=E,Mi=null,!0):!1;case 13:return C=C.nodeType!==8?null:C,C!==null?(O=ps!==null?{id:An,overflow:Cn}:null,E.memoizedState={dehydrated:C,treeContext:O,retryLane:1073741824},O=bi(18,null,null,0),O.stateNode=C,O.return=E,E.child=O,Oi=E,Mi=null,!0):!1;default:return!1}}function eh(E){return(E.mode&1)!==0&&(E.flags&128)===0}function ih(E){if(Pe){var C=Mi;if(C){var O=C;if(!Td(E,C)){if(eh(E))throw Error(M(418));C=Xn(O.nextSibling);var F=Oi;C&&Td(E,C)?yd(F,O):(E.flags=E.flags&-4097|2,Pe=!1,Oi=E)}}else{if(eh(E))throw Error(M(418));E.flags=E.flags&-4097|2,Pe=!1,Oi=E}}}function Sd(E){for(E=E.return;E!==null&&E.tag!==5&&E.tag!==3&&E.tag!==13;)E=E.return;Oi=E}function no(E){if(E!==Oi)return!1;if(!Pe)return Sd(E),Pe=!0,!1;var C;if((C=E.tag!==3)&&!(C=E.tag!==5)&&(C=E.type,C=C!=="head"&&C!=="body"&&!jl(E.type,E.memoizedProps)),C&&(C=Mi)){if(eh(E))throw Ad(),Error(M(418));for(;C;)yd(E,C),C=Xn(C.nextSibling)}if(Sd(E),E.tag===13){if(E=E.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(M(317));t:{for(E=E.nextSibling,C=0;E;){if(E.nodeType===8){var O=E.data;if(O==="/$"){if(C===0){Mi=Xn(E.nextSibling);break t}C--}else O!=="$"&&O!=="$!"&&O!=="$?"||C++}E=E.nextSibling}Mi=null}}else Mi=Oi?Xn(E.stateNode.nextSibling):null;return!0}function Ad(){for(var E=Mi;E;)E=Xn(E.nextSibling)}function Js(){Mi=Oi=null,Pe=!1}function nh(E){Ji===null?Ji=[E]:Ji.push(E)}var $m=h.ReactCurrentBatchConfig;function qi(E,C){if(E&&E.defaultProps){C=z({},C),E=E.defaultProps;for(var O in E)C[O]===void 0&&(C[O]=E[O]);return C}return C}var so=Hn(null),ro=null,qs=null,sh=null;function rh(){sh=qs=ro=null}function ah(E){var C=so.current;Re(so),E._currentValue=C}function oh(E,C,O){for(;E!==null;){var F=E.alternate;if((E.childLanes&C)!==C?(E.childLanes|=C,F!==null&&(F.childLanes|=C)):F!==null&&(F.childLanes&C)!==C&&(F.childLanes|=C),E===O)break;E=E.return}}function _s(E,C){ro=E,sh=qs=null,E=E.dependencies,E!==null&&E.firstContext!==null&&(E.lanes&C&&(Ti=!0),E.firstContext=null)}function Ui(E){var C=E._currentValue;if(sh!==E)if(E={context:E,memoizedValue:C,next:null},qs===null){if(ro===null)throw Error(M(308));qs=E,ro.dependencies={lanes:0,firstContext:E}}else qs=qs.next=E;return C}var gs=null;function lh(E){gs===null?gs=[E]:gs.push(E)}function Cd(E,C,O,F){var X=C.interleaved;return X===null?(O.next=O,lh(C)):(O.next=X.next,X.next=O),C.interleaved=O,Rn(E,F)}function Rn(E,C){E.lanes|=C;var O=E.alternate;for(O!==null&&(O.lanes|=C),O=E,E=E.return;E!==null;)E.childLanes|=C,O=E.alternate,O!==null&&(O.childLanes|=C),O=E,E=E.return;return O.tag===3?O.stateNode:null}var jn=!1;function hh(E){E.updateQueue={baseState:E.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rd(E,C){E=E.updateQueue,C.updateQueue===E&&(C.updateQueue={baseState:E.baseState,firstBaseUpdate:E.firstBaseUpdate,lastBaseUpdate:E.lastBaseUpdate,shared:E.shared,effects:E.effects})}function Ln(E,C){return{eventTime:E,lane:C,tag:0,payload:null,callback:null,next:null}}function kn(E,C,O){var F=E.updateQueue;if(F===null)return null;if(F=F.shared,he&2){var X=F.pending;return X===null?C.next=C:(C.next=X.next,X.next=C),F.pending=C,Rn(E,O)}return X=F.interleaved,X===null?(C.next=C,lh(F)):(C.next=X.next,X.next=C),F.interleaved=C,Rn(E,O)}function ao(E,C,O){if(C=C.updateQueue,C!==null&&(C=C.shared,(O&4194240)!==0)){var F=C.lanes;F&=E.pendingLanes,O|=F,C.lanes=O,Al(E,O)}}function Ld(E,C){var O=E.updateQueue,F=E.alternate;if(F!==null&&(F=F.updateQueue,O===F)){var X=null,Z=null;if(O=O.firstBaseUpdate,O!==null){do{var et={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};Z===null?X=Z=et:Z=Z.next=et,O=O.next}while(O!==null);Z===null?X=Z=C:Z=Z.next=C}else X=Z=C;O={baseState:F.baseState,firstBaseUpdate:X,lastBaseUpdate:Z,shared:F.shared,effects:F.effects},E.updateQueue=O;return}E=O.lastBaseUpdate,E===null?O.firstBaseUpdate=C:E.next=C,O.lastBaseUpdate=C}function oo(E,C,O,F){var X=E.updateQueue;jn=!1;var Z=X.firstBaseUpdate,et=X.lastBaseUpdate,nt=X.shared.pending;if(nt!==null){X.shared.pending=null;var rt=nt,ct=rt.next;rt.next=null,et===null?Z=ct:et.next=ct,et=rt;var St=E.alternate;St!==null&&(St=St.updateQueue,nt=St.lastBaseUpdate,nt!==et&&(nt===null?St.firstBaseUpdate=ct:nt.next=ct,St.lastBaseUpdate=rt))}if(Z!==null){var At=X.baseState;et=0,St=ct=rt=null,nt=Z;do{var Tt=nt.lane,wt=nt.eventTime;if((F&Tt)===Tt){St!==null&&(St=St.next={eventTime:wt,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});t:{var Vt=E,bt=nt;switch(Tt=C,wt=O,bt.tag){case 1:if(Vt=bt.payload,typeof Vt=="function"){At=Vt.call(wt,At,Tt);break t}At=Vt;break t;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=bt.payload,Tt=typeof Vt=="function"?Vt.call(wt,At,Tt):Vt,Tt==null)break t;At=z({},At,Tt);break t;case 2:jn=!0}}nt.callback!==null&&nt.lane!==0&&(E.flags|=64,Tt=X.effects,Tt===null?X.effects=[nt]:Tt.push(nt))}else wt={eventTime:wt,lane:Tt,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},St===null?(ct=St=wt,rt=At):St=St.next=wt,et|=Tt;if(nt=nt.next,nt===null){if(nt=X.shared.pending,nt===null)break;Tt=nt,nt=Tt.next,Tt.next=null,X.lastBaseUpdate=Tt,X.shared.pending=null}}while(1);if(St===null&&(rt=At),X.baseState=rt,X.firstBaseUpdate=ct,X.lastBaseUpdate=St,C=X.shared.interleaved,C!==null){X=C;do et|=X.lane,X=X.next;while(X!==C)}else Z===null&&(X.shared.lanes=0);ys|=et,E.lanes=et,E.memoizedState=At}}function Pd(E,C,O){if(E=C.effects,C.effects=null,E!==null)for(C=0;C<E.length;C++){var F=E[C],X=F.callback;if(X!==null){if(F.callback=null,F=O,typeof X!="function")throw Error(M(191,X));X.call(F)}}}var Id=new L.Component().refs;function uh(E,C,O,F){C=E.memoizedState,O=O(F,C),O=O==null?C:z({},C,O),E.memoizedState=O,E.lanes===0&&(E.updateQueue.baseState=O)}var lo={isMounted:function(E){return(E=E._reactInternals)?ds(E)===E:!1},enqueueSetState:function(E,C,O){E=E._reactInternals;var F=vi(),X=qn(E),Z=Ln(F,X);Z.payload=C,O!=null&&(Z.callback=O),C=kn(E,Z,X),C!==null&&(en(C,E,X,F),ao(C,E,X))},enqueueReplaceState:function(E,C,O){E=E._reactInternals;var F=vi(),X=qn(E),Z=Ln(F,X);Z.tag=1,Z.payload=C,O!=null&&(Z.callback=O),C=kn(E,Z,X),C!==null&&(en(C,E,X,F),ao(C,E,X))},enqueueForceUpdate:function(E,C){E=E._reactInternals;var O=vi(),F=qn(E),X=Ln(O,F);X.tag=2,C!=null&&(X.callback=C),C=kn(E,X,F),C!==null&&(en(C,E,F,O),ao(C,E,F))}};function Od(E,C,O,F,X,Z,et){return E=E.stateNode,typeof E.shouldComponentUpdate=="function"?E.shouldComponentUpdate(F,Z,et):C.prototype&&C.prototype.isPureReactComponent?!Kr(O,F)||!Kr(X,Z):!0}function Md(E,C,O){var F=!1,X=Kn,Z=C.contextType;return typeof Z=="object"&&Z!==null?Z=Ui(Z):(X=yi(C)?vs:ri.current,F=C.contextTypes,Z=(F=F!=null)?ks(E,X):Kn),C=new C(O,Z),E.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=lo,E.stateNode=C,C._reactInternals=E,F&&(E=E.stateNode,E.__reactInternalMemoizedUnmaskedChildContext=X,E.__reactInternalMemoizedMaskedChildContext=Z),C}function Dd(E,C,O,F){E=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(O,F),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(O,F),C.state!==E&&lo.enqueueReplaceState(C,C.state,null)}function fh(E,C,O,F){var X=E.stateNode;X.props=O,X.state=E.memoizedState,X.refs=Id,hh(E);var Z=C.contextType;typeof Z=="object"&&Z!==null?X.context=Ui(Z):(Z=yi(C)?vs:ri.current,X.context=ks(E,Z)),X.state=E.memoizedState,Z=C.getDerivedStateFromProps,typeof Z=="function"&&(uh(E,C,Z,O),X.state=E.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(C=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),C!==X.state&&lo.enqueueReplaceState(X,X.state,null),oo(E,O,X,F),X.state=E.memoizedState),typeof X.componentDidMount=="function"&&(E.flags|=4194308)}function qr(E,C,O){if(E=O.ref,E!==null&&typeof E!="function"&&typeof E!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(M(309));var F=O.stateNode}if(!F)throw Error(M(147,E));var X=F,Z=""+E;return C!==null&&C.ref!==null&&typeof C.ref=="function"&&C.ref._stringRef===Z?C.ref:(C=function(et){var nt=X.refs;nt===Id&&(nt=X.refs={}),et===null?delete nt[Z]:nt[Z]=et},C._stringRef=Z,C)}if(typeof E!="string")throw Error(M(284));if(!O._owner)throw Error(M(290,E))}return E}function ho(E,C){throw E=Object.prototype.toString.call(C),Error(M(31,E==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":E))}function Nd(E){var C=E._init;return C(E._payload)}function wd(E){function C(ht,ot){if(E){var dt=ht.deletions;dt===null?(ht.deletions=[ot],ht.flags|=16):dt.push(ot)}}function O(ht,ot){if(!E)return null;for(;ot!==null;)C(ht,ot),ot=ot.sibling;return null}function F(ht,ot){for(ht=new Map;ot!==null;)ot.key!==null?ht.set(ot.key,ot):ht.set(ot.index,ot),ot=ot.sibling;return ht}function X(ht,ot){return ht=ts(ht,ot),ht.index=0,ht.sibling=null,ht}function Z(ht,ot,dt){return ht.index=dt,E?(dt=ht.alternate,dt!==null?(dt=dt.index,dt<ot?(ht.flags|=2,ot):dt):(ht.flags|=2,ot)):(ht.flags|=1048576,ot)}function et(ht){return E&&ht.alternate===null&&(ht.flags|=2),ht}function nt(ht,ot,dt,Ct){return ot===null||ot.tag!==6?(ot=kh(dt,ht.mode,Ct),ot.return=ht,ot):(ot=X(ot,dt),ot.return=ht,ot)}function rt(ht,ot,dt,Ct){var Wt=dt.type;return Wt===g?St(ht,ot,dt.props.children,Ct,dt.key):ot!==null&&(ot.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===w&&Nd(Wt)===ot.type)?(Ct=X(ot,dt.props),Ct.ref=qr(ht,ot,dt),Ct.return=ht,Ct):(Ct=Oo(dt.type,dt.key,dt.props,null,ht.mode,Ct),Ct.ref=qr(ht,ot,dt),Ct.return=ht,Ct)}function ct(ht,ot,dt,Ct){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==dt.containerInfo||ot.stateNode.implementation!==dt.implementation?(ot=Zh(dt,ht.mode,Ct),ot.return=ht,ot):(ot=X(ot,dt.children||[]),ot.return=ht,ot)}function St(ht,ot,dt,Ct,Wt){return ot===null||ot.tag!==7?(ot=Cs(dt,ht.mode,Ct,Wt),ot.return=ht,ot):(ot=X(ot,dt),ot.return=ht,ot)}function At(ht,ot,dt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ot=kh(""+ot,ht.mode,dt),ot.return=ht,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case d:return dt=Oo(ot.type,ot.key,ot.props,null,ht.mode,dt),dt.ref=qr(ht,null,ot),dt.return=ht,dt;case c:return ot=Zh(ot,ht.mode,dt),ot.return=ht,ot;case w:var Ct=ot._init;return At(ht,Ct(ot._payload),dt)}if(Nt(ot)||H(ot))return ot=Cs(ot,ht.mode,dt,null),ot.return=ht,ot;ho(ht,ot)}return null}function Tt(ht,ot,dt,Ct){var Wt=ot!==null?ot.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number")return Wt!==null?null:nt(ht,ot,""+dt,Ct);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case d:return dt.key===Wt?rt(ht,ot,dt,Ct):null;case c:return dt.key===Wt?ct(ht,ot,dt,Ct):null;case w:return Wt=dt._init,Tt(ht,ot,Wt(dt._payload),Ct)}if(Nt(dt)||H(dt))return Wt!==null?null:St(ht,ot,dt,Ct,null);ho(ht,dt)}return null}function wt(ht,ot,dt,Ct,Wt){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return ht=ht.get(dt)||null,nt(ot,ht,""+Ct,Wt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case d:return ht=ht.get(Ct.key===null?dt:Ct.key)||null,rt(ot,ht,Ct,Wt);case c:return ht=ht.get(Ct.key===null?dt:Ct.key)||null,ct(ot,ht,Ct,Wt);case w:var Ht=Ct._init;return wt(ht,ot,dt,Ht(Ct._payload),Wt)}if(Nt(Ct)||H(Ct))return ht=ht.get(dt)||null,St(ot,ht,Ct,Wt,null);ho(ot,Ct)}return null}function Vt(ht,ot,dt,Ct){for(var Wt=null,Ht=null,Kt=ot,qt=ot=0,Ze=null;Kt!==null&&qt<dt.length;qt++){Kt.index>qt?(Ze=Kt,Kt=null):Ze=Kt.sibling;var fe=Tt(ht,Kt,dt[qt],Ct);if(fe===null){Kt===null&&(Kt=Ze);break}E&&Kt&&fe.alternate===null&&C(ht,Kt),ot=Z(fe,ot,qt),Ht===null?Wt=fe:Ht.sibling=fe,Ht=fe,Kt=Ze}if(qt===dt.length)return O(ht,Kt),Pe&&ms(ht,qt),Wt;if(Kt===null){for(;qt<dt.length;qt++)Kt=At(ht,dt[qt],Ct),Kt!==null&&(ot=Z(Kt,ot,qt),Ht===null?Wt=Kt:Ht.sibling=Kt,Ht=Kt);return Pe&&ms(ht,qt),Wt}for(Kt=F(ht,Kt);qt<dt.length;qt++)Ze=wt(Kt,ht,qt,dt[qt],Ct),Ze!==null&&(E&&Ze.alternate!==null&&Kt.delete(Ze.key===null?qt:Ze.key),ot=Z(Ze,ot,qt),Ht===null?Wt=Ze:Ht.sibling=Ze,Ht=Ze);return E&&Kt.forEach(function(es){return C(ht,es)}),Pe&&ms(ht,qt),Wt}function bt(ht,ot,dt,Ct){var Wt=H(dt);if(typeof Wt!="function")throw Error(M(150));if(dt=Wt.call(dt),dt==null)throw Error(M(151));for(var Ht=Wt=null,Kt=ot,qt=ot=0,Ze=null,fe=dt.next();Kt!==null&&!fe.done;qt++,fe=dt.next()){Kt.index>qt?(Ze=Kt,Kt=null):Ze=Kt.sibling;var es=Tt(ht,Kt,fe.value,Ct);if(es===null){Kt===null&&(Kt=Ze);break}E&&Kt&&es.alternate===null&&C(ht,Kt),ot=Z(es,ot,qt),Ht===null?Wt=es:Ht.sibling=es,Ht=es,Kt=Ze}if(fe.done)return O(ht,Kt),Pe&&ms(ht,qt),Wt;if(Kt===null){for(;!fe.done;qt++,fe=dt.next())fe=At(ht,fe.value,Ct),fe!==null&&(ot=Z(fe,ot,qt),Ht===null?Wt=fe:Ht.sibling=fe,Ht=fe);return Pe&&ms(ht,qt),Wt}for(Kt=F(ht,Kt);!fe.done;qt++,fe=dt.next())fe=wt(Kt,ht,qt,fe.value,Ct),fe!==null&&(E&&fe.alternate!==null&&Kt.delete(fe.key===null?qt:fe.key),ot=Z(fe,ot,qt),Ht===null?Wt=fe:Ht.sibling=fe,Ht=fe);return E&&Kt.forEach(function(Rg){return C(ht,Rg)}),Pe&&ms(ht,qt),Wt}function Ue(ht,ot,dt,Ct){if(typeof dt=="object"&&dt!==null&&dt.type===g&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case d:t:{for(var Wt=dt.key,Ht=ot;Ht!==null;){if(Ht.key===Wt){if(Wt=dt.type,Wt===g){if(Ht.tag===7){O(ht,Ht.sibling),ot=X(Ht,dt.props.children),ot.return=ht,ht=ot;break t}}else if(Ht.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===w&&Nd(Wt)===Ht.type){O(ht,Ht.sibling),ot=X(Ht,dt.props),ot.ref=qr(ht,Ht,dt),ot.return=ht,ht=ot;break t}O(ht,Ht);break}else C(ht,Ht);Ht=Ht.sibling}dt.type===g?(ot=Cs(dt.props.children,ht.mode,Ct,dt.key),ot.return=ht,ht=ot):(Ct=Oo(dt.type,dt.key,dt.props,null,ht.mode,Ct),Ct.ref=qr(ht,ot,dt),Ct.return=ht,ht=Ct)}return et(ht);case c:t:{for(Ht=dt.key;ot!==null;){if(ot.key===Ht)if(ot.tag===4&&ot.stateNode.containerInfo===dt.containerInfo&&ot.stateNode.implementation===dt.implementation){O(ht,ot.sibling),ot=X(ot,dt.children||[]),ot.return=ht,ht=ot;break t}else{O(ht,ot);break}else C(ht,ot);ot=ot.sibling}ot=Zh(dt,ht.mode,Ct),ot.return=ht,ht=ot}return et(ht);case w:return Ht=dt._init,Ue(ht,ot,Ht(dt._payload),Ct)}if(Nt(dt))return Vt(ht,ot,dt,Ct);if(H(dt))return bt(ht,ot,dt,Ct);ho(ht,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"?(dt=""+dt,ot!==null&&ot.tag===6?(O(ht,ot.sibling),ot=X(ot,dt),ot.return=ht,ht=ot):(O(ht,ot),ot=kh(dt,ht.mode,Ct),ot.return=ht,ht=ot),et(ht)):O(ht,ot)}return Ue}var tr=wd(!0),Fd=wd(!1),_r={},cn=Hn(_r),ta=Hn(_r),ea=Hn(_r);function xs(E){if(E===_r)throw Error(M(174));return E}function dh(E,C){switch(Se(ea,C),Se(ta,E),Se(cn,_r),E=C.nodeType,E){case 9:case 11:C=(C=C.documentElement)?C.namespaceURI:Ee(null,"");break;default:E=E===8?C.parentNode:C,C=E.namespaceURI||null,E=E.tagName,C=Ee(C,E)}Re(cn),Se(cn,C)}function er(){Re(cn),Re(ta),Re(ea)}function Bd(E){xs(ea.current);var C=xs(cn.current),O=Ee(C,E.type);C!==O&&(Se(ta,E),Se(cn,O))}function ch(E){ta.current===E&&(Re(cn),Re(ta))}var Ie=Hn(0);function uo(E){for(var C=E;C!==null;){if(C.tag===13){var O=C.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||O.data==="$?"||O.data==="$!"))return C}else if(C.tag===19&&C.memoizedProps.revealOrder!==void 0){if(C.flags&128)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===E)break;for(;C.sibling===null;){if(C.return===null||C.return===E)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}var vh=[];function ph(){for(var E=0;E<vh.length;E++)vh[E]._workInProgressVersionPrimary=null;vh.length=0}var fo=h.ReactCurrentDispatcher,mh=h.ReactCurrentBatchConfig,Es=0,Oe=null,Xe=null,je=null,co=!1,ia=!1,na=0,jm=0;function ai(){throw Error(M(321))}function gh(E,C){if(C===null)return!1;for(var O=0;O<C.length&&O<E.length;O++)if(!Qi(E[O],C[O]))return!1;return!0}function xh(E,C,O,F,X,Z){if(Es=Z,Oe=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,fo.current=E===null||E.memoizedState===null?Jm:qm,E=O(F,X),ia){Z=0;do{if(ia=!1,na=0,25<=Z)throw Error(M(301));Z+=1,je=Xe=null,C.updateQueue=null,fo.current=_m,E=O(F,X)}while(ia)}if(fo.current=mo,C=Xe!==null&&Xe.next!==null,Es=0,je=Xe=Oe=null,co=!1,C)throw Error(M(300));return E}function Eh(){var E=na!==0;return na=0,E}function vn(){var E={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Oe.memoizedState=je=E:je=je.next=E,je}function Gi(){if(Xe===null){var E=Oe.alternate;E=E!==null?E.memoizedState:null}else E=Xe.next;var C=je===null?Oe.memoizedState:je.next;if(C!==null)je=C,Xe=E;else{if(E===null)throw Error(M(310));Xe=E,E={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},je===null?Oe.memoizedState=je=E:je=je.next=E}return je}function sa(E,C){return typeof C=="function"?C(E):C}function yh(E){var C=Gi(),O=C.queue;if(O===null)throw Error(M(311));O.lastRenderedReducer=E;var F=Xe,X=F.baseQueue,Z=O.pending;if(Z!==null){if(X!==null){var et=X.next;X.next=Z.next,Z.next=et}F.baseQueue=X=Z,O.pending=null}if(X!==null){Z=X.next,F=F.baseState;var nt=et=null,rt=null,ct=Z;do{var St=ct.lane;if((Es&St)===St)rt!==null&&(rt=rt.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),F=ct.hasEagerState?ct.eagerState:E(F,ct.action);else{var At={lane:St,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};rt===null?(nt=rt=At,et=F):rt=rt.next=At,Oe.lanes|=St,ys|=St}ct=ct.next}while(ct!==null&&ct!==Z);rt===null?et=F:rt.next=nt,Qi(F,C.memoizedState)||(Ti=!0),C.memoizedState=F,C.baseState=et,C.baseQueue=rt,O.lastRenderedState=F}if(E=O.interleaved,E!==null){X=E;do Z=X.lane,Oe.lanes|=Z,ys|=Z,X=X.next;while(X!==E)}else X===null&&(O.lanes=0);return[C.memoizedState,O.dispatch]}function Th(E){var C=Gi(),O=C.queue;if(O===null)throw Error(M(311));O.lastRenderedReducer=E;var F=O.dispatch,X=O.pending,Z=C.memoizedState;if(X!==null){O.pending=null;var et=X=X.next;do Z=E(Z,et.action),et=et.next;while(et!==X);Qi(Z,C.memoizedState)||(Ti=!0),C.memoizedState=Z,C.baseQueue===null&&(C.baseState=Z),O.lastRenderedState=Z}return[Z,F]}function Ud(){}function Gd(E,C){var O=Oe,F=Gi(),X=C(),Z=!Qi(F.memoizedState,X);if(Z&&(F.memoizedState=X,Ti=!0),F=F.queue,Sh(zd.bind(null,O,F,E),[E]),F.getSnapshot!==C||Z||je!==null&&je.memoizedState.tag&1){if(O.flags|=2048,ra(9,bd.bind(null,O,F,X,C),void 0,null),ke===null)throw Error(M(349));Es&30||Vd(O,C,X)}return X}function Vd(E,C,O){E.flags|=16384,E={getSnapshot:C,value:O},C=Oe.updateQueue,C===null?(C={lastEffect:null,stores:null},Oe.updateQueue=C,C.stores=[E]):(O=C.stores,O===null?C.stores=[E]:O.push(E))}function bd(E,C,O,F){C.value=O,C.getSnapshot=F,Wd(C)&&Yd(E)}function zd(E,C,O){return O(function(){Wd(C)&&Yd(E)})}function Wd(E){var C=E.getSnapshot;E=E.value;try{var O=C();return!Qi(E,O)}catch{return!0}}function Yd(E){var C=Rn(E,1);C!==null&&en(C,E,1,-1)}function Xd(E){var C=vn();return typeof E=="function"&&(E=E()),C.memoizedState=C.baseState=E,E={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:E},C.queue=E,E=E.dispatch=Qm.bind(null,Oe,E),[C.memoizedState,E]}function ra(E,C,O,F){return E={tag:E,create:C,destroy:O,deps:F,next:null},C=Oe.updateQueue,C===null?(C={lastEffect:null,stores:null},Oe.updateQueue=C,C.lastEffect=E.next=E):(O=C.lastEffect,O===null?C.lastEffect=E.next=E:(F=O.next,O.next=E,E.next=F,C.lastEffect=E)),E}function Hd(){return Gi().memoizedState}function vo(E,C,O,F){var X=vn();Oe.flags|=E,X.memoizedState=ra(1|C,O,void 0,F===void 0?null:F)}function po(E,C,O,F){var X=Gi();F=F===void 0?null:F;var Z=void 0;if(Xe!==null){var et=Xe.memoizedState;if(Z=et.destroy,F!==null&&gh(F,et.deps)){X.memoizedState=ra(C,O,Z,F);return}}Oe.flags|=E,X.memoizedState=ra(1|C,O,Z,F)}function Kd(E,C){return vo(8390656,8,E,C)}function Sh(E,C){return po(2048,8,E,C)}function $d(E,C){return po(4,2,E,C)}function jd(E,C){return po(4,4,E,C)}function kd(E,C){if(typeof C=="function")return E=E(),C(E),function(){C(null)};if(C!=null)return E=E(),C.current=E,function(){C.current=null}}function Zd(E,C,O){return O=O!=null?O.concat([E]):null,po(4,4,kd.bind(null,C,E),O)}function Ah(){}function Qd(E,C){var O=Gi();C=C===void 0?null:C;var F=O.memoizedState;return F!==null&&C!==null&&gh(C,F[1])?F[0]:(O.memoizedState=[E,C],E)}function Jd(E,C){var O=Gi();C=C===void 0?null:C;var F=O.memoizedState;return F!==null&&C!==null&&gh(C,F[1])?F[0]:(E=E(),O.memoizedState=[E,C],E)}function qd(E,C,O){return Es&21?(Qi(O,C)||(O=Cf(),Oe.lanes|=O,ys|=O,E.baseState=!0),C):(E.baseState&&(E.baseState=!1,Ti=!0),E.memoizedState=O)}function km(E,C){var O=me;me=O!==0&&4>O?O:4,E(!0);var F=mh.transition;mh.transition={};try{E(!1),C()}finally{me=O,mh.transition=F}}function _d(){return Gi().memoizedState}function Zm(E,C,O){var F=qn(E);if(O={lane:F,action:O,hasEagerState:!1,eagerState:null,next:null},tc(E))ec(C,O);else if(O=Cd(E,C,O,F),O!==null){var X=vi();en(O,E,F,X),ic(O,C,F)}}function Qm(E,C,O){var F=qn(E),X={lane:F,action:O,hasEagerState:!1,eagerState:null,next:null};if(tc(E))ec(C,X);else{var Z=E.alternate;if(E.lanes===0&&(Z===null||Z.lanes===0)&&(Z=C.lastRenderedReducer,Z!==null))try{var et=C.lastRenderedState,nt=Z(et,O);if(X.hasEagerState=!0,X.eagerState=nt,Qi(nt,et)){var rt=C.interleaved;rt===null?(X.next=X,lh(C)):(X.next=rt.next,rt.next=X),C.interleaved=X;return}}catch{}finally{}O=Cd(E,C,X,F),O!==null&&(X=vi(),en(O,E,F,X),ic(O,C,F))}}function tc(E){var C=E.alternate;return E===Oe||C!==null&&C===Oe}function ec(E,C){ia=co=!0;var O=E.pending;O===null?C.next=C:(C.next=O.next,O.next=C),E.pending=C}function ic(E,C,O){if(O&4194240){var F=C.lanes;F&=E.pendingLanes,O|=F,C.lanes=O,Al(E,O)}}var mo={readContext:Ui,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},Jm={readContext:Ui,useCallback:function(E,C){return vn().memoizedState=[E,C===void 0?null:C],E},useContext:Ui,useEffect:Kd,useImperativeHandle:function(E,C,O){return O=O!=null?O.concat([E]):null,vo(4194308,4,kd.bind(null,C,E),O)},useLayoutEffect:function(E,C){return vo(4194308,4,E,C)},useInsertionEffect:function(E,C){return vo(4,2,E,C)},useMemo:function(E,C){var O=vn();return C=C===void 0?null:C,E=E(),O.memoizedState=[E,C],E},useReducer:function(E,C,O){var F=vn();return C=O!==void 0?O(C):C,F.memoizedState=F.baseState=C,E={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:E,lastRenderedState:C},F.queue=E,E=E.dispatch=Zm.bind(null,Oe,E),[F.memoizedState,E]},useRef:function(E){var C=vn();return E={current:E},C.memoizedState=E},useState:Xd,useDebugValue:Ah,useDeferredValue:function(E){return vn().memoizedState=E},useTransition:function(){var E=Xd(!1),C=E[0];return E=km.bind(null,E[1]),vn().memoizedState=E,[C,E]},useMutableSource:function(){},useSyncExternalStore:function(E,C,O){var F=Oe,X=vn();if(Pe){if(O===void 0)throw Error(M(407));O=O()}else{if(O=C(),ke===null)throw Error(M(349));Es&30||Vd(F,C,O)}X.memoizedState=O;var Z={value:O,getSnapshot:C};return X.queue=Z,Kd(zd.bind(null,F,Z,E),[E]),F.flags|=2048,ra(9,bd.bind(null,F,Z,O,C),void 0,null),O},useId:function(){var E=vn(),C=ke.identifierPrefix;if(Pe){var O=Cn,F=An;O=(F&~(1<<32-Zi(F)-1)).toString(32)+O,C=":"+C+"R"+O,O=na++,0<O&&(C+="H"+O.toString(32)),C+=":"}else O=jm++,C=":"+C+"r"+O.toString(32)+":";return E.memoizedState=C},unstable_isNewReconciler:!1},qm={readContext:Ui,useCallback:Qd,useContext:Ui,useEffect:Sh,useImperativeHandle:Zd,useInsertionEffect:$d,useLayoutEffect:jd,useMemo:Jd,useReducer:yh,useRef:Hd,useState:function(){return yh(sa)},useDebugValue:Ah,useDeferredValue:function(E){var C=Gi();return qd(C,Xe.memoizedState,E)},useTransition:function(){var E=yh(sa)[0],C=Gi().memoizedState;return[E,C]},useMutableSource:Ud,useSyncExternalStore:Gd,useId:_d,unstable_isNewReconciler:!1},_m={readContext:Ui,useCallback:Qd,useContext:Ui,useEffect:Sh,useImperativeHandle:Zd,useInsertionEffect:$d,useLayoutEffect:jd,useMemo:Jd,useReducer:Th,useRef:Hd,useState:function(){return Th(sa)},useDebugValue:Ah,useDeferredValue:function(E){var C=Gi();return Xe===null?C.memoizedState=E:qd(C,Xe.memoizedState,E)},useTransition:function(){var E=Th(sa)[0],C=Gi().memoizedState;return[E,C]},useMutableSource:Ud,useSyncExternalStore:Gd,useId:_d,unstable_isNewReconciler:!1};function ir(E,C){try{var O="",F=C;do O+=N(F),F=F.return;while(F);var X=O}catch(Z){X=`
Error generating stack: `+Z.message+`
`+Z.stack}return{value:E,source:C,stack:X,digest:null}}function Ch(E,C,O){return{value:E,source:null,stack:O??null,digest:C??null}}function Rh(E,C){try{console.error(C.value)}catch(O){setTimeout(function(){throw O})}}var tg=typeof WeakMap=="function"?WeakMap:Map;function nc(E,C,O){O=Ln(-1,O),O.tag=3,O.payload={element:null};var F=C.value;return O.callback=function(){Ao||(Ao=!0,zh=F),Rh(E,C)},O}function sc(E,C,O){O=Ln(-1,O),O.tag=3;var F=E.type.getDerivedStateFromError;if(typeof F=="function"){var X=C.value;O.payload=function(){return F(X)},O.callback=function(){Rh(E,C)}}var Z=E.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(O.callback=function(){Rh(E,C),typeof F!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var et=C.stack;this.componentDidCatch(C.value,{componentStack:et!==null?et:""})}),O}function rc(E,C,O){var F=E.pingCache;if(F===null){F=E.pingCache=new tg;var X=new Set;F.set(C,X)}else X=F.get(C),X===void 0&&(X=new Set,F.set(C,X));X.has(O)||(X.add(O),E=vg.bind(null,E,C,O),C.then(E,E))}function ac(E){do{var C;if((C=E.tag===13)&&(C=E.memoizedState,C=C!==null?C.dehydrated!==null:!0),C)return E;E=E.return}while(E!==null);return null}function oc(E,C,O,F,X){return E.mode&1?(E.flags|=65536,E.lanes=X,E):(E===C?E.flags|=65536:(E.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(C=Ln(-1,1),C.tag=2,kn(O,C,1))),O.lanes|=1),E)}var eg=h.ReactCurrentOwner,Ti=!1;function ci(E,C,O,F){C.child=E===null?Fd(C,null,O,F):tr(C,E.child,O,F)}function lc(E,C,O,F,X){O=O.render;var Z=C.ref;return _s(C,X),F=xh(E,C,O,F,Z,X),O=Eh(),E!==null&&!Ti?(C.updateQueue=E.updateQueue,C.flags&=-2053,E.lanes&=~X,Pn(E,C,X)):(Pe&&O&&_l(C),C.flags|=1,ci(E,C,F,X),C.child)}function hc(E,C,O,F,X){if(E===null){var Z=O.type;return typeof Z=="function"&&!jh(Z)&&Z.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(C.tag=15,C.type=Z,uc(E,C,Z,F,X)):(E=Oo(O.type,null,F,C,C.mode,X),E.ref=C.ref,E.return=C,C.child=E)}if(Z=E.child,!(E.lanes&X)){var et=Z.memoizedProps;if(O=O.compare,O=O!==null?O:Kr,O(et,F)&&E.ref===C.ref)return Pn(E,C,X)}return C.flags|=1,E=ts(Z,F),E.ref=C.ref,E.return=C,C.child=E}function uc(E,C,O,F,X){if(E!==null){var Z=E.memoizedProps;if(Kr(Z,F)&&E.ref===C.ref)if(Ti=!1,C.pendingProps=F=Z,(E.lanes&X)!==0)E.flags&131072&&(Ti=!0);else return C.lanes=E.lanes,Pn(E,C,X)}return Lh(E,C,O,F,X)}function fc(E,C,O){var F=C.pendingProps,X=F.children,Z=E!==null?E.memoizedState:null;if(F.mode==="hidden")if(!(C.mode&1))C.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(sr,Di),Di|=O;else{if(!(O&1073741824))return E=Z!==null?Z.baseLanes|O:O,C.lanes=C.childLanes=1073741824,C.memoizedState={baseLanes:E,cachePool:null,transitions:null},C.updateQueue=null,Se(sr,Di),Di|=E,null;C.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=Z!==null?Z.baseLanes:O,Se(sr,Di),Di|=F}else Z!==null?(F=Z.baseLanes|O,C.memoizedState=null):F=O,Se(sr,Di),Di|=F;return ci(E,C,X,O),C.child}function dc(E,C){var O=C.ref;(E===null&&O!==null||E!==null&&E.ref!==O)&&(C.flags|=512,C.flags|=2097152)}function Lh(E,C,O,F,X){var Z=yi(O)?vs:ri.current;return Z=ks(C,Z),_s(C,X),O=xh(E,C,O,F,Z,X),F=Eh(),E!==null&&!Ti?(C.updateQueue=E.updateQueue,C.flags&=-2053,E.lanes&=~X,Pn(E,C,X)):(Pe&&F&&_l(C),C.flags|=1,ci(E,C,O,X),C.child)}function cc(E,C,O,F,X){if(yi(O)){var Z=!0;_a(C)}else Z=!1;if(_s(C,X),C.stateNode===null)xo(E,C),Md(C,O,F),fh(C,O,F,X),F=!0;else if(E===null){var et=C.stateNode,nt=C.memoizedProps;et.props=nt;var rt=et.context,ct=O.contextType;typeof ct=="object"&&ct!==null?ct=Ui(ct):(ct=yi(O)?vs:ri.current,ct=ks(C,ct));var St=O.getDerivedStateFromProps,At=typeof St=="function"||typeof et.getSnapshotBeforeUpdate=="function";At||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(nt!==F||rt!==ct)&&Dd(C,et,F,ct),jn=!1;var Tt=C.memoizedState;et.state=Tt,oo(C,F,et,X),rt=C.memoizedState,nt!==F||Tt!==rt||Ei.current||jn?(typeof St=="function"&&(uh(C,O,St,F),rt=C.memoizedState),(nt=jn||Od(C,O,nt,F,Tt,rt,ct))?(At||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(C.flags|=4194308)):(typeof et.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=F,C.memoizedState=rt),et.props=F,et.state=rt,et.context=ct,F=nt):(typeof et.componentDidMount=="function"&&(C.flags|=4194308),F=!1)}else{et=C.stateNode,Rd(E,C),nt=C.memoizedProps,ct=C.type===C.elementType?nt:qi(C.type,nt),et.props=ct,At=C.pendingProps,Tt=et.context,rt=O.contextType,typeof rt=="object"&&rt!==null?rt=Ui(rt):(rt=yi(O)?vs:ri.current,rt=ks(C,rt));var wt=O.getDerivedStateFromProps;(St=typeof wt=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(nt!==At||Tt!==rt)&&Dd(C,et,F,rt),jn=!1,Tt=C.memoizedState,et.state=Tt,oo(C,F,et,X);var Vt=C.memoizedState;nt!==At||Tt!==Vt||Ei.current||jn?(typeof wt=="function"&&(uh(C,O,wt,F),Vt=C.memoizedState),(ct=jn||Od(C,O,ct,F,Tt,Vt,rt)||!1)?(St||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate(F,Vt,rt),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate(F,Vt,rt)),typeof et.componentDidUpdate=="function"&&(C.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof et.componentDidUpdate!="function"||nt===E.memoizedProps&&Tt===E.memoizedState||(C.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||nt===E.memoizedProps&&Tt===E.memoizedState||(C.flags|=1024),C.memoizedProps=F,C.memoizedState=Vt),et.props=F,et.state=Vt,et.context=rt,F=ct):(typeof et.componentDidUpdate!="function"||nt===E.memoizedProps&&Tt===E.memoizedState||(C.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||nt===E.memoizedProps&&Tt===E.memoizedState||(C.flags|=1024),F=!1)}return Ph(E,C,O,F,Z,X)}function Ph(E,C,O,F,X,Z){dc(E,C);var et=(C.flags&128)!==0;if(!F&&!et)return X&&gd(C,O,!1),Pn(E,C,Z);F=C.stateNode,eg.current=C;var nt=et&&typeof O.getDerivedStateFromError!="function"?null:F.render();return C.flags|=1,E!==null&&et?(C.child=tr(C,E.child,null,Z),C.child=tr(C,null,nt,Z)):ci(E,C,nt,Z),C.memoizedState=F.state,X&&gd(C,O,!0),C.child}function vc(E){var C=E.stateNode;C.pendingContext?pd(E,C.pendingContext,C.pendingContext!==C.context):C.context&&pd(E,C.context,!1),dh(E,C.containerInfo)}function pc(E,C,O,F,X){return Js(),nh(X),C.flags|=256,ci(E,C,O,F),C.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function Oh(E){return{baseLanes:E,cachePool:null,transitions:null}}function mc(E,C,O){var F=C.pendingProps,X=Ie.current,Z=!1,et=(C.flags&128)!==0,nt;if((nt=et)||(nt=E!==null&&E.memoizedState===null?!1:(X&2)!==0),nt?(Z=!0,C.flags&=-129):(E===null||E.memoizedState!==null)&&(X|=1),Se(Ie,X&1),E===null)return ih(C),E=C.memoizedState,E!==null&&(E=E.dehydrated,E!==null)?(C.mode&1?E.data==="$!"?C.lanes=8:C.lanes=1073741824:C.lanes=1,null):(et=F.children,E=F.fallback,Z?(F=C.mode,Z=C.child,et={mode:"hidden",children:et},!(F&1)&&Z!==null?(Z.childLanes=0,Z.pendingProps=et):Z=Mo(et,F,0,null),E=Cs(E,F,O,null),Z.return=C,E.return=C,Z.sibling=E,C.child=Z,C.child.memoizedState=Oh(O),C.memoizedState=Ih,E):Mh(C,et));if(X=E.memoizedState,X!==null&&(nt=X.dehydrated,nt!==null))return ig(E,C,et,F,nt,X,O);if(Z){Z=F.fallback,et=C.mode,X=E.child,nt=X.sibling;var rt={mode:"hidden",children:F.children};return!(et&1)&&C.child!==X?(F=C.child,F.childLanes=0,F.pendingProps=rt,C.deletions=null):(F=ts(X,rt),F.subtreeFlags=X.subtreeFlags&14680064),nt!==null?Z=ts(nt,Z):(Z=Cs(Z,et,O,null),Z.flags|=2),Z.return=C,F.return=C,F.sibling=Z,C.child=F,F=Z,Z=C.child,et=E.child.memoizedState,et=et===null?Oh(O):{baseLanes:et.baseLanes|O,cachePool:null,transitions:et.transitions},Z.memoizedState=et,Z.childLanes=E.childLanes&~O,C.memoizedState=Ih,F}return Z=E.child,E=Z.sibling,F=ts(Z,{mode:"visible",children:F.children}),!(C.mode&1)&&(F.lanes=O),F.return=C,F.sibling=null,E!==null&&(O=C.deletions,O===null?(C.deletions=[E],C.flags|=16):O.push(E)),C.child=F,C.memoizedState=null,F}function Mh(E,C){return C=Mo({mode:"visible",children:C},E.mode,0,null),C.return=E,E.child=C}function go(E,C,O,F){return F!==null&&nh(F),tr(C,E.child,null,O),E=Mh(C,C.pendingProps.children),E.flags|=2,C.memoizedState=null,E}function ig(E,C,O,F,X,Z,et){if(O)return C.flags&256?(C.flags&=-257,F=Ch(Error(M(422))),go(E,C,et,F)):C.memoizedState!==null?(C.child=E.child,C.flags|=128,null):(Z=F.fallback,X=C.mode,F=Mo({mode:"visible",children:F.children},X,0,null),Z=Cs(Z,X,et,null),Z.flags|=2,F.return=C,Z.return=C,F.sibling=Z,C.child=F,C.mode&1&&tr(C,E.child,null,et),C.child.memoizedState=Oh(et),C.memoizedState=Ih,Z);if(!(C.mode&1))return go(E,C,et,null);if(X.data==="$!"){if(F=X.nextSibling&&X.nextSibling.dataset,F)var nt=F.dgst;return F=nt,Z=Error(M(419)),F=Ch(Z,F,void 0),go(E,C,et,F)}if(nt=(et&E.childLanes)!==0,Ti||nt){if(F=ke,F!==null){switch(et&-et){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}X=X&(F.suspendedLanes|et)?0:X,X!==0&&X!==Z.retryLane&&(Z.retryLane=X,Rn(E,X),en(F,E,X,-1))}return $h(),F=Ch(Error(M(421))),go(E,C,et,F)}return X.data==="$?"?(C.flags|=128,C.child=E.child,C=pg.bind(null,E),X._reactRetry=C,null):(E=Z.treeContext,Mi=Xn(X.nextSibling),Oi=C,Pe=!0,Ji=null,E!==null&&(Fi[Bi++]=An,Fi[Bi++]=Cn,Fi[Bi++]=ps,An=E.id,Cn=E.overflow,ps=C),C=Mh(C,F.children),C.flags|=4096,C)}function gc(E,C,O){E.lanes|=C;var F=E.alternate;F!==null&&(F.lanes|=C),oh(E.return,C,O)}function Dh(E,C,O,F,X){var Z=E.memoizedState;Z===null?E.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:F,tail:O,tailMode:X}:(Z.isBackwards=C,Z.rendering=null,Z.renderingStartTime=0,Z.last=F,Z.tail=O,Z.tailMode=X)}function xc(E,C,O){var F=C.pendingProps,X=F.revealOrder,Z=F.tail;if(ci(E,C,F.children,O),F=Ie.current,F&2)F=F&1|2,C.flags|=128;else{if(E!==null&&E.flags&128)t:for(E=C.child;E!==null;){if(E.tag===13)E.memoizedState!==null&&gc(E,O,C);else if(E.tag===19)gc(E,O,C);else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===C)break t;for(;E.sibling===null;){if(E.return===null||E.return===C)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}F&=1}if(Se(Ie,F),!(C.mode&1))C.memoizedState=null;else switch(X){case"forwards":for(O=C.child,X=null;O!==null;)E=O.alternate,E!==null&&uo(E)===null&&(X=O),O=O.sibling;O=X,O===null?(X=C.child,C.child=null):(X=O.sibling,O.sibling=null),Dh(C,!1,X,O,Z);break;case"backwards":for(O=null,X=C.child,C.child=null;X!==null;){if(E=X.alternate,E!==null&&uo(E)===null){C.child=X;break}E=X.sibling,X.sibling=O,O=X,X=E}Dh(C,!0,O,null,Z);break;case"together":Dh(C,!1,null,null,void 0);break;default:C.memoizedState=null}return C.child}function xo(E,C){!(C.mode&1)&&E!==null&&(E.alternate=null,C.alternate=null,C.flags|=2)}function Pn(E,C,O){if(E!==null&&(C.dependencies=E.dependencies),ys|=C.lanes,!(O&C.childLanes))return null;if(E!==null&&C.child!==E.child)throw Error(M(153));if(C.child!==null){for(E=C.child,O=ts(E,E.pendingProps),C.child=O,O.return=C;E.sibling!==null;)E=E.sibling,O=O.sibling=ts(E,E.pendingProps),O.return=C;O.sibling=null}return C.child}function ng(E,C,O){switch(C.tag){case 3:vc(C),Js();break;case 5:Bd(C);break;case 1:yi(C.type)&&_a(C);break;case 4:dh(C,C.stateNode.containerInfo);break;case 10:var F=C.type._context,X=C.memoizedProps.value;Se(so,F._currentValue),F._currentValue=X;break;case 13:if(F=C.memoizedState,F!==null)return F.dehydrated!==null?(Se(Ie,Ie.current&1),C.flags|=128,null):O&C.child.childLanes?mc(E,C,O):(Se(Ie,Ie.current&1),E=Pn(E,C,O),E!==null?E.sibling:null);Se(Ie,Ie.current&1);break;case 19:if(F=(O&C.childLanes)!==0,E.flags&128){if(F)return xc(E,C,O);C.flags|=128}if(X=C.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),Se(Ie,Ie.current),F)break;return null;case 22:case 23:return C.lanes=0,fc(E,C,O)}return Pn(E,C,O)}var Ec,Nh,yc,Tc;Ec=function(E,C){for(var O=C.child;O!==null;){if(O.tag===5||O.tag===6)E.appendChild(O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===C)break;for(;O.sibling===null;){if(O.return===null||O.return===C)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},Nh=function(){},yc=function(E,C,O,F){var X=E.memoizedProps;if(X!==F){E=C.stateNode,xs(cn.current);var Z=null;switch(O){case"input":X=lt(E,X),F=lt(E,F),Z=[];break;case"select":X=z({},X,{value:void 0}),F=z({},F,{value:void 0}),Z=[];break;case"textarea":X=pt(E,X),F=pt(E,F),Z=[];break;default:typeof X.onClick!="function"&&typeof F.onClick=="function"&&(E.onclick=Qa)}Hi(O,F);var et;O=null;for(ct in X)if(!F.hasOwnProperty(ct)&&X.hasOwnProperty(ct)&&X[ct]!=null)if(ct==="style"){var nt=X[ct];for(et in nt)nt.hasOwnProperty(et)&&(O||(O={}),O[et]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(V.hasOwnProperty(ct)?Z||(Z=[]):(Z=Z||[]).push(ct,null));for(ct in F){var rt=F[ct];if(nt=X?.[ct],F.hasOwnProperty(ct)&&rt!==nt&&(rt!=null||nt!=null))if(ct==="style")if(nt){for(et in nt)!nt.hasOwnProperty(et)||rt&&rt.hasOwnProperty(et)||(O||(O={}),O[et]="");for(et in rt)rt.hasOwnProperty(et)&&nt[et]!==rt[et]&&(O||(O={}),O[et]=rt[et])}else O||(Z||(Z=[]),Z.push(ct,O)),O=rt;else ct==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,nt=nt?nt.__html:void 0,rt!=null&&nt!==rt&&(Z=Z||[]).push(ct,rt)):ct==="children"?typeof rt!="string"&&typeof rt!="number"||(Z=Z||[]).push(ct,""+rt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(V.hasOwnProperty(ct)?(rt!=null&&ct==="onScroll"&&Ce("scroll",E),Z||nt===rt||(Z=[])):(Z=Z||[]).push(ct,rt))}O&&(Z=Z||[]).push("style",O);var ct=Z;(C.updateQueue=ct)&&(C.flags|=4)}},Tc=function(E,C,O,F){O!==F&&(C.flags|=4)};function aa(E,C){if(!Pe)switch(E.tailMode){case"hidden":C=E.tail;for(var O=null;C!==null;)C.alternate!==null&&(O=C),C=C.sibling;O===null?E.tail=null:O.sibling=null;break;case"collapsed":O=E.tail;for(var F=null;O!==null;)O.alternate!==null&&(F=O),O=O.sibling;F===null?C||E.tail===null?E.tail=null:E.tail.sibling=null:F.sibling=null}}function oi(E){var C=E.alternate!==null&&E.alternate.child===E.child,O=0,F=0;if(C)for(var X=E.child;X!==null;)O|=X.lanes|X.childLanes,F|=X.subtreeFlags&14680064,F|=X.flags&14680064,X.return=E,X=X.sibling;else for(X=E.child;X!==null;)O|=X.lanes|X.childLanes,F|=X.subtreeFlags,F|=X.flags,X.return=E,X=X.sibling;return E.subtreeFlags|=F,E.childLanes=O,C}function sg(E,C,O){var F=C.pendingProps;switch(th(C),C.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(C),null;case 1:return yi(C.type)&&qa(),oi(C),null;case 3:return F=C.stateNode,er(),Re(Ei),Re(ri),ph(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(E===null||E.child===null)&&(no(C)?C.flags|=4:E===null||E.memoizedState.isDehydrated&&!(C.flags&256)||(C.flags|=1024,Ji!==null&&(Xh(Ji),Ji=null))),Nh(E,C),oi(C),null;case 5:ch(C);var X=xs(ea.current);if(O=C.type,E!==null&&C.stateNode!=null)yc(E,C,O,F,X),E.ref!==C.ref&&(C.flags|=512,C.flags|=2097152);else{if(!F){if(C.stateNode===null)throw Error(M(166));return oi(C),null}if(E=xs(cn.current),no(C)){F=C.stateNode,O=C.type;var Z=C.memoizedProps;switch(F[dn]=C,F[Qr]=Z,E=(C.mode&1)!==0,O){case"dialog":Ce("cancel",F),Ce("close",F);break;case"iframe":case"object":case"embed":Ce("load",F);break;case"video":case"audio":for(X=0;X<jr.length;X++)Ce(jr[X],F);break;case"source":Ce("error",F);break;case"img":case"image":case"link":Ce("error",F),Ce("load",F);break;case"details":Ce("toggle",F);break;case"input":ut(F,Z),Ce("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!Z.multiple},Ce("invalid",F);break;case"textarea":Pt(F,Z),Ce("invalid",F)}Hi(O,Z),X=null;for(var et in Z)if(Z.hasOwnProperty(et)){var nt=Z[et];et==="children"?typeof nt=="string"?F.textContent!==nt&&(Z.suppressHydrationWarning!==!0&&Za(F.textContent,nt,E),X=["children",nt]):typeof nt=="number"&&F.textContent!==""+nt&&(Z.suppressHydrationWarning!==!0&&Za(F.textContent,nt,E),X=["children",""+nt]):V.hasOwnProperty(et)&&nt!=null&&et==="onScroll"&&Ce("scroll",F)}switch(O){case"input":tt(F),Et(F,Z,!0);break;case"textarea":tt(F),ee(F);break;case"select":case"option":break;default:typeof Z.onClick=="function"&&(F.onclick=Qa)}F=X,C.updateQueue=F,F!==null&&(C.flags|=4)}else{et=X.nodeType===9?X:X.ownerDocument,E==="http://www.w3.org/1999/xhtml"&&(E=Jt(O)),E==="http://www.w3.org/1999/xhtml"?O==="script"?(E=et.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild)):typeof F.is=="string"?E=et.createElement(O,{is:F.is}):(E=et.createElement(O),O==="select"&&(et=E,F.multiple?et.multiple=!0:F.size&&(et.size=F.size))):E=et.createElementNS(E,O),E[dn]=C,E[Qr]=F,Ec(E,C,!1,!1),C.stateNode=E;t:{switch(et=Ki(O,F),O){case"dialog":Ce("cancel",E),Ce("close",E),X=F;break;case"iframe":case"object":case"embed":Ce("load",E),X=F;break;case"video":case"audio":for(X=0;X<jr.length;X++)Ce(jr[X],E);X=F;break;case"source":Ce("error",E),X=F;break;case"img":case"image":case"link":Ce("error",E),Ce("load",E),X=F;break;case"details":Ce("toggle",E),X=F;break;case"input":ut(E,F),X=lt(E,F),Ce("invalid",E);break;case"option":X=F;break;case"select":E._wrapperState={wasMultiple:!!F.multiple},X=z({},F,{value:void 0}),Ce("invalid",E);break;case"textarea":Pt(E,F),X=pt(E,F),Ce("invalid",E);break;default:X=F}Hi(O,X),nt=X;for(Z in nt)if(nt.hasOwnProperty(Z)){var rt=nt[Z];Z==="style"?Ge(E,rt):Z==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&oe(E,rt)):Z==="children"?typeof rt=="string"?(O!=="textarea"||rt!=="")&&te(E,rt):typeof rt=="number"&&te(E,""+rt):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(V.hasOwnProperty(Z)?rt!=null&&Z==="onScroll"&&Ce("scroll",E):rt!=null&&f(E,Z,rt,et))}switch(O){case"input":tt(E),Et(E,F,!1);break;case"textarea":tt(E),ee(E);break;case"option":F.value!=null&&E.setAttribute("value",""+j(F.value));break;case"select":E.multiple=!!F.multiple,Z=F.value,Z!=null?Dt(E,!!F.multiple,Z,!1):F.defaultValue!=null&&Dt(E,!!F.multiple,F.defaultValue,!0);break;default:typeof X.onClick=="function"&&(E.onclick=Qa)}switch(O){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break t;case"img":F=!0;break t;default:F=!1}}F&&(C.flags|=4)}C.ref!==null&&(C.flags|=512,C.flags|=2097152)}return oi(C),null;case 6:if(E&&C.stateNode!=null)Tc(E,C,E.memoizedProps,F);else{if(typeof F!="string"&&C.stateNode===null)throw Error(M(166));if(O=xs(ea.current),xs(cn.current),no(C)){if(F=C.stateNode,O=C.memoizedProps,F[dn]=C,(Z=F.nodeValue!==O)&&(E=Oi,E!==null))switch(E.tag){case 3:Za(F.nodeValue,O,(E.mode&1)!==0);break;case 5:E.memoizedProps.suppressHydrationWarning!==!0&&Za(F.nodeValue,O,(E.mode&1)!==0)}Z&&(C.flags|=4)}else F=(O.nodeType===9?O:O.ownerDocument).createTextNode(F),F[dn]=C,C.stateNode=F}return oi(C),null;case 13:if(Re(Ie),F=C.memoizedState,E===null||E.memoizedState!==null&&E.memoizedState.dehydrated!==null){if(Pe&&Mi!==null&&C.mode&1&&!(C.flags&128))Ad(),Js(),C.flags|=98560,Z=!1;else if(Z=no(C),F!==null&&F.dehydrated!==null){if(E===null){if(!Z)throw Error(M(318));if(Z=C.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(M(317));Z[dn]=C}else Js(),!(C.flags&128)&&(C.memoizedState=null),C.flags|=4;oi(C),Z=!1}else Ji!==null&&(Xh(Ji),Ji=null),Z=!0;if(!Z)return C.flags&65536?C:null}return C.flags&128?(C.lanes=O,C):(F=F!==null,F!==(E!==null&&E.memoizedState!==null)&&F&&(C.child.flags|=8192,C.mode&1&&(E===null||Ie.current&1?He===0&&(He=3):$h())),C.updateQueue!==null&&(C.flags|=4),oi(C),null);case 4:return er(),Nh(E,C),E===null&&kr(C.stateNode.containerInfo),oi(C),null;case 10:return ah(C.type._context),oi(C),null;case 17:return yi(C.type)&&qa(),oi(C),null;case 19:if(Re(Ie),Z=C.memoizedState,Z===null)return oi(C),null;if(F=(C.flags&128)!==0,et=Z.rendering,et===null)if(F)aa(Z,!1);else{if(He!==0||E!==null&&E.flags&128)for(E=C.child;E!==null;){if(et=uo(E),et!==null){for(C.flags|=128,aa(Z,!1),F=et.updateQueue,F!==null&&(C.updateQueue=F,C.flags|=4),C.subtreeFlags=0,F=O,O=C.child;O!==null;)Z=O,E=F,Z.flags&=14680066,et=Z.alternate,et===null?(Z.childLanes=0,Z.lanes=E,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=et.childLanes,Z.lanes=et.lanes,Z.child=et.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=et.memoizedProps,Z.memoizedState=et.memoizedState,Z.updateQueue=et.updateQueue,Z.type=et.type,E=et.dependencies,Z.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),O=O.sibling;return Se(Ie,Ie.current&1|2),C.child}E=E.sibling}Z.tail!==null&&Be()>rr&&(C.flags|=128,F=!0,aa(Z,!1),C.lanes=4194304)}else{if(!F)if(E=uo(et),E!==null){if(C.flags|=128,F=!0,O=E.updateQueue,O!==null&&(C.updateQueue=O,C.flags|=4),aa(Z,!0),Z.tail===null&&Z.tailMode==="hidden"&&!et.alternate&&!Pe)return oi(C),null}else 2*Be()-Z.renderingStartTime>rr&&O!==1073741824&&(C.flags|=128,F=!0,aa(Z,!1),C.lanes=4194304);Z.isBackwards?(et.sibling=C.child,C.child=et):(O=Z.last,O!==null?O.sibling=et:C.child=et,Z.last=et)}return Z.tail!==null?(C=Z.tail,Z.rendering=C,Z.tail=C.sibling,Z.renderingStartTime=Be(),C.sibling=null,O=Ie.current,Se(Ie,F?O&1|2:O&1),C):(oi(C),null);case 22:case 23:return Kh(),F=C.memoizedState!==null,E!==null&&E.memoizedState!==null!==F&&(C.flags|=8192),F&&C.mode&1?Di&1073741824&&(oi(C),C.subtreeFlags&6&&(C.flags|=8192)):oi(C),null;case 24:return null;case 25:return null}throw Error(M(156,C.tag))}function rg(E,C){switch(th(C),C.tag){case 1:return yi(C.type)&&qa(),E=C.flags,E&65536?(C.flags=E&-65537|128,C):null;case 3:return er(),Re(Ei),Re(ri),ph(),E=C.flags,E&65536&&!(E&128)?(C.flags=E&-65537|128,C):null;case 5:return ch(C),null;case 13:if(Re(Ie),E=C.memoizedState,E!==null&&E.dehydrated!==null){if(C.alternate===null)throw Error(M(340));Js()}return E=C.flags,E&65536?(C.flags=E&-65537|128,C):null;case 19:return Re(Ie),null;case 4:return er(),null;case 10:return ah(C.type._context),null;case 22:case 23:return Kh(),null;case 24:return null;default:return null}}var Eo=!1,li=!1,ag=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function nr(E,C){var O=E.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(F){Ne(E,C,F)}else O.current=null}function wh(E,C,O){try{O()}catch(F){Ne(E,C,F)}}var Sc=!1;function og(E,C){if(Kl=Va,E=_f(),Gl(E)){if("selectionStart"in E)var O={start:E.selectionStart,end:E.selectionEnd};else t:{O=(O=E.ownerDocument)&&O.defaultView||window;var F=O.getSelection&&O.getSelection();if(F&&F.rangeCount!==0){O=F.anchorNode;var X=F.anchorOffset,Z=F.focusNode;F=F.focusOffset;try{O.nodeType,Z.nodeType}catch{O=null;break t}var et=0,nt=-1,rt=-1,ct=0,St=0,At=E,Tt=null;e:for(;;){for(var wt;At!==O||X!==0&&At.nodeType!==3||(nt=et+X),At!==Z||F!==0&&At.nodeType!==3||(rt=et+F),At.nodeType===3&&(et+=At.nodeValue.length),(wt=At.firstChild)!==null;)Tt=At,At=wt;for(;;){if(At===E)break e;if(Tt===O&&++ct===X&&(nt=et),Tt===Z&&++St===F&&(rt=et),(wt=At.nextSibling)!==null)break;At=Tt,Tt=At.parentNode}At=wt}O=nt===-1||rt===-1?null:{start:nt,end:rt}}else O=null}O=O||{start:0,end:0}}else O=null;for($l={focusedElem:E,selectionRange:O},Va=!1,Ut=C;Ut!==null;)if(C=Ut,E=C.child,(C.subtreeFlags&1028)!==0&&E!==null)E.return=C,Ut=E;else for(;Ut!==null;){C=Ut;try{var Vt=C.alternate;if(C.flags&1024)switch(C.tag){case 0:case 11:case 15:break;case 1:if(Vt!==null){var bt=Vt.memoizedProps,Ue=Vt.memoizedState,ht=C.stateNode,ot=ht.getSnapshotBeforeUpdate(C.elementType===C.type?bt:qi(C.type,bt),Ue);ht.__reactInternalSnapshotBeforeUpdate=ot}break;case 3:var dt=C.stateNode.containerInfo;dt.nodeType===1?dt.textContent="":dt.nodeType===9&&dt.documentElement&&dt.removeChild(dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(Ct){Ne(C,C.return,Ct)}if(E=C.sibling,E!==null){E.return=C.return,Ut=E;break}Ut=C.return}return Vt=Sc,Sc=!1,Vt}function oa(E,C,O){var F=C.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var X=F=F.next;do{if((X.tag&E)===E){var Z=X.destroy;X.destroy=void 0,Z!==void 0&&wh(C,O,Z)}X=X.next}while(X!==F)}}function yo(E,C){if(C=C.updateQueue,C=C!==null?C.lastEffect:null,C!==null){var O=C=C.next;do{if((O.tag&E)===E){var F=O.create;O.destroy=F()}O=O.next}while(O!==C)}}function Fh(E){var C=E.ref;if(C!==null){var O=E.stateNode;switch(E.tag){case 5:E=O;break;default:E=O}typeof C=="function"?C(E):C.current=E}}function Ac(E){var C=E.alternate;C!==null&&(E.alternate=null,Ac(C)),E.child=null,E.deletions=null,E.sibling=null,E.tag===5&&(C=E.stateNode,C!==null&&(delete C[dn],delete C[Qr],delete C[Ql],delete C[Xm],delete C[Hm])),E.stateNode=null,E.return=null,E.dependencies=null,E.memoizedProps=null,E.memoizedState=null,E.pendingProps=null,E.stateNode=null,E.updateQueue=null}function Cc(E){return E.tag===5||E.tag===3||E.tag===4}function Rc(E){t:for(;;){for(;E.sibling===null;){if(E.return===null||Cc(E.return))return null;E=E.return}for(E.sibling.return=E.return,E=E.sibling;E.tag!==5&&E.tag!==6&&E.tag!==18;){if(E.flags&2||E.child===null||E.tag===4)continue t;E.child.return=E,E=E.child}if(!(E.flags&2))return E.stateNode}}function Bh(E,C,O){var F=E.tag;if(F===5||F===6)E=E.stateNode,C?O.nodeType===8?O.parentNode.insertBefore(E,C):O.insertBefore(E,C):(O.nodeType===8?(C=O.parentNode,C.insertBefore(E,O)):(C=O,C.appendChild(E)),O=O._reactRootContainer,O!=null||C.onclick!==null||(C.onclick=Qa));else if(F!==4&&(E=E.child,E!==null))for(Bh(E,C,O),E=E.sibling;E!==null;)Bh(E,C,O),E=E.sibling}function Uh(E,C,O){var F=E.tag;if(F===5||F===6)E=E.stateNode,C?O.insertBefore(E,C):O.appendChild(E);else if(F!==4&&(E=E.child,E!==null))for(Uh(E,C,O),E=E.sibling;E!==null;)Uh(E,C,O),E=E.sibling}var qe=null,_i=!1;function Zn(E,C,O){for(O=O.child;O!==null;)Lc(E,C,O),O=O.sibling}function Lc(E,C,O){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Na,O)}catch{}switch(O.tag){case 5:li||nr(O,C);case 6:var F=qe,X=_i;qe=null,Zn(E,C,O),qe=F,_i=X,qe!==null&&(_i?(E=qe,O=O.stateNode,E.nodeType===8?E.parentNode.removeChild(O):E.removeChild(O)):qe.removeChild(O.stateNode));break;case 18:qe!==null&&(_i?(E=qe,O=O.stateNode,E.nodeType===8?Zl(E.parentNode,O):E.nodeType===1&&Zl(E,O),br(E)):Zl(qe,O.stateNode));break;case 4:F=qe,X=_i,qe=O.stateNode.containerInfo,_i=!0,Zn(E,C,O),qe=F,_i=X;break;case 0:case 11:case 14:case 15:if(!li&&(F=O.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){X=F=F.next;do{var Z=X,et=Z.destroy;Z=Z.tag,et!==void 0&&(Z&2||Z&4)&&wh(O,C,et),X=X.next}while(X!==F)}Zn(E,C,O);break;case 1:if(!li&&(nr(O,C),F=O.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=O.memoizedProps,F.state=O.memoizedState,F.componentWillUnmount()}catch(nt){Ne(O,C,nt)}Zn(E,C,O);break;case 21:Zn(E,C,O);break;case 22:O.mode&1?(li=(F=li)||O.memoizedState!==null,Zn(E,C,O),li=F):Zn(E,C,O);break;default:Zn(E,C,O)}}function Pc(E){var C=E.updateQueue;if(C!==null){E.updateQueue=null;var O=E.stateNode;O===null&&(O=E.stateNode=new ag),C.forEach(function(F){var X=mg.bind(null,E,F);O.has(F)||(O.add(F),F.then(X,X))})}}function tn(E,C){var O=C.deletions;if(O!==null)for(var F=0;F<O.length;F++){var X=O[F];try{var Z=E,et=C,nt=et;t:for(;nt!==null;){switch(nt.tag){case 5:qe=nt.stateNode,_i=!1;break t;case 3:qe=nt.stateNode.containerInfo,_i=!0;break t;case 4:qe=nt.stateNode.containerInfo,_i=!0;break t}nt=nt.return}if(qe===null)throw Error(M(160));Lc(Z,et,X),qe=null,_i=!1;var rt=X.alternate;rt!==null&&(rt.return=null),X.return=null}catch(ct){Ne(X,C,ct)}}if(C.subtreeFlags&12854)for(C=C.child;C!==null;)Ic(C,E),C=C.sibling}function Ic(E,C){var O=E.alternate,F=E.flags;switch(E.tag){case 0:case 11:case 14:case 15:if(tn(C,E),pn(E),F&4){try{oa(3,E,E.return),yo(3,E)}catch(bt){Ne(E,E.return,bt)}try{oa(5,E,E.return)}catch(bt){Ne(E,E.return,bt)}}break;case 1:tn(C,E),pn(E),F&512&&O!==null&&nr(O,O.return);break;case 5:if(tn(C,E),pn(E),F&512&&O!==null&&nr(O,O.return),E.flags&32){var X=E.stateNode;try{te(X,"")}catch(bt){Ne(E,E.return,bt)}}if(F&4&&(X=E.stateNode,X!=null)){var Z=E.memoizedProps,et=O!==null?O.memoizedProps:Z,nt=E.type,rt=E.updateQueue;if(E.updateQueue=null,rt!==null)try{nt==="input"&&Z.type==="radio"&&Z.name!=null&&vt(X,Z),Ki(nt,et);var ct=Ki(nt,Z);for(et=0;et<rt.length;et+=2){var St=rt[et],At=rt[et+1];St==="style"?Ge(X,At):St==="dangerouslySetInnerHTML"?oe(X,At):St==="children"?te(X,At):f(X,St,At,ct)}switch(nt){case"input":ft(X,Z);break;case"textarea":Lt(X,Z);break;case"select":var Tt=X._wrapperState.wasMultiple;X._wrapperState.wasMultiple=!!Z.multiple;var wt=Z.value;wt!=null?Dt(X,!!Z.multiple,wt,!1):Tt!==!!Z.multiple&&(Z.defaultValue!=null?Dt(X,!!Z.multiple,Z.defaultValue,!0):Dt(X,!!Z.multiple,Z.multiple?[]:"",!1))}X[Qr]=Z}catch(bt){Ne(E,E.return,bt)}}break;case 6:if(tn(C,E),pn(E),F&4){if(E.stateNode===null)throw Error(M(162));X=E.stateNode,Z=E.memoizedProps;try{X.nodeValue=Z}catch(bt){Ne(E,E.return,bt)}}break;case 3:if(tn(C,E),pn(E),F&4&&O!==null&&O.memoizedState.isDehydrated)try{br(C.containerInfo)}catch(bt){Ne(E,E.return,bt)}break;case 4:tn(C,E),pn(E);break;case 13:tn(C,E),pn(E),X=E.child,X.flags&8192&&(Z=X.memoizedState!==null,X.stateNode.isHidden=Z,!Z||X.alternate!==null&&X.alternate.memoizedState!==null||(bh=Be())),F&4&&Pc(E);break;case 22:if(St=O!==null&&O.memoizedState!==null,E.mode&1?(li=(ct=li)||St,tn(C,E),li=ct):tn(C,E),pn(E),F&8192){if(ct=E.memoizedState!==null,(E.stateNode.isHidden=ct)&&!St&&E.mode&1)for(Ut=E,St=E.child;St!==null;){for(At=Ut=St;Ut!==null;){switch(Tt=Ut,wt=Tt.child,Tt.tag){case 0:case 11:case 14:case 15:oa(4,Tt,Tt.return);break;case 1:nr(Tt,Tt.return);var Vt=Tt.stateNode;if(typeof Vt.componentWillUnmount=="function"){F=Tt,O=Tt.return;try{C=F,Vt.props=C.memoizedProps,Vt.state=C.memoizedState,Vt.componentWillUnmount()}catch(bt){Ne(F,O,bt)}}break;case 5:nr(Tt,Tt.return);break;case 22:if(Tt.memoizedState!==null){Dc(At);continue}}wt!==null?(wt.return=Tt,Ut=wt):Dc(At)}St=St.sibling}t:for(St=null,At=E;;){if(At.tag===5){if(St===null){St=At;try{X=At.stateNode,ct?(Z=X.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none"):(nt=At.stateNode,rt=At.memoizedProps.style,et=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,nt.style.display=Fe("display",et))}catch(bt){Ne(E,E.return,bt)}}}else if(At.tag===6){if(St===null)try{At.stateNode.nodeValue=ct?"":At.memoizedProps}catch(bt){Ne(E,E.return,bt)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===E)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===E)break t;for(;At.sibling===null;){if(At.return===null||At.return===E)break t;St===At&&(St=null),At=At.return}St===At&&(St=null),At.sibling.return=At.return,At=At.sibling}}break;case 19:tn(C,E),pn(E),F&4&&Pc(E);break;case 21:break;default:tn(C,E),pn(E)}}function pn(E){var C=E.flags;if(C&2){try{t:{for(var O=E.return;O!==null;){if(Cc(O)){var F=O;break t}O=O.return}throw Error(M(160))}switch(F.tag){case 5:var X=F.stateNode;F.flags&32&&(te(X,""),F.flags&=-33);var Z=Rc(E);Uh(E,Z,X);break;case 3:case 4:var et=F.stateNode.containerInfo,nt=Rc(E);Bh(E,nt,et);break;default:throw Error(M(161))}}catch(rt){Ne(E,E.return,rt)}E.flags&=-3}C&4096&&(E.flags&=-4097)}function lg(E,C,O){Ut=E,Oc(E)}function Oc(E,C,O){for(var F=(E.mode&1)!==0;Ut!==null;){var X=Ut,Z=X.child;if(X.tag===22&&F){var et=X.memoizedState!==null||Eo;if(!et){var nt=X.alternate,rt=nt!==null&&nt.memoizedState!==null||li;nt=Eo;var ct=li;if(Eo=et,(li=rt)&&!ct)for(Ut=X;Ut!==null;)et=Ut,rt=et.child,et.tag===22&&et.memoizedState!==null?Nc(X):rt!==null?(rt.return=et,Ut=rt):Nc(X);for(;Z!==null;)Ut=Z,Oc(Z),Z=Z.sibling;Ut=X,Eo=nt,li=ct}Mc(E)}else X.subtreeFlags&8772&&Z!==null?(Z.return=X,Ut=Z):Mc(E)}}function Mc(E){for(;Ut!==null;){var C=Ut;if(C.flags&8772){var O=C.alternate;try{if(C.flags&8772)switch(C.tag){case 0:case 11:case 15:li||yo(5,C);break;case 1:var F=C.stateNode;if(C.flags&4&&!li)if(O===null)F.componentDidMount();else{var X=C.elementType===C.type?O.memoizedProps:qi(C.type,O.memoizedProps);F.componentDidUpdate(X,O.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var Z=C.updateQueue;Z!==null&&Pd(C,Z,F);break;case 3:var et=C.updateQueue;if(et!==null){if(O=null,C.child!==null)switch(C.child.tag){case 5:O=C.child.stateNode;break;case 1:O=C.child.stateNode}Pd(C,et,O)}break;case 5:var nt=C.stateNode;if(O===null&&C.flags&4){O=nt;var rt=C.memoizedProps;switch(C.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&O.focus();break;case"img":rt.src&&(O.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(C.memoizedState===null){var ct=C.alternate;if(ct!==null){var St=ct.memoizedState;if(St!==null){var At=St.dehydrated;At!==null&&br(At)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}li||C.flags&512&&Fh(C)}catch(Tt){Ne(C,C.return,Tt)}}if(C===E){Ut=null;break}if(O=C.sibling,O!==null){O.return=C.return,Ut=O;break}Ut=C.return}}function Dc(E){for(;Ut!==null;){var C=Ut;if(C===E){Ut=null;break}var O=C.sibling;if(O!==null){O.return=C.return,Ut=O;break}Ut=C.return}}function Nc(E){for(;Ut!==null;){var C=Ut;try{switch(C.tag){case 0:case 11:case 15:var O=C.return;try{yo(4,C)}catch(rt){Ne(C,O,rt)}break;case 1:var F=C.stateNode;if(typeof F.componentDidMount=="function"){var X=C.return;try{F.componentDidMount()}catch(rt){Ne(C,X,rt)}}var Z=C.return;try{Fh(C)}catch(rt){Ne(C,Z,rt)}break;case 5:var et=C.return;try{Fh(C)}catch(rt){Ne(C,et,rt)}}}catch(rt){Ne(C,C.return,rt)}if(C===E){Ut=null;break}var nt=C.sibling;if(nt!==null){nt.return=C.return,Ut=nt;break}Ut=C.return}}var hg=Math.ceil,To=h.ReactCurrentDispatcher,Gh=h.ReactCurrentOwner,Vi=h.ReactCurrentBatchConfig,he=0,ke=null,Ve=null,_e=0,Di=0,sr=Hn(0),He=0,la=null,ys=0,So=0,Vh=0,ha=null,Si=null,bh=0,rr=1/0,In=null,Ao=!1,zh=null,Qn=null,Co=!1,Jn=null,Ro=0,ua=0,Wh=null,Lo=-1,Po=0;function vi(){return he&6?Be():Lo!==-1?Lo:Lo=Be()}function qn(E){return E.mode&1?he&2&&_e!==0?_e&-_e:$m.transition!==null?(Po===0&&(Po=Cf()),Po):(E=me,E!==0||(E=window.event,E=E===void 0?16:wf(E.type)),E):1}function en(E,C,O,F){if(50<ua)throw ua=0,Wh=null,Error(M(185));Fr(E,O,F),(!(he&2)||E!==ke)&&(E===ke&&(!(he&2)&&(So|=O),He===4&&_n(E,_e)),Ai(E,F),O===1&&he===0&&!(C.mode&1)&&(rr=Be()+500,to&&$n()))}function Ai(E,C){var O=E.callbackNode;$p(E,C);var F=Ba(E,E===ke?_e:0);if(F===0)O!==null&&Tf(O),E.callbackNode=null,E.callbackPriority=0;else if(C=F&-F,E.callbackPriority!==C){if(O!=null&&Tf(O),C===1)E.tag===0?Km(Fc.bind(null,E)):xd(Fc.bind(null,E)),Wm(function(){!(he&6)&&$n()}),O=null;else{switch(Rf(F)){case 1:O=yl;break;case 4:O=Sf;break;case 16:O=Da;break;case 536870912:O=Af;break;default:O=Da}O=Yc(O,wc.bind(null,E))}E.callbackPriority=C,E.callbackNode=O}}function wc(E,C){if(Lo=-1,Po=0,he&6)throw Error(M(327));var O=E.callbackNode;if(ar()&&E.callbackNode!==O)return null;var F=Ba(E,E===ke?_e:0);if(F===0)return null;if(F&30||F&E.expiredLanes||C)C=Io(E,F);else{C=F;var X=he;he|=2;var Z=Uc();(ke!==E||_e!==C)&&(In=null,rr=Be()+500,Ss(E,C));do try{dg();break}catch(nt){Bc(E,nt)}while(1);rh(),To.current=Z,he=X,Ve!==null?C=0:(ke=null,_e=0,C=He)}if(C!==0){if(C===2&&(X=Tl(E),X!==0&&(F=X,C=Yh(E,X))),C===1)throw O=la,Ss(E,0),_n(E,F),Ai(E,Be()),O;if(C===6)_n(E,F);else{if(X=E.current.alternate,!(F&30)&&!ug(X)&&(C=Io(E,F),C===2&&(Z=Tl(E),Z!==0&&(F=Z,C=Yh(E,Z))),C===1))throw O=la,Ss(E,0),_n(E,F),Ai(E,Be()),O;switch(E.finishedWork=X,E.finishedLanes=F,C){case 0:case 1:throw Error(M(345));case 2:As(E,Si,In);break;case 3:if(_n(E,F),(F&130023424)===F&&(C=bh+500-Be(),10<C)){if(Ba(E,0)!==0)break;if(X=E.suspendedLanes,(X&F)!==F){vi(),E.pingedLanes|=E.suspendedLanes&X;break}E.timeoutHandle=kl(As.bind(null,E,Si,In),C);break}As(E,Si,In);break;case 4:if(_n(E,F),(F&4194240)===F)break;for(C=E.eventTimes,X=-1;0<F;){var et=31-Zi(F);Z=1<<et,et=C[et],et>X&&(X=et),F&=~Z}if(F=X,F=Be()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*hg(F/1960))-F,10<F){E.timeoutHandle=kl(As.bind(null,E,Si,In),F);break}As(E,Si,In);break;case 5:As(E,Si,In);break;default:throw Error(M(329))}}}return Ai(E,Be()),E.callbackNode===O?wc.bind(null,E):null}function Yh(E,C){var O=ha;return E.current.memoizedState.isDehydrated&&(Ss(E,C).flags|=256),E=Io(E,C),E!==2&&(C=Si,Si=O,C!==null&&Xh(C)),E}function Xh(E){Si===null?Si=E:Si.push.apply(Si,E)}function ug(E){for(var C=E;;){if(C.flags&16384){var O=C.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var F=0;F<O.length;F++){var X=O[F],Z=X.getSnapshot;X=X.value;try{if(!Qi(Z(),X))return!1}catch{return!1}}}if(O=C.child,C.subtreeFlags&16384&&O!==null)O.return=C,C=O;else{if(C===E)break;for(;C.sibling===null;){if(C.return===null||C.return===E)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function _n(E,C){for(C&=~Vh,C&=~So,E.suspendedLanes|=C,E.pingedLanes&=~C,E=E.expirationTimes;0<C;){var O=31-Zi(C),F=1<<O;E[O]=-1,C&=~F}}function Fc(E){if(he&6)throw Error(M(327));ar();var C=Ba(E,0);if(!(C&1))return Ai(E,Be()),null;var O=Io(E,C);if(E.tag!==0&&O===2){var F=Tl(E);F!==0&&(C=F,O=Yh(E,F))}if(O===1)throw O=la,Ss(E,0),_n(E,C),Ai(E,Be()),O;if(O===6)throw Error(M(345));return E.finishedWork=E.current.alternate,E.finishedLanes=C,As(E,Si,In),Ai(E,Be()),null}function Hh(E,C){var O=he;he|=1;try{return E(C)}finally{he=O,he===0&&(rr=Be()+500,to&&$n())}}function Ts(E){Jn!==null&&Jn.tag===0&&!(he&6)&&ar();var C=he;he|=1;var O=Vi.transition,F=me;try{if(Vi.transition=null,me=1,E)return E()}finally{me=F,Vi.transition=O,he=C,!(he&6)&&$n()}}function Kh(){Di=sr.current,Re(sr)}function Ss(E,C){E.finishedWork=null,E.finishedLanes=0;var O=E.timeoutHandle;if(O!==-1&&(E.timeoutHandle=-1,zm(O)),Ve!==null)for(O=Ve.return;O!==null;){var F=O;switch(th(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&qa();break;case 3:er(),Re(Ei),Re(ri),ph();break;case 5:ch(F);break;case 4:er();break;case 13:Re(Ie);break;case 19:Re(Ie);break;case 10:ah(F.type._context);break;case 22:case 23:Kh()}O=O.return}if(ke=E,Ve=E=ts(E.current,null),_e=Di=C,He=0,la=null,Vh=So=ys=0,Si=ha=null,gs!==null){for(C=0;C<gs.length;C++)if(O=gs[C],F=O.interleaved,F!==null){O.interleaved=null;var X=F.next,Z=O.pending;if(Z!==null){var et=Z.next;Z.next=X,F.next=et}O.pending=F}gs=null}return E}function Bc(E,C){do{var O=Ve;try{if(rh(),fo.current=mo,co){for(var F=Oe.memoizedState;F!==null;){var X=F.queue;X!==null&&(X.pending=null),F=F.next}co=!1}if(Es=0,je=Xe=Oe=null,ia=!1,na=0,Gh.current=null,O===null||O.return===null){He=1,la=C,Ve=null;break}t:{var Z=E,et=O.return,nt=O,rt=C;if(C=_e,nt.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var ct=rt,St=nt,At=St.tag;if(!(St.mode&1)&&(At===0||At===11||At===15)){var Tt=St.alternate;Tt?(St.updateQueue=Tt.updateQueue,St.memoizedState=Tt.memoizedState,St.lanes=Tt.lanes):(St.updateQueue=null,St.memoizedState=null)}var wt=ac(et);if(wt!==null){wt.flags&=-257,oc(wt,et,nt,Z,C),wt.mode&1&&rc(Z,ct,C),C=wt,rt=ct;var Vt=C.updateQueue;if(Vt===null){var bt=new Set;bt.add(rt),C.updateQueue=bt}else Vt.add(rt);break t}else{if(!(C&1)){rc(Z,ct,C),$h();break t}rt=Error(M(426))}}else if(Pe&&nt.mode&1){var Ue=ac(et);if(Ue!==null){!(Ue.flags&65536)&&(Ue.flags|=256),oc(Ue,et,nt,Z,C),nh(ir(rt,nt));break t}}Z=rt=ir(rt,nt),He!==4&&(He=2),ha===null?ha=[Z]:ha.push(Z),Z=et;do{switch(Z.tag){case 3:Z.flags|=65536,C&=-C,Z.lanes|=C;var ht=nc(Z,rt,C);Ld(Z,ht);break t;case 1:nt=rt;var ot=Z.type,dt=Z.stateNode;if(!(Z.flags&128)&&(typeof ot.getDerivedStateFromError=="function"||dt!==null&&typeof dt.componentDidCatch=="function"&&(Qn===null||!Qn.has(dt)))){Z.flags|=65536,C&=-C,Z.lanes|=C;var Ct=sc(Z,nt,C);Ld(Z,Ct);break t}}Z=Z.return}while(Z!==null)}Vc(O)}catch(Wt){C=Wt,Ve===O&&O!==null&&(Ve=O=O.return);continue}break}while(1)}function Uc(){var E=To.current;return To.current=mo,E===null?mo:E}function $h(){(He===0||He===3||He===2)&&(He=4),ke===null||!(ys&268435455)&&!(So&268435455)||_n(ke,_e)}function Io(E,C){var O=he;he|=2;var F=Uc();(ke!==E||_e!==C)&&(In=null,Ss(E,C));do try{fg();break}catch(X){Bc(E,X)}while(1);if(rh(),he=O,To.current=F,Ve!==null)throw Error(M(261));return ke=null,_e=0,He}function fg(){for(;Ve!==null;)Gc(Ve)}function dg(){for(;Ve!==null&&!Gp();)Gc(Ve)}function Gc(E){var C=Wc(E.alternate,E,Di);E.memoizedProps=E.pendingProps,C===null?Vc(E):Ve=C,Gh.current=null}function Vc(E){var C=E;do{var O=C.alternate;if(E=C.return,C.flags&32768){if(O=rg(O,C),O!==null){O.flags&=32767,Ve=O;return}if(E!==null)E.flags|=32768,E.subtreeFlags=0,E.deletions=null;else{He=6,Ve=null;return}}else if(O=sg(O,C,Di),O!==null){Ve=O;return}if(C=C.sibling,C!==null){Ve=C;return}Ve=C=E}while(C!==null);He===0&&(He=5)}function As(E,C,O){var F=me,X=Vi.transition;try{Vi.transition=null,me=1,cg(E,C,O,F)}finally{Vi.transition=X,me=F}return null}function cg(E,C,O,F){do ar();while(Jn!==null);if(he&6)throw Error(M(327));O=E.finishedWork;var X=E.finishedLanes;if(O===null)return null;if(E.finishedWork=null,E.finishedLanes=0,O===E.current)throw Error(M(177));E.callbackNode=null,E.callbackPriority=0;var Z=O.lanes|O.childLanes;if(jp(E,Z),E===ke&&(Ve=ke=null,_e=0),!(O.subtreeFlags&2064)&&!(O.flags&2064)||Co||(Co=!0,Yc(Da,function(){return ar(),null})),Z=(O.flags&15990)!==0,O.subtreeFlags&15990||Z){Z=Vi.transition,Vi.transition=null;var et=me;me=1;var nt=he;he|=4,Gh.current=null,og(E,O),Ic(O,E),wm($l),Va=!!Kl,$l=Kl=null,E.current=O,lg(O),Vp(),he=nt,me=et,Vi.transition=Z}else E.current=O;if(Co&&(Co=!1,Jn=E,Ro=X),Z=E.pendingLanes,Z===0&&(Qn=null),Wp(O.stateNode),Ai(E,Be()),C!==null)for(F=E.onRecoverableError,O=0;O<C.length;O++)X=C[O],F(X.value,{componentStack:X.stack,digest:X.digest});if(Ao)throw Ao=!1,E=zh,zh=null,E;return Ro&1&&E.tag!==0&&ar(),Z=E.pendingLanes,Z&1?E===Wh?ua++:(ua=0,Wh=E):ua=0,$n(),null}function ar(){if(Jn!==null){var E=Rf(Ro),C=Vi.transition,O=me;try{if(Vi.transition=null,me=16>E?16:E,Jn===null)var F=!1;else{if(E=Jn,Jn=null,Ro=0,he&6)throw Error(M(331));var X=he;for(he|=4,Ut=E.current;Ut!==null;){var Z=Ut,et=Z.child;if(Ut.flags&16){var nt=Z.deletions;if(nt!==null){for(var rt=0;rt<nt.length;rt++){var ct=nt[rt];for(Ut=ct;Ut!==null;){var St=Ut;switch(St.tag){case 0:case 11:case 15:oa(8,St,Z)}var At=St.child;if(At!==null)At.return=St,Ut=At;else for(;Ut!==null;){St=Ut;var Tt=St.sibling,wt=St.return;if(Ac(St),St===ct){Ut=null;break}if(Tt!==null){Tt.return=wt,Ut=Tt;break}Ut=wt}}}var Vt=Z.alternate;if(Vt!==null){var bt=Vt.child;if(bt!==null){Vt.child=null;do{var Ue=bt.sibling;bt.sibling=null,bt=Ue}while(bt!==null)}}Ut=Z}}if(Z.subtreeFlags&2064&&et!==null)et.return=Z,Ut=et;else t:for(;Ut!==null;){if(Z=Ut,Z.flags&2048)switch(Z.tag){case 0:case 11:case 15:oa(9,Z,Z.return)}var ht=Z.sibling;if(ht!==null){ht.return=Z.return,Ut=ht;break t}Ut=Z.return}}var ot=E.current;for(Ut=ot;Ut!==null;){et=Ut;var dt=et.child;if(et.subtreeFlags&2064&&dt!==null)dt.return=et,Ut=dt;else t:for(et=ot;Ut!==null;){if(nt=Ut,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:yo(9,nt)}}catch(Wt){Ne(nt,nt.return,Wt)}if(nt===et){Ut=null;break t}var Ct=nt.sibling;if(Ct!==null){Ct.return=nt.return,Ut=Ct;break t}Ut=nt.return}}if(he=X,$n(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Na,E)}catch{}F=!0}return F}finally{me=O,Vi.transition=C}}return!1}function bc(E,C,O){C=ir(O,C),C=nc(E,C,1),E=kn(E,C,1),C=vi(),E!==null&&(Fr(E,1,C),Ai(E,C))}function Ne(E,C,O){if(E.tag===3)bc(E,E,O);else for(;C!==null;){if(C.tag===3){bc(C,E,O);break}else if(C.tag===1){var F=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(Qn===null||!Qn.has(F))){E=ir(O,E),E=sc(C,E,1),C=kn(C,E,1),E=vi(),C!==null&&(Fr(C,1,E),Ai(C,E));break}}C=C.return}}function vg(E,C,O){var F=E.pingCache;F!==null&&F.delete(C),C=vi(),E.pingedLanes|=E.suspendedLanes&O,ke===E&&(_e&O)===O&&(He===4||He===3&&(_e&130023424)===_e&&500>Be()-bh?Ss(E,0):Vh|=O),Ai(E,C)}function zc(E,C){C===0&&(E.mode&1?(C=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):C=1);var O=vi();E=Rn(E,C),E!==null&&(Fr(E,C,O),Ai(E,O))}function pg(E){var C=E.memoizedState,O=0;C!==null&&(O=C.retryLane),zc(E,O)}function mg(E,C){var O=0;switch(E.tag){case 13:var F=E.stateNode,X=E.memoizedState;X!==null&&(O=X.retryLane);break;case 19:F=E.stateNode;break;default:throw Error(M(314))}F!==null&&F.delete(C),zc(E,O)}var Wc;Wc=function(E,C,O){if(E!==null)if(E.memoizedProps!==C.pendingProps||Ei.current)Ti=!0;else{if(!(E.lanes&O)&&!(C.flags&128))return Ti=!1,ng(E,C,O);Ti=!!(E.flags&131072)}else Ti=!1,Pe&&C.flags&1048576&&Ed(C,io,C.index);switch(C.lanes=0,C.tag){case 2:var F=C.type;xo(E,C),E=C.pendingProps;var X=ks(C,ri.current);_s(C,O),X=xh(null,C,F,E,X,O);var Z=Eh();return C.flags|=1,typeof X=="object"&&X!==null&&typeof X.render=="function"&&X.$$typeof===void 0?(C.tag=1,C.memoizedState=null,C.updateQueue=null,yi(F)?(Z=!0,_a(C)):Z=!1,C.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,hh(C),X.updater=lo,C.stateNode=X,X._reactInternals=C,fh(C,F,E,O),C=Ph(null,C,F,!0,Z,O)):(C.tag=0,Pe&&Z&&_l(C),ci(null,C,X,O),C=C.child),C;case 16:F=C.elementType;t:{switch(xo(E,C),E=C.pendingProps,X=F._init,F=X(F._payload),C.type=F,X=C.tag=xg(F),E=qi(F,E),X){case 0:C=Lh(null,C,F,E,O);break t;case 1:C=cc(null,C,F,E,O);break t;case 11:C=lc(null,C,F,E,O);break t;case 14:C=hc(null,C,F,qi(F.type,E),O);break t}throw Error(M(306,F,""))}return C;case 0:return F=C.type,X=C.pendingProps,X=C.elementType===F?X:qi(F,X),Lh(E,C,F,X,O);case 1:return F=C.type,X=C.pendingProps,X=C.elementType===F?X:qi(F,X),cc(E,C,F,X,O);case 3:t:{if(vc(C),E===null)throw Error(M(387));F=C.pendingProps,Z=C.memoizedState,X=Z.element,Rd(E,C),oo(C,F,null,O);var et=C.memoizedState;if(F=et.element,Z.isDehydrated)if(Z={element:F,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},C.updateQueue.baseState=Z,C.memoizedState=Z,C.flags&256){X=ir(Error(M(423)),C),C=pc(E,C,F,O,X);break t}else if(F!==X){X=ir(Error(M(424)),C),C=pc(E,C,F,O,X);break t}else for(Mi=Xn(C.stateNode.containerInfo.firstChild),Oi=C,Pe=!0,Ji=null,O=Fd(C,null,F,O),C.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(Js(),F===X){C=Pn(E,C,O);break t}ci(E,C,F,O)}C=C.child}return C;case 5:return Bd(C),E===null&&ih(C),F=C.type,X=C.pendingProps,Z=E!==null?E.memoizedProps:null,et=X.children,jl(F,X)?et=null:Z!==null&&jl(F,Z)&&(C.flags|=32),dc(E,C),ci(E,C,et,O),C.child;case 6:return E===null&&ih(C),null;case 13:return mc(E,C,O);case 4:return dh(C,C.stateNode.containerInfo),F=C.pendingProps,E===null?C.child=tr(C,null,F,O):ci(E,C,F,O),C.child;case 11:return F=C.type,X=C.pendingProps,X=C.elementType===F?X:qi(F,X),lc(E,C,F,X,O);case 7:return ci(E,C,C.pendingProps,O),C.child;case 8:return ci(E,C,C.pendingProps.children,O),C.child;case 12:return ci(E,C,C.pendingProps.children,O),C.child;case 10:t:{if(F=C.type._context,X=C.pendingProps,Z=C.memoizedProps,et=X.value,Se(so,F._currentValue),F._currentValue=et,Z!==null)if(Qi(Z.value,et)){if(Z.children===X.children&&!Ei.current){C=Pn(E,C,O);break t}}else for(Z=C.child,Z!==null&&(Z.return=C);Z!==null;){var nt=Z.dependencies;if(nt!==null){et=Z.child;for(var rt=nt.firstContext;rt!==null;){if(rt.context===F){if(Z.tag===1){rt=Ln(-1,O&-O),rt.tag=2;var ct=Z.updateQueue;if(ct!==null){ct=ct.shared;var St=ct.pending;St===null?rt.next=rt:(rt.next=St.next,St.next=rt),ct.pending=rt}}Z.lanes|=O,rt=Z.alternate,rt!==null&&(rt.lanes|=O),oh(Z.return,O,C),nt.lanes|=O;break}rt=rt.next}}else if(Z.tag===10)et=Z.type===C.type?null:Z.child;else if(Z.tag===18){if(et=Z.return,et===null)throw Error(M(341));et.lanes|=O,nt=et.alternate,nt!==null&&(nt.lanes|=O),oh(et,O,C),et=Z.sibling}else et=Z.child;if(et!==null)et.return=Z;else for(et=Z;et!==null;){if(et===C){et=null;break}if(Z=et.sibling,Z!==null){Z.return=et.return,et=Z;break}et=et.return}Z=et}ci(E,C,X.children,O),C=C.child}return C;case 9:return X=C.type,F=C.pendingProps.children,_s(C,O),X=Ui(X),F=F(X),C.flags|=1,ci(E,C,F,O),C.child;case 14:return F=C.type,X=qi(F,C.pendingProps),X=qi(F.type,X),hc(E,C,F,X,O);case 15:return uc(E,C,C.type,C.pendingProps,O);case 17:return F=C.type,X=C.pendingProps,X=C.elementType===F?X:qi(F,X),xo(E,C),C.tag=1,yi(F)?(E=!0,_a(C)):E=!1,_s(C,O),Md(C,F,X),fh(C,F,X,O),Ph(null,C,F,!0,E,O);case 19:return xc(E,C,O);case 22:return fc(E,C,O)}throw Error(M(156,C.tag))};function Yc(E,C){return yf(E,C)}function gg(E,C,O,F){this.tag=E,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(E,C,O,F){return new gg(E,C,O,F)}function jh(E){return E=E.prototype,!(!E||!E.isReactComponent)}function xg(E){if(typeof E=="function")return jh(E)?1:0;if(E!=null){if(E=E.$$typeof,E===R)return 11;if(E===I)return 14}return 2}function ts(E,C){var O=E.alternate;return O===null?(O=bi(E.tag,C,E.key,E.mode),O.elementType=E.elementType,O.type=E.type,O.stateNode=E.stateNode,O.alternate=E,E.alternate=O):(O.pendingProps=C,O.type=E.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=E.flags&14680064,O.childLanes=E.childLanes,O.lanes=E.lanes,O.child=E.child,O.memoizedProps=E.memoizedProps,O.memoizedState=E.memoizedState,O.updateQueue=E.updateQueue,C=E.dependencies,O.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},O.sibling=E.sibling,O.index=E.index,O.ref=E.ref,O}function Oo(E,C,O,F,X,Z){var et=2;if(F=E,typeof E=="function")jh(E)&&(et=1);else if(typeof E=="string")et=5;else t:switch(E){case g:return Cs(O.children,X,Z,C);case x:et=8,X|=8;break;case m:return E=bi(12,O,C,X|2),E.elementType=m,E.lanes=Z,E;case P:return E=bi(13,O,C,X),E.elementType=P,E.lanes=Z,E;case D:return E=bi(19,O,C,X),E.elementType=D,E.lanes=Z,E;case U:return Mo(O,X,Z,C);default:if(typeof E=="object"&&E!==null)switch(E.$$typeof){case y:et=10;break t;case T:et=9;break t;case R:et=11;break t;case I:et=14;break t;case w:et=16,F=null;break t}throw Error(M(130,E==null?E:typeof E,""))}return C=bi(et,O,C,X),C.elementType=E,C.type=F,C.lanes=Z,C}function Cs(E,C,O,F){return E=bi(7,E,F,C),E.lanes=O,E}function Mo(E,C,O,F){return E=bi(22,E,F,C),E.elementType=U,E.lanes=O,E.stateNode={isHidden:!1},E}function kh(E,C,O){return E=bi(6,E,null,C),E.lanes=O,E}function Zh(E,C,O){return C=bi(4,E.children!==null?E.children:[],E.key,C),C.lanes=O,C.stateNode={containerInfo:E.containerInfo,pendingChildren:null,implementation:E.implementation},C}function Eg(E,C,O,F,X){this.tag=C,this.containerInfo=E,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=F,this.onRecoverableError=X,this.mutableSourceEagerHydrationData=null}function Qh(E,C,O,F,X,Z,et,nt,rt){return E=new Eg(E,C,O,nt,rt),C===1?(C=1,Z===!0&&(C|=8)):C=0,Z=bi(3,null,null,C),E.current=Z,Z.stateNode=E,Z.memoizedState={element:F,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(Z),E}function yg(E,C,O){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:F==null?null:""+F,children:E,containerInfo:C,implementation:O}}function Xc(E){if(!E)return Kn;E=E._reactInternals;t:{if(ds(E)!==E||E.tag!==1)throw Error(M(170));var C=E;do{switch(C.tag){case 3:C=C.stateNode.context;break t;case 1:if(yi(C.type)){C=C.stateNode.__reactInternalMemoizedMergedChildContext;break t}}C=C.return}while(C!==null);throw Error(M(171))}if(E.tag===1){var O=E.type;if(yi(O))return md(E,O,C)}return C}function Hc(E,C,O,F,X,Z,et,nt,rt){return E=Qh(O,F,!0,E,X,Z,et,nt,rt),E.context=Xc(null),O=E.current,F=vi(),X=qn(O),Z=Ln(F,X),Z.callback=C??null,kn(O,Z,X),E.current.lanes=X,Fr(E,X,F),Ai(E,F),E}function Do(E,C,O,F){var X=C.current,Z=vi(),et=qn(X);return O=Xc(O),C.context===null?C.context=O:C.pendingContext=O,C=Ln(Z,et),C.payload={element:E},F=F===void 0?null:F,F!==null&&(C.callback=F),E=kn(X,C,et),E!==null&&(en(E,X,et,Z),ao(E,X,et)),et}function No(E){if(E=E.current,!E.child)return null;switch(E.child.tag){case 5:return E.child.stateNode;default:return E.child.stateNode}}function Kc(E,C){if(E=E.memoizedState,E!==null&&E.dehydrated!==null){var O=E.retryLane;E.retryLane=O!==0&&O<C?O:C}}function Jh(E,C){Kc(E,C),(E=E.alternate)&&Kc(E,C)}function Tg(){return null}var $c=typeof reportError=="function"?reportError:function(E){console.error(E)};function qh(E){this._internalRoot=E}wo.prototype.render=qh.prototype.render=function(E){var C=this._internalRoot;if(C===null)throw Error(M(409));Do(E,C,null,null)},wo.prototype.unmount=qh.prototype.unmount=function(){var E=this._internalRoot;if(E!==null){this._internalRoot=null;var C=E.containerInfo;Ts(function(){Do(null,E,null,null)}),C[Tn]=null}};function wo(E){this._internalRoot=E}wo.prototype.unstable_scheduleHydration=function(E){if(E){var C=If();E={blockedOn:null,target:E,priority:C};for(var O=0;O<zn.length&&C!==0&&C<zn[O].priority;O++);zn.splice(O,0,E),O===0&&Df(E)}};function _h(E){return!(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)}function Fo(E){return!(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11&&(E.nodeType!==8||E.nodeValue!==" react-mount-point-unstable "))}function jc(){}function Sg(E,C,O,F,X){if(X){if(typeof F=="function"){var Z=F;F=function(){var ct=No(et);Z.call(ct)}}var et=Hc(C,F,E,0,null,!1,!1,"",jc);return E._reactRootContainer=et,E[Tn]=et.current,kr(E.nodeType===8?E.parentNode:E),Ts(),et}for(;X=E.lastChild;)E.removeChild(X);if(typeof F=="function"){var nt=F;F=function(){var ct=No(rt);nt.call(ct)}}var rt=Qh(E,0,!1,null,null,!1,!1,"",jc);return E._reactRootContainer=rt,E[Tn]=rt.current,kr(E.nodeType===8?E.parentNode:E),Ts(function(){Do(C,rt,O,F)}),rt}function Bo(E,C,O,F,X){var Z=O._reactRootContainer;if(Z){var et=Z;if(typeof X=="function"){var nt=X;X=function(){var rt=No(et);nt.call(rt)}}Do(C,et,E,X)}else et=Sg(O,C,E,X,F);return No(et)}Lf=function(E){switch(E.tag){case 3:var C=E.stateNode;if(C.current.memoizedState.isDehydrated){var O=wr(C.pendingLanes);O!==0&&(Al(C,O|1),Ai(C,Be()),!(he&6)&&(rr=Be()+500,$n()))}break;case 13:Ts(function(){var F=Rn(E,1);if(F!==null){var X=vi();en(F,E,1,X)}}),Jh(E,1)}},Cl=function(E){if(E.tag===13){var C=Rn(E,134217728);if(C!==null){var O=vi();en(C,E,134217728,O)}Jh(E,134217728)}},Pf=function(E){if(E.tag===13){var C=qn(E),O=Rn(E,C);if(O!==null){var F=vi();en(O,E,C,F)}Jh(E,C)}},If=function(){return me},Of=function(E,C){var O=me;try{return me=E,C()}finally{me=O}},ki=function(E,C,O){switch(C){case"input":if(ft(E,O),C=O.name,O.type==="radio"&&C!=null){for(O=E;O.parentNode;)O=O.parentNode;for(O=O.querySelectorAll("input[name="+JSON.stringify(""+C)+'][type="radio"]'),C=0;C<O.length;C++){var F=O[C];if(F!==E&&F.form===E.form){var X=Ja(F);if(!X)throw Error(M(90));it(F),ft(F,X)}}}break;case"textarea":Lt(E,O);break;case"select":C=O.value,C!=null&&Dt(E,!!O.multiple,C,!1)}},cf=Hh,vf=Ts;var Ag={usingClientEntryPoint:!1,Events:[Jr,$s,Ja,ff,df,Hh]},fa={findFiberByHostInstance:cs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Cg={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:function(E){return E=xf(E),E===null?null:E.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||Tg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Na=Uo.inject(Cg),fn=Uo}catch{}}return Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ag,Ci.createPortal=function(E,C){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_h(C))throw Error(M(200));return yg(E,C,null,O)},Ci.createRoot=function(E,C){if(!_h(E))throw Error(M(299));var O=!1,F="",X=$c;return C!=null&&(C.unstable_strictMode===!0&&(O=!0),C.identifierPrefix!==void 0&&(F=C.identifierPrefix),C.onRecoverableError!==void 0&&(X=C.onRecoverableError)),C=Qh(E,1,!1,null,null,O,!1,F,X),E[Tn]=C.current,kr(E.nodeType===8?E.parentNode:E),new qh(C)},Ci.findDOMNode=function(E){if(E==null)return null;if(E.nodeType===1)return E;var C=E._reactInternals;if(C===void 0)throw typeof E.render=="function"?Error(M(188)):(E=Object.keys(E).join(","),Error(M(268,E)));return E=xf(C),E=E===null?null:E.stateNode,E},Ci.flushSync=function(E){return Ts(E)},Ci.hydrate=function(E,C,O){if(!Fo(C))throw Error(M(200));return Bo(null,E,C,!0,O)},Ci.hydrateRoot=function(E,C,O){if(!_h(E))throw Error(M(405));var F=O!=null&&O.hydratedSources||null,X=!1,Z="",et=$c;if(O!=null&&(O.unstable_strictMode===!0&&(X=!0),O.identifierPrefix!==void 0&&(Z=O.identifierPrefix),O.onRecoverableError!==void 0&&(et=O.onRecoverableError)),C=Hc(C,null,E,1,O??null,X,!1,Z,et),E[Tn]=C.current,kr(E),F)for(E=0;E<F.length;E++)O=F[E],X=O._getVersion,X=X(O._source),C.mutableSourceEagerHydrationData==null?C.mutableSourceEagerHydrationData=[O,X]:C.mutableSourceEagerHydrationData.push(O,X);return new wo(C)},Ci.render=function(E,C,O){if(!Fo(C))throw Error(M(200));return Bo(null,E,C,!1,O)},Ci.unmountComponentAtNode=function(E){if(!Fo(E))throw Error(M(40));return E._reactRootContainer?(Ts(function(){Bo(null,null,E,!1,function(){E._reactRootContainer=null,E[Tn]=null})}),!0):!1},Ci.unstable_batchedUpdates=Hh,Ci.unstable_renderSubtreeIntoContainer=function(E,C,O,F){if(!Fo(O))throw Error(M(200));if(E==null||E._reactInternals===void 0)throw Error(M(38));return Bo(E,C,O,!1,F)},Ci.version="18.2.0-next-9e3b772b8-20220608",Ci}var ov;function L0(){if(ov)return ru.exports;ov=1;function L(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L)}catch(A){console.error(A)}}return L(),ru.exports=R0(),ru.exports}var lv;function P0(){if(lv)return bo;lv=1;var L=L0();return bo.createRoot=L.createRoot,bo.hydrateRoot=L.hydrateRoot,bo}(()=>{var L={460:function(B,V,k){var p=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(V,"__esModule",{value:!0});var S=p(k(969)),t=S.default.Loader.File.createObjectURL;S.default.Loader.File.createObjectURL=function(u,v,o){u.originBlob=v,t.call(this,u,v,o)}},610:function(B,V,k){var p=this&&this.__createBinding||(Object.create?function(t,u,v,o){o===void 0&&(o=v);var r=Object.getOwnPropertyDescriptor(u,v);r&&!("get"in r?!u.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return u[v]}}),Object.defineProperty(t,o,r)}:function(t,u,v,o){o===void 0&&(o=v),t[o]=u[v]}),S=this&&this.__exportStar||function(t,u){for(var v in t)v==="default"||Object.prototype.hasOwnProperty.call(u,v)||p(u,t,v)};Object.defineProperty(V,"__esModule",{value:!0}),S(k(159),V),S(k(644),V),S(k(418),V)},644:function(B,V,k){var p=this&&this.__createBinding||(Object.create?function(r,s,e,i){i===void 0&&(i=e);var l=Object.getOwnPropertyDescriptor(s,e);l&&!("get"in l?!s.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return s[e]}}),Object.defineProperty(r,i,l)}:function(r,s,e,i){i===void 0&&(i=e),r[i]=s[e]}),S=this&&this.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),t=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&p(s,r,e);return S(s,r),s},u=this&&this.__rest||function(r,s){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&s.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)s.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(e[i[l]]=r[i[l]])}return e};Object.defineProperty(V,"__esModule",{value:!0}),V.RelativePosition=void 0;var v=t(k(497)),o=k(362);V.RelativePosition=function(r){var s=r.children,e=u(r,["children"]),i=(0,o.useRelativePosition)(e);return(0,v.useLayoutEffect)(function(){i.current&&(i.current.style.position="absolute")},[]),v.default.createElement("div",{ref:i},s)}},159:function(B,V,k){var p=this&&this.__createBinding||(Object.create?function(r,s,e,i){i===void 0&&(i=e);var l=Object.getOwnPropertyDescriptor(s,e);l&&!("get"in l?!s.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return s[e]}}),Object.defineProperty(r,i,l)}:function(r,s,e,i){i===void 0&&(i=e),r[i]=s[e]}),S=this&&this.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),t=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&p(s,r,e);return S(s,r),s},u=this&&this.__rest||function(r,s){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&s.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)s.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(e[i[l]]=r[i[l]])}return e};Object.defineProperty(V,"__esModule",{value:!0}),V.RelativeScale=void 0;var v=t(k(497)),o=k(362);V.RelativeScale=function(r){var s=r.children,e=u(r,["children"]),i=(0,o.useRelativeScale)(e);return(0,v.useLayoutEffect)(function(){i.current&&(i.current.style.position="absolute")},[]),v.default.createElement("div",{ref:i},s)}},418:function(B,V,k){var p=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(V,"__esModule",{value:!0}),V.Texture=void 0;var S=p(k(497)),t=k(362);V.Texture=function(u){var v=u.name,o=(0,t.useTexture)(v);return o?S.default.createElement("img",{src:o,role:"texture",alt:v}):null}},794:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.SceneProvider=V.SceneContext=void 0;var p=k(497);V.SceneContext=(0,p.createContext)(null),V.SceneProvider=V.SceneContext.Provider},362:function(B,V,k){var p=this&&this.__createBinding||(Object.create?function(t,u,v,o){o===void 0&&(o=v);var r=Object.getOwnPropertyDescriptor(u,v);r&&!("get"in r?!u.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return u[v]}}),Object.defineProperty(t,o,r)}:function(t,u,v,o){o===void 0&&(o=v),t[o]=u[v]}),S=this&&this.__exportStar||function(t,u){for(var v in t)v==="default"||Object.prototype.hasOwnProperty.call(u,v)||p(u,t,v)};Object.defineProperty(V,"__esModule",{value:!0}),S(k(386),V),S(k(664),V),S(k(531),V),S(k(692),V),S(k(465),V),S(k(870),V),S(k(666),V),S(k(457),V),S(k(13),V),S(k(90),V),S(k(253),V),S(k(711),V),S(k(519),V)},253:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useClickOutside=void 0;var p=k(497),S=k(13);V.useClickOutside=function(t,u,v){var o=(0,S.useMobilePlatform)(),r=(0,p.useCallback)(function(s){t.current&&(s.composedPath().includes(t.current)||u())},v);(0,p.useEffect)(function(){var s=o?"touchend":"mouseup";return document.addEventListener(s,r),function(){document.removeEventListener(s,r)}},[o,r])}},90:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useClick=void 0;var p=k(497),S=k(13);V.useClick=function(t,u,v,o){var r=(0,S.useMobilePlatform)(),s=(0,p.useCallback)(function(e){v(e),e.stopPropagation(),e.preventDefault()},o);(0,p.useEffect)(function(){var e,i=t.current;if(i)return e=r?u==="up"?"touchend":"touchstart":u==="up"?"mouseup":"mousedown",i.addEventListener(e,s),function(){i.removeEventListener(e,s)}},[u,r,s])}},664:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useCurrentScene=void 0;var p=k(497),S=k(794);V.useCurrentScene=function(){var t=(0,p.useContext)(S.SceneContext);if(!t)throw Error("Undefined scene context");return t}},711:(B,V,k)=>{function p(t,u){(u==null||u>t.length)&&(u=t.length);for(var v=0,o=new Array(u);v<u;v++)o[v]=t[v];return o}Object.defineProperty(V,"__esModule",{value:!0}),V.useEvent=void 0;var S=k(497);V.useEvent=function(t,u,v,o){var r;(0,S.useEffect)(function(){if(t)return t.on(u,v),function(){t.off(u,v)}},[t,u].concat(function(s){if(Array.isArray(s))return p(s)}(r=o)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(r)||function(s,e){if(s){if(typeof s=="string")return p(s,e);var i=Object.prototype.toString.call(s).slice(8,-1);return i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set"?Array.from(s):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(s,e):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))}},386:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useGame=void 0;var p=k(497),S=k(794);V.useGame=function(){var t=(0,p.useContext)(S.SceneContext);if(!t)throw Error("Undefined scene context");return t.game}},519:(B,V,k)=>{function p(r,s){if(r){if(typeof r=="string")return S(r,s);var e=Object.prototype.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?S(r,s):void 0}}function S(r,s){(s==null||s>r.length)&&(s=r.length);for(var e=0,i=new Array(s);e<s;e++)i[e]=r[e];return i}Object.defineProperty(V,"__esModule",{value:!0}),V.useInteraction=void 0;var t=k(497),u=k(13),v=k(90),o=k(253);V.useInteraction=function(r,s,e){var i,l,n=(0,u.useMobilePlatform)(),a=(i=(0,t.useState)(!1),l=2,function(g){if(Array.isArray(g))return g}(i)||function(g,x){var m=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(m!=null){var y,T,R,P,D=[],I=!0,w=!1;try{if(R=(m=m.call(g)).next,x===0){if(Object(m)!==m)return;I=!1}else for(;!(I=(y=R.call(m)).done)&&(D.push(y.value),D.length!==x);I=!0);}catch(U){w=!0,T=U}finally{try{if(!I&&m.return!=null&&(P=m.return(),Object(P)!==P))return}finally{if(w)throw T}}return D}}(i,l)||p(i,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),f=a[0],h=a[1];(0,o.useClickOutside)(r,function(){h(!1)},[]),(0,v.useClick)(r,"down",function(){f?(s?.(),n&&h(!1)):h(!0)},[f,n].concat(function(g){return function(x){if(Array.isArray(x))return S(x)}(g)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(g)||p(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(e??[])));var d=function(){h(!0)},c=function(){h(!1)};return(0,t.useEffect)(function(){if(!n){var g=r.current;if(g)return g.addEventListener("mouseenter",d),g.addEventListener("mouseleave",c),function(){g.removeEventListener("mouseenter",d),g.removeEventListener("mouseleave",c)}}},[n]),f}},457:(B,V,k)=>{function p(t,u){(u==null||u>t.length)&&(u=t.length);for(var v=0,o=new Array(u);v<u;v++)o[v]=t[v];return o}Object.defineProperty(V,"__esModule",{value:!0}),V.useMatchMedia=void 0;var S=k(497);V.useMatchMedia=function(t){var u,v,o=(u=(0,S.useState)(null),v=2,function(i){if(Array.isArray(i))return i}(u)||function(i,l){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var a,f,h,d,c=[],g=!0,x=!1;try{if(h=(n=n.call(i)).next,l===0){if(Object(n)!==n)return;g=!1}else for(;!(g=(a=h.call(n)).done)&&(c.push(a.value),c.length!==l);g=!0);}catch(m){x=!0,f=m}finally{try{if(!g&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(x)throw f}}return c}}(u,v)||function(i,l){if(i){if(typeof i=="string")return p(i,l);var n=Object.prototype.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(i,l):void 0}}(u,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),r=o[0],s=o[1],e=function(i){s(i.matches)};return(0,S.useEffect)(function(){var i=window.matchMedia(t);return s(i.matches),i.addEventListener("change",e),function(){i.removeEventListener("change",e)}},[t]),r}},13:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useMobilePlatform=void 0;var p=k(386);V.useMobilePlatform=function(){return!(0,p.useGame)().device.os.desktop}},465:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useRelativePosition=void 0;var p=k(497),S=k(664),t=k(692);V.useRelativePosition=function(u){var v=u.x,o=u.y,r=u.camera,s=(0,S.useCurrentScene)(),e=r??s.cameras.main,i=(0,p.useRef)(null);return(0,t.useSceneUpdate)(s,function(){if(i.current){var l=Math.round((v-e.worldView.x)*e.zoom),n=Math.round((o-e.worldView.y)*e.zoom);i.current.style.transform="translate(".concat(l,"px, ").concat(n,"px)")}},[v,o,e]),i}},870:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useRelativeScale=void 0;var p=k(497),S=k(386);V.useRelativeScale=function(t){var u=t.target,v=t.min,o=t.max,r=t.round,s=(0,S.useGame)(),e=(0,p.useRef)(null),i=(0,p.useCallback)(function(){if(e.current){var l=s.canvas.parentElement;if(l){var n=l.clientWidth/u;typeof o=="number"&&(n=Math.min(n,o)),typeof v=="number"&&(n=Math.max(n,v)),r&&(n=Math.round(10*n)/10),e.current.style.removeProperty("transform"),e.current.style.removeProperty("transformOrigin"),e.current.style.removeProperty("width"),e.current.style.removeProperty("height");var a=e.current.clientWidth,f=e.current.clientHeight;e.current.style.transform="scale(".concat(n,")"),e.current.style.transformOrigin="0 0",e.current.style.width="".concat(a/n,"px"),e.current.style.height="".concat(f/n,"px")}}},[u,v,o,r]);return(0,p.useEffect)(function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}},[i]),e}},692:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useSceneUpdate=void 0;var p=k(497);V.useSceneUpdate=function(S,t,u){(0,p.useEffect)(function(){return t(),S.events.on("update",t),function(){S.events.off("update",t)}},u)}},531:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useScene=void 0;var p=k(497),S=k(386);V.useScene=function(t){var u=(0,S.useGame)();return(0,p.useMemo)(function(){return u.scene.getScene(t)},[t])}},666:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.useTexture=void 0;var p=k(497),S=k(386);V.useTexture=function(t){var u=(0,S.useGame)();return(0,p.useMemo)(function(){var v=u.textures.get(t).getSourceImage();return v.originBlob?URL.createObjectURL(v.originBlob):null},[t])}},820:function(B,V,k){var p=this&&this.__createBinding||(Object.create?function(t,u,v,o){o===void 0&&(o=v);var r=Object.getOwnPropertyDescriptor(u,v);r&&!("get"in r?!u.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return u[v]}}),Object.defineProperty(t,o,r)}:function(t,u,v,o){o===void 0&&(o=v),t[o]=u[v]}),S=this&&this.__exportStar||function(t,u){for(var v in t)v==="default"||Object.prototype.hasOwnProperty.call(u,v)||p(u,t,v)};Object.defineProperty(V,"__esModule",{value:!0}),k(460),S(k(362),V),S(k(130),V),S(k(904),V),S(k(610),V)},130:function(B,V,k){function p(n){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},p(n)}function S(n,a){for(var f=0;f<a.length;f++){var h=a[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(n,(d=function(c,g){if(p(c)!=="object"||c===null)return c;var x=c[Symbol.toPrimitive];if(x!==void 0){var m=x.call(c,"string");if(p(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}(h.key),p(d)==="symbol"?d:String(d)),h)}var d}var t=this&&this.__createBinding||(Object.create?function(n,a,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(a,f);d&&!("get"in d?!a.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return a[f]}}),Object.defineProperty(n,h,d)}:function(n,a,f,h){h===void 0&&(h=f),n[h]=a[f]}),u=this&&this.__setModuleDefault||(Object.create?function(n,a){Object.defineProperty(n,"default",{enumerable:!0,value:a})}:function(n,a){n.default=a}),v=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var a={};if(n!=null)for(var f in n)f!=="default"&&Object.prototype.hasOwnProperty.call(n,f)&&t(a,n,f);return u(a,n),a},o=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(V,"__esModule",{value:!0}),V.Interface=void 0;var r=o(k(969)),s=v(k(497)),e=k(183),i=k(794),l=function(){function n(h){var d=this;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,n);var c=h.game.canvas.parentElement;if(!c)throw Error("Undefined canvas parent element");h.interface&&(console.warn("Scene already had an existing interface"),h.interface.destroy()),this.container=document.createElement("div"),this.root=(0,e.createRoot)(this.container),this.scene=h,this.scene.interface=this,this.configureContainer(),this.setInteractive(!1),c.style.position="relative",c.append(this.container),this.scene.events.on("shutdown",function(){d.destroy()})}var a,f;return a=n,f=[{key:"setInteractive",value:function(h){this.container.style.pointerEvents=h?"all":"none",this.container.style.userSelect=h?"all":"none"}},{key:"render",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.scene;h.displayName&&this.container.setAttribute("data-component",h.displayName),this.root.render(s.default.createElement(i.SceneProvider,{value:c},s.default.createElement(function(){return(0,s.useEffect)(function(){c.events.emit(r.default.Interface.Events.MOUNT)},[]),s.default.createElement(h,Object.assign({},d))},null)))}},{key:"destroy",value:function(){this.scene.events.emit(r.default.Interface.Events.UNMOUNT),delete this.scene.interface,this.root.unmount(),this.container.remove()}},{key:"configureContainer",value:function(){this.container.className="phaser-scene-interface",this.container.style.position="absolute",this.container.style.left="0",this.container.style.right="0",this.container.style.top="0",this.container.style.bottom="0"}}],f&&S(a.prototype,f),Object.defineProperty(a,"prototype",{writable:!1}),n}();V.Interface=l,r.default.Interface={Events:{MOUNT:"interface_mount",UNMOUNT:"interface_unmount"}}},898:(B,V)=>{function k(u,v){var o=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!o){if(Array.isArray(u)||(o=function(n,a){if(n){if(typeof n=="string")return p(n,a);var f=Object.prototype.toString.call(n).slice(8,-1);return f==="Object"&&n.constructor&&(f=n.constructor.name),f==="Map"||f==="Set"?Array.from(n):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?p(n,a):void 0}}(u))||v&&u&&typeof u.length=="number"){o&&(u=o);var r=0,s=function(){};return{s,n:function(){return r>=u.length?{done:!0}:{done:!1,value:u[r++]}},e:function(n){throw n},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var e,i=!0,l=!1;return{s:function(){o=o.call(u)},n:function(){var n=o.next();return i=n.done,n},e:function(n){l=!0,e=n},f:function(){try{i||o.return==null||o.return()}finally{if(l)throw e}}}}function p(u,v){(v==null||v>u.length)&&(v=u.length);for(var o=0,r=new Array(v);o<v;o++)r[o]=u[o];return r}function S(u,v,o){if(!v)return u;if(!u||u.length!==v.length)return v;for(var r=o??Object.keys(u[0]),s=0;s<u.length;s++){var e,i=k(r);try{for(i.s();!(e=i.n()).done;){var l=e.value;if(u[s][l]!==v[s][l])return v}}catch(n){i.e(n)}finally{i.f()}}return u}function t(u,v,o){if(!v)return u;if(!u)return v;var r,s=k(o??Object.keys(u));try{for(s.s();!(r=s.n()).done;){var e=r.value;if(u[e]!==v[e])return v}}catch(i){s.e(i)}finally{s.f()}return u}Object.defineProperty(V,"__esModule",{value:!0}),V.ifModifiedObject=V.getModifiedObject=V.ifModifiedArray=V.getModifiedArray=void 0,V.getModifiedArray=S,V.ifModifiedArray=function(u,v){return function(o){return S(o,u,v)}},V.getModifiedObject=t,V.ifModifiedObject=function(u,v){return function(o){return t(o,u,v)}}},904:function(B,V,k){var p=this&&this.__createBinding||(Object.create?function(t,u,v,o){o===void 0&&(o=v);var r=Object.getOwnPropertyDescriptor(u,v);r&&!("get"in r?!u.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return u[v]}}),Object.defineProperty(t,o,r)}:function(t,u,v,o){o===void 0&&(o=v),t[o]=u[v]}),S=this&&this.__exportStar||function(t,u){for(var v in t)v==="default"||Object.prototype.hasOwnProperty.call(u,v)||p(u,t,v)};Object.defineProperty(V,"__esModule",{value:!0}),S(k(898),V)},969:B=>{B.exports=Mv},497:B=>{B.exports=hl()},183:B=>{B.exports=P0()}},A={},M=function B(V){var k=A[V];if(k!==void 0)return k.exports;var p=A[V]={exports:{}};return L[V].call(p.exports,p,p.exports,B),p.exports}(820);Vv.exports=M})();var Rt=Vv.exports,bv={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0=hl(),O0=Symbol.for("react.element"),M0=Symbol.for("react.fragment"),D0=Object.prototype.hasOwnProperty,N0=I0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w0={key:!0,ref:!0,__self:!0,__source:!0};function zv(L,A,M){var B,V={},k=null,p=null;M!==void 0&&(k=""+M),A.key!==void 0&&(k=""+A.key),A.ref!==void 0&&(p=A.ref);for(B in A)D0.call(A,B)&&!w0.hasOwnProperty(B)&&(V[B]=A[B]);if(L&&L.defaultProps)for(B in A=L.defaultProps,A)V[B]===void 0&&(V[B]=A[B]);return{$$typeof:O0,type:L,key:k,ref:p,props:V,_owner:N0.current}}ul.Fragment=M0;ul.jsx=zv;ul.jsxs=zv;bv.exports=ul;var _=bv.exports,mt=hl();const Sa=Iv(mt),yt={SCALE:{target:1280,min:.7,max:1},BREAKPOINT:{MOBILE:"(max-height: 440px)",DESKTOP:"(min-height: 441px)"}};var Li=function(){return Li=Object.assign||function(A){for(var M,B=1,V=arguments.length;B<V;B++){M=arguments[B];for(var k in M)Object.prototype.hasOwnProperty.call(M,k)&&(A[k]=M[k])}return A},Li.apply(this,arguments)};function Aa(L,A,M){if(M||arguments.length===2)for(var B=0,V=A.length,k;B<V;B++)(k||!(B in A))&&(k||(k=Array.prototype.slice.call(A,0,B)),k[B]=A[B]);return L.concat(k||Array.prototype.slice.call(A))}var Le="-ms-",ma="-moz-",ve="-webkit-",Wv="comm",fl="rule",Wu="decl",F0="@import",Yv="@keyframes",B0="@layer",U0=Math.abs,Yu=String.fromCharCode,Tu=Object.assign;function G0(L,A){return Je(L,0)^45?(((A<<2^Je(L,0))<<2^Je(L,1))<<2^Je(L,2))<<2^Je(L,3):0}function Xv(L){return L.trim()}function Fn(L,A){return(L=A.exec(L))?L[0]:L}function ne(L,A,M){return L.replace(A,M)}function jo(L,A){return L.indexOf(A)}function Je(L,A){return L.charCodeAt(A)|0}function Tr(L,A,M){return L.slice(A,M)}function gn(L){return L.length}function Hv(L){return L.length}function va(L,A){return A.push(L),L}function V0(L,A){return L.map(A).join("")}function hv(L,A){return L.filter(function(M){return!Fn(M,A)})}var dl=1,Sr=1,Kv=0,Yi=0,We=0,Ir="";function cl(L,A,M,B,V,k,p,S){return{value:L,root:A,parent:M,type:B,props:V,children:k,line:dl,column:Sr,length:p,return:"",siblings:S}}function ss(L,A){return Tu(cl("",null,null,"",null,null,0,L.siblings),L,{length:-L.length},A)}function or(L){for(;L.root;)L=ss(L.root,{children:[L]});va(L,L.siblings)}function b0(){return We}function z0(){return We=Yi>0?Je(Ir,--Yi):0,Sr--,We===10&&(Sr=1,dl--),We}function hn(){return We=Yi<Kv?Je(Ir,Yi++):0,Sr++,We===10&&(Sr=1,dl++),We}function Ns(){return Je(Ir,Yi)}function ko(){return Yi}function vl(L,A){return Tr(Ir,L,A)}function Su(L){switch(L){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function W0(L){return dl=Sr=1,Kv=gn(Ir=L),Yi=0,[]}function Y0(L){return Ir="",L}function lu(L){return Xv(vl(Yi-1,Au(L===91?L+2:L===40?L+1:L)))}function X0(L){for(;(We=Ns())&&We<33;)hn();return Su(L)>2||Su(We)>3?"":" "}function H0(L,A){for(;--A&&hn()&&!(We<48||We>102||We>57&&We<65||We>70&&We<97););return vl(L,ko()+(A<6&&Ns()==32&&hn()==32))}function Au(L){for(;hn();)switch(We){case L:return Yi;case 34:case 39:L!==34&&L!==39&&Au(We);break;case 40:L===41&&Au(L);break;case 92:hn();break}return Yi}function K0(L,A){for(;hn()&&L+We!==47+10;)if(L+We===42+42&&Ns()===47)break;return"/*"+vl(A,Yi-1)+"*"+Yu(L===47?L:hn())}function $0(L){for(;!Su(Ns());)hn();return vl(L,Yi)}function j0(L){return Y0(Zo("",null,null,null,[""],L=W0(L),0,[0],L))}function Zo(L,A,M,B,V,k,p,S,t){for(var u=0,v=0,o=p,r=0,s=0,e=0,i=1,l=1,n=1,a=0,f="",h=V,d=k,c=B,g=f;l;)switch(e=a,a=hn()){case 40:if(e!=108&&Je(g,o-1)==58){jo(g+=ne(lu(a),"&","&\f"),"&\f")!=-1&&(n=-1);break}case 34:case 39:case 91:g+=lu(a);break;case 9:case 10:case 13:case 32:g+=X0(e);break;case 92:g+=H0(ko()-1,7);continue;case 47:switch(Ns()){case 42:case 47:va(k0(K0(hn(),ko()),A,M,t),t);break;default:g+="/"}break;case 123*i:S[u++]=gn(g)*n;case 125*i:case 59:case 0:switch(a){case 0:case 125:l=0;case 59+v:n==-1&&(g=ne(g,/\f/g,"")),s>0&&gn(g)-o&&va(s>32?fv(g+";",B,M,o-1,t):fv(ne(g," ","")+";",B,M,o-2,t),t);break;case 59:g+=";";default:if(va(c=uv(g,A,M,u,v,V,S,f,h=[],d=[],o,k),k),a===123)if(v===0)Zo(g,A,c,c,h,k,o,S,d);else switch(r===99&&Je(g,3)===110?100:r){case 100:case 108:case 109:case 115:Zo(L,c,c,B&&va(uv(L,c,c,0,0,V,S,f,V,h=[],o,d),d),V,d,o,S,B?h:d);break;default:Zo(g,c,c,c,[""],d,0,S,d)}}u=v=s=0,i=n=1,f=g="",o=p;break;case 58:o=1+gn(g),s=e;default:if(i<1){if(a==123)--i;else if(a==125&&i++==0&&z0()==125)continue}switch(g+=Yu(a),a*i){case 38:n=v>0?1:(g+="\f",-1);break;case 44:S[u++]=(gn(g)-1)*n,n=1;break;case 64:Ns()===45&&(g+=lu(hn())),r=Ns(),v=o=gn(f=g+=$0(ko())),a++;break;case 45:e===45&&gn(g)==2&&(i=0)}}return k}function uv(L,A,M,B,V,k,p,S,t,u,v,o){for(var r=V-1,s=V===0?k:[""],e=Hv(s),i=0,l=0,n=0;i<B;++i)for(var a=0,f=Tr(L,r+1,r=U0(l=p[i])),h=L;a<e;++a)(h=Xv(l>0?s[a]+" "+f:ne(f,/&\f/g,s[a])))&&(t[n++]=h);return cl(L,A,M,V===0?fl:S,t,u,v,o)}function k0(L,A,M,B){return cl(L,A,M,Wv,Yu(b0()),Tr(L,2,-2),0,B)}function fv(L,A,M,B,V){return cl(L,A,M,Wu,Tr(L,0,B),Tr(L,B+1,-1),B,V)}function $v(L,A,M){switch(G0(L,A)){case 5103:return ve+"print-"+L+L;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+L+L;case 4789:return ma+L+L;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+L+ma+L+Le+L+L;case 5936:switch(Je(L,A+11)){case 114:return ve+L+Le+ne(L,/[svh]\w+-[tblr]{2}/,"tb")+L;case 108:return ve+L+Le+ne(L,/[svh]\w+-[tblr]{2}/,"tb-rl")+L;case 45:return ve+L+Le+ne(L,/[svh]\w+-[tblr]{2}/,"lr")+L}case 6828:case 4268:case 2903:return ve+L+Le+L+L;case 6165:return ve+L+Le+"flex-"+L+L;case 5187:return ve+L+ne(L,/(\w+).+(:[^]+)/,ve+"box-$1$2"+Le+"flex-$1$2")+L;case 5443:return ve+L+Le+"flex-item-"+ne(L,/flex-|-self/g,"")+(Fn(L,/flex-|baseline/)?"":Le+"grid-row-"+ne(L,/flex-|-self/g,""))+L;case 4675:return ve+L+Le+"flex-line-pack"+ne(L,/align-content|flex-|-self/g,"")+L;case 5548:return ve+L+Le+ne(L,"shrink","negative")+L;case 5292:return ve+L+Le+ne(L,"basis","preferred-size")+L;case 6060:return ve+"box-"+ne(L,"-grow","")+ve+L+Le+ne(L,"grow","positive")+L;case 4554:return ve+ne(L,/([^-])(transform)/g,"$1"+ve+"$2")+L;case 6187:return ne(ne(ne(L,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),L,"")+L;case 5495:case 3959:return ne(L,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return ne(ne(L,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3"+Le+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+L+L;case 4200:if(!Fn(L,/flex-|baseline/))return Le+"grid-column-align"+Tr(L,A)+L;break;case 2592:case 3360:return Le+ne(L,"template-","")+L;case 4384:case 3616:return M&&M.some(function(B,V){return A=V,Fn(B.props,/grid-\w+-end/)})?~jo(L+(M=M[A].value),"span")?L:Le+ne(L,"-start","")+L+Le+"grid-row-span:"+(~jo(M,"span")?Fn(M,/\d+/):+Fn(M,/\d+/)-+Fn(L,/\d+/))+";":Le+ne(L,"-start","")+L;case 4896:case 4128:return M&&M.some(function(B){return Fn(B.props,/grid-\w+-start/)})?L:Le+ne(ne(L,"-end","-span"),"span ","")+L;case 4095:case 3583:case 4068:case 2532:return ne(L,/(.+)-inline(.+)/,ve+"$1$2")+L;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gn(L)-1-A>6)switch(Je(L,A+1)){case 109:if(Je(L,A+4)!==45)break;case 102:return ne(L,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+ma+(Je(L,A+3)==108?"$3":"$2-$3"))+L;case 115:return~jo(L,"stretch")?$v(ne(L,"stretch","fill-available"),A,M)+L:L}break;case 5152:case 5920:return ne(L,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(B,V,k,p,S,t,u){return Le+V+":"+k+u+(p?Le+V+"-span:"+(S?t:+t-+k)+u:"")+L});case 4949:if(Je(L,A+6)===121)return ne(L,":",":"+ve)+L;break;case 6444:switch(Je(L,Je(L,14)===45?18:11)){case 120:return ne(L,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ve+(Je(L,14)===45?"inline-":"")+"box$3$1"+ve+"$2$3$1"+Le+"$2box$3")+L;case 100:return ne(L,":",":"+Le)+L}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ne(L,"scroll-","scroll-snap-")+L}return L}function _o(L,A){for(var M="",B=0;B<L.length;B++)M+=A(L[B],B,L,A)||"";return M}function Z0(L,A,M,B){switch(L.type){case B0:if(L.children.length)break;case F0:case Wu:return L.return=L.return||L.value;case Wv:return"";case Yv:return L.return=L.value+"{"+_o(L.children,B)+"}";case fl:if(!gn(L.value=L.props.join(",")))return""}return gn(M=_o(L.children,B))?L.return=L.value+"{"+M+"}":""}function Q0(L){var A=Hv(L);return function(M,B,V,k){for(var p="",S=0;S<A;S++)p+=L[S](M,B,V,k)||"";return p}}function J0(L){return function(A){A.root||(A=A.return)&&L(A)}}function q0(L,A,M,B){if(L.length>-1&&!L.return)switch(L.type){case Wu:L.return=$v(L.value,L.length,M);return;case Yv:return _o([ss(L,{value:ne(L.value,"@","@"+ve)})],B);case fl:if(L.length)return V0(M=L.props,function(V){switch(Fn(V,B=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":or(ss(L,{props:[ne(V,/:(read-\w+)/,":"+ma+"$1")]})),or(ss(L,{props:[V]})),Tu(L,{props:hv(M,B)});break;case"::placeholder":or(ss(L,{props:[ne(V,/:(plac\w+)/,":"+ve+"input-$1")]})),or(ss(L,{props:[ne(V,/:(plac\w+)/,":"+ma+"$1")]})),or(ss(L,{props:[ne(V,/:(plac\w+)/,Le+"input-$1")]})),or(ss(L,{props:[V]})),Tu(L,{props:hv(M,B)});break}return""})}}var _0={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ar=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Xu=typeof window<"u"&&"HTMLElement"in window,tx=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),pl=Object.freeze([]),Cr=Object.freeze({});function ex(L,A,M){return M===void 0&&(M=Cr),L.theme!==M.theme&&L.theme||A||M.theme}var jv=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ix=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,nx=/(^-|-$)/g;function dv(L){return L.replace(ix,"-").replace(nx,"")}var sx=/(a)(d)/gi,cv=function(L){return String.fromCharCode(L+(L>25?39:97))};function Cu(L){var A,M="";for(A=Math.abs(L);A>52;A=A/52|0)M=cv(A%52)+M;return(cv(A%52)+M).replace(sx,"$1-$2")}var hu,dr=function(L,A){for(var M=A.length;M;)L=33*L^A.charCodeAt(--M);return L},kv=function(L){return dr(5381,L)};function Zv(L){return Cu(kv(L)>>>0)}function rx(L){return L.displayName||L.name||"Component"}function uu(L){return typeof L=="string"&&!0}var Qv=typeof Symbol=="function"&&Symbol.for,Jv=Qv?Symbol.for("react.memo"):60115,ax=Qv?Symbol.for("react.forward_ref"):60112,ox={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},qv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hx=((hu={})[ax]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hu[Jv]=qv,hu);function vv(L){return("type"in(A=L)&&A.type.$$typeof)===Jv?qv:"$$typeof"in L?hx[L.$$typeof]:ox;var A}var ux=Object.defineProperty,fx=Object.getOwnPropertyNames,pv=Object.getOwnPropertySymbols,dx=Object.getOwnPropertyDescriptor,cx=Object.getPrototypeOf,mv=Object.prototype;function _v(L,A,M){if(typeof A!="string"){if(mv){var B=cx(A);B&&B!==mv&&_v(L,B,M)}var V=fx(A);pv&&(V=V.concat(pv(A)));for(var k=vv(L),p=vv(A),S=0;S<V.length;++S){var t=V[S];if(!(t in lx||M&&M[t]||p&&t in p||k&&t in k)){var u=dx(A,t);try{ux(L,t,u)}catch{}}}}return L}function Rr(L){return typeof L=="function"}function Hu(L){return typeof L=="object"&&"styledComponentId"in L}function Is(L,A){return L&&A?"".concat(L," ").concat(A):L||A||""}function Ru(L,A){if(L.length===0)return"";for(var M=L[0],B=1;B<L.length;B++)M+=A?A+L[B]:L[B];return M}function Ca(L){return L!==null&&typeof L=="object"&&L.constructor.name===Object.name&&!("props"in L&&L.$$typeof)}function Lu(L,A,M){if(M===void 0&&(M=!1),!M&&!Ca(L)&&!Array.isArray(L))return A;if(Array.isArray(A))for(var B=0;B<A.length;B++)L[B]=Lu(L[B],A[B]);else if(Ca(A))for(var B in A)L[B]=Lu(L[B],A[B]);return L}function Ku(L,A){Object.defineProperty(L,"toString",{value:A})}function La(L){for(var A=[],M=1;M<arguments.length;M++)A[M-1]=arguments[M];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(L," for more information.").concat(A.length>0?" Args: ".concat(A.join(", ")):""))}var vx=function(){function L(A){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=A}return L.prototype.indexOfGroup=function(A){for(var M=0,B=0;B<A;B++)M+=this.groupSizes[B];return M},L.prototype.insertRules=function(A,M){if(A>=this.groupSizes.length){for(var B=this.groupSizes,V=B.length,k=V;A>=k;)if((k<<=1)<0)throw La(16,"".concat(A));this.groupSizes=new Uint32Array(k),this.groupSizes.set(B),this.length=k;for(var p=V;p<k;p++)this.groupSizes[p]=0}for(var S=this.indexOfGroup(A+1),t=(p=0,M.length);p<t;p++)this.tag.insertRule(S,M[p])&&(this.groupSizes[A]++,S++)},L.prototype.clearGroup=function(A){if(A<this.length){var M=this.groupSizes[A],B=this.indexOfGroup(A),V=B+M;this.groupSizes[A]=0;for(var k=B;k<V;k++)this.tag.deleteRule(B)}},L.prototype.getGroup=function(A){var M="";if(A>=this.length||this.groupSizes[A]===0)return M;for(var B=this.groupSizes[A],V=this.indexOfGroup(A),k=V+B,p=V;p<k;p++)M+="".concat(this.tag.getRule(p)).concat(`/*!sc*/
`);return M},L}(),Qo=new Map,tl=new Map,fu=1,zo=function(L){if(Qo.has(L))return Qo.get(L);for(;tl.has(fu);)fu++;var A=fu++;return Qo.set(L,A),tl.set(A,L),A},px=function(L,A){Qo.set(L,A),tl.set(A,L)},mx="style[".concat(Ar,"][").concat("data-styled-version",'="').concat("6.1.0",'"]'),gx=new RegExp("^".concat(Ar,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),xx=function(L,A,M){for(var B,V=M.split(","),k=0,p=V.length;k<p;k++)(B=V[k])&&L.registerName(A,B)},Ex=function(L,A){for(var M,B=((M=A.textContent)!==null&&M!==void 0?M:"").split(`/*!sc*/
`),V=[],k=0,p=B.length;k<p;k++){var S=B[k].trim();if(S){var t=S.match(gx);if(t){var u=0|parseInt(t[1],10),v=t[2];u!==0&&(px(v,u),xx(L,v,t[3]),L.getTag().insertRules(u,V)),V.length=0}else V.push(S)}}};function yx(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var tp=function(L){var A=document.head,M=L||A,B=document.createElement("style"),V=function(S){var t=Array.from(S.querySelectorAll("style[".concat(Ar,"]")));return t[t.length-1]}(M),k=V!==void 0?V.nextSibling:null;B.setAttribute(Ar,"active"),B.setAttribute("data-styled-version","6.1.0");var p=yx();return p&&B.setAttribute("nonce",p),M.insertBefore(B,k),B},Tx=function(){function L(A){this.element=tp(A),this.element.appendChild(document.createTextNode("")),this.sheet=function(M){if(M.sheet)return M.sheet;for(var B=document.styleSheets,V=0,k=B.length;V<k;V++){var p=B[V];if(p.ownerNode===M)return p}throw La(17)}(this.element),this.length=0}return L.prototype.insertRule=function(A,M){try{return this.sheet.insertRule(M,A),this.length++,!0}catch{return!1}},L.prototype.deleteRule=function(A){this.sheet.deleteRule(A),this.length--},L.prototype.getRule=function(A){var M=this.sheet.cssRules[A];return M&&M.cssText?M.cssText:""},L}(),Sx=function(){function L(A){this.element=tp(A),this.nodes=this.element.childNodes,this.length=0}return L.prototype.insertRule=function(A,M){if(A<=this.length&&A>=0){var B=document.createTextNode(M);return this.element.insertBefore(B,this.nodes[A]||null),this.length++,!0}return!1},L.prototype.deleteRule=function(A){this.element.removeChild(this.nodes[A]),this.length--},L.prototype.getRule=function(A){return A<this.length?this.nodes[A].textContent:""},L}(),Ax=function(){function L(A){this.rules=[],this.length=0}return L.prototype.insertRule=function(A,M){return A<=this.length&&(this.rules.splice(A,0,M),this.length++,!0)},L.prototype.deleteRule=function(A){this.rules.splice(A,1),this.length--},L.prototype.getRule=function(A){return A<this.length?this.rules[A]:""},L}(),gv=Xu,Cx={isServer:!Xu,useCSSOMInjection:!tx},ep=function(){function L(A,M,B){A===void 0&&(A=Cr),M===void 0&&(M={});var V=this;this.options=Li(Li({},Cx),A),this.gs=M,this.names=new Map(B),this.server=!!A.isServer,!this.server&&Xu&&gv&&(gv=!1,function(k){for(var p=document.querySelectorAll(mx),S=0,t=p.length;S<t;S++){var u=p[S];u&&u.getAttribute(Ar)!=="active"&&(Ex(k,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),Ku(this,function(){return function(k){for(var p=k.getTag(),S=p.length,t="",u=function(o){var r=function(n){return tl.get(n)}(o);if(r===void 0)return"continue";var s=k.names.get(r),e=p.getGroup(o);if(s===void 0||e.length===0)return"continue";var i="".concat(Ar,".g").concat(o,'[id="').concat(r,'"]'),l="";s!==void 0&&s.forEach(function(n){n.length>0&&(l+="".concat(n,","))}),t+="".concat(e).concat(i,'{content:"').concat(l,'"}').concat(`/*!sc*/
`)},v=0;v<S;v++)u(v);return t}(V)})}return L.registerId=function(A){return zo(A)},L.prototype.reconstructWithOptions=function(A,M){return M===void 0&&(M=!0),new L(Li(Li({},this.options),A),this.gs,M&&this.names||void 0)},L.prototype.allocateGSInstance=function(A){return this.gs[A]=(this.gs[A]||0)+1},L.prototype.getTag=function(){return this.tag||(this.tag=(A=function(M){var B=M.useCSSOMInjection,V=M.target;return M.isServer?new Ax(V):B?new Tx(V):new Sx(V)}(this.options),new vx(A)));var A},L.prototype.hasNameForId=function(A,M){return this.names.has(A)&&this.names.get(A).has(M)},L.prototype.registerName=function(A,M){if(zo(A),this.names.has(A))this.names.get(A).add(M);else{var B=new Set;B.add(M),this.names.set(A,B)}},L.prototype.insertRules=function(A,M,B){this.registerName(A,M),this.getTag().insertRules(zo(A),B)},L.prototype.clearNames=function(A){this.names.has(A)&&this.names.get(A).clear()},L.prototype.clearRules=function(A){this.getTag().clearGroup(zo(A)),this.clearNames(A)},L.prototype.clearTag=function(){this.tag=void 0},L}(),Rx=/&/g,Lx=/^\s*\/\/.*$/gm;function ip(L,A){return L.map(function(M){return M.type==="rule"&&(M.value="".concat(A," ").concat(M.value),M.value=M.value.replaceAll(",",",".concat(A," ")),M.props=M.props.map(function(B){return"".concat(A," ").concat(B)})),Array.isArray(M.children)&&M.type!=="@keyframes"&&(M.children=ip(M.children,A)),M})}function Px(L){var A,M,B,V=L===void 0?Cr:L,k=V.options,p=k===void 0?Cr:k,S=V.plugins,t=S===void 0?pl:S,u=function(r,s,e){return e===M||e.startsWith(M)&&e.endsWith(M)&&e.replaceAll(M,"").length>0?".".concat(A):r},v=t.slice();v.push(function(r){r.type===fl&&r.value.includes("&")&&(r.props[0]=r.props[0].replace(Rx,M).replace(B,u))}),p.prefix&&v.push(q0),v.push(Z0);var o=function(r,s,e,i){s===void 0&&(s=""),e===void 0&&(e=""),i===void 0&&(i="&"),A=i,M=s,B=new RegExp("\\".concat(M,"\\b"),"g");var l=r.replace(Lx,""),n=j0(e||s?"".concat(e," ").concat(s," { ").concat(l," }"):l);p.namespace&&(n=ip(n,p.namespace));var a=[];return _o(n,Q0(v.concat(J0(function(f){return a.push(f)})))),a};return o.hash=t.length?t.reduce(function(r,s){return s.name||La(15),dr(r,s.name)},5381).toString():"",o}var Ix=new ep,Pu=Px(),np=Sa.createContext({shouldForwardProp:void 0,styleSheet:Ix,stylis:Pu});np.Consumer;Sa.createContext(void 0);function xv(){return mt.useContext(np)}var sp=function(){function L(A,M){var B=this;this.inject=function(V,k){k===void 0&&(k=Pu);var p=B.name+k.hash;V.hasNameForId(B.id,p)||V.insertRules(B.id,p,k(B.rules,p,"@keyframes"))},this.name=A,this.id="sc-keyframes-".concat(A),this.rules=M,Ku(this,function(){throw La(12,String(B.name))})}return L.prototype.getName=function(A){return A===void 0&&(A=Pu),this.name+A.hash},L}(),Ox=function(L){return L>="A"&&L<="Z"};function Ev(L){for(var A="",M=0;M<L.length;M++){var B=L[M];if(M===1&&B==="-"&&L[0]==="-")return L;Ox(B)?A+="-"+B.toLowerCase():A+=B}return A.startsWith("ms-")?"-"+A:A}var rp=function(L){return L==null||L===!1||L===""},ap=function(L){var A,M,B=[];for(var V in L){var k=L[V];L.hasOwnProperty(V)&&!rp(k)&&(Array.isArray(k)&&k.isCss||Rr(k)?B.push("".concat(Ev(V),":"),k,";"):Ca(k)?B.push.apply(B,Aa(Aa(["".concat(V," {")],ap(k),!1),["}"],!1)):B.push("".concat(Ev(V),": ").concat((A=V,(M=k)==null||typeof M=="boolean"||M===""?"":typeof M!="number"||M===0||A in _0||A.startsWith("--")?String(M).trim():"".concat(M,"px")),";")))}return B};function ws(L,A,M,B){if(rp(L))return[];if(Hu(L))return[".".concat(L.styledComponentId)];if(Rr(L)){if(!Rr(k=L)||k.prototype&&k.prototype.isReactComponent||!A)return[L];var V=L(A);return ws(V,A,M,B)}var k;return L instanceof sp?M?(L.inject(M,B),[L.getName(B)]):[L]:Ca(L)?ap(L):Array.isArray(L)?Array.prototype.concat.apply(pl,L.map(function(p){return ws(p,A,M,B)})):[L.toString()]}function Mx(L){for(var A=0;A<L.length;A+=1){var M=L[A];if(Rr(M)&&!Hu(M))return!1}return!0}var Dx=kv("6.1.0"),Nx=function(){function L(A,M,B){this.rules=A,this.staticRulesId="",this.isStatic=(B===void 0||B.isStatic)&&Mx(A),this.componentId=M,this.baseHash=dr(Dx,M),this.baseStyle=B,ep.registerId(M)}return L.prototype.generateAndInjectStyles=function(A,M,B){var V=this.baseStyle?this.baseStyle.generateAndInjectStyles(A,M,B):"";if(this.isStatic&&!B.hash)if(this.staticRulesId&&M.hasNameForId(this.componentId,this.staticRulesId))V=Is(V,this.staticRulesId);else{var k=Ru(ws(this.rules,A,M,B)),p=Cu(dr(this.baseHash,k)>>>0);if(!M.hasNameForId(this.componentId,p)){var S=B(k,".".concat(p),void 0,this.componentId);M.insertRules(this.componentId,p,S)}V=Is(V,p),this.staticRulesId=p}else{for(var t=dr(this.baseHash,B.hash),u="",v=0;v<this.rules.length;v++){var o=this.rules[v];if(typeof o=="string")u+=o;else if(o){var r=Ru(ws(o,A,M,B));t=dr(t,r+v),u+=r}}if(u){var s=Cu(t>>>0);M.hasNameForId(this.componentId,s)||M.insertRules(this.componentId,s,B(u,".".concat(s),void 0,this.componentId)),V=Is(V,s)}}return V},L}(),op=Sa.createContext(void 0);op.Consumer;var du={};function wx(L,A,M){var B=Hu(L),V=L,k=!uu(L),p=A.attrs,S=p===void 0?pl:p,t=A.componentId,u=t===void 0?function(f,h){var d=typeof f!="string"?"sc":dv(f);du[d]=(du[d]||0)+1;var c="".concat(d,"-").concat(Zv("6.1.0"+d+du[d]));return h?"".concat(h,"-").concat(c):c}(A.displayName,A.parentComponentId):t,v=A.displayName;v===void 0&&function(f){return uu(f)?"styled.".concat(f):"Styled(".concat(rx(f),")")}(L);var o=A.displayName&&A.componentId?"".concat(dv(A.displayName),"-").concat(A.componentId):A.componentId||u,r=B&&V.attrs?V.attrs.concat(S).filter(Boolean):S,s=A.shouldForwardProp;if(B&&V.shouldForwardProp){var e=V.shouldForwardProp;if(A.shouldForwardProp){var i=A.shouldForwardProp;s=function(f,h){return e(f,h)&&i(f,h)}}else s=e}var l=new Nx(M,o,B?V.componentStyle:void 0);function n(f,h){return function(d,c,g){var x=d.attrs,m=d.componentStyle,y=d.defaultProps,T=d.foldedComponentIds,R=d.styledComponentId,P=d.target,D=Sa.useContext(op),I=xv(),w=d.shouldForwardProp||I.shouldForwardProp,U=function(W,K,N){for(var b,Y=Li(Li({},K),{className:void 0,theme:N}),j=0;j<W.length;j+=1){var Q=Rr(b=W[j])?b(Y):b;for(var q in Q)Y[q]=q==="className"?Is(Y[q],Q[q]):q==="style"?Li(Li({},Y[q]),Q[q]):Q[q]}return K.className&&(Y.className=Is(Y.className,K.className)),Y}(x,c,ex(c,D,y)||Cr),G=U.as||P,H={};for(var z in U)U[z]===void 0||z[0]==="$"||z==="as"||z==="theme"||(z==="forwardedAs"?H.as=U.forwardedAs:w&&!w(z,G)||(H[z]=U[z]));var $=function(W,K){var N=xv(),b=W.generateAndInjectStyles(K,N.styleSheet,N.stylis);return b}(m,U),J=Is(T,R);return $&&(J+=" "+$),U.className&&(J+=" "+U.className),H[uu(G)&&!jv.has(G)?"class":"className"]=J,H.ref=g,mt.createElement(G,H)}(a,f,h)}var a=Sa.forwardRef(n);return a.attrs=r,a.componentStyle=l,a.shouldForwardProp=s,a.foldedComponentIds=B?Is(V.foldedComponentIds,V.styledComponentId):"",a.styledComponentId=o,a.target=B?V.target:L,Object.defineProperty(a,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(f){this._foldedDefaultProps=B?function(h){for(var d=[],c=1;c<arguments.length;c++)d[c-1]=arguments[c];for(var g=0,x=d;g<x.length;g++)Lu(h,x[g],!0);return h}({},V.defaultProps,f):f}}),Ku(a,function(){return".".concat(a.styledComponentId)}),k&&_v(a,L,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),a}function yv(L,A){for(var M=[L[0]],B=0,V=A.length;B<V;B+=1)M.push(A[B],L[B+1]);return M}var Tv=function(L){return Object.assign(L,{isCss:!0})};function zt(L){for(var A=[],M=1;M<arguments.length;M++)A[M-1]=arguments[M];if(Rr(L)||Ca(L)){var B=L;return Tv(ws(yv(pl,Aa([B],A,!0))))}var V=L;return A.length===0&&V.length===1&&typeof V[0]=="string"?ws(V):Tv(ws(yv(V,A)))}function Iu(L,A,M){if(M===void 0&&(M=Cr),!A)throw La(1,A);var B=function(V){for(var k=[],p=1;p<arguments.length;p++)k[p-1]=arguments[p];return L(A,M,zt.apply(void 0,Aa([V],k,!1)))};return B.attrs=function(V){return Iu(L,A,Li(Li({},M),{attrs:Array.prototype.concat(M.attrs,V).filter(Boolean)}))},B.withConfig=function(V){return Iu(L,A,Li(Li({},M),V))},B}var lp=function(L){return Iu(wx,L)},at=lp;jv.forEach(function(L){at[L]=lp(L)});function yn(L){for(var A=[],M=1;M<arguments.length;M++)A[M-1]=arguments[M];var B=Ru(zt.apply(void 0,Aa([L],A,!1))),V=Zv(B);return new sp(V,B)}var Ae=(L=>(L.HOVER="#FF9600",L.SUCCESS="#A4E24D",L.WARN="#ffd129",L.ERROR="#ff6d6d",L))(Ae||{}),xt=(L=>(L.INFO="#2A87DB",L.WARN="#ff7629",L.WARN_GRADIENT="linear-gradient(0deg, rgb(255, 118, 41) 0%, rgb(255, 156, 41) 100%);",L.SUCCESS_LIGHT="#A4E24D",L.SUCCESS="#64A226",L.SUCCESS_DARK="#4D8B1B",L.SUCCESS_GRADIENT="linear-gradient(0deg, rgb(66, 120, 22) 0%, rgb(100, 162, 38) 100%)",L.SUCCESS_TRANSPARENT_50="rgba(100, 162, 38, 0.5)",L.ERROR_LIGHT="#ff6d6d",L.ERROR="#db2323",L.ERROR_TRANSPARENT_75="rgba(219, 35, 35, 0.75)",L.ERROR_DARK="#BC1927",L.ERROR_DARK_TRANSPARENT_75="rgba(120, 0, 10, 0.75)",L.ERROR_GRADIENT="linear-gradient(0deg, rgb(188, 25, 39) 0%, rgb(238, 54, 70) 100%)",L.WHITE_TRANSPARENT_15="rgba(255, 255, 255, 0.15)",L.WHITE_TRANSPARENT_50="rgba(255, 255, 255, 0.50)",L.WHITE_TRANSPARENT_75="rgba(255, 255, 255, 0.75)",L.BLACK="#000000",L.BLACK_TRANSPARENT_75="rgba(0, 0, 0, 0.75)",L.BLACK_TRANSPARENT_50="rgba(0, 0, 0, 0.50)",L.BLACK_TRANSPARENT_25="rgba(0, 0, 0, 0.25)",L))(xt||{}),ie=(L=>(L.PIXEL_LABEL="PixelLabel",L.PIXEL_TEXT="PixelText",L))(ie||{}),hs=(L=>(L[L.HINT=100]="HINT",L[L.TRANSLATOR=200]="TRANSLATOR",L[L.OVERLAY=300]="OVERLAY",L[L.NOTICE=400]="NOTICE",L))(hs||{});const Fx=at.div`
  width: 100%;
  height: 100%;
  background: ${xt.BLACK_TRANSPARENT_75};
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  z-index: ${hs.OVERLAY};
  pointer-events: all;
  > * {
    pointer-events: none;
  }
`,hp=({children:L})=>{const A=Rt.useRelativeScale(yt.SCALE);return _.jsx(Fx,{ref:A,children:L})},Bx=at.div`
  display: flex;
  flex-direction: ${L=>L.$direction==="vertical"?"column":"row"};
  ${L=>typeof L.$gap=="number"?zt`
    gap: ${L.$gap}px;
  `:zt`
    @media ${yt.BREAKPOINT.MOBILE} {
      gap: ${L.$gap[0]}px;
    }
    @media ${yt.BREAKPOINT.DESKTOP} {
      gap: ${L.$gap[1]}px;
    }
  `}
  ${L=>{switch(L.$align){case"left":return zt`align-items: flex-start`;case"center":return zt`align-items: center`;case"right":return zt`align-items: flex-end`}}}
`,ae=({children:L,direction:A,align:M,gap:B=0})=>_.jsx(Bx,{$direction:A,$align:M,$gap:B,children:L}),Ux=at.div`
  display: flex;
  flex-direction: column;
  padding: 30px 38px;
  border-radius: 0 0 5px 5px;
  gap: 15px;
  background: ${xt.BLACK_TRANSPARENT_25};
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  @media ${yt.BREAKPOINT.MOBILE} {
    gap: 10px;
    padding: 25px 32px;
  }
`,Gx=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 20px;
  line-height: 20px;
  padding: 4px 8px 7px 8px;
  border-radius: 3px;
  border: 1px solid ${xt.WHITE_TRANSPARENT_50};
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 18px;
    line-height: 18px;
  }
`,Vx=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 16px;
  line-height: 16px;
  white-space: pre;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 14px;
    line-height: 14px;
  }
`,bx=at.div`
  font-size: 12px;
  line-height: 12px;
  color: ${Ae.SUCCESS};
`,zx=({stat:L,record:A})=>{const M=mt.useMemo(()=>[{key:"score",label:"TOTAL_SCORE",value:L.score},{key:"waves",label:"WAVES_COMPLETED",value:L.waves},{key:"kills",label:"ENEMIES_KILLED",value:L.kills},{key:"lived",label:"MINUTES_LIVED",value:Math.floor(L.lived/60)}],[]);return _.jsx(Ux,{children:M.map(B=>_.jsxs(ae,{direction:"horizontal",align:"center",gap:15,children:[_.jsxs(ae,{direction:"horizontal",align:"center",gap:10,children:[_.jsx(Gx,{children:B.value}),_.jsx(Vx,{children:Ot(B.label)})]}),(A?.[B.key]??0)<L[B.key]&&_.jsx(bx,{children:Ot("RECORD")})]},B.key))})},Wx=at.div`
  min-width: 360px;
`,Yx=at.div`
  background: ${L=>L.color};
  padding: 15px 36px 21px 36px;
  font-family: ${ie.PIXEL_LABEL};
  border-radius: 5px 5px 0 0;
  font-size: 46px;
  line-height: 46px;
  text-align: center;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 30px;
    line-height: 30px;
    padding: 12px 30px 16px 30px;
  }
`,Xx=at.div`
  margin-top: 20px;
  pointer-events: all;
  font-family: ${ie.PIXEL_LABEL};
  border-radius: 5px;
  letter-spacing: 1px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${xt.SUCCESS_GRADIENT};  
  font-size: 22px;
  line-height: 22px;
  padding: 25px;
  &:hover {
    cursor: pointer;
    background: ${xt.SUCCESS};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    margin-top: 15px;
    padding: 18px 20px 20px 20px;
    font-size: 20px;
    line-height: 20px;
  }
`,Hx=at.img`
  width: 24px;
  margin-right: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 20px;
  }
`,up=({success:L,stat:A,record:M})=>{const B=Rt.useGame(),V=mt.useRef(null);return Rt.useClick(V,"down",()=>{L?B.stopGame():B.restartGame()},[]),mt.useEffect(()=>(Gt.ToggleHintsVisible(!1),()=>{Gt.ToggleHintsVisible(!0)}),[]),_.jsx(hp,{children:_.jsxs(Wx,{children:[_.jsx(Yx,{color:L?xt.SUCCESS:xt.ERROR,children:L?"YOU WIN":"GAME OVER"}),_.jsx(zx,{stat:A,record:M}),_.jsxs(Xx,{ref:V,children:[_.jsx(Hx,{src:"assets/sprites/hud/restart.png"}),Ot(L?"NEW_GAME":"RESTART_GAME")]})]})})};up.displayName="FinishUI";class Kx extends Ra{constructor(){super(Me.FINISH),gt.Finish=this}create(A){new Rt.Interface(this).render(up,A)}}var ni=(L=>(L.NEW_GAME="NEW_GAME",L.LOAD_GAME="LOAD_GAME",L.SAVE_GAME="SAVE_GAME",L.SETTINGS="SETTINGS",L.CONTROLS="CONTROLS",L.LEADERBOARD="LEADERBOARD",L))(ni||{});const Fs={PAUSE:"keyup-ESC",SKILLS:"keyup-SHIFT",ASSISTANT_FOLLOW:"keyup-CTRL",BUILDING_DESTROY:"keyup-BACKSPACE",BUILDING_REPAIR:"keyup-R",BUILDING_BUY_AMMO:"keyup-F",BUILDING_UPGRADE:"keyup-E"},$x=[{label:"PLAYER",items:[{keys:"W,A,S,D",description:"MOVEMENT"},{keys:"SHIFT",description:"SKILLS"},{keys:"CTRL",description:"ASSISTANT_FOLLOW"}]},{label:"BUILDER",items:[{keys:"LEFT CLICK",description:"BUILD"},{keys:"RIGHT CLICK",description:"STOP_BUILD"}]},{label:"BUILDINGS",items:[{keys:"E",description:"UPGRADE_BUILDING"},{keys:"R",description:"REPAIR_BUILDING"},{keys:"F",description:"BUY_AMMO"},{keys:"BACKSPACE",description:"DESTROY_BUILDING"}]}],jx=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 16px;
  line-height: 16px;
  margin-bottom: 15px;
  opacity: 0.5;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 14px;
    line-height: 14px;
  }
`,kx=at.div`
  color: #444;
  font-family: ${ie.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  padding: 4px 7px 5px 7px;
  background: #fff;
  box-shadow: 0 4px 0 #999;
  text-align: center;
  margin-top: -3px;
  border-radius: 3px;
`,Zx=at.div`
  font-size: 12px;
  line-height: 12px;
  letter-spacing: 1px;
`,Qx=()=>_.jsx(ae,{direction:"vertical",gap:[30,40],children:$x.map(L=>_.jsxs(ae,{direction:"vertical",align:"left",children:[_.jsx(jx,{children:Ot(L.label)}),_.jsx(ae,{direction:"vertical",gap:10,children:L.items.map(A=>_.jsxs(ae,{direction:"horizontal",align:"center",gap:8,children:[_.jsx(ae,{direction:"horizontal",gap:3,children:A.keys.split(",").map(M=>_.jsx(kx,{children:M},M))}),_.jsxs(Zx,{children:[" ",Ot(A.description)]})]},A.description))})]},L.label))}),Jx=at.div`
`,qx=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  margin-bottom: 10px;
  opacity: 0.75;
`,_x=at.div`
  pointer-events: all;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`,tE=at.div`
  position: relative;
  font-family: ${ie.PIXEL_LABEL};
  font-size: 15px;
  line-height: 15px;
  background: ${xt.WHITE_TRANSPARENT_15};
  padding: 6px 26px 8px 8px;
  border-radius: 3px;
  white-space: nowrap;
  &:hover {
    cursor: pointer;
    background: ${xt.SUCCESS_TRANSPARENT_50};
  }
  ${L=>L.$active&&zt`
    background: ${xt.SUCCESS_TRANSPARENT_50};
  `}
  &::after {
    position: absolute;
    content: '';
    font-size: 24px;
    line-height: 24px;
    top: -2px;
    right: 7px;
  }
`,eE=at.div`
  background: ${xt.BLACK};
  border-radius: 5px;
  position: absolute;
  padding: 6px;
  z-index: 2;
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-left: 10px;
  ${L=>!L.$opened&&zt`
    display: none;
  `}
  &::after {
    position: absolute;
    content: '';
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 10px solid ${xt.BLACK};
    left: -10px;
    top: 50%;
    transform: translateY(-50%);
  }
`,iE=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  padding: 7px 10px 8px 10px;
  white-space: nowrap;
  ${L=>L.$active?zt`
    color: ${Ae.SUCCESS};
  `:zt`
    &:hover {
      cursor: pointer;
      color: ${Ae.SUCCESS};
    }
  `}
`,el=({label:L,options:A,defaultValue:M,onChange:B})=>{const V=mt.useRef(null),[k,p]=mt.useState(!1),[S,t]=mt.useState(M),u=v=>{B(v),t(v),p(!1)};return Rt.useClickOutside(V,()=>{p(!1)},[]),_.jsxs(Jx,{children:[_.jsx(qx,{children:Ot(L)}),_.jsxs(_x,{ref:V,children:[_.jsx(tE,{$active:k,onClick:()=>p(!k),children:Ot(S)}),_.jsx(eE,{$opened:k,children:A.map(v=>_.jsx(iE,{onClick:()=>u(v),$active:S===v,children:Ot(v)},v))})]})]})};var us=(L=>(L.ERROR="interface/error",L.CLICK="interface/click",L))(us||{}),il=(L=>(L.NOTICE="notice",L))(il||{});const nE=at.div`
  font-family: ${ie.PIXEL_LABEL};
  border-radius: 5px;
  letter-spacing: 1px;
  display: flex;
  justify-content: center;
  align-items: center;
  ${L=>{switch(L.$view){case"primary":return zt`
        background: ${xt.WARN_GRADIENT};  
        &:hover {
          background: ${xt.WARN};
        }
      `;case"confirm":return zt`
        background: ${xt.SUCCESS_GRADIENT};  
        &:hover {
          background: ${xt.SUCCESS};
        }
      `;case"decline":return zt`
        background: ${xt.ERROR_GRADIENT};
        &:hover {
          background: ${xt.ERROR};
        }
      `;default:return zt`
        background: ${xt.BLACK};
        &:hover {
          background: ${xt.SUCCESS_GRADIENT};
        }
      `}}}
  ${L=>{switch(L.$size){case"large":return zt`
        font-size: 17px;
        line-height: 17px;
        padding: 11px 18px 14px 18px;
      `;case"small":return zt`
        font-size: 13px;
        line-height: 13px;
        padding: 9px 14px 12px 14px;
      `;default:return zt`
        font-size: 10px;
        line-height: 10px;
        padding: 6px 0 7px 0;
        @media ${yt.BREAKPOINT.MOBILE} {
          font-size: 3vh;
          line-height: 3vh;
        }
      `}}}
  ${L=>L.$disabled?zt`
    opacity: 0.25
  `:zt`
    pointer-events: all;
  `};
  &:hover {
    cursor: pointer;
  }
`,ls=({size:L,view:A,disabled:M,onClick:B,children:V})=>{const k=mt.useRef(null);return Rt.useClick(k,"down",p=>{gt.World.fx.playSound(us.CLICK),B(p)},[B]),_.jsx(nE,{ref:k,$size:L,$view:A,$disabled:M,role:"button",children:V})},fp=at.input`
  width: 100%;
  min-width: 300px;
  background: ${xt.WHITE_TRANSPARENT_15};
  font-family: ${ie.PIXEL_LABEL};
  font-size: 15px;
  line-height: 15px;
  border-radius: 5px;
  padding: 11px 14px;
  pointer-events: all;
  border: none;
  &:focus {
    outline: none;
    background: ${xt.SUCCESS_TRANSPARENT_50};
    &::placeholder {
      color: ${Ae.SUCCESS};
    }
  }
`,sE=at.div`
  position: relative;
  flex: 1;
`,rE=at.img`
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
`,aE=at.div`
  ${L=>L.$active&&zt`
    opacity: 0.25;
  `}
`,oE=()=>{const[L,A]=mt.useState(""),[M,B]=mt.useState(!0),[V,k]=mt.useState(!1),p=mt.useRef(null),S=u=>{/^\w*$/.test(u.target.value)&&A(u.target.value)},t=()=>{L&&L.length>=3&&Ft.UpdateName(L).then(()=>{k(!0),p.current=setTimeout(()=>{k(!1),p.current=null},2e3)})};return mt.useEffect(()=>(Ft.GetName().then(u=>{B(!1),A(u?.name??"")}),()=>{p.current&&clearTimeout(p.current)}),[]),_.jsx(aE,{$active:M,children:_.jsxs(ae,{direction:"horizontal",align:"left",gap:15,children:[_.jsxs(sE,{children:[_.jsx(fp,{type:"text",placeholder:"Your name",disabled:M,value:L,maxLength:16,autoFocus:!0,onChange:S}),V&&_.jsx(rE,{src:"assets/sprites/hud/success.png"})]}),_.jsx(ls,{view:"primary",size:"large",onClick:t,children:"OK"})]})})},lE=at.div`
  display: grid;
  grid-template-columns: minmax(26px, max-content) 1fr 130px;
  grid-gap: 20px;
  align-items: center;
  color: ${L=>L.$color||"rgba(255, 255, 255, 0.5)"};
`,cu=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 16px;
  line-height: 16px;
`,hE=at.div`
  position: relative;
  border-radius: 5px;
  border: 1px solid transparent;
  padding: 10px 6px 13px 6px;
  font-size: 12px;
  line-height: 0;
  text-align: center;
  color: ${L=>L.$color||"rgba(255, 255, 255, 0.5)"};
  border-color: ${L=>L.$color||"rgba(255, 255, 255, 0.5)"};
  ${L=>L.$self&&zt`
    &::before {
      position: absolute;
      content: '';
      right: -4px;
      top: -4px;
      border-radius: 50%;
      width: 8px;
      height: 9px;
      background: ${xt.SUCCESS_LIGHT};
    }
  `}
`,uE=at.div`
  font-size: 14px;
  line-height: 14px;
`,fE=at.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
`,dE=at.img`
  margin-left: 10px;
  width: 12px;
`,Sv=({self:L,position:A,label:M,score:B})=>{const V=L?Ae.SUCCESS:["#ffd000","#dfe3f0","#d6763e"][A-1];return _.jsxs(lE,{$color:V,children:[_.jsx(cu,{children:_.jsx(hE,{$self:L,$color:V,children:A})}),_.jsx(cu,{children:_.jsx(uE,{children:M})}),_.jsx(cu,{children:_.jsxs(fE,{children:[B,_.jsx(dE,{src:"assets/sprites/hud/score.png"})]})})]})},cE=yn`
  0% { background: rgba(255, 255, 255, 0.2) }
  100% { background: rgba(255, 255, 255, 0.1) }
`,vE=at.div`
  line-height: 0;
  margin: 2px 0 10px 0;
  text-align: center;
  width: 30px;
`,da=at.div`
  height: 25px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
  animation: ${cE} 1s infinite;
`,pE=()=>{const L=Rt.useGame(),[A,M]=mt.useState(null),[B,V]=mt.useState(null),[k,p]=mt.useState(gi.INFINITY),[S,t]=mt.useState(Ds.NORMAL),u=mt.useMemo(()=>Object.keys(gi),[]),v=mt.useMemo(()=>Object.keys(Ds),[]),o=s=>p(s),r=s=>t(s);return mt.useEffect(()=>{M(null),V(null),Ft.GetLeaderboard(k,S).then(s=>{M(s.results),V(s.current)})},[k,S]),mt.useEffect(()=>{Ft.ShowAds(mi.MIDGAME)},[]),_.jsxs(ae,{direction:"vertical",gap:[20,40],children:[_.jsxs(ae,{direction:"horizontal",gap:20,children:[_.jsx(el,{label:"DIFFICULTY",options:v,defaultValue:L.difficulty,onChange:r}),_.jsx(el,{label:"MODE",options:u,defaultValue:L.mode,onChange:o})]}),_.jsx(ae,{direction:"vertical",gap:[10,15],children:A?_.jsxs(_.Fragment,{children:[A.map((s,e)=>{const i=!!(B&&B.position===e+1);return _.jsx(Sv,{self:i,position:e+1,label:i?"YOU":s.name||"Unnamed",score:s.score},s.name+e)}),B&&B.position>A.length&&_.jsxs(_.Fragment,{children:[B.position>A.length+1&&_.jsx(vE,{children:"..."}),_.jsx(Sv,{self:!0,position:B.position,label:"YOU",score:B.score})]})]}):_.jsxs(_.Fragment,{children:[_.jsx(da,{}),_.jsx(da,{}),_.jsx(da,{}),_.jsx(da,{}),_.jsx(da,{})]})}),_.jsx(oE,{})]})},mE=at.div`
  position: fixed;
  inset: 0;
  pointer-events: all;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${xt.BLACK_TRANSPARENT_75};
  z-index: ${hs.OVERLAY};
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
`,gE=at.div`
  position: absolute;
  padding: 20px;
  border-radius: 10px;
  position: absolute;
`,xE=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 18px;
  line-height: 20px;
  letter-spacing: 1px;
  white-space: pre;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`,EE=at.div`
  display: flex;
  margin-top: 20px;
  gap: 10px;
`,$u=({message:L,onConfirm:A,onClose:M})=>{const B=()=>{M(),A()};return Rt.useEvent(gt.Screen.input.keyboard,"keyup-ENTER",B,[B]),_.jsx(mE,{children:_.jsxs(gE,{children:[_.jsx(xE,{children:Ot(L)}),_.jsxs(EE,{children:[_.jsx(ls,{view:"confirm",size:"small",onClick:B,children:Ot("YES")}),_.jsx(ls,{view:"decline",size:"small",onClick:M,children:Ot("NO")})]})]})})},yE=at.div`
  background: ${xt.ERROR_TRANSPARENT_75};
  padding: 12px 28px 14px 14px;
  border-radius: 3px;
  display: flex;
  align-items: center;
  gap: 14px;
`,TE=at.img`
  width: 28px;
`,SE=at.div`
  font-size: 12px;
  line-height: 16px;
  letter-spacing: 1px;
  white-space: pre;
`,ju=()=>Rt.useGame().isIncognito&&pe.GetFlag(Zt.INCOGNITO)&&_.jsxs(yE,{children:[_.jsx(TE,{src:"assets/sprites/hud/save.png"}),_.jsx(SE,{children:Ot("SAVES_NOT_ALLOWED")})]}),_t=at.table`
  width: 100%;
  border-collapse: separate; 
  border-spacing: 1px 3px;
`;_t.Head=at.thead`
  top: 0;
  font-size: 14px;
  line-height: 14px;
`;_t.HeadRow=at.tr`
  opacity: 0.5;
`;_t.Body=at.tbody`
  font-size: 12px;
  line-height: 12px;
`;_t.BodyRow=at.tr`
  background: ${xt.BLACK_TRANSPARENT_25};
  pointer-events: all;
  ${L=>L.$primary&&zt`
    background: ${xt.BLACK_TRANSPARENT_75};
  `}
  ${L=>L.$active?zt`
    background: ${xt.SUCCESS_DARK};
  `:zt`
    &:hover {
      background: ${xt.BLACK_TRANSPARENT_50};
    }
  `}
  &:hover {
    cursor: pointer;
  }
`;_t.Cell=at.td`
  padding: 12px 16px;
  overflow: hidden;
  ${L=>L.$type==="delete"&&zt`
    width: 38px;
    &:hover {
      background: ${xt.ERROR_DARK};
    }
  `}
  &:first-child {
    border-radius: 5px 0 0 5px;
  }
  &:last-child {
    border-radius: 0 5px 5px 0;
  }
`;const AE=at.div`
  font-size: 20px;
  line-height: 20px;
  letter-spacing: 1px;
  opacity: 0.5;
`,CE=()=>{const L=Rt.useGame(),[A,M]=mt.useState(Wi.Saves[0]),[B,V]=mt.useState(Wi.Saves),[k,p]=mt.useState(null),S=()=>{L.continueGame(A)},t=v=>{p({message:"CONFIRM_DELETE_SAVE",onConfirm:()=>{Wi.DeleteSave(v).then(()=>{V([...Wi.Saves]),A.name===v&&M(Wi.Saves[0])})}})},u=()=>{p(null)};return _.jsxs(ae,{direction:"vertical",align:"left",gap:[20,30],children:[k&&_.jsx($u,{...k,onClose:u}),_.jsx(ju,{}),B.length===0?_.jsx(AE,{children:Ot("SAVES_NOT_FOUND")}):_.jsxs(_t,{children:[_.jsx(_t.Head,{children:_.jsxs(_t.HeadRow,{children:[_.jsx(_t.Cell,{children:Ot("SAVE_NAME")}),_.jsx(_t.Cell,{children:Ot("MODE")}),_.jsx(_t.Cell,{children:Ot("PLANET")}),_.jsx(_t.Cell,{children:Ot("DIFFICULTY")}),_.jsx(_t.Cell,{children:Ot("WAVE")}),_.jsx(_t.Cell,{children:Ot("SCORE")}),_.jsx(_t.Cell,{children:Ot("SAVE_DATE")}),_.jsx(_t.Cell,{})]})}),_.jsx(_t.Body,{children:B.map(v=>_.jsxs(_t.BodyRow,{onClick:()=>M(v),$active:v.name===A.name,$primary:!v.name,children:[_.jsx(_t.Cell,{children:v.name||"Autosave"}),_.jsx(_t.Cell,{children:Ot(v.payload.game.mode)}),_.jsx(_t.Cell,{children:Ot(v.payload.level.planet)}),_.jsx(_t.Cell,{children:Ot(v.payload.game.difficulty)}),_.jsx(_t.Cell,{children:v.payload.wave.number}),_.jsx(_t.Cell,{children:v.payload.player.score}),_.jsx(_t.Cell,{children:new Date(v.date).toLocaleString()}),_.jsx(_t.Cell,{$type:"delete",onClick:()=>t(v.name),children:"X"})]},v.name))})]}),_.jsx(ls,{view:"primary",size:"large",onClick:S,disabled:B.length===0,children:Ot("START")})]})};var wi=(L=>(L.MAP="MAP",L.BUILDING="BUILDING",L.CRYSTAL="CRYSTAL",L.SCENERY="SCENERY",L.FLAG="FLAG",L))(wi||{}),Qt=(L=>(L.ENEMY="ENEMY",L.PLAYER="PLAYER",L.SCENERY="SCENERY",L.CRYSTAL="CRYSTAL",L.FLAG="FLAG",L))(Qt||{}),mr=(L=>(L.EARTH="EARTH",L.MOON="MOON",L.MARS="MARS",L))(mr||{}),ku=(L=>(L.EARTH="level/earth/scenery",L.MOON="level/moon/scenery",L.MARS="level/mars/scenery",L))(ku||{}),nl=(L=>(L.EARTH="level/earth/tiles",L.MOON="level/moon/tiles",L.MARS="level/mars/tiles",L))(nl||{}),se=(L=>(L.WATER="WATER",L.SAND="SAND",L.GRASS="GRASS",L.RUBBLE="RUBBLE",L.MOUNT="MOUNT",L.SNOW="SNOW",L))(se||{});const Ou=at.div`
  background: ${xt.BLACK};
  font-family: ${ie.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  padding: 7px 10px 8px 10px;
  margin-top: 2px;
`,RE=at.div`
  pointer-events: all;
  &:hover {
    cursor: pointer;
    ${Ou} {
      background: ${xt.WARN};
    }
  }
  ${L=>L.$active&&zt`
    ${Ou} {
      background: ${xt.SUCCESS_DARK};
    }
  `}
`,LE=at.img`
  width: 128px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 100px;
  }
`,PE=({onRefresh:L})=>{const[A,M]=mt.useState(gt.World.level.planet),B=mt.useMemo(()=>Object.keys(mr),[]),V=k=>{M(k),gt.World.scene.restart({planet:k}),gt.World.events.once(Phaser.Scenes.Events.CREATE,L)};return _.jsx(ae,{direction:"horizontal",gap:6,children:B.map(k=>_.jsxs(RE,{$active:A===k,onClick:()=>V(k),children:[_.jsx(LE,{src:`assets/sprites/level/${k.toLowerCase()}/preview.png`}),_.jsx(Ou,{children:Ot(k)})]},k))})},IE=at.div`
  margin-top: -1px;
`,OE=at.div`
  margin-bottom: 10px;
  font-family: ${ie.PIXEL_LABEL};
  font-size: 14px;
  line-height: 14px;
  opacity: 0.75;
`,ME=at.img`
  margin-right: 10px;
  width: 20px;
`,DE=at.div`
  margin-top: -3px;
  font-family: ${ie.PIXEL_LABEL};
  font-size: 26px;
  line-height: 26px;
`,NE=({value:L})=>_.jsxs(IE,{children:[_.jsx(OE,{children:Ot("RECORD")}),_.jsxs(ae,{direction:"horizontal",align:"center",children:[_.jsx(ME,{src:"assets/sprites/hud/score.png"}),_.jsx(DE,{children:L})]})]}),wE=()=>{const L=Rt.useGame(),A=()=>L.getCurrentRecord()?.score??0,[M,B]=mt.useState(A),V=mt.useMemo(()=>Object.keys(gi),[]),k=mt.useMemo(()=>Object.keys(Ds),[]),p=v=>{L.mode=v,B(A())},S=v=>{L.difficulty=v,B(A())},t=()=>{L.startNewGame()},u=()=>{gt.World.camera.focusOnLevel(),B(A())};return _.jsxs(ae,{direction:"vertical",gap:[30,40],children:[_.jsx(ju,{}),_.jsxs(ae,{direction:"vertical",gap:[20,30],children:[_.jsx(PE,{onRefresh:u}),_.jsxs(ae,{direction:"horizontal",align:"left",gap:20,children:[_.jsx(el,{label:"DIFFICULTY",options:k,defaultValue:L.difficulty,onChange:S}),_.jsx(el,{label:"MODE",options:V,defaultValue:L.mode,onChange:p})]})]}),_.jsxs(ae,{direction:"horizontal",gap:30,children:[_.jsx(ls,{onClick:t,view:"primary",size:"large",children:Ot("START")}),_.jsx(NE,{value:M})]})]})},FE=at.div`
  width: 100%;
  color: ${Ae.WARN};
  font-size: 12px;
  line-height: 16px;
  letter-spacing: 1px;
  white-space: pre;
`,BE=()=>{const L=Rt.useGame(),[A,M]=mt.useState(Wi.Saves),[B,V]=mt.useState(L.usedSave?.name??""),[k,p]=mt.useState(null),S=mt.useRef(),t=mt.useMemo(()=>{const i=[...A],l=i.findIndex(n=>!n.name);return l!==-1&&i.splice(l,1),i},[A]),u=t.length>=vr.MAX_SAVES&&pe.Platform!=="development",v=i=>{V(i.name)},o=i=>{V(i.target.value)},r=()=>{if(!B)return;const i=t.some(n=>n.name===B),l=()=>{Ft.ShowAds(mi.MIDGAME),L.saveGame(B).then(n=>{n&&(V(""),M([...Wi.Saves]))})};i?p({message:"CONFIRM_REWRITE_SAVE",onConfirm:l}):l()},s=i=>{p({message:"CONFIRM_DELETE_SAVE",onConfirm:()=>{Wi.DeleteSave(i).then(()=>{M([...Wi.Saves])})}})},e=()=>{p(null)};return mt.useEffect(()=>{S.current&&S.current.focus()},[]),_.jsxs(ae,{direction:"vertical",align:"left",gap:[20,30],children:[k&&_.jsx($u,{...k,onClose:e}),_.jsx(ju,{}),t.length>0&&_.jsxs(_t,{children:[_.jsx(_t.Head,{children:_.jsxs(_t.HeadRow,{children:[_.jsx(_t.Cell,{children:Ot("SAVE_NAME")}),_.jsx(_t.Cell,{children:Ot("MODE")}),_.jsx(_t.Cell,{children:Ot("PLANET")}),_.jsx(_t.Cell,{children:Ot("DIFFICULTY")}),_.jsx(_t.Cell,{children:Ot("WAVE")}),_.jsx(_t.Cell,{children:Ot("SCORE")}),_.jsx(_t.Cell,{children:Ot("SAVE_DATE")}),_.jsx(_t.Cell,{})]})}),_.jsx(_t.Body,{children:t.map(i=>_.jsxs(_t.BodyRow,{onClick:()=>v(i),$active:i.name===B,children:[_.jsx(_t.Cell,{children:i.name}),_.jsx(_t.Cell,{children:Ot(i.payload.game.mode)}),_.jsx(_t.Cell,{children:Ot(i.payload.level.planet)}),_.jsx(_t.Cell,{children:Ot(i.payload.game.difficulty)}),_.jsx(_t.Cell,{children:i.payload.wave.number}),_.jsx(_t.Cell,{children:i.payload.player.score}),_.jsx(_t.Cell,{children:new Date(i.date).toLocaleString()}),_.jsx(_t.Cell,{$type:"delete",onClick:()=>s(i.name),children:"X"})]},i.name))})]}),_.jsxs(ae,{direction:"vertical",align:"left",gap:15,children:[u?_.jsx(FE,{children:Ot("SAVES_LIMIT")}):_.jsx(fp,{type:"text",placeholder:"Save name",value:B,maxLength:16,autoFocus:!0,onChange:o}),_.jsx(ls,{view:"primary",size:"large",disabled:!B||u,onClick:r,children:Ot("SAVE")})]})]})},UE=at.div`
`,GE=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 14px;
  line-height: 14px;
  margin-bottom: 10px;
  opacity: 0.75;
`,VE=at.ul`
  list-style: none;
  pointer-events: all;
  display: flex;
  gap: 5px;
  ${L=>L.$column&&zt`
    flex-direction: column;
    align-items: flex-start;
  `}
`,bE=at.li`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  border: 1px solid ${xt.WHITE_TRANSPARENT_75};
  padding: 6px 8px 8px 8px;
  border-radius: 3px;
  ${L=>L.$active&&zt`
    color: ${L.$color??Ae.SUCCESS};
    border-color: ${L.$color??Ae.SUCCESS};
  `}
  &:hover {
    cursor: pointer;
    ${L=>!L.$active&&zt`
      color: ${Ae.HOVER};
      border-color: ${Ae.HOVER};
    `};
  }
`,zE=({label:L,values:A,currentValue:M,column:B,onChange:V})=>_.jsxs(UE,{children:[_.jsx(GE,{children:Ot(L)}),_.jsx(VE,{$column:B,children:A.map(k=>{const p=typeof k=="string"?k:k.value,S=typeof k=="string"?void 0:k.color;return _.jsx(bE,{onClick:()=>V(p),$active:M===p,$color:S,children:Ot(p)},p)})})]}),WE=({type:L})=>{const A=Rt.useGame(),[M,B]=mt.useState(A.settings[L]),V=mt.useMemo(()=>[{value:"ON",color:Ae.SUCCESS},{value:"OFF",color:Ae.ERROR}],[]),k=p=>{const S=p==="ON";A.updateSetting(L,S),B(S)};return _.jsx(zE,{label:L,values:V,currentValue:M?"ON":"OFF",onChange:k})},YE=()=>_.jsx(ae,{direction:"vertical",gap:25,children:Object.values(ei).map(L=>_.jsx(WE,{type:L},L))}),XE={[ni.NEW_GAME]:wE,[ni.SAVE_GAME]:BE,[ni.LOAD_GAME]:CE,[ni.SETTINGS]:YE,[ni.CONTROLS]:Qx,[ni.LEADERBOARD]:pE},HE=({page:L})=>{const A=L&&XE[L];return _.jsx(ae,{direction:"vertical",align:"left",children:A&&_.jsx(A,{})})},KE=at.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  @media ${yt.BREAKPOINT.MOBILE} {
    flex-direction: row;
  }
`,$E=at.div`
  color: rgba(255, 255, 255, 0.75);
  text-align: right;
  white-space: pre-line;
  font-size: 12px;
  line-height: 12px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 8px;
    line-height: 8px;
  }
`,Av=at.a`
  pointer-events: all;
  font-size: 12px;
  line-height: 12px;
  &:hover {
    color: ${Ae.HOVER};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 8px;
    line-height: 8px;
  }
`,jE=at.a`
  margin-top: 10px;
  pointer-events: all;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  text-decoration: none;
  font-size: 13px;
  line-height: 13px;
  padding: 5px 9px;
  border-radius: 3px;
  background: #6170C1;
  &:hover {
    background: #4758aa;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 3px 6px;
    margin: 0 0 0 10px;
  }
`,kE=at.img`
  width: 16px;
  margin-right: 8px;
`,ZE=()=>_.jsxs(KE,{children:[_.jsx($E,{children:_.jsxs(ae,{direction:"vertical",gap:[2,4],children:[_.jsxs("div",{children:["Created by"," ",pe.GetFlag(Zt.COPYRIGHT)?_.jsx(Av,{href:ln.author.url,target:"_blank",children:ln.author.name}):ln.author.name]}),pe.GetFlag(Zt.POLICY)&&_.jsx(Av,{href:vr.LINKS.PRIVACY_POLICY,target:"_blank",children:"Privacy Policy"}),_.jsxs("div",{children:["Version"," ",ln.version]})]})}),_.jsxs(jE,{href:vr.LINKS.DISCORD,target:"_blank",children:[_.jsx(kE,{src:"assets/discord.png"}),"DISCORD"]})]}),QE=at.div`
  position: fixed;
  pointer-events: all;
  right: 32px;
  top: 32px;
  opacity: 0.5;
  background: ${xt.BLACK};
  padding: 10px;
  border-radius: 5px;
  &:hover {
    opacity: 1;
    cursor: pointer;
  }
`,JE=at.img`
  width: 20px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 24px;
  }
`,qE=()=>{const L=mt.useRef(null);return Rt.useClick(L,"down",()=>{gt.World.fx.playSound(us.CLICK);try{if(document.fullscreenElement)document.exitFullscreen();else{const A=document.documentElement;(A.requestFullscreen||A.webkitRequestFullscreen||A.webkitEnterFullscreen||A.msRequestFullscreen||A.mozRequestFullScreen).call(A,{navigationUI:"hide"})}}catch{}},[]),_.jsx(QE,{ref:L,children:_.jsx(JE,{src:"assets/sprites/hud/fullscreen.png"})})},_E=at.ul`
  list-style: none;
  text-align: right;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 12px;
`,t1=at.div`
  height: 12px;
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 6px;
  }
`,e1=at.li`
  position: relative;
  font-family: ${ie.PIXEL_LABEL};
  font-size: 20px;
  line-height: 20px;
  padding-right: 12px;
  white-space: nowrap;
  &:after {
    position: absolute;
    content: "";
    right: 0;
    top: 50%;
    transform: translateY(-7px);
    width: 2px;
    height: 16px;
    background: #fff;
  }
  ${L=>L.$active?zt`
    color: ${Ae.SUCCESS};
    &:after {
      background: ${Ae.SUCCESS};
    }
    &:hover {
      cursor: pointer;
    }
  `:zt`
    &:hover {
      cursor: pointer;
      color: ${Ae.HOVER};
      &:after {
        background: ${Ae.HOVER};
      }
    }
  `}
  ${L=>L.$disabled?zt`
    opacity: 0.5;
  `:zt`
    pointer-events: all;
  `}
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 18px;
    line-height: 18px;
    &:after {
      transform: translateY(-6px);
      height: 14px;
    }
  }
`,i1=({page:L,onSelect:A})=>{const M=Rt.useGame(),[B,V]=mt.useState(null),k=mt.useMemo(()=>{const t=[];return M.state===ye.IDLE?t.push({label:"NEW_GAME",page:ni.NEW_GAME},{label:"LOAD_GAME",page:ni.LOAD_GAME}):t.push({label:"CONTINUE_GAME",onClick:()=>M.resumeGame()},{label:"SAVE_GAME",page:ni.SAVE_GAME,disabled:gt.World.wave.isGoing||gt.World.wave.number===1&&Gt.IsEnabled},null,{label:"RESTART_GAME",onClick:()=>{V({message:"CONFIRM_RESTART_GAME",onConfirm:()=>{M.restartGame()}})}},{label:"MAIN_MENU",onClick:()=>{V({message:"CONFIRM_STOP_GAME",onConfirm:()=>{M.stopGame()}})}}),t.push(null),pe.GetFlag(Zt.LEADERBOARD)&&t.push({label:"LEADERBOARD",page:ni.LEADERBOARD}),t.push({label:"SETTINGS",page:ni.SETTINGS}),M.isDesktop()&&t.push({label:"CONTROLS",page:ni.CONTROLS}),t},[]),p=()=>{V(null)},S=t=>{gt.World.fx.playSound(us.CLICK),t.onClick?t.onClick():t.page&&A(t.page)};return _.jsxs(_E,{children:[B&&_.jsx($u,{...B,onClose:p}),k.map((t,u)=>t?_.jsx(e1,{onClick:()=>S(t),$active:t.page===L,$disabled:t.disabled,children:Ot(t.label)},t.label):_.jsx(t1,{},u))]})},n1=at.div`
  width: 100%;
  display: flex;
  position: absolute;
  inset: 0;
`,s1=at.div`
  min-width: 30%;
  background: ${xt.BLACK_TRANSPARENT_25};
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: space-between;
  flex: 1;
  padding: 15vh 7vw;
  flex-grow: 0;
  gap: 50px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 13vh 7vw;
    gap: 30px;
    min-width: 35%;
  }
`,r1=at.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1;
  padding: 15vh 7vw;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 13vh 7vw;
  }
`,a1=at.img`
  height: 60px;
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 14vh;
    min-height: 42px;
  }
`,dp=({defaultPage:L})=>{const[A,M]=mt.useState(L);return mt.useEffect(()=>(Gt.ToggleHintsVisible(!1),()=>{Gt.ToggleHintsVisible(!0)}),[]),_.jsx(hp,{children:_.jsxs(n1,{children:[_.jsxs(s1,{children:[_.jsx(a1,{src:"assets/logotype.png"}),_.jsx(i1,{page:A,onSelect:M}),_.jsx(ZE,{})]}),_.jsxs(r1,{children:[pe.GetFlag(Zt.FULLSCREEN)&&_.jsx(qE,{}),_.jsx(HE,{page:A})]})]})})};dp.displayName="MenuUI";class o1 extends Ra{constructor(){super(Me.MENU),gt.Menu=this}create(A){new Rt.Interface(this).render(dp,A),this.game.state===ye.IDLE&&gt.World.camera.focusOnLevel()}}const Wo=Phaser.Input.Keyboard.Key,Yo=Phaser.Input.Keyboard.KeyCodes;class l1{constructor(A){this.cursorKeys={up:new Wo(A,Yo.UP),down:new Wo(A,Yo.DOWN),left:new Wo(A,Yo.LEFT),right:new Wo(A,Yo.RIGHT)},this.noKeyDown=!0}shutdown(A){for(var M in this.cursorKeys)this.cursorKeys[M].destroy();this.cursorKeys=void 0}destroy(A){shutdown(A)}createCursorKeys(){return this.cursorKeys}setKeyState(A,M){var B=this.cursorKeys[A];return B.enabled?(M&&(this.noKeyDown=!1),B.isDown!==M&&(Xo.timeStamp=Date.now(),Xo.keyCode=B.keyCode,M?B.onDown(Xo):B.onUp(Xo)),this):this}clearAllKeysState(){this.noKeyDown=!0;for(var A in this.cursorKeys)this.setKeyState(A,!1);return this}getKeyState(A){return this.cursorKeys[A]}get upKeyDown(){return this.cursorKeys.up.isDown}get downKeyDown(){return this.cursorKeys.down.isDown}get leftKeyDown(){return this.cursorKeys.left.isDown}get rightKeyDown(){return this.cursorKeys.right.isDown}get anyKeyDown(){return!this.noKeyDown}}var Xo={timeStamp:0,keyCode:0,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,location:0};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h1=180/Math.PI,u1=function(L){return L*h1};const f1={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var d1=function(L,A,M){switch(M===void 0?M={}:M===!0&&(M=c1),M.left=!1,M.right=!1,M.up=!1,M.down=!1,L=(L+360)%360,A){case 0:L<180?M.down=!0:M.up=!0;break;case 1:L>90&&L<=270?M.left=!0:M.right=!0;break;case 2:L>45&&L<=135?M.down=!0:L>135&&L<=225?M.left=!0:L>225&&L<=315?M.up=!0:M.right=!0;break;case 3:L>22.5&&L<=67.5?(M.down=!0,M.right=!0):L>67.5&&L<=112.5?M.down=!0:L>112.5&&L<=157.5?(M.down=!0,M.left=!0):L>157.5&&L<=202.5?M.left=!0:L>202.5&&L<=247.5?(M.left=!0,M.up=!0):L>247.5&&L<=292.5?M.up=!0:(L>292.5&&L<=337.5&&(M.up=!0),M.right=!0);break}return M},c1={};const Rs=Phaser.Utils.Objects.GetValue,v1=Phaser.Math.Distance.Between,p1=Phaser.Math.Angle.Between;class m1 extends l1{constructor(A,M){super(A),this.resetFromJSON(M)}resetFromJSON(A){this.start==null&&(this.start={x:0,y:0}),this.end==null&&(this.end={x:0,y:0}),this._enable=void 0,this.setEnable(Rs(A,"enable",!0)),this.setMode(Rs(A,"dir","8dir")),this.setDistanceThreshold(Rs(A,"forceMin",16));var M=Rs(A,"start.x",null),B=Rs(A,"start.y",null),V=Rs(A,"end.x",null),k=Rs(A,"end.y",null);return this.setVector(M,B,V,k),this}toJSON(){return{enable:this.enable,dir:this.dirMode,forceMin:this.forceMin,start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}}}setMode(A){return typeof A=="string"&&(A=f1[A]),this.dirMode=A,this}get enable(){return this._enable}set enable(A){if(this._enable!==A)return A||this.clearVector(),this._enable=A,this}setEnable(A){return A===void 0&&(A=!0),this.enable=A,this}toggleEnable(){return this.setEnable(!this.enable),this}setDistanceThreshold(A){return A<0&&(A=0),this.forceMin=A,this}clearVector(){return this.start.x=0,this.start.y=0,this.end.x=0,this.end.y=0,this.clearAllKeysState(),this}setVector(A,M,B,V){if(!this.enable)return this;if(A===null)return this.clearVector(),this;if(B===void 0&&(B=A,A=0,V=M,M=0),this.start.x=A,this.start.y=M,this.end.x=B,this.end.y=V,this.forceMin>0&&this.force<this.forceMin)return this.clearVector(),this;this.noKeyDown=!0;var k=d1(this.angle,this.dirMode,!0);for(var p in k)this.setKeyState(p,k[p]);return this}get forceX(){return this.end.x-this.start.x}get forceY(){return this.end.y-this.start.y}get force(){return v1(this.start.x,this.start.y,this.end.x,this.end.y)}get rotation(){return p1(this.start.x,this.start.y,this.end.x,this.end.y)}get angle(){return u1(this.rotation)}get octant(){var A=0;return this.rightKeyDown?A=this.downKeyDown?45:0:this.downKeyDown?A=this.leftKeyDown?135:90:this.leftKeyDown?A=this.upKeyDown?225:180:this.upKeyDown&&(A=this.rightKeyDown?315:270),A}}const cp={setEventEmitter(L,A){return A===void 0&&(A=Phaser.Events.EventEmitter),this._privateEE=L===!0||L===void 0,this._eventEmitter=this._privateEE?new A:L,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(L){return this._eventEmitter&&L&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var g1=function(L,A,M,B){return B===void 0?B={}:B===!0&&(B=x1),M.getWorldPoint(L,A,B),B},x1={};const vu=Phaser.Utils.Objects.GetValue,E1=Phaser.Geom.Circle,y1=Phaser.Geom.Circle.Contains;class vp extends m1{constructor(A,M){var B=A.scene;super(B,M);var V=vu(M,"eventEmitter",void 0),k=vu(M,"EventEmitterClass",void 0);this.setEventEmitter(V,k),this.scene=B,this.mainCamera=B.sys.cameras.main,this.pointer=void 0,this.gameObject=A,this.radius=vu(M,"radius",100),A.setInteractive(new E1(A.displayOriginX,A.displayOriginY,this.radius),y1),this.boot()}resetFromJSON(A){return super.resetFromJSON(A),this.pointer=void 0,this}toJSON(){var A=super.toJSON();return A.radius=this.radius,A}boot(){this.gameObject.on("pointerdown",this.onKeyDownStart,this),this.gameObject.on("pointerover",this.onKeyDownStart,this),this.scene.input.on("pointermove",this.onKeyDown,this),this.scene.input.on("pointerup",this.onKeyUp,this),this.gameObject.once("destroy",this.onParentDestroy,this)}shutdown(A){this.scene&&(this.scene.input.off("pointermove",this.onKeyDown,this),this.scene.input.off("pointerup",this.onKeyUp,this),this.destroyEventEmitter(),this.scene=void 0,this.mainCamera=void 0,this.pointer=void 0,this.gameObject=void 0,super.shutdown())}destroy(A){this.shutdown(A)}onParentDestroy(A,M){this.destroy(M)}onKeyDownStart(A){!A.isDown||this.pointer!==void 0||(this.pointer=A,this.onKeyDown(A),this.emit("pointerdown",A))}onKeyDown(A){if(this.pointer===A){var M=A.camera;if(M){var B=this.gameObject,V=this.end;M!==this.mainCamera?V=g1(A.x,A.y,M,V):(V.x=A.worldX,V.y=A.worldY);var k=B.x,p=B.y;B.scrollFactorX===0&&(k+=M.scrollX),B.scrollFactorY===0&&(p+=M.scrollY),this.setVector(k,p,V.x,V.y),this.emit("update")}}}onKeyUp(A){this.pointer===A&&(this.pointer=void 0,this.clearVector(),this.emit("update"),this.emit("pointerup",A))}forceUpdate(){var A=this.pointer;return!A||!A.isDown?this:(this.onKeyDown(A),this)}}Object.assign(vp.prototype,cp);const is=Phaser.Utils.Objects.GetValue;class pp{constructor(A,M){M===void 0&&(M={});var B=is(M,"eventEmitter",void 0),V=is(M,"EventEmitterClass",void 0);this.setEventEmitter(B,V),M.eventEmitter=this.getEventEmitter(),this.scene=A,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0,this.setRadius(is(M,"radius",100)),this.addBase(is(M,"base",void 0),M),this.addThumb(is(M,"thumb",void 0));var k=is(M,"x",0),p=is(M,"y",0);this.base.setPosition(k,p),this.thumb.setPosition(k,p),is(M,"fixed",!0)&&this.setScrollFactor(0),this.boot()}destroy(){this.destroyEventEmitter(),this.base.destroy(),this.thumb.destroy(),this.scene=void 0,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0}createCursorKeys(){return this.touchCursor.createCursorKeys()}get forceX(){return this.touchCursor.forceX}get forceY(){return this.touchCursor.forceY}get force(){return this.touchCursor.force}get rotation(){return this.touchCursor.rotation}get angle(){return this.touchCursor.angle}get up(){return this.touchCursor.upKeyDown}get down(){return this.touchCursor.downKeyDown}get left(){return this.touchCursor.leftKeyDown}get right(){return this.touchCursor.rightKeyDown}get noKey(){return this.touchCursor.noKeyDown}get pointerX(){return this.touchCursor.end.x}get pointerY(){return this.touchCursor.end.y}get pointer(){return this.touchCursor.pointer}setPosition(A,M){return this.x===A&&this.y===M?this:(this.x=A,this.y=M,this.forceUpdateThumb(),this)}set x(A){this.x!==A&&(this.base.x=A,this.thumb.x=A)}set y(A){this.y!==A&&(this.base.y=A,this.thumb.y=A)}get x(){return this.base.x}get y(){return this.base.y}setVisible(A){return this.visible=A,this}toggleVisible(){return this.visible=!this.visible,this}get visible(){return this.base.visible}set visible(A){this.base.visible=A,this.thumb.visible=A}get enable(){return this.touchCursor.enable}set enable(A){this.touchCursor.setEnable(A)}setEnable(A){return A===void 0&&(A=!0),this.enable=A,this}toggleEnable(){return this.setEnable(!this.enable),this}setRadius(A){return this.radius=A,this}addBase(A,M){return this.base&&this.base.destroy(),A===void 0&&(A=this.scene.add.circle(0,0,this.radius).setStrokeStyle(3,255)),M===void 0&&(M={}),M.eventEmitter=this.getEventEmitter(),this.touchCursor=new vp(A,M),this.base=A,this}addThumb(A){return this.thumb&&this.thumb.destroy(),A===void 0&&(A=this.scene.add.circle(0,0,40).setStrokeStyle(3,65280)),this.thumb=A,this}setScrollFactor(A){return this.base.setScrollFactor(A),this.thumb.setScrollFactor(A),this}boot(){this.on("update",this.update,this)}update(){var A=this.touchCursor,M,B,V=A.dirMode;if(A.anyKeyDown)if(A.force>this.radius){var k=A.rotation;M=V!==0?Math.cos(k)*this.radius:0,B=V!==1?Math.sin(k)*this.radius:0}else M=V!==0?A.forceX:0,B=V!==1?A.forceY:0;else M=0,B=0;return this.thumb.x=this.base.x+M,this.thumb.y=this.base.y+B,this}forceUpdateThumb(){return this.touchCursor.forceUpdate(),this}}Object.assign(pp.prototype,cp);const Bs={REWARD:{SUPERSKILL:{MIN_WAVE:6},AMOUNTS:{WAVE_FREQUENCY:3,EXPERIENCE:new Bt.Linear({defaultValue:400,growth:1,maxLevel:25}),RESOURCES:new Bt.Linear({defaultValue:20,growth:1,maxLevel:25})}},MIDGAME:{ON_UNLOCK:{WAVES:[3,8]},ON_COMPLETE:{MIN_WAVE:10,WAVE_FREQUENCY:3}}},T1=at.div`
  background: rgba(67, 0, 143, 0.75);
  border-radius: 5px;
  display: flex;
  align-items: center;
  pointer-events: all;
  overflow: hidden;
`,S1=at.div`
  display: flex;
  align-items: center;
  padding: 16px 18px;
  flex: 1;
  &:hover {
    cursor: pointer;
    background: ${xt.BLACK_TRANSPARENT_25};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 14px 16px;
  }
`,A1=at.img`
  width: 40px;
  margin-right: 18px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 28px;
    margin-right: 12px;
  }
`,C1=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 10px;
  line-height: 10px;
  margin-top: -1px;
  white-space: nowrap;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 9px;
    line-height: 9px;
  }
`,R1=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 13px;
  line-height: 13px;
  padding: 0 24px;
  background: ${xt.BLACK_TRANSPARENT_50};
  height: 100%;
  display: flex;
  align-items: center;
  &:hover {
    cursor: pointer;
    background: ${xt.ERROR_DARK};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0 20px;
  }
`,as=at.div`
  display: flex;
  align-items: center;
`;as.Icon=at.img`
  margin-right: 8px;
  width: 16px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 12px;
  }
`;as.Value=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 15px;
  line-height: 15px;
  margin-top: -2px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 14px;
    line-height: 14px;
    margin-top: -3px;
  }
`;const L1=({experience:L,resources:A,onClose:M})=>{const B=Rt.useGame(),V=mt.useRef(null);return Rt.useClick(V,"down",()=>{M(),B.toggleSystemPause(!0),Ft.ShowAds(mi.REWARDED).then(k=>{B.toggleSystemPause(!1),k&&(gt.World.player.giveExperience(L),gt.World.player.giveResources(A))})},[L,A]),_.jsxs(T1,{children:[_.jsxs(S1,{ref:V,children:[_.jsx(A1,{src:"assets/sprites/hud/ads.png"}),_.jsxs(ae,{direction:"vertical",gap:[6,10],children:[_.jsx(C1,{children:Ot("ADS_SHOW")}),_.jsxs(ae,{direction:"horizontal",align:"center",gap:[10,16],children:[_.jsxs(as,{children:[_.jsx(as.Icon,{src:"assets/sprites/hud/resources.png"}),_.jsx(as.Value,{children:A})]}),_.jsxs(as,{children:[_.jsx(as.Icon,{src:"assets/sprites/hud/experience.png"}),_.jsx(as.Value,{children:L})]})]})]})]}),_.jsx(R1,{onClick:M,children:"X"})]})},P1=()=>{const[L,A]=mt.useState(!1),[M,B]=mt.useState({experience:0,resources:0}),V=()=>{A(!1)},k=p=>{p%Bs.REWARD.AMOUNTS.WAVE_FREQUENCY===0&&(A(!0),B({experience:Bs.REWARD.AMOUNTS.EXPERIENCE.getValue(p),resources:Bs.REWARD.AMOUNTS.RESOURCES.getValue(p)}))};return mt.useEffect(()=>{if(pe.GetFlag(Zt.ADS))return gt.World.wave.on(Pi.COMPLETE,k),()=>{gt.World.wave.off(Pi.COMPLETE,k)}},[]),L&&_.jsx(L1,{...M,onClose:V})},lr={"top-left":{transform:"translate(0, 0)",left:"39px",right:"auto"},"top-center":{transform:"translate(-50%, 0)",left:"50%",right:"auto"},"top-right":{transform:"translate(100%, 0)",left:"auto",right:"39px"},"bottom-left":{transform:"translate(0, -100%)",left:"39px",right:"auto"},"bottom-center":{transform:"translate(-50%, -100%)",left:"50%",right:"auto"},"bottom-right":{transform:"translate(100%, -100%)",left:"auto",right:"39px"}},I1=yn`
  0% { transform: translate(0, 0) }
  50% { transform: translate(10px, 0) }
  100% { transform: translate(0, 0) }
`,O1=yn`
  0% { transform: translate(0, 0) }
  50% { transform: translate(-10px, 0) }
  100% { transform: translate(0, 0) }
`,M1=yn`
  0% { transform: translate(0, 0) }
  50% { transform: translate(0, 10px) }
  100% { transform: translate(0, 0) }
`,D1=yn`
  0% { transform: translate(0, 0) }
  50% { transform: translate(0, -10px) }
  100% { transform: translate(0, 0) }
`,N1=at.div`
  position: relative;
  pointer-events: none;
  z-index: ${hs.HINT};
  &.hidden {
    display: none;
  }
`,w1=at.span`
  color: #d9ffa0;
`,F1=at.span`
  display: inline-block;
  padding: 1px 2px 1px 3px;
  margin-right: 1px;
  font-size: 11px;
  line-height: 11px;
  color: #000;
  background: #fff;
  border-radius: 3px;
`,pa=at.div`
  background: ${xt.BLACK};
  padding: 9px 12px 10px 12px;
  border-radius: 5px;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 1px;
  white-space: pre;
  box-shadow: 0 0 0 6px ${xt.BLACK_TRANSPARENT_25};
  &::after {
    position: absolute;
    content: '';
  }
`,B1=at.div`
  position: absolute;
  ${L=>{switch(L.$side){case"left":return zt`
        padding-left: 10px;
        transform: translate(0, -50%);
        ${pa} {
          animation: ${I1} 1s infinite;
          &::after {
            left: 0;
            top: 50%;
            transform: translate(-100%, -50%);
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            border-right: 10px solid ${xt.BLACK};
          }
        }
      `;case"right":return zt`
        padding-right: 10px;
        transform: translate(-100%, -50%);
        ${pa} {
          animation: ${O1} 1s infinite;
          &::after {
            right: 0;
            top: 50%;
            transform: translate(100%, -50%);
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            border-left: 10px solid ${xt.BLACK};
          }
        }
      `;case"top":return zt`
        padding-top: 10px;
        transform: ${lr[`top-${L.$align}`].transform};
        ${pa} {
          animation: ${M1} 1s infinite;
          &::after {
            top: 0;
            left: ${lr[`top-${L.$align}`].left};
            right: ${lr[`top-${L.$align}`].right};
            transform: translate(-50%, -100%);
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 10px solid ${xt.BLACK};
          }
        }
      `;case"bottom":return zt`
        padding-bottom: 10px;
        transform: ${lr[`bottom-${L.$align}`].transform};
        ${pa} {
          animation: ${D1} 1s infinite;
          &::after {
            bottom: 0;
            left: ${lr[`bottom-${L.$align}`].left};
            right: ${lr[`bottom-${L.$align}`].right};
            transform: translate(-50%, 100%);
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 10px solid ${xt.BLACK};
          }
        }
      `}}}
`,Pa=({label:L,side:A,step:M,align:B="center"})=>{const[V,k]=mt.useState(!M),p=mt.useMemo(()=>{const S=Ot(L);if(typeof S=="string"){if(/\[[^\]]+\]/.test(S)){const[t,u]=S.split(/\[[^\]]+\]/);return _.jsxs(_.Fragment,{children:[t,_.jsx(F1,{children:S.replace(/[\s\S]*\[([^\]]+)\][\s\S]*/,"$1").toUpperCase()}),u]})}if(/<[^>]+>/.test(S)){const[t,u]=S.split(/<[^>]+>/);return _.jsxs(_.Fragment,{children:[t,_.jsx(w1,{children:S.replace(/[\s\S]*<([^>]+)>[\s\S]*/,"$1")}),u]})}}return S},[L]);return mt.useEffect(()=>{if(M)return Gt.Bind(M,{beg:()=>k(!0),end:()=>k(!1)})},[M]),V&&_.jsx(N1,{role:"hint",children:_.jsx(B1,{$side:A,$align:B,children:_.jsx(pa,{children:p})})})},U1=at.img`
  width: 12px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 10px;
  }
`,G1=at.div`
  margin-top: -2px;
  font-family: ${ie.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  color: ${L=>L.$attention?Ae.ERROR:"#fff"};
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3.5vh;
    line-height: 3.5vh;
  }
`,Ia=({type:L,value:A,check:M=!0})=>{const B=mt.useRef(A),[V,k]=mt.useState(()=>{const S=L.toLowerCase();return gt.World.player[S]}),p=mt.useMemo(()=>!M||typeof A!="number"||V>=A,[M,A,V]);return Rt.useEvent(gt.World.player,xe[`UPDATE_${L}`],S=>{k(S)},[]),mt.useEffect(()=>{B.current=A},[A]),_.jsxs(ae,{direction:"horizontal",align:"center",gap:[2,5],children:[_.jsx(U1,{src:`assets/sprites/hud/${L.toLowerCase()}.png`}),_.jsx(G1,{$attention:!p,children:A})]})},V1=at.div`
  border-radius: 5px;
  background: ${xt.BLACK_TRANSPARENT_75};
  position: relative;
  ${L=>L.$allow?zt`
    ${()=>!L.$usable&&zt`
      background: ${xt.ERROR_DARK_TRANSPARENT_75};
    `}
  `:zt`
      opacity: 0.35;
      filter: grayscale(100%);
  `}
  ${L=>L.$active&&zt`
    opacity: 1.0;
    background: ${xt.BLACK};
  `}
  [role=hint]:not(.hidden) + &{
    box-shadow: 0 0 50px 20px #fff;
  }
  @media ${yt.BREAKPOINT.DESKTOP} {
    &:hover {
      border-radius: 0 5px 5px 0;
      cursor: pointer;
    }
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    display: flex;
    flex-direction: column;
    height: 100%;
  }
`,b1=at.div`
  position: relative;
  z-index: 2;
  padding: 10px 10px 7px 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0;
    margin: 0 2vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    flex: 1;
  }
`,z1=at.div`
  overflow: hidden;
  width: 34px;
  height: 40px;
  [role=texture] {
    height: 100%;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    position: absolute;
    width: auto;
    height: 80%;
    aspect-ratio: 34 / 40;
  }
`,W1=at.div`
  background: #000;
  display: flex;
  justify-content: center;
  padding: 5px 0;
  border-radius: 0 0 5px 5px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 1vh 0;
    min-width: 15vh;
  }
`,Y1=at.div`
  position: absolute;
  font-size: 10px;
  line-height: 10px;
  right: 4px;
  top: 4px;
  opacity: 0.75;
`,X1=({number:L,variant:A})=>{const M=Rt.useMobilePlatform(),B=mt.useRef(null),[V,k]=mt.useState(!1),[p,S]=mt.useState(!1),[t,u]=mt.useState(!1);return Rt.useClick(B,"down",()=>{gt.World.builder.variant===A?gt.World.builder.unsetBuildingVariant():gt.World.builder.setBuildingVariant(A)},[A]),Rt.useSceneUpdate(gt.World,()=>{const v=gt.World.builder.variant===A,o=gt.World.builder.isBuildingAllowByWave(A)&&zu.IsBuildingAllow(A),r=gt.World.player.resources>=jt.VARIANTS[A].COST&&!gt.World.builder.isBuildingLimitReached(A);S(v),k(o),u(r)},[]),_.jsxs(V1,{ref:B,$allow:V,$active:p,$usable:t,children:[!M&&_.jsx(Y1,{children:L}),_.jsx(b1,{children:_.jsx(z1,{children:_.jsx(Rt.Texture,{name:Pr[A]})})}),_.jsx(W1,{children:_.jsx(Ia,{type:"RESOURCES",value:jt.VARIANTS[A].COST,check:V})})]})},mp=at.div`
  position: absolute;
  z-index: 2;
  transform: translateX(-100%);
  display: none;
  pointer-events: none;
  min-width: 164px;
  height: 100%;
  padding: 12px 14px;
  background: ${xt.BLACK};
  border-radius: 5px 0 0 5px;
`,H1=at.div`
  font-family: ${ie.PIXEL_LABEL};
  color: ${Ae.SUCCESS};
  font-size: 14px;
  line-height: 14px;
  margin-bottom: 8px;
  white-space: nowrap;
`,K1=at.div`
  font-size: 9px;
  line-height: 11px;
  letter-spacing: 1px;
`,$1=at.div`
  position: relative;
  display: flex;
  align-items: center;
  pointer-events: all;
  @media ${yt.BREAKPOINT.DESKTOP} {
    &:hover {
      ${mp} {
        display: block;
        + [role=hint] {
          display: none;
        }
      }
    }
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 100%;
  }
`,j1=({variant:L,number:A})=>{const M=mt.useMemo(()=>Object.entries(y0).filter(([,B])=>B.variant===L).map(([B,V])=>({step:B,label:V.label})),[L]);return _.jsxs($1,{children:[_.jsxs(mp,{children:[_.jsx(H1,{children:Ot(`BUILDING_NAME_${L}`)}),_.jsx(K1,{children:Ot(`BUILDING_DESCRIPTION_${L}`)})]}),M.map(B=>_.jsx(Pa,{step:B.step,label:B.label,side:"right"},B.step)),_.jsx(X1,{variant:L,number:A})]})},k1=at.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  @media ${yt.BREAKPOINT.MOBILE} {
    flex: 1;
  }
`,Z1=at.div`
  display: flex;
  align-items: flex-end;
  flex: 1;
  gap: 4px;
`,Q1=at.div`
  position: absolute;
  top: -16px;
  right: -16px;
  bottom: -16px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  ${L=>L.$hidden&&zt`
    display: none;
  `}
  @media ${yt.BREAKPOINT.MOBILE} {
    gap: 13px;
  }
`,J1=at.div`
  font-family: ${ie.PIXEL_LABEL};
  letter-spacing: 1px;
  font-size: 9px;
  line-height: 9px;
  background: ${xt.BLACK_TRANSPARENT_75};
  padding: 3px 5px 4px 5px;
  border-radius: 5px;
  margin-bottom: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    margin-bottom: 5px;
    font-size: 2vh;
    line-height: 2vh;
  }
`,q1=()=>{const L=Rt.useGame(),[A,M]=mt.useState(!1),B=mt.useMemo(()=>{const V=qo(jt.VARIANTS,(k,p,S)=>({variant:k,category:p.CATEGORY,number:S+1}));return Object.values(an).map(k=>({type:k,buildings:V.filter(p=>p.category===k)}))},[]);return Rt.useSceneUpdate(gt.World,()=>{M(!!gt.World.builder.selectedBuilding&&!L.isDesktop())},[]),_.jsx(Q1,{$hidden:A,children:B.map(V=>_.jsxs(k1,{children:[_.jsx(J1,{children:Ot(`BUILDING_CATEGORY_${V.type}`)}),_.jsx(Z1,{children:V.buildings.map(k=>_.jsx(j1,{variant:k.variant,number:k.number},k.variant))})]},V.type))})},_1=at.div`
  font-size: 12px;
  line-height: 12px;
  opacity: 0.5;
`,ty=()=>{const L=Rt.useGame(),[A,M]=mt.useState(0),[B,V]=mt.useState(0);return Rt.useSceneUpdate(gt.World,()=>{M(Math.round(L.loop.actualFps));const k=performance?.memory?.usedJSHeapSize;k&&V(Math.round(k/1024/1024))},[]),_.jsxs(_1,{children:[A," ","FPS",!!B&&_.jsxs(_.Fragment,{children:[_.jsx("br",{}),B," ","MB"]})]})},mn={TILE:{width:42,height:54,origin:.78},HEAL:{PAUSE:1e3,HEALTH_MULTIPLIER:.1},MAX_COUNT:5,MAP_SIZE_MULTIPLIER:.6,SCORE:new Bt.Quadratic({defaultValue:80,growth:1.8}),CAPTION:{DISTANCE:128,DURATION:new Bt.Linear({defaultValue:2e4,growth:.5})}},ey=at.div`
  position: absolute;
  pointer-events: none;
  letter-spacing: 1px;
  left: 50%;
  top: 100%;
  transform: translateX(-50%);
  font-size: 10px;
  line-height: 12px;
  background: ${xt.BLACK_TRANSPARENT_75};
  border-radius: 5px;
  padding: 9px 12px;
  margin-top: 8px;
  white-space: pre;
  text-align: left;
  ${L=>!L.$visible&&zt`
    display: none;
  `}
  &::after {
    position: absolute;
    content: '';
    top: -8px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 8px solid ${xt.BLACK_TRANSPARENT_75};
  }
`,Zu=({visible:L,children:A})=>_.jsx(ey,{$visible:L,role:"tooltip",children:A}),iy=at.div`
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 60px;
  pointer-events: all;
  padding: 0 6px;
  &:hover [role=tooltip] {
    display: block;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0 4px;
  }
`,ny=at.img`
  width: 14px;
  margin-bottom: 6px;
`,sy=at.div`
  white-space: nowrap;
  font-size: 10px;
  line-height: 10px;
`,ry=()=>{const L=()=>gt.World.getCapturedFlags().length,[A,M]=mt.useState(L);return Rt.useSceneUpdate(gt.World,()=>{M(L())},[]),_.jsxs(iy,{children:[_.jsx(ny,{src:"assets/sprites/hud/flag.png"}),_.jsxs(sy,{children:[A," ","/"," ",mn.MAX_COUNT]}),_.jsx(Zu,{children:Ot("FLAGS_CAPTURE")})]})};var Ye=(L=>(L.SELECT_BUILDING="select_building",L.UNSELECT_BUILDING="unselect_building",L.SHOW_HINT="show_hint",L.HIDE_HINT="hide_hint",L.TOGGLE_MODE="toggle_mode",L))(Ye||{}),$e=(L=>(L.TIME_SCALE="TIME_SCALE",L.BUILDING_INDICATORS="BUILDING_INDICATORS",L.AUTO_REPAIR="AUTO_REPAIR",L.PATH_TO_CRYSTAL="PATH_TO_CRYSTAL",L))($e||{}),Qu=(L=>(L.TIME_SCALE="world/modes/time_scale",L.BUILDING_INDICATORS="world/modes/building_indicators",L.AUTO_REPAIR="world/modes/auto_repair",L.PATH_TO_CRYSTAL="world/modes/path_to_crystal",L))(Qu||{});const ay=at.div`
  top: 48px;
  position: absolute;
`,oy=at.div`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 5px;
  pointer-events: all;
  background: ${L=>L.$active?xt.SUCCESS:xt.BLACK};
  @media ${yt.BREAKPOINT.DESKTOP} {
    &:hover {
      cursor: pointer;
      ${L=>!L.$active&&zt`
        background: ${xt.SUCCESS_GRADIENT};
      `};
    }
    [role=texture] {
      width: 16px;
      height: 16px;
    }
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    min-width: 30px;
    min-height: 30px;
    width: 10vh;
    height: 10vh;
    [role=texture] {
      width: 40%;
      height: 40%;
    }
  }
`,ly=({mode:L})=>{const A=Rt.useGame(),M=mt.useRef(null),[B,V]=mt.useState(()=>gt.World.isModeActive(L)),k=Rt.useInteraction(M,()=>{gt.World.setModeActive(L,!B),gt.World.fx.playSound(us.CLICK),V(!B)},[L,B]);return A.mode===gi.FLAGS&&L===$e.PATH_TO_CRYSTAL?null:_.jsxs(oy,{ref:M,$active:B,children:[_.jsx(Rt.Texture,{name:Qu[L]}),k&&_.jsx(ay,{children:_.jsx(Zu,{visible:!0,children:Ot(L)})})]})},hy=at.div`
  display: flex;
  align-items: center;
  gap: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    gap: 6px;
  }
`,uy=()=>_.jsx(hy,{children:qo($e,(L,A)=>_.jsx(ly,{mode:A},L))}),fy={NOTICE_DURATION:4e3},dy=yn`
  0% { opacity: 0 }
  100% { opacity: 1 }
`,cy=at.div`
  padding: 10px 13px;
  border-radius: 5px;
  text-transform: uppercase;
  font-size: 12px;
  line-height: 12px;
  letter-spacing: 2px;
  animation: ${dy} 0.2s ease-in;
  background: ${xt.ERROR_TRANSPARENT_75};
  display: flex;
  align-items: center;
  z-index: ${hs.NOTICE};
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 10px;
    line-height: 9px;
    padding: 8px 11px;
  }
`,vy=at.img`
  width: 16px;
  margin-right: 10px;
`,py=()=>{const[L,A]=mt.useState([]),M=k=>{A(p=>p.filter(S=>S.text!==k))},B=k=>setTimeout(()=>M(k),fy.NOTICE_DURATION),V=k=>{A(p=>{let S=!1;const t=p.map(u=>u.text===k.text?(S=!0,clearTimeout(u.timer),{...u,timer:B(u.text)}):u);return S||t.push({...k,timer:B(k.text)}),t})};return mt.useEffect(()=>(gt.Screen.events.on(il.NOTICE,V),()=>{gt.Screen.events.off(il.NOTICE,V)}),[]),_.jsx(ae,{direction:"vertical",gap:[3,4],children:L.map(k=>_.jsxs(cy,{role:"notice",children:[_.jsx(vy,{src:"assets/sprites/hud/failure.png"}),Ot(k.text,k.format)]},k.text))})};var ui=(L=>(L.DEAD="dead",L.DAMAGE="damage",L.HEAL="heal",L.UPDATE_MAX_HEALTH="update_max_health",L.UPDATE_HEALTH="update_health",L))(ui||{});const my=at.div`
  background: ${xt.BLACK};
  position: relative;
  border-radius: 3px;
  overflow: hidden;
  margin-top: 4px;
`,gy=at.div`
  height: 20px;
  background: ${xt.SUCCESS_DARK};
  box-shadow: 0 10px 0 ${xt.SUCCESS} inset;
  transition: width 0.3s ease-out;
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 6vh;
  }
`,xy=at.div`
  position: absolute;
  font-family: ${ie.PIXEL_LABEL};
  font-size: 10px;
  line-height: 10px;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  text-align: center;
  padding-bottom: 1px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3vh;
    line-height: 3vh;
  }
`,Ey=()=>{const[L,A]=mt.useState(gt.World.player.live.health),[M,B]=mt.useState(gt.World.player.live.maxHealth);return Rt.useEvent(gt.World.player.live,ui.UPDATE_HEALTH,V=>{A(V)},[]),Rt.useEvent(gt.World.player.live,ui.UPDATE_MAX_HEALTH,V=>{B(V)},[]),_.jsxs(my,{children:[_.jsx(gy,{style:{width:`${L/M*100}%`}}),_.jsx(xy,{children:`${L} HP`})]})},yy=at.div`
  padding: 5px;
  background: ${xt.BLACK_TRANSPARENT_75};
  border-radius: 5px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 1vh;
  }
`,Ty=at.div`
  width: 74px;
  height: 74px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 24vh;
    height: 24vh;
    min-height: 50px;
  }
`,Sy=at.img`
  width: 100%;
`,Ay=()=>_.jsxs(yy,{children:[_.jsx(Ty,{children:_.jsx(Sy,{src:"assets/sprites/hud/avatar.png"})}),_.jsx(Ey,{})]}),gp=at.div`
  position: absolute;
  pointer-events: none;
  display: none;
  font-family: ${ie.PIXEL_LABEL};
  font-size: 11px;
  line-height: 11px;
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  align-items: center;
  height: 32px;
  background: ${xt.BLACK_TRANSPARENT_25};
  border-radius: 0 5px 5px 0;
  white-space: nowrap;
  padding: 0 12px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 4vh;
    line-height: 4vh;
    height: 8vh;
    padding: 0 8px;
  }
`,Cy=at.div`
  position: relative;
  pointer-events: all;
  &:hover ${gp} {
    display: flex;
  }
`,Ry=at.div`
  background: ${xt.BLACK_TRANSPARENT_50};
  display: flex;
  border-radius: 5px;
  &:hover {
    border-radius: 5px 0 0 5px;
  }
`,Ly=at.div`
  pointer-events: none;
  background: ${xt.BLACK_TRANSPARENT_75};
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 8vh;
    height: 8vh;
    min-width: 24px;
    min-height: 24px;
  }
`,Py=at.img`
  width: 50%;
`,Iy=at.div`
  pointer-events: none;
  font-family: ${ie.PIXEL_LABEL};
  margin-top: -1px;
  font-size: 16px;
  line-height: 16px;
  padding: 0 13px 0 9px;
  display: flex;
  align-items: center;
  flex: 1;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 4vh;
    line-height: 4vh;
    padding: 0 12px 0 6px;
  }
`,Ju=({children:L,type:A,placeholder:M})=>_.jsxs(Cy,{children:[_.jsxs(Ry,{children:[_.jsx(Ly,{children:_.jsx(Py,{src:`assets/sprites/hud/${A.toLowerCase()}.png`})}),_.jsx(Iy,{children:L})]}),M&&_.jsx(gp,{children:Ot(A)})]}),Oy=()=>{const[L,A]=mt.useState(gt.World.player.experience);return Rt.useEvent(gt.World.player,xe.UPDATE_EXPERIENCE,M=>{A(M)},[]),_.jsx(Ju,{type:"EXPERIENCE",placeholder:!0,children:L})},My=()=>{const L=Rt.useGame(),A=()=>{L.state===ye.STARTED&&L.pauseGame()};return _.jsx(ls,{onClick:A,children:Ot("MENU")})},Dy=at.div`
  position: relative;
`,Ny=()=>{const[L,A]=mt.useState(gt.World.player.resources);return Rt.useEvent(gt.World.player,xe.UPDATE_RESOURCES,M=>{A(M)},[]),_.jsxs(Dy,{children:[_.jsx(Ju,{type:"RESOURCES",placeholder:!0,children:L}),_.jsx(Pa,{step:Yt.RESOURCES,label:"TUTORIAL_RESOURCES",side:"top",align:"left"})]})},wy=()=>{const[L,A]=mt.useState(gt.World.player.score);return Rt.useEvent(gt.World.player,xe.UPDATE_SCORE,M=>{A(M)},[]),_.jsx(Ju,{type:"SCORE",placeholder:!0,children:L})},Fy=()=>{const L=Rt.useMobilePlatform();return _.jsxs(ae,{direction:"horizontal",gap:12,children:[_.jsxs(ae,{direction:"vertical",gap:6,children:[_.jsx(Ay,{}),L&&_.jsx(My,{})]}),_.jsxs(ae,{direction:"vertical",gap:6,children:[_.jsx(wy,{}),_.jsx(Oy,{}),_.jsx(Ny,{})]})]})},By={[ge.MAX_HEALTH]:{experience:new Bt.Quadratic({defaultValue:80,growth:1,roundTo:10}),target:wn.CHARACTER},[ge.SPEED]:{experience:new Bt.Quadratic({defaultValue:80,growth:1,roundTo:10}),target:wn.CHARACTER},[ge.STAMINA]:{experience:new Bt.Quadratic({defaultValue:60,growth:1,roundTo:10}),target:wn.CHARACTER},[ge.BUILD_SPEED]:{experience:new Bt.Quadratic({defaultValue:40,growth:1,roundTo:10}),target:wn.CHARACTER},[ge.ATTACK_DAMAGE]:{experience:new Bt.Quadratic({defaultValue:70,growth:1,roundTo:10}),target:wn.ASSISTANT},[ge.ATTACK_DISTANCE]:{experience:new Bt.Quadratic({defaultValue:40,growth:1,roundTo:10}),target:wn.ASSISTANT},[ge.ATTACK_SPEED]:{experience:new Bt.Quadratic({defaultValue:30,growth:1,roundTo:10}),target:wn.ASSISTANT}},Uy={[si.SHIELD]:{cost:new Bt.Linear({defaultValue:20,growth:.25,roundTo:5}),duration:1e4},[si.INVISIBLE]:{cost:new Bt.Linear({defaultValue:25,growth:.25,roundTo:5}),duration:5e3},[si.FROST]:{cost:new Bt.Linear({defaultValue:30,growth:.25,roundTo:5}),duration:1e4},[si.FIRE]:{cost:new Bt.Linear({defaultValue:45,growth:.25,roundTo:5}),duration:2e3,force:1.7},[si.RAGE]:{cost:new Bt.Linear({defaultValue:45,growth:.25,roundTo:5}),duration:1e4}},ze={TILE:{width:20,height:30,gamut:4},RESOURCES:{DEFAULT:80,DIFF_BOUND:999},SCORE:{DEFAULT:0,DIFF_BOUND:10},SKILLS:{TYPES:By,MAX_LEVEL:10},SUPERSKILLS:{TYPES:Uy,UNLOCK_PER_WAVE:3,HOTKEYS:["z","x","c","v","b"]},MAX_HEALTH:new Bt.Quadratic({defaultValue:100,growth:.4,roundTo:10}),SPEED:new Bt.Linear({defaultValue:90,growth:.0556,roundTo:1}),STAMINA:new Bt.Linear({defaultValue:100,growth:.2})},Ho={KeyW:ii.UP,ArrowUp:ii.UP,KeyS:ii.DOWN,ArrowDown:ii.DOWN,KeyA:ii.LEFT,ArrowLeft:ii.LEFT,KeyD:ii.RIGHT,ArrowRight:ii.RIGHT},Gy=at.div`
  display: flex;
  justify-content: space-between;
  overflow: hidden;
  ${L=>L.$active&&zt`
    &:hover {
      cursor: pointer;
      background: ${xt.SUCCESS_TRANSPARENT_50};
    }
  `}
  &:first-child {
    border-radius: 5px 5px 0 0;
  }
  &:last-child {
    border-radius: 0 0 5px 5px;
  }
`,Vy=at.div`
  flex: 1;
  display: flex;
  align-items: center;
`,by=at.div`
  width: 54px;
  height: 54px;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  background: ${xt.BLACK_TRANSPARENT_50};
  margin-right: 1px;
  [role=texture] {
    width: 50%;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 13vh;
    height: 13vh;
    min-width: 40px;
    min-height: 40px;
  }
`,zy=at.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  background: ${xt.BLACK_TRANSPARENT_25};
  padding: 12px 13px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 10px;
  }
`,Wy=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  margin-right: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3.5vh;
    line-height: 3.5vh;
  }
`,Mu=at.div`
  margin-top: 10px;
  display: flex;
  gap: 2px;
  @media ${yt.BREAKPOINT.MOBILE} {
    margin-top: 8px;
  }
`;Mu.Progress=at.div`
  flex: 1;
  height: 8px;
  transition: all 0.2s ease-out;
  background: ${xt.BLACK};
  box-shadow: 0 4px 0 #111 inset;
  ${L=>L.$active&&zt`
    background: ${xt.SUCCESS};
    box-shadow: 0 4px 0 ${xt.WHITE_TRANSPARENT_15} inset;
  `}
`;const Yy=at.div`
  margin-left: 1px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  pointer-events: all;
  width: 95px;
  padding: 10px 15px;
  background: ${xt.BLACK_TRANSPARENT_50};
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 85px;
    padding: 10px 12px;
  }
`,Xy=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 8px;
  line-height: 8px;
  letter-spacing: 1px;
  margin-bottom: 6px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 2vh;
    line-height: 2vh;
  }
`,Hy=at.div`
  color: ${Ae.WARN};
  font-family: ${ie.PIXEL_LABEL};
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  white-space: pre;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 8px;
    line-height: 10px;
  }
`,Ky=({type:L})=>{const A=mt.useRef(null),M=()=>({type:L,experience:gt.World.player.getExperienceToUpgrade(L),currentLevel:gt.World.player.upgradeLevel[L]}),[B,V]=mt.useState(M),k=B.currentLevel>=ze.SKILLS.MAX_LEVEL,p=mt.useMemo(()=>Array.from({length:ze.SKILLS.MAX_LEVEL}),[]);return Rt.useClick(A,"down",()=>{gt.World.player.upgrade(L)},[L]),Rt.useEvent(gt.World.player,xe.UPGRADE_SKILL,()=>{V(M())},[]),_.jsxs(Gy,{ref:A,$active:!k,children:[_.jsxs(Vy,{children:[_.jsx(by,{children:_.jsx(Rt.Texture,{name:bu[B.type]})}),_.jsxs(zy,{children:[_.jsx(Wy,{children:Ot(`SKILL_LABEL_${B.type}`)}),_.jsx(Mu,{children:p.map((S,t)=>_.jsx(Mu.Progress,{$active:B.currentLevel&&t<B.currentLevel},t))})]})]}),_.jsx(Yy,{children:k?_.jsx(Hy,{children:Ot("SKILL_MAX_LEVEL")}):_.jsxs(_.Fragment,{children:[_.jsx(Xy,{children:Ot("SKILL_UPGRADE")}),_.jsx(Ia,{type:"EXPERIENCE",value:B.experience})]})})]})},$y=at.div`
  position: fixed;
  inset: 0;
  z-index: -1;
  background: ${xt.BLACK_TRANSPARENT_75};
`,jy=at.div`
  position: fixed;
  inset: 0;
  pointer-events: all;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: ${hs.OVERLAY};
`,ky=at.div`
  min-width: 280px;
`,Zy=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 10px;
  line-height: 10px;
  padding: 10px 12px;
  margin-bottom: 10px;
  background: ${xt.SUCCESS_DARK};
  box-shadow: 0 15px 0 ${xt.SUCCESS} inset;
  border-radius: 5px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3.5vh;
    line-height: 3.5vh;
    padding: 2vh 12px;
  }
`,Qy=at.div`
  background: ${xt.BLACK_TRANSPARENT_50};
  border-radius: 10px 0 10px 10px;
  padding: 30px;
  position: relative;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 6vh;
  }
`,Jy=at.div`
  letter-spacing: 1px;
  font-size: 10px;
  line-height: 10px;
  position: absolute;
  transform: translateY(-100%);
  top: 0;
  right: 0;
  padding: 7px 9px 7px 10px;
  border-radius: 5px 5px 0 0;
  pointer-events: all;
  text-transform: uppercase;
  background: ${xt.ERROR_DARK};
  opacity: 0.75;
  &:hover {
    cursor: pointer;
    opacity: 1;
  }
`,qy=({onClose:L})=>{const A=mt.useRef(null),M=mt.useRef(null),B=mt.useRef(null);return Rt.useClick(M,"down",()=>{},[]),Rt.useClick(A,"down",L,[]),Rt.useClick(B,"down",()=>{L(),gt.World.fx.playSound(us.CLICK)},[]),Rt.useEvent(gt.Screen.input.keyboard,"keyup-ESC",L,[]),mt.useEffect(()=>(Gt.ToggleHintsVisible(!1),()=>{Gt.ToggleHintsVisible(!0)}),[]),_.jsxs(_.Fragment,{children:[_.jsx($y,{}),_.jsx(jy,{ref:A,children:_.jsxs(Qy,{ref:M,children:[_.jsx(Jy,{ref:B,children:Ot("SKILLS_CLOSE")}),_.jsx(ae,{direction:"horizontal",gap:[10,20],children:qo(wn,(V,k)=>_.jsxs(ky,{children:[_.jsx(Zy,{children:Ot(`SKILL_TARGET_${k}`)}),_.jsx(ae,{direction:"vertical",gap:1,children:qo(ze.SKILLS.TYPES,(p,S)=>S.target===k&&_.jsx(Ky,{type:p},p))})]},V))})]})})]})},_y=at.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  > [role=button] {
    padding: 0 14px;
    height: 36px;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    > [role=button] {
      height: 10vh;
      padding: 0 16px;
      min-height: 30px;
    }
  }
`,tT=()=>{const L=Rt.useGame(),[A,M]=mt.useState(!1),B=()=>{M(!0),L.toggleSystemPause(!0)},V=()=>{const k=()=>{M(!1),L.toggleSystemPause(!1)};gt.World.wave.number>=4?Ft.ShowAds(mi.MIDGAME).then(k):k()};return Rt.useEvent(gt.World.input.keyboard,Fs.SKILLS,k=>{A?V():B(),k.preventDefault(),k.stopPropagation()},[A]),_.jsxs(_.Fragment,{children:[A&&_.jsx(qy,{onClose:V}),_.jsxs(_y,{children:[_.jsx(ls,{onClick:B,view:A?"confirm":void 0,children:Ot("SKILLS")}),_.jsx(Pa,{step:Yt.UPGRADE_SKILL,label:"TUTORIAL_CLICK_TO_UPGRADE",side:"top"})]})]})},eT=at.div`
  height: 100%;
  padding: 32px;
  display: flex;
  justify-content: space-between;
  user-select: none;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 5vh;
  }
`,hr=at.div`
  display: flex;
  gap: 1px;
  height: 60px;
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 15vh;
    min-height: 40px;
  }
`;hr.Block=at.div`
  display: flex;
  align-items: center;
  background: ${L=>L.$dark?xt.BLACK_TRANSPARENT_75:xt.BLACK_TRANSPARENT_50};
  gap: 1px;
  padding: 0 12px;
  height: 60px;
  &:first-child {
    border-radius: 5px 0 0 5px;
  }
  &:last-child {
    border-radius: 0 5px 5px 0;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0 2vh;
    height: 15vh;
    min-height: 40px;
  }
`;const iT=at.div`
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  width: 100%;
`,pu=at.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  position: relative;
  ${L=>{switch(L.$side){case"left":return zt`
        justify-self: start;
        align-items: flex-start;
      `;case"center":return zt`
        justify-self: center;
        align-items: center;
      `;case"right":return zt`
        justify-self: end;
        align-items: flex-end;
      `}}}
`,nT=yn`
  0% { top: 0 }
  100% { top: 100% }
`,sT=yn`
  0% { opacity: 0; margin-bottom: 0 }
  100% { opacity: 1; margin-bottom: 12px }
`,rT=at.div`
  position: relative;
`,aT=at.div`
  background: ${xt.BLACK_TRANSPARENT_50};
  padding: 14px;
  pointer-events: all;
  border-radius: 5px;
  @media ${yt.BREAKPOINT.DESKTOP} {
    ${L=>L.$allow&&zt`
      &:hover {
        cursor: pointer;
        ${()=>!L.$active&&zt`
          background: ${xt.BLACK};
        `};
      }
    `}
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 10px;
  }
`,oT=at.div`
  font-size: 10px;
  line-height: 10px;
`,Cv=at.div`
  position: absolute;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  background: #222;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px 4px 6px 5px;
  z-index: 3;
  right: -4px;
  top: -4px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 14px;
    height: 14px;
    padding: 4px 4px 6px 5px;
  }
`,lT=at.img`
  width: 10px;
  height: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 6px;
    height: 6px;
  }
`,hT=at.div`
  display: block;
  position: relative;
  z-index: 2;
  width: 26px;
  height: 26px;
  ${L=>!L.$allow&&zt`
    opacity: 0.5;
  `}
  [role=texture] {
    width: 100%;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 22px;
    height: 22px;
  }
`,uT=at.div`
  position: absolute;
  transform: translateX(-50%);
  bottom: 100%;
  left: 50%;
  margin-bottom: 12px;
  min-width: 200px;
  animation: ${sT} 0.1s ease-in;
  &::after {
    position: absolute;
    content: "";
    bottom: 0;
    left: 50%;
    transform: translate(-50%, 100%);
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 12px solid ${xt.BLACK_TRANSPARENT_75};
  }
`,fT=at.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 11px 14px 9px 14px;
  background: ${xt.BLACK};
  border-radius: 5px 5px 0 0;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 9px 11px;
  }
`,dT=at.div`
  color: ${Ae.SUCCESS};
  font-family: ${ie.PIXEL_LABEL};
  font-size: 14px;
  line-height: 14px;
  margin: -2px 10px 0 0;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 13px;
    line-height: 13px;
  }
`,cT=at.div`
  letter-spacing: 1px;
  background: ${xt.BLACK_TRANSPARENT_75};
  padding: 9px 14px 12px 14px;
  border-radius: 0 0 5px 5px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 7px 11px 11px 11px;
  }
`,vT=at.div`
  font-size: 11px;
  line-height: 12px;
`,pT=at.div`
  position: absolute;
  background: ${xt.SUCCESS_DARK};
  inset: 0;
  animation: ${nT} 1s linear;
  border-radius: 5px;
`,mT=({type:L,index:A})=>{const M=Rt.useGame(),B=Rt.useMobilePlatform(),[V,k]=mt.useState(!!gt.World.player.unlockedSuperskills[L]),[p,S]=mt.useState(!1),[t,u]=mt.useState(null),[v,o]=mt.useState(0),r=mt.useRef(null),s=Rt.useInteraction(r,()=>{V&&gt.World.player.useSuperskill(L)},[L,V]);return Rt.useEvent(gt.World.player,xe.UNLOCK_SUPERSKILL,e=>{e===L&&k(!0)},[]),Rt.useEvent(M.events,Ri.TOGGLE_PAUSE,e=>{S(e)},[]),Rt.useSceneUpdate(gt.World,()=>{o(gt.World.player.getSuperskillCost(L)),u(gt.World.player.activeSuperskills[L]??null)},[]),_.jsxs(rT,{children:[s&&V&&_.jsxs(uT,{children:[_.jsxs(fT,{children:[_.jsx(dT,{children:Ot(`SUPERSKILL_NAME_${L}`)}),_.jsx(Ia,{type:"RESOURCES",value:v})]}),_.jsx(cT,{children:_.jsx(vT,{children:Ot(`SUPERSKILL_DESCRIPTION_${L}`)})})]}),_.jsxs(aT,{ref:r,$active:!!t,$allow:V,children:[t&&_.jsx(pT,{style:{animationDuration:`${t.delay}ms`,animationPlayState:p?"paused":"running"}}),V?!B&&_.jsx(Cv,{children:_.jsx(oT,{children:ze.SUPERSKILLS.HOTKEYS[A]})}):_.jsx(Cv,{children:_.jsx(lT,{src:"assets/sprites/hud/lock.png"})}),_.jsx(hT,{$allow:V,children:_.jsx(Rt.Texture,{name:ll[L]})})]})]})},gT=()=>{const L=mt.useMemo(()=>Object.keys(si),[]),[A,M]=mt.useState(()=>Object.keys(gt.World.player.unlockedSuperskills).length>0);return Rt.useEvent(gt.World.player,xe.UNLOCK_SUPERSKILL,()=>{M(!0)},[]),A&&_.jsx(ae,{direction:"horizontal",gap:10,children:L.map((B,V)=>_.jsx(mT,{type:B,index:V},B))})};var qu=(L=>(L.UNLOCK_VARIANT="unlock_variant",L))(qu||{}),ga=(L=>(L.DEFAULT="DEFAULT",L.FIREBOT="FIREBOT",L.LASERBOT="LASERBOT",L))(ga||{}),xa=(L=>(L.BEEP_1="assistant/beep_1",L.BEEP_2="assistant/beep_2",L.BEEP_3="assistant/beep_3",L))(xa||{}),gr=(L=>(L.DEFAULT="assistant/default",L.FIREBOT="assistant/firebot",L.LASERBOT="assistant/laserbot",L))(gr||{});const xT=at.div`
  overflow: hidden;
  width: 220px;
  border-radius: 10px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  display: flex;
  flex-direction: column;
`,ET=at.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 140px;
  background: ${xt.BLACK_TRANSPARENT_25};
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 100px;
  }
`,yT=at.div`
  background: ${xt.BLACK_TRANSPARENT_50};
  padding: 16px 20px;
  flex: 1;
`,TT=at.div`
  font-size: 10px;
  line-height: 10px;
  opacity: 0.5;
`,ST=at.div`
  color: ${Ae.SUCCESS};
  font-family: ${ie.PIXEL_LABEL};
  font-size: 14px;
  line-height: 14px;
  margin-top: 5px;
`,AT=at.div`
  font-size: 10px;
  line-height: 10px;
  margin-top: 5px;
`,CT=at.div`
  overflow: hidden;
  ${L=>{switch(L.$type){case"BUILDING":return zt`
        width: 68px;
        height: 80px;
        [role=texture] {
          height: 100%;
        }
      `;case"SUPERSKILL":return zt`
        width: 64px;
        height: 64px;
        [role=texture] {
          width: 100%;
        }
      `;case"ASSISTANT":return zt`
        width: 48px;
        height: 80px;
        [role=texture] {
          height: 96px;
        }
      `}}}
  @media ${yt.BREAKPOINT.MOBILE} {
    transform: scale(0.75);
  }
`,RT=({type:L,item:A})=>{const M=mt.useMemo(()=>{switch(L){case"BUILDING":return Ot(`BUILDING_NAME_${A}`);case"SUPERSKILL":return Ot(`SUPERSKILL_NAME_${A}`);case"ASSISTANT":return A}},[L,A]),B=mt.useMemo(()=>{switch(L){case"BUILDING":return`BUILDING_DESCRIPTION_${A}`;case"SUPERSKILL":return`SUPERSKILL_DESCRIPTION_${A}`;case"ASSISTANT":return"ASSISTANT_UNLOCK"}},[L,A]),V=mt.useMemo(()=>{switch(L){case"BUILDING":return Pr[A];case"SUPERSKILL":return ll[A];case"ASSISTANT":return gr[A]}},[L,A]);return _.jsxs(xT,{children:[_.jsx(ET,{children:_.jsx(CT,{$type:L,children:_.jsx(Rt.Texture,{name:V})})}),_.jsxs(yT,{children:[_.jsx(TT,{children:Ot(L)}),_.jsx(ST,{children:M}),_.jsx(AT,{children:Ot(B)})]})]})},LT=at.div`
  width: 220px;
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  pointer-events: all;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  overflow: hidden;
  &:hover {
    cursor: pointer;
    background: ${xt.BLACK_TRANSPARENT_50};
  }
`,PT=at.div`
  background: rgba(67, 0, 143, 0.25);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 140px;
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 100px;
  }
`,IT=at.img`
  width: 32px;
  margin-right: 10px;
`,OT=at.img`
  width: 40px;
  margin: 10px 0;
  opacity: 0.5;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 30px;
  }
`,MT=at.div`
  background: rgba(67, 0, 143, 0.5);
  padding: 20px 30px;
  font-size: 11px;
  line-height: 11px;
  flex: 1;
  display: flex;
  align-items: center;
`,DT=({onComplete:L})=>{const A=mt.useRef(null);return Rt.useClick(A,"down",()=>{Ft.ShowAds(mi.REWARDED).then(L)},[]),_.jsxs(LT,{ref:A,children:[_.jsx(PT,{children:_.jsx(OT,{src:"assets/sprites/hud/add.png"})}),_.jsxs(MT,{children:[_.jsx(IT,{src:"assets/sprites/hud/ads.png"}),Ot("ADS_UNLOCK")]})]})},NT=yn`
  0% { opacity: 0; }
  100% { opacity: 1; }
`,wT=at.div`
  position: fixed;
  inset: 0;
  pointer-events: all;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${xt.BLACK_TRANSPARENT_75};
  z-index: ${hs.OVERLAY};
  animation: ${NT} 0.2s ease-in;
  @media ${yt.BREAKPOINT.MOBILE} {
    background: rgba(0, 0, 0, 0.85);
  }
`,FT=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 24px;
  line-height: 28px;
  white-space: pre;
  text-align: center;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 16px;
    line-height: 20px;
  }
`,BT=at.div`
  pointer-events: all;
  font-family: ${ie.PIXEL_LABEL};
  border-radius: 5px;
  letter-spacing: 1px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${xt.SUCCESS_GRADIENT};  
  font-size: 18px;
  line-height: 18px;
  padding: 20px 25px;
  &:hover {
    cursor: pointer;
    background: ${xt.SUCCESS};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 14px;
    line-height: 14px;
    padding: 15px 20px;
  }
`,UT=({features:L,onClose:A})=>{const[M,B]=mt.useState(L),[V,k]=mt.useState(()=>pe.GetFlag(Zt.ADS)&&Object.keys(gt.World.player.unlockedSuperskills).length<Object.keys(si).length&&gt.World.wave.number>=Bs.REWARD.SUPERSKILL.MIN_WAVE),p=mt.useRef(null),S=mt.useRef(null),t=mt.useMemo(()=>L.some(o=>o.type==="SUPERSKILL"),[L]),u=()=>{pe.GetFlag(Zt.ADS)&&Bs.MIDGAME.ON_UNLOCK.WAVES.includes(gt.World.wave.number)?Ft.ShowAds(mi.MIDGAME).then(A):A()},v=o=>{k(!1),o&&gt.World.player.unlockSuperskill()};return Rt.useClick(p,"down",()=>{},[]),Rt.useClick(S,"down",u,[]),Rt.useEvent(gt.Screen.input.keyboard,"keyup-ESC",u,[]),mt.useEffect(()=>{B(L)},[L]),mt.useEffect(()=>(Gt.ToggleHintsVisible(!1),()=>{Gt.ToggleHintsVisible(!0)}),[]),_.jsx(wT,{ref:p,children:_.jsxs(ae,{direction:"vertical",align:"center",gap:[30,40],children:[_.jsx(FT,{children:Ot("FEATURES_UNLOCKED")}),_.jsxs(ae,{direction:"horizontal",gap:10,children:[M.map((o,r)=>_.jsx(RT,{...o},r)),V&&t&&_.jsx(DT,{onComplete:v})]}),_.jsx(BT,{ref:S,children:Ot("CONTINUE_GAME")})]})})},GT=()=>{const L=Rt.useGame(),[A,M]=mt.useState([]),B=A.length===0,V=()=>{M([])};return Rt.useEvent(gt.World.wave,Pi.COMPLETE,k=>{const p=[];Object.values($t).forEach(S=>{!gt.World.builder.isBuildingAllowByWave(S,k)&&gt.World.builder.isBuildingAllowByWave(S,gt.World.wave.number)&&p.push({type:"BUILDING",item:S})}),M(S=>p.concat(S))},[]),Rt.useEvent(gt.World.player,xe.UNLOCK_SUPERSKILL,k=>{M(p=>p.concat([{type:"SUPERSKILL",item:k}]))},[]),Rt.useEvent(gt.World.assistant,qu.UNLOCK_VARIANT,k=>{M(p=>p.concat([{type:"ASSISTANT",item:k}]))},[]),mt.useEffect(()=>{if(!B)return setTimeout(()=>{L.toggleSystemPause(!0)},200),()=>{L.toggleSystemPause(!1)}},[B]),A.length>0&&_.jsx(UT,{features:A,onClose:V})},zi={INCREASED_TIME_SCALE:2,TIMELEFT:{ALARM:3e3,INFINITY:new Bt.Linear({defaultValue:1e4,growth:.5,maxLevel:11,roundTo:1e3}),FLAGS:new Bt.Linear({defaultValue:1e4,growth:.5,maxLevel:5,roundTo:1e3})},ENEMIES:{COUNT:new Bt.QuadraticMixed({defaultValue:4,growth:.27}),SPAWN:{RATE:1500,POWERLOAD:{MAX:.25,TRIGGER:10}}},EXPERIENCE:new Bt.Quadratic({defaultValue:50,growth:.25,retardationLevel:1})},VT=yn`
  0% { color: ${Ae.ERROR} }
  100% { color: #fff }
`,xp=at.div`
  position: relative;
  pointer-events: all;
  font-family: ${ie.PIXEL_LABEL};
  display: flex;
  align-items: center;
  padding-right: 10px;
  [role=tooltip] {
    font-family: ${ie.PIXEL_TEXT};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding-right: 3vh;
  }
  ${L=>L.$skippable&&zt`
    &:hover {
      cursor: pointer;
      [role=tooltip] {
        display: block;
      }
    }
  `}
`,bT=at.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  &:first-child ${xp} {
    border-radius: 5px 0 0 5px;
  }
`,zT=at.div`
  margin-top: 20px;
  position: absolute;
  left: 50%;
  top: 30px;
`,Du=at.div`
  text-align: center;
  border-radius: 3px;
  background: ${L=>L.$paused?xt.WARN:L.$going?xt.ERROR:xt.SUCCESS};
  @media ${yt.BREAKPOINT.DESKTOP} {
    height: 40px;
    padding: 6px 12px 10px 12px;
    min-width: 40px;
    box-shadow: 0 20px 0 ${xt.WHITE_TRANSPARENT_15} inset;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 10vh;
    min-height: 30px;
    padding: 0 12px 4px 12px;
    box-shadow: 0 16px 0 ${xt.WHITE_TRANSPARENT_15} inset;
    display: flex;
    align-items: center;
    justify-content: center;
  }
`;Du.Value=at.div`
  @media ${yt.BREAKPOINT.DESKTOP} {
    font-size: 24px;
    line-height: 24px;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 200%;
    line-height: 0;
    height: 0;
  }
`;const WT=at.div`
  margin-left: 10px;
`,YT=at.div`
  font-size: 11px;
  line-height: 11px;
  opacity: 0.5;
  margin-top: -2px;
  min-width: 80px;
  white-space: nowrap;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3vh;
    line-height: 3vh;
    opacity: 0.75;
    margin-top: -1px;
  }
`,XT=at.div`
  margin-top: 3px;
  font-size: 20px;
  line-height: 20px;
  ${L=>L.$attention&&zt`
    animation: ${VT} 1s infinite;
  `}
  @media ${yt.BREAKPOINT.MOBILE} {
    margin-top: 1px;
    font-size: 6vh;
    line-height: 6vh;
  }
`,HT=()=>{const L=Rt.useGame(),A=mt.useRef(null),[M,B]=mt.useState(1),[V,k]=mt.useState(null),[p,S]=mt.useState(!1),[t,u]=mt.useState(!1),[v,o]=mt.useState(!1),[r,s]=mt.useState(!0),[e,i]=mt.useState(!1),l=!p&&!r;return Rt.useClick(A,"down",()=>{gt.World.wave.isGoing||gt.World.wave.skipTimeleft()},[]),mt.useEffect(()=>Gt.Bind(Yt.SKIP_TIMELEFT,{beg:()=>i(!0),end:()=>i(!1)}),[]),Rt.useEvent(L.events,Ri.TOGGLE_PAUSE,n=>{o(n)},[]),Rt.useSceneUpdate(gt.World,()=>{const{wave:n}=gt.World,a=gt.World.isTimePaused();if(s(a),B(n.number),S(n.isGoing),n.isGoing){const f=n.getEnemiesLeft();k(f),u(!1)}else{const f=n.getTimeleft(),h=f<=zi.TIMELEFT.ALARM&&!n.isPeaceMode&&!a;k(n.isPeaceMode?"-":e0(f)),u(h)}},[]),_.jsxs(bT,{children:[_.jsxs(xp,{ref:A,$skippable:l,children:[_.jsx(Du,{$paused:r,$going:p,children:_.jsx(Du.Value,{children:r?"||":M})}),_.jsxs(WT,{children:[_.jsx(YT,{children:Ot(p?"ENEMIES":"WAVE_TIMELEFT")}),_.jsx(XT,{$attention:t,style:{animationPlayState:v?"paused":"running"},children:V})]}),!e&&l&&_.jsx(zT,{children:_.jsx(Zu,{children:Ot("SKIP_WAVE_TIMELEFT")})})]}),e&&l&&_.jsx(Pa,{label:"TUTORIAL_SKIP_TIMELEFT",side:"top"})]})},Ep=()=>{const L=Rt.useGame(),A=Rt.useRelativeScale(yt.SCALE);return _.jsxs(eT,{ref:A,children:[_.jsxs(iT,{children:[_.jsxs(pu,{$side:"left",children:[_.jsx(Fy,{}),_.jsx(ty,{})]}),_.jsxs(pu,{$side:"center",children:[_.jsxs(ae,{direction:"vertical",gap:8,children:[_.jsxs(hr,{children:[_.jsx(hr.Block,{$dark:!0,children:_.jsx(HT,{})}),L.mode===gi.FLAGS&&_.jsx(hr.Block,{$dark:!0,children:_.jsx(ry,{})}),_.jsx(hr.Block,{children:_.jsx(uy,{})}),_.jsx(hr.Block,{children:_.jsx(tT,{})})]}),_.jsx(P1,{}),_.jsx(py,{})]}),_.jsx(gT,{})]}),_.jsx(pu,{$side:"right",children:_.jsx(q1,{})})]}),_.jsx(GT,{})]})};Ep.displayName="ScreenUI";ce.RegisterAudio(us);class KT extends Ra{constructor(){super(Me.SCREEN),this.joystick=null,this._joystickActivePointer=null,gt.Screen=this}get joystickActivePointer(){return this._joystickActivePointer}set joystickActivePointer(A){this._joystickActivePointer=A}create(){new Rt.Interface(this).render(Ep),this.game.isDesktop()||this.createJoystick()}update(){try{this.updateJoystickAngle()}catch(A){Ft.LogWarn("Failed to update screen",A)}}failure(A,M){gt.World.fx.playSound(us.ERROR),A&&this.events.emit(il.NOTICE,{text:A,format:M})}createJoystick(){const A=this.getJoystickParams(),M=this.add.circle(0,0,A.radius,16777215,.25);M.setInteractive(),M.on(Phaser.Input.Events.POINTER_DOWN,B=>{this.joystickActivePointer=B}),this.input.on(Phaser.Input.Events.POINTER_UP,B=>{this.joystickActivePointer===B&&(this.joystickActivePointer=null)}),this.scale.on(Phaser.Scale.Events.RESIZE,this.handleJoystickResize.bind(this)),this.joystick=new pp(this,{...A,base:M,thumb:this.add.circle(0,0,A.radius*.5,16777215,.75)})}isJoystickUsing(){return this.joystick?!this.joystick.noKey:!1}handleJoystickResize(){if(this.joystick)try{const{x:A,y:M,radius:B}=this.getJoystickParams(),V=this.joystick.thumb,k=this.joystick.base;this.joystick.setPosition(A,M),V?.geom&&V.setRadius(B*.5),k?.geom&&k.setRadius(B)}catch(A){Ft.LogWarn("Failed to resize joystick",A)}}updateJoystickAngle(){if(!this.joystick)return;const A=this.joystick.noKey?null:(this.joystick.angle+360)%360;gt.World.player.setMovementTarget(A)}getJoystickParams(){const A=Math.max(Math.min(this.game.canvas.height/420,1),.5),M=74*A,B=40*A;return{x:B+M,y:this.game.canvas.height-B-M,radius:M}}}class $T extends Ra{constructor(){super(Me.SYSTEM),gt.System=this}async preload(){this.load.on("progress",A=>{Jc(`LOADING
${Math.round(A*100)}%`)}),this.load.addPack([{files:ce.Files}]),ce.Clear()}async create(){Jc(`LOADING
DONE`),await Wi.Connect(),await Wi.LoadSaves(),this.scene.launch(Me.WORLD),this.scene.launch(Me.MENU,{defaultPage:ni.NEW_GAME}),this.scene.bringToTop(),Ft.ToggleLoadState(!1),_g(),this.game.isDesktop()||this.input.addPointer(1),this.input.keyboard?.on(Fs.PAUSE,()=>{if(!this.game.isPaused)switch(this.game.state){case ye.FINISHED:{this.game.stopGame();break}case ye.PAUSED:{this.game.resumeGame();break}case ye.STARTED:{this.game.pauseGame();break}}})}}const sl={TILE:{width:42,height:48,origin:.75},COUNT:new Bt.Linear({defaultValue:6,growth:.17,maxLevel:10}),RESOURCES:new Bt.Linear({defaultValue:4,growth:.8,maxLevel:12})},jT=[{params:{upperBound:.12},data:{type:se.WATER,tileIndex:0,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.12,upperBound:.15},data:{type:se.WATER,tileIndex:1,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.15,upperBound:.17},data:{type:se.WATER,tileIndex:2,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.17,upperBound:.2},data:{type:se.SAND,tileIndex:6,z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.CRYSTAL]}},{params:{lowerBound:.2,upperBound:.24},data:{type:se.SAND,tileIndex:[7,8],z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.CRYSTAL]}},{params:{lowerBound:.24,upperBound:.34},data:{type:se.GRASS,tileIndex:12,z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.PLAYER,Qt.SCENERY,Qt.FLAG]}},{params:{lowerBound:.34,upperBound:.44},data:{type:se.GRASS,tileIndex:[13,14],z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.PLAYER,Qt.SCENERY,Qt.FLAG]}},{params:{lowerBound:.44,upperBound:.54},data:{type:se.GRASS,tileIndex:[15,17],z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY]}},{params:{lowerBound:.54,upperBound:.59},data:{type:se.MOUNT,tileIndex:[24,25],z:1,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.59,upperBound:.63},data:{type:se.MOUNT,tileIndex:26,z:1,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.63,upperBound:.72},data:{type:se.MOUNT,tileIndex:27,z:2,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.72},data:{type:se.SNOW,tileIndex:30,z:3,collide:!0,solid:!1,spawn:[]}},{data:{type:se.RUBBLE,tileIndex:[18,19],z:0,collide:!1,solid:!0,friction:.8,spawn:[Qt.PLAYER]}}],kT=[{params:{upperBound:.09},data:{type:se.WATER,tileIndex:0,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.09,upperBound:.12},data:{type:se.WATER,tileIndex:1,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.12,upperBound:.14},data:{type:se.WATER,tileIndex:2,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.14,upperBound:.18},data:{type:se.SAND,tileIndex:3,z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.CRYSTAL]}},{params:{lowerBound:.18,upperBound:.22},data:{type:se.SAND,tileIndex:[4,5],z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.CRYSTAL,Qt.SCENERY]}},{params:{lowerBound:.22,upperBound:.32},data:{type:se.GRASS,tileIndex:6,z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.PLAYER,Qt.SCENERY,Qt.FLAG]}},{params:{lowerBound:.32,upperBound:.54},data:{type:se.GRASS,tileIndex:[7,8],z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.PLAYER,Qt.SCENERY,Qt.FLAG]}},{params:{lowerBound:.54,upperBound:.64},data:{type:se.MOUNT,tileIndex:12,z:1,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.64,upperBound:.72},data:{type:se.MOUNT,tileIndex:13,z:2,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.72},data:{type:se.MOUNT,tileIndex:14,z:3,collide:!0,solid:!1,spawn:[]}},{data:{type:se.RUBBLE,tileIndex:[9,10],z:0,collide:!1,solid:!0,friction:.8,spawn:[Qt.PLAYER]}}],ZT=[{params:{upperBound:.09},data:{type:se.WATER,tileIndex:0,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.09,upperBound:.12},data:{type:se.WATER,tileIndex:1,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.12,upperBound:.14},data:{type:se.WATER,tileIndex:2,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.14,upperBound:.18},data:{type:se.SAND,tileIndex:3,z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.CRYSTAL]}},{params:{lowerBound:.18,upperBound:.22},data:{type:se.SAND,tileIndex:[4,5],z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.CRYSTAL,Qt.SCENERY]}},{params:{lowerBound:.22,upperBound:.32},data:{type:se.GRASS,tileIndex:6,z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.PLAYER,Qt.SCENERY,Qt.FLAG]}},{params:{lowerBound:.32,upperBound:.54},data:{type:se.GRASS,tileIndex:[7,8],z:0,collide:!1,solid:!0,spawn:[Qt.ENEMY,Qt.PLAYER,Qt.SCENERY,Qt.FLAG]}},{params:{lowerBound:.54,upperBound:.64},data:{type:se.MOUNT,tileIndex:12,z:1,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.64,upperBound:.72},data:{type:se.MOUNT,tileIndex:13,z:2,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.72},data:{type:se.MOUNT,tileIndex:14,z:3,collide:!0,solid:!1,spawn:[]}},{data:{type:se.RUBBLE,tileIndex:[9,10],z:0,collide:!1,solid:!0,friction:.8,spawn:[Qt.PLAYER]}}],Ls={[mr.EARTH]:{BIOMES:jT,SCENERY_DENSITY:2,SCENERY_VARIANTS_COUNT:4,CRYSTAL_VARIANTS:[1]},[mr.MOON]:{BIOMES:ZT,SCENERY_DENSITY:1.5,SCENERY_VARIANTS_COUNT:8,CRYSTAL_VARIANTS:[3]},[mr.MARS]:{BIOMES:kT,SCENERY_DENSITY:1.5,SCENERY_VARIANTS_COUNT:8,CRYSTAL_VARIANTS:[0,2]}};var yp={exports:{}};(()=>{var L={465:function(B,V,k){var p=this&&this.__createBinding||(Object.create?function(t,u,v,o){o===void 0&&(o=v);var r=Object.getOwnPropertyDescriptor(u,v);r&&!("get"in r?!u.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return u[v]}}),Object.defineProperty(t,o,r)}:function(t,u,v,o){o===void 0&&(o=v),t[o]=u[v]}),S=this&&this.__exportStar||function(t,u){for(var v in t)v==="default"||Object.prototype.hasOwnProperty.call(u,v)||p(u,t,v)};Object.defineProperty(V,"__esModule",{value:!0}),S(k(771),V),S(k(535),V),S(k(309),V),S(k(650),V),S(k(718),V)},309:(B,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},650:(B,V)=>{function k(t,u,v=[0,1]){return Math.max(v[0],Math.min(v[1],t??u))}function p(t){return .5*(1-Math.cos(t*Math.PI))}function S(t,u,v){const o=u/2,r=Math.abs(o-t),s=o*(1-v);if(r<s)return 1;let e=(r-s)/o/(1-s/o);return e=Math.min(1,Math.max(0,e)),1-function(i){return 3*Math.pow(i,2)-2*Math.pow(i,3)}(e)}Object.defineProperty(V,"__esModule",{value:!0}),V.generateNoise=void 0,V.generateNoise=function(t){var u;const{x:v,y:o,width:r,height:s,seed:e,params:i}=t,l=Math.round(31*k(i.frequencyChange,.3)+1),n=Math.round(14*(1-k(i.borderSmoothness,.5))+1),a=2-k(i.heightRedistribution,1,[.5,1.5]),f=k(i.falloff,0,[0,.9]),h=(u=i.heightAveraging)===null||u===void 0||u,d=e.length-1,c=v/r*l,g=o/s*l;let x,m,y,T,R,P=Math.floor(c),D=Math.floor(g),I=c-P,w=g-D,U=0,G=.5;for(let H=0;H<n;H++){let z=P+(D<<4);x=p(I),m=p(w),y=e[z&d],y+=x*(e[z+1&d]-y),T=e[z+16&d],T+=x*(e[z+16+1&d]-T),y+=m*(T-y),z+=256,T=e[z&d],T+=x*(e[z+1&d]-T),R=e[z+16&d],R+=x*(e[z+16+1&d]-R),T+=m*(R-T),U+=y*G,G*=.5,P<<=1,I*=2,I>=1&&(P++,I--),D<<=1,w*=2,w>=1&&(D++,w--)}return h&&(U>.5?U=Math.pow(U,(1.5-U)/1.1):U<.5&&(U=Math.pow(U,1.1*(1.5-U)))),U=Math.pow(U,a),f&&(U*=S(v,r,f)*S(o,s,f)),U}},718:(B,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.generateSeed=void 0,V.generateSeed=function(k=512){const p=[];for(let S=0;S<k;S++)p.push(Math.random());return p}},910:(B,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.WorldBiome=void 0,V.WorldBiome=class{constructor(k,p){var S,t;this.lowerBound=Math.max(0,(S=k.lowerBound)!==null&&S!==void 0?S:0),this.upperBound=Math.min(1,(t=k.upperBound)!==null&&t!==void 0?t:1),this.data=p}}},771:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.WorldGenerator=void 0;const p=k(650),S=k(718),t=k(535),u=k(481);V.WorldGenerator=class{constructor(v){this.layers=[],this.width=v.width,this.height=v.height}addLayer(v={}){const o=new u.WorldLayer(v);return this.layers.push(o),o}clearLayers(){this.layers=[]}getLayers(){return this.layers}generate(v){var o;const r=(o=v?.seed)!==null&&o!==void 0?o:(0,S.generateSeed)(v?.seedSize),s=[];for(const e of this.layers){const i=this.generateLayer(e,r);for(let l=0;l<this.height;l++){s[l]||(s[l]=[]);for(let n=0;n<this.width;n++)i[l][n]&&(s[l][n]=i[l][n].data)}}for(let e=0;e<this.height;e++)for(let i=0;i<this.width;i++)if(s[e][i]===void 0)throw Error(`World matrix contains empty biome at [${i},${e}]`);return new t.World(s,r)}generateLayer(v,o){const r=[];for(let s=0;s<this.height;s++){r[s]=[];for(let e=0;e<this.width;e++){const i=(0,p.generateNoise)({params:v.params,seed:o,width:this.width,height:this.height,x:e,y:s}),l=v.getBiomeByHeight(i);l&&(r[s][e]=l)}}return r}}},481:(B,V,k)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.WorldLayer=void 0;const p=k(910);V.WorldLayer=class{constructor(S={}){this.biomes=[],this.params=S}addBiome(S,t){const u=new p.WorldBiome(S,t);return this.biomes.push(u),u}clearBiomes(){this.biomes=[]}getBiomes(){return this.biomes}getBiomeByHeight(S){return this.getBiomes().find(t=>S>=t.lowerBound&&S<=t.upperBound)}}},535:(B,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.World=void 0,V.World=class{constructor(k,p){this.matrix=[],this.width=k[0].length,this.height=k.length,this.matrix=k,this.seed=p}getMatrix(){return this.matrix}each(k){for(let p=0;p<this.height;p++)for(let S=0;S<this.width;S++)if(k({x:S,y:p},this.matrix[p][S])===!1)return}getAt(k){var p,S;return(S=(p=this.matrix[k.y])===null||p===void 0?void 0:p[k.x])!==null&&S!==void 0?S:null}replaceAt(k,p){if(k.y>=this.height||k.x>=this.width)throw Error(`Position [${k.x},${k.y}] is out of world bounds`);this.matrix[k.y][k.x]=p}}}},A={},M=function B(V){var k=A[V];if(k!==void 0)return k.exports;var p=A[V]={exports:{}};return L[V].call(p.exports,p,p.exports,B),p.exports}(465);yp.exports=M})();var QT=yp.exports;const mu={width:42,height:48},JT={frequencyChange:.2,heightRedistribution:.7,borderSmoothness:.8,falloff:.3},le={SEED_SIZE:128,BIOME_PARAMETERS:JT,MAP_SIZE:{[gi.INFINITY]:100,[gi.FLAGS]:50},MAP_MAX_HEIGHT:4,MAP_PERSPECTIVE:mu.height/2/mu.width,MAP_TILE:{...mu,origin:.75,edgeLength:24.6,margin:1,spacing:2},SCENERY_TILE:{width:42,height:72,origin:61/72}};function Un(L,A){return L.x===A.x&&L.y===A.y}function Tp(L,A){const M=L.findIndex(B=>Un(B,A));M!==-1&&L.splice(M,1)}function Us(L,A){return Math.hypot(A.x-L.x,A.y-L.y)}function Xi(L,A){return Math.hypot(A.x-L.x,(A.y-L.y)/le.MAP_PERSPECTIVE)}function qT(L,A){return Math.atan2((A.y-L.y)/le.MAP_PERSPECTIVE,A.x-L.x)}function Sp(L,A){if(L.length===0)return null;let M={distance:1/0,position:null};const B=A.getBottomEdgePosition?.()??A;return L.forEach(V=>{const k=V.getBottomEdgePosition?.()??V,p=Xi(B,k);p<M.distance&&(M={position:V,distance:p})}),M.position}function _T(L,A){return L.map(M=>({position:M,distance:Us(M,A)})).sort((M,B)=>M.distance-B.distance).map(({position:M})=>M)}function tS(L){const A=[];for(let M=L.y-1;M<=L.y+1;M++)for(let B=L.x-1;B<=L.x+1;B++)Un({x:B,y:M},L)||A.push({x:B,y:M});return A}function eS(L,A){return L.map(B=>{const V=A.map(k=>Us(k,B)).sort((k,p)=>k-p);return{position:B,minDistance:V[0]}}).sort((B,V)=>V.minDistance-B.minDistance)[0]?.position}var rs=(L=>(L.CREATE_TASK="create_task",L.CREATE_POOL="create_task_pool",L.COMPLETE_TASK="complete_task",L.COMPLETE_POOL="complete_pool",L.CANCEL_TASK="cancel_task",L.UPDATE_POINT_COST="update_point_cost",L))(rs||{});function iS(){return new Worker(""+new URL("worker-0df5be7a.js",import.meta.url).href)}class nS{constructor(){this.pointsCost=[],this.tasks=[],this.worker=new iS,this.worker.addEventListener("message",({data:A})=>{switch(A.event){case rs.COMPLETE_TASK:{const M=A.payload,B=this.tasks.find(V=>V.idTask===M.idTask);if(B){const V=[M.result];B.callback(V)}break}case rs.COMPLETE_POOL:{const M=A.payload,B=this.tasks.find(V=>V.idPool===M.idPool);B&&B.callback(M.results);break}}})}setPointCost(A,M){if(this.getPointCost(A)===M)return;this.pointsCost[A.y]||(this.pointsCost[A.y]=[]),this.pointsCost[A.y][A.x]=M;const B={position:A,cost:M};this.worker.postMessage({event:rs.UPDATE_POINT_COST,payload:B})}getPointCost(A){return this.pointsCost[A.y]?.[A.x]??1}resetPointCost(A){if(!this.pointsCost[A.y])return;delete this.pointsCost[A.y][A.x];const M={position:A,cost:null};this.worker.postMessage({event:rs.UPDATE_POINT_COST,payload:M})}createTask(A,M){const B={idTask:Er(),...A};return this.worker.postMessage({event:rs.CREATE_TASK,payload:B}),this.tasks.push({idTask:B.idTask,callback:M}),B.idTask}createPool(A,M){const B={idPool:Er(),...A};this.worker.postMessage({event:rs.CREATE_POOL,payload:B}),this.tasks.push({idPool:B.idPool,callback:M})}cancelTask(A){const M={idTask:A};this.worker.postMessage({event:rs.CANCEL_TASK,payload:M});const B=this.tasks.findIndex(V=>V.idTask===A);B!==-1&&this.tasks.splice(B,1)}}class sS{constructor(A,M){this.tiles=[],this.size=A,this.height=M;for(let B=0;B<M;B++){this.tiles[B]=[];for(let V=0;V<A;V++)this.tiles[B][V]=[]}}isCorrectPoint(A){return A.x<this.size&&A.x>=0&&A.y<this.size&&A.y>=0&&A.z<this.height&&A.z>=0}isFreePoint(A){const M=this.getTile(A);return!M||!!M.clearable}getTile(A){const{x:M,y:B,z:V}=A;return this.tiles[V]?.[B]?.[M]??null}getTileWithType(A,M){return this.tileIs(A,M)?this.getTile(A):null}tileIs(A,M){const B=this.getTile(A);return B?M instanceof Array?M.includes(B.tileType):M===B.tileType:!1}putTile(A,M,B=!0){const V=this.getTile(M);V&&V.destroy();const{x:k,y:p,z:S}=M;this.tiles[S][p][k]=A,B&&A.once(Mt.GameObjects.Events.DESTROY,()=>{this.removeTile(M)})}removeTile(A){if(!this.getTile(A))return;const{x:B,y:V,z:k}=A;delete this.tiles[k][V][B]}}ce.RegisterSprites(nl,le.MAP_TILE);ce.RegisterSprites(ku,le.SCENERY_TILE);let De=class ur extends sS{constructor(A,{planet:M,seed:B}){const V=le.MAP_SIZE[A.game.mode];super(V,le.MAP_MAX_HEIGHT),this.gridCollide=[],this.gridSolid=[],this._effectsOnGround=[],this.scene=A,this.planet=M??mr.EARTH;const k=new QT.WorldGenerator({width:V,height:V}),p=k.addLayer(le.BIOME_PARAMETERS);Ls[this.planet].BIOMES.forEach(S=>{S.params&&p.addBiome(S.params,S.data)}),this.map=k.generate({seed:B,seedSize:le.SEED_SIZE}),this.gridCollide=this.map.getMatrix().map(S=>S.map(t=>t.collide)),this.gridSolid=this.map.getMatrix().map(S=>S.map(t=>!t.solid)),this.navigator=new nS,this.addTilemap(),this.addMapTiles(),this.addScenery(),this.scene.game.events.on(Ri.UPDATE_SETTINGS,(S,t)=>{S===ei.EFFECTS&&t==="off"&&this.removeEffects()})}get effectsOnGround(){return this._effectsOnGround}set effectsOnGround(A){this._effectsOnGround=A}get groundLayer(){return this._groundLayer}set groundLayer(A){this._groundLayer=A}looseEffects(){this.effectsOnGround.forEach(A=>{A.setAlpha(A.alpha-.2),A.alpha<=0&&A.destroy()})}removeEffects(){this.effectsOnGround.forEach(A=>{A.destroy()}),this.effectsOnGround=[]}readSpawnPositions(A,M=2){const B=[];for(let V=M;V<this.map.width-M;V+=M)for(let k=M;k<this.map.height-M;k+=M){const p={x:V+Mt.Math.Between(-1,1),y:k+Mt.Math.Between(-1,1),z:1},S=this.map.getAt(p)?.spawn;S&&S.includes(A)&&B.push(p)}return B}hasTilesBetweenPositions(A,M){const B=ur.ToMatrixPosition(A),V=ur.ToMatrixPosition(M),k={...B,z:1},p=Math.abs(V.x-B.x),S=Math.abs(V.y-B.y);let t=p-S;for(;!Un(k,V);){const u=2*t;if(u>-S&&(t-=S,k.x+=B.x<V.x?1:-1),u<p&&(t+=p,k.y+=B.y<V.y?1:-1),this.getTile(k)?.tileType===wi.MAP)return!0}return!1}getBiome(A){return Ls[this.planet].BIOMES.find(M=>M.data.type===A)?.data??null}getFreeAdjacentTiles(A){return[{x:A.x+1,y:A.y},{x:A.x,y:A.y+1},{x:A.x-1,y:A.y},{x:A.x,y:A.y-1},{x:A.x+1,y:A.y-1},{x:A.x+1,y:A.y+1},{x:A.x-1,y:A.y+1},{x:A.x-1,y:A.y-1}].filter(B=>this.isFreePoint({...B,z:1}))}addTilemap(){const A=new Mt.Tilemaps.MapData({width:this.map.width,height:this.map.height,tileWidth:le.MAP_TILE.width,tileHeight:le.MAP_TILE.height*.5,orientation:Mt.Tilemaps.Orientation.ISOMETRIC,format:Mt.Tilemaps.Formats.ARRAY_2D}),M=new Mt.Tilemaps.Tilemap(this.scene,A),B=M.addTilesetImage(nl[this.planet],void 0,le.MAP_TILE.width,le.MAP_TILE.height,le.MAP_TILE.margin,le.MAP_TILE.spacing);if(!B)throw Error("Unable to create map tileset");this.addFalloffLayer(M,B),this.addGroundLayer(M,B)}addGroundLayer(A,M){const B=A.createBlankLayer("ground",M,-le.MAP_TILE.width*.5,-le.MAP_TILE.height*.25);if(!B)throw Error("Unable to create map layer");this.groundLayer=B}addFalloffLayer(A,M){const B=Math.atan2(1/le.MAP_PERSPECTIVE,1),V=this.scene.game.canvas.clientWidth/2/Math.sin(B),k=Math.ceil(V/le.MAP_TILE.edgeLength),p=k*2+this.map.width,S=ur.ToWorldPosition({x:-k,y:-k},0),t=A.createBlankLayer("falloff",M,S.x-le.MAP_TILE.width*.5,S.y-le.MAP_TILE.height*le.MAP_TILE.origin,p,p);if(!t)return;const u=Ls[this.planet].BIOMES[0].data,v=Array.isArray(u.tileIndex)?u.tileIndex[0]:u.tileIndex;for(let o=0;o<p;o++)for(let r=0;r<p;r++)(r<k||r>=p-k||o<k||o>=p-k)&&t.putTileAt(v,r,o,!1)}addMapTiles(){const A=(M,B)=>{const V=Array.isArray(B.tileIndex)?Mt.Math.Between(...B.tileIndex):B.tileIndex;B.z===0?this.groundLayer.putTileAt(V,M.x,M.y,!1):this.addMountTile(V,M,B.z)};this.map.each((M,B)=>{if(A(M,B),B.z>1){const V=B.z-1,k=this.map.getAt({x:M.x+1,y:M.y}),p=this.map.getAt({x:M.x,y:M.y+1});if(k&&k.z!==V||p&&p.z!==V){const S=Ls[this.planet].BIOMES.find(t=>t.data.z===V);S&&A(M,S.data)}}})}addMountTile(A,M,B){const V=ur.ToWorldPosition(M,B),k=V.y+(B-1)*le.MAP_TILE.height,p=this.scene.add.image(V.x,V.y,nl[this.planet],A);p.tileType=wi.MAP,p.setDepth(k),p.setOrigin(.5,le.MAP_TILE.origin),this.putTile(p,{...M,z:B},!1)}addScenery(){this.sceneryTiles=this.scene.add.group();const A=this.readSpawnPositions(Qt.SCENERY),M=Math.ceil(this.map.width*Ls[this.planet].SCENERY_DENSITY);for(let B=0;B<M;B++){const V=Mt.Utils.Array.GetRandom(A),k={...V,z:1};if(this.isFreePoint(k)){const p=ur.ToWorldPosition(V),S=this.scene.add.image(p.x,p.y,ku[this.planet],Mt.Math.Between(0,Ls[this.planet].SCENERY_VARIANTS_COUNT-1));S.tileType=wi.SCENERY,S.clearable=!0,S.setDepth(p.y),S.setOrigin(.5,le.SCENERY_TILE.origin),this.putTile(S,k),this.sceneryTiles.add(S)}}}getSavePayload(){return{planet:this.planet,seed:[...this.map.seed]}}static ToMatrixPosition(A){const{width:M,height:B}=le.MAP_TILE,V={x:A.x/(M*.5),y:A.y/(B*.25)};return{x:Math.round((V.x+V.y)/2),y:Math.round((V.y-V.x)/2)}}static ToWorldPosition(A,M=1){const{width:B,height:V}=le.MAP_TILE;return{x:(A.x-A.y)*(B*.5),y:(A.x+A.y)*(V*.25)-(M-1)*(V*.5)}}};ce.RegisterAudio(Vu);ce.RegisterSprites(Gu,sl.TILE);class Ap extends Mt.GameObjects.Image{constructor(A,{positionAtMatrix:M,variant:B=0}){const V=De.ToWorldPosition(M);super(A,V.x,V.y,Gu.CRYSTAL,B),this.tileType=wi.CRYSTAL,A.add.existing(this),A.addEntityToGroup(this,Xt.CRYSTAL),this.positionAtMatrix=M,this.scene.game.isDesktop()&&(this.setInteractive({pixelPerfect:!0}),this.handlePointer()),this.setDepth(V.y),this.setOrigin(.5,sl.TILE.origin),this.scene.level.putTile(this,{...M,z:1})}pickup(){const A=this.getResourcesAmount();this.scene.player.giveResources(A),this.scene.getEntitiesGroup(Xt.CRYSTAL).emit(Ta.PICKUP,this,A),this.scene.fx.playSound(Vu.PICKUP),this.destroy()}getResourcesAmount(){const A=sl.RESOURCES.getValue(this.scene.wave.number);return Mt.Math.Between(A-Math.floor(A*.25),A+Math.floor(A*.25))}handlePointer(){this.on(Mt.Input.Events.POINTER_OVER,()=>{this.scene.builder.isBuild||this.addShader(En.OUTLINE,{size:2,color:16777215})}),this.on(Mt.Input.Events.POINTER_OUT,()=>{this.removeShader(En.OUTLINE)})}getSavePayload(){return{position:{...this.positionAtMatrix}}}}class un{constructor(A){this.timestamp=0,this.origin=null,this.origin=A??null}next(A){this.timestamp=this.getTime()+A}isPast(){return this.getLeft()<=0}getLeft(){return Math.max(0,this.timestamp-this.getTime())}reset(){this.timestamp=0}getTime(){return this.origin?.getTime()??Date.now()}}var _u=(L=>(L.CAPTURE="flag/capture",L))(_u||{}),Ps=(L=>(L.DEFAULT="flag/default",L.CAPTURED="flag/captured",L))(Ps||{});const Or={COLLIDE_SPEED_FACTOR:.002,DEPTH_GRAPHIC:9999};class rl extends Mt.GameObjects.Container{constructor(A,{size:M,color:B,value:V,destroyIf:k}){super(A.scene,0,0),this.destroyIf=null,A.scene.add.existing(this),this.value=V,this.destroyIf=k??null,this.background=this.scene.add.rectangle(0,0,M,4,0,.5),this.background.setOrigin(0,0),this.bar=this.scene.add.rectangle(1,1,0,0,B),this.bar.setOrigin(0,0),this.setDepth(Or.DEPTH_GRAPHIC),this.setSize(this.background.width,this.background.height),this.add([this.background,this.bar])}updateValue(A){const M=A??this.value?.()??0;this.bar.setSize((this.width-2)*M,this.height-2),this.destroyIf?.(M)&&this.destroy()}}ce.RegisterAudio(_u);ce.RegisterSprites(Ps,mn.TILE);class Rv extends Phaser.GameObjects.Sprite{constructor(A,{positionAtMatrix:M}){const B={...M,z:1},V=De.ToWorldPosition(B);super(A,V.x,V.y,Ps.DEFAULT),this.tileType=wi.FLAG,this._isCaptured=!1,this.captureTimer=null,this.bar=null,this.hintId=null,A.add.existing(this),A.addEntityToGroup(this,Xt.FLAG),this.positionAtMatrix=M,this.healDelay=new un(this.scene),this.setDepth(V.y),this.setOrigin(.5,mn.TILE.origin),this.scene.level.putTile(this,B),this.addArea(),this.setInteractive({pixelPerfect:!0}),this.handlePointer(),Object.values(Ps).forEach(k=>{this.anims.create({key:k,frames:this.anims.generateFrameNumbers(k,{}),frameRate:3,repeat:-1})}),this.anims.play(Ps.DEFAULT),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.area.destroy()})}get isCaptured(){return this._isCaptured}set isCaptured(A){this._isCaptured=A}update(){try{if(this.scene.game.state!==ye.STARTED)return;if(this.isCaptured)this.isPlayerInFlag()&&this.healPlayer();else{const A=this.scene.isTimePaused();if(this.area.setVisible(!A),A)return;this.isPlayerInFlag()?this.captureTimer||this.startCapture():this.captureTimer&&this.stopCapture()}}catch(A){Ft.LogWarn("Failed to update flag",A)}}healPlayer(){if(!this.healDelay.isPast()||this.scene.player.live.isMaxHealth())return;const A=Math.ceil(this.scene.player.live.maxHealth*mn.HEAL.HEALTH_MULTIPLIER);this.scene.player.live.heal(A),this.healDelay.next(mn.HEAL.PAUSE)}isPlayerInFlag(){return Xi(this,this.scene.player.getBottomEdgePosition())<=mn.CAPTION.DISTANCE}startCapture(){this.addBar(),this.addTimer(),this.area.setFillStyle(16777215,.2)}stopCapture(){this.removeBar(),this.removeTimer(),this.area.setFillStyle()}completeCapture(){this.isCaptured=!0,this.stopCapture(),this.removeHint(),this.removeInteractive(),this.setTexture(Ps.CAPTURED),this.anims.play(Ps.CAPTURED);const A=this.scene.getCapturedFlags().length,M=this.scene.getEntitiesGroup(Xt.FLAG).getTotalUsed(),B=mn.SCORE.getValue(A);this.scene.player.giveScore(B),A===M&&this.scene.game.finishGame(!0)}addTimer(){const A=this.scene.getCapturedFlags(),M=mn.CAPTION.DURATION.getValue(A.length+1);this.captureTimer=this.scene.addProgression({duration:M,onProgress:(B,V)=>{this.bar?.updateValue(1-B/V)},onComplete:()=>{this.completeCapture(),this.scene.fx.playSound(_u.CAPTURE),Ft.TrackFlagCapture(this.scene)}})}removeTimer(){this.captureTimer&&(this.scene.removeProgression(this.captureTimer),this.captureTimer=null)}addBar(){this.bar||(this.bar=new rl(this,{color:16777215,size:20}),this.bar.setPosition(this.x-this.bar.width/2,this.y-4))}removeBar(){this.bar&&(this.bar.destroy(),this.bar=null)}addArea(){if(this.area)return;const A=mn.CAPTION.DISTANCE*2;this.area=this.scene.add.ellipse(this.x,this.y,A,A*le.MAP_PERSPECTIVE),this.area.setStrokeStyle(1,16777215,.25)}addHint(){!this.hintId&&Gt.IsEnabled&&(this.hintId=this.scene.showHint({side:"top",label:"TUTORIAL_FLAG_CAPTION",position:this}))}removeHint(){this.hintId&&(this.scene.hideHint(this.hintId),this.hintId=null)}handlePointer(){this.on(Phaser.Input.Events.POINTER_OVER,()=>{!this.isCaptured&&!this.captureTimer&&!this.scene.isTimePaused()&&this.addHint()}),this.on(Phaser.Input.Events.POINTER_OUT,()=>{this.removeHint()})}getSavePayload(){return{position:this.positionAtMatrix,isCaptured:this.isCaptured}}loadSavePayload(A){A.isCaptured&&this.completeCapture()}}const xr={LAZER:{DELAY:80,REPEAT:5},BALL:{DAMAGE_SPREAD:{MAX_DISTANCE:32,FACTOR:.3}}};var tf=(L=>(L.LAZER="shot/lazer",L))(tf||{}),ef=(L=>(L.BALL="shot/ball",L))(ef||{}),Lr=(L=>(L.FIRE_1="shot/ball_fire_1",L.FIRE_2="shot/ball_fire_2",L.FROZEN="shot/ball_frozen",L.SIMPLE="shot/ball_simple",L))(Lr||{});ce.RegisterAudio(Lr);ce.RegisterImages(ef);class nf extends Mt.Physics.Arcade.Image{constructor(A,M,{audio:B,color:V,glow:k=!1,scale:p=1}){super(A,0,0,ef.BALL),this.initiator=null,this.positionCallback=null,this.effect=null,this.startPosition=null,this.color=16777215,this.glow=!1,this.altitude=0,A.add.existing(this),A.addEntityToGroup(this,Xt.SHOT),this.color=V,this.glow=k,this.audio=B,this.params=M,this.setActive(!1),this.setVisible(!1),this.setScale(p),this.setTint(V),this.scene.physics.add.collider(this,this.scene.getEntitiesGroup(Xt.ENEMY),(S,t)=>{try{this.hit(t)}catch(u){Ft.LogWarn("Failed to handle ball shot collider",u)}})}setInitiator(A,M=null){this.initiator=A,this.positionCallback=M,A.once(Mt.GameObjects.Events.DESTROY,()=>{this.effect?.destroy(),this.destroy()})}update(){try{this.updateFlyDistance()}catch(A){Ft.LogWarn("Failed to update ball shot",A)}}updateFlyDistance(){this.startPosition?Xi(this,this.startPosition)>this.params.maxDistance.value?this.stop():this.setDepth(this.y+this.altitude):(this.stop(),Ft.LogWarn("Invalid shot start position"))}shoot(A){if(!this.initiator||this.active||!this.params.speed)return;const M=this.positionCallback?.()??this.initiator;this.setPosition(M.x,M.y),this.setActive(!0),this.setVisible(!0),this.glow&&(this.effect=this.scene.fx.createGlowEffect(this,{speed:this.params.speed.value,color:this.color})),this.altitude=this.initiator.getBottomEdgePosition().y-M.y,this.startPosition={x:M.x,y:M.y};const V=Xi(M,A.body.center)/this.params.speed.value,k=this.scene.getFuturePosition(A,V);this.scene.physics.world.enable(this,Mt.Physics.Arcade.DYNAMIC_BODY),this.scene.physics.moveTo(this,k.x,k.y,this.params.speed.value),this.scene.fx.playSound(this.audio,{limit:3})}hit(A){this.stop()}stop(){this.effect&&(this.effect.destroy(),this.effect=null),this.setActive(!1),this.setVisible(!1),this.startPosition=null,this.scene.physics.world.disable(this)}}class sf extends nf{constructor(A,M,B={}){super(A,M,{...B,audio:[Lr.FIRE_1,Lr.FIRE_2],color:16733184,glow:!0})}hit(A){super.hit(A),this.scene.fx.createFireEffect(A),this.params.damage&&(this.spreadDamage(A,this.params.damage.value*xr.BALL.DAMAGE_SPREAD.FACTOR),A.active&&A.live.damage(this.params.damage.value))}spreadDamage(A,M){const B=A.getBottomEdgePosition();this.scene.getEntities(Xt.ENEMY).forEach(V=>{if(V.active&&V!==A){const k=Xi(B,V.getBottomEdgePosition());if(k<xr.BALL.DAMAGE_SPREAD.MAX_DISTANCE){const p=M*(1-k/xr.BALL.DAMAGE_SPREAD.MAX_DISTANCE);V.live.damage(p)}}})}}class rS extends nf{constructor(A,M,B={}){super(A,M,{...B,audio:Lr.SIMPLE,color:16775557})}hit(A){super.hit(A),this.scene.fx.createBloodEffect(A),this.params.damage&&A.live.damage(this.params.damage.value)}}ce.RegisterAudio(tf);class rf extends Mt.GameObjects.Line{constructor(A,M){super(A),this.initiator=null,this.positionCallback=null,this.target=null,this.processingHitsCount=0,A.add.existing(this),A.addEntityToGroup(this,Xt.SHOT),this.params=M,this.processingDelay=new un(this.scene),this.setActive(!1),this.setVisible(!1),this.setStrokeStyle(2,11613951,.5),this.setDepth(Or.DEPTH_GRAPHIC),this.setOrigin(0,0)}setInitiator(A,M=null){this.initiator=A,this.positionCallback=M,A.once(Mt.GameObjects.Events.DESTROY,()=>{this.destroy()})}update(){try{this.updateLine(),this.processing()}catch(A){Ft.LogWarn("Failed to update lazer shot",A)}}shoot(A){this.initiator&&(this.target=A,this.processingHitsCount=0,this.updateLine(),this.setActive(!0),this.setVisible(!0),this.scene.fx.playSound(tf.LAZER,{limit:3}))}stop(){this.target=null,this.setVisible(!1),this.setActive(!1)}updateLine(){if(!this.initiator||!this.target?.active)return;const A=this.positionCallback?.()??this.initiator,M=this.target.body.center;this.setTo(A.x,A.y,M.x,M.y)}hit(){if(!this.target||!this.params.damage)return;this.scene.fx.createLazerEffect(this.target);const A=this.params.damage.value/xr.LAZER.REPEAT;this.target.live.damage(A)}processing(){if(!this.initiator||!this.processingDelay.isPast())return;if(!this.target?.active){this.stop();return}const A=this.positionCallback?.()??this.initiator;if(Xi(A,this.target.body.center)>this.params.maxDistance.value){this.stop();return}this.hit(),this.processingDelay.next(xr.LAZER.DELAY),this.processingHitsCount++,this.processingHitsCount===xr.LAZER.REPEAT&&this.stop()}}const aS={[ga.DEFAULT]:rS,[ga.FIREBOT]:sf,[ga.LASERBOT]:rf},Nn={TILE:{width:12,height:24,gamut:4},PATH_BREAKPOINT:40,WEAPONS:aS,ATTACK:{SPEED:new Bt.Quadratic({defaultValue:500,growth:0}),DAMAGE:new Bt.Quadratic({defaultValue:15,growth:.62,retardationLevel:6}),PAUSE:new Bt.Quadratic({defaultValue:1e3,growth:-.15}),DISTANCE:new Bt.Quadratic({defaultValue:80,growth:.12})},UNLOCK_PER_WAVE:{[gi.INFINITY]:10,[gi.FLAGS]:5}},oS={PATH_FIND_RATE:300};class Cp extends Mt.Events.EventEmitter{constructor({health:A,maxHealth:M,armour:B,maxArmour:V}){super(),this.health=A,this.maxHealth=M??A,this.armour=B??0,this.maxArmour=V??B??0}get health(){return this._health}set health(A){this._health=A}get maxHealth(){return this._maxHealth}set maxHealth(A){this._maxHealth=A}get armour(){return this._armour}set armour(A){this._armour=A}get maxArmour(){return this._maxArmour}set maxArmour(A){this._maxArmour=A}destroy(){this.removeAllListeners()}damage(A){if(this.isDead())return;const M=Math.ceil(A);let B=M;this.armour>0&&(B-=this.armour,this.setArmour(this.armour-M),B<=0)||(this.setHealth(this.health-B),this.emit(ui.DAMAGE,B),this.isDead()&&this.emit(ui.DEAD))}kill(){this.isDead()||(this.health=0,this.emit(ui.DEAD),this.emit(ui.UPDATE_HEALTH,0))}heal(A){this.isMaxHealth()||A&&A<=0||(A?this.addHealth(A):this.setHealth(this.maxHealth),this.emit(ui.HEAL))}addHealth(A){A<=0||this.setHealth(this.health+A)}setHealth(A){this.isDead()||(this.health=Math.min(this.maxHealth,Math.max(0,A)),this.emit(ui.UPDATE_HEALTH,this.health))}setArmour(A){this.isDead()||(this.armour=Math.min(this.maxArmour,Math.max(0,A)))}setMaxHealth(A){this.maxHealth=Math.max(1,A),this.emit(ui.UPDATE_MAX_HEALTH,this.maxHealth)}isMaxHealth(){return this.health===this.maxHealth}setMaxArmour(A){this.maxArmour=Math.max(1,A)}isDead(){return this.health===0}}class Rp extends Mt.Physics.Arcade.Sprite{constructor(A,{texture:M,positionAtWorld:B,positionAtMatrix:V,speed:k,body:p,health:S=1,frame:t=0}){let u=null;if(B)u=B;else if(V)u=De.ToWorldPosition(V);else throw Error("Invalid sprite position");super(A,u.x,u.y,M,t),this.gamut=0,this.speed=0,this.currentBiome=null,this.collisionTargets=[],this.collisionHandler=null,this.collisionGround=!1,this.positionDebug=null,A.add.existing(this),A.addEntityToGroup(this,Xt.SPRITE),this.live=new Cp({health:S}),this.speed=k,this.configureBody(p),this.updateDimension(),this.addContainer(),this.addIndicatorsContainer(),this.addDebugPosition(),this.live.on(ui.DAMAGE,this.onDamage.bind(this)),this.live.on(ui.DEAD,this.onDead.bind(this)),this.live.on(ui.HEAL,this.onHeal.bind(this)),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.container.destroy(),this.live.destroy()})}get container(){return this._container}set container(A){this._container=A}get positionAtMatrix(){return this._positionAtMatrix}set positionAtMatrix(A){this._positionAtMatrix=A}update(){try{this.updateDimension(),this.updateContainer(),this.updateIndicators(),this.drawDebugGroundPosition()}catch(A){Ft.LogWarn("Failed to update sprite",A)}}updateDimension(){const A=this.getBottomEdgePosition();this.positionAtMatrix=De.ToMatrixPosition(A),this.currentBiome=this.scene.level.map.getAt(this.positionAtMatrix),this.setDepth(A.y)}addContainer(){this.container=this.scene.add.container(),this.updateContainer()}updateContainer(){this.container.setPosition(this.body.center.x,this.body.center.y),this.container.setDepth(this.depth),this.container.setAlpha(this.alpha),this.container.setVisible(this.visible)}configureBody(A){this.scene.physics.world.enable(this,Mt.Physics.Arcade.DYNAMIC_BODY),this.gamut=A.gamut,A.type==="rect"?this.body.setSize(A.width,A.height):A.type==="circle"&&this.body.setCircle(A.width/2),this.setOrigin(.5,1),this.setImmovable(!0),this.setPushable(!1)}isStopped(){return Un(this.body.velocity,{x:0,y:0})}getAllPositionsAtMatrix(){return this.getProjectionOnGround().map(A=>De.ToMatrixPosition(A))}addCollider(A,M,B){this.scene.physics.add[M](this,this.scene.getEntitiesGroup(A),(V,k)=>{try{B(k)}catch(p){Ft.LogWarn(`Failed to handle sprite ${M} with ${A.toLowerCase()}`,p)}})}setTilesCollision(A,M){this.collisionTargets=A,this.collisionHandler=M}setTilesGroundCollision(A){this.collisionGround=A}handleCollide(A){const M=this.getCollidedTile(A);return this.collisionHandler&&M instanceof Mt.GameObjects.Image&&this.collisionHandler(M),!!M}getCollidedTile(A){if(this.collisionTargets.length===0&&!this.collisionGround)return!1;const M=this.collisionGround&&this.currentBiome?.friction||1,B=this.speed/M*(Or.COLLIDE_SPEED_FACTOR*this.scene.deltaTime),V=this.scene.physics.velocityFromAngle(A,B);if(this.collisionGround){const k=this.getBottomEdgePosition(),p=De.ToMatrixPosition({x:k.x+V.x,y:k.y+V.y});if(!this.scene.level.map.getAt(p)?.solid)return!0}if(this.collisionTargets.length>0){const k=this.getProjectionOnGround();for(const p of k){const S=De.ToMatrixPosition({x:p.x+V.x,y:p.y+V.y}),t=this.scene.level.getTileWithType({...S,z:1},this.collisionTargets);if(t)return t}}return!1}getBottomEdgePosition(){return{x:this.x,y:this.y-this.getGamutOffset()}}getBodyOffset(){return{x:0,y:this.body?this.body.center.y-this.y:0}}getGamutOffset(){return this.gamut*this.scaleY*.5}getProjectionOnGround(){const M=this.displayWidth*.4,B=this.getGamutOffset(),V=Mt.Math.PI2/8,k=this.getBottomEdgePosition(),p=[];for(let S=0;S<8;S++)p.push({x:k.x+Math.sin(S*V)*M,y:k.y-Math.cos(S*V)*B});return p}addIndicatorsContainer(){this.indicators=this.scene.add.container(),this.indicators.setPosition(-this.displayWidth/2,-this.body.halfHeight-10),this.container.add(this.indicators)}addIndicator(A,M){const B=new rl(this,{...M,size:this.displayWidth});B.setPosition(0,this.indicators.length*-5),B.setName(A),this.indicators.add(B)}getIndicator(A){return this.indicators.getByName(A)??null}updateIndicators(){this.indicators.each(A=>{A.updateValue()})}addDebugPosition(){}drawDebugGroundPosition(){if(!this.positionDebug)return;this.positionDebug.clear(),this.positionDebug.lineStyle(1,16711680),this.positionDebug.beginPath();const A=this.getBottomEdgePosition();this.positionDebug.moveTo(A.x,A.y),this.positionDebug.lineTo(A.x+10,A.y),this.positionDebug.moveTo(A.x,A.y),this.positionDebug.lineTo(A.x,A.y+10),this.positionDebug.closePath(),this.positionDebug.strokePath(),this.positionDebug.lineStyle(1,16777215),this.positionDebug.beginPath();const M=this.getProjectionOnGround(),B=[...M,M[0]];for(let V=1;V<B.length;V++)this.positionDebug.moveTo(B[V-1].x,B[V-1].y),this.positionDebug.lineTo(B[V].x,B[V].y);this.positionDebug.closePath(),this.positionDebug.strokePath()}onDamage(A){}onHeal(){this.scene.fx.createHealEffect(this)}onDead(){this.setActive(!1),this.scene.tweens.add({targets:[this,this.container],alpha:0,duration:250,onComplete:()=>{this.destroy()}})}}class Lp extends Rp{constructor(A,{pathFindTriggerDistance:M,seesInvisibleTarget:B,texture:V,customAnimation:k,...p}){super(A,{...p,texture:V}),this.isPathPassed=!1,this.isFollow=!0,this.pathToTarget=[],this.pathFindingTask=null,this.pathFindTriggerDistance=0,this.pathDebug=null,this.seesInvisibleTarget=!1,A.addEntityToGroup(this,Xt.NPC),this.pathFindTriggerDistance=M,this.seesInvisibleTarget=B,this.calmDelay=new un(this.scene),this.pathFindDelay=new un,this.addDebugPath(),k||(this.anims.create({key:"idle",frames:this.anims.generateFrameNumbers(V,{}),frameRate:4,repeat:-1,delay:Math.random()*500}),this.anims.play("idle")),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.pathFindingTask&&this.scene.level.navigator.cancelTask(this.pathFindingTask)})}update(){super.update();try{this.isFollow?this.getDistanceToTarget()<=this.pathFindTriggerDistance?(this.resetPath(),this.isPathPassed=!0):(this.findPathToTarget(),this.moveByPath(),this.isPathPassed=!1):(this.setVelocity(0,0),this.isPathPassed=!1)}catch(A){Ft.LogWarn("Failed to update NPC",A)}}calm(A){this.calmDelay.next(A)}isCalm(){return!this.calmDelay.isPast()}findPathToTarget(){if(this.pathFindingTask||!this.pathFindDelay.isPast())return;this.pathFindDelay.next(oS.PATH_FIND_RATE);const A=this.seesInvisibleTarget?this.scene.player.positionAtMatrix:this.scene.player.lastVisiblePosition;if(this.pathToTarget.length>0){const B=this.pathToTarget[this.pathToTarget.length-1];if(Un(B,A))return}const M=this.positionAtMatrix;this.pathFindingTask=this.scene.level.navigator.createTask({from:M,to:A,grid:this.scene.level.gridCollide},B=>{if(!this.active)return;const V=B[0]?.path;V?(V.shift(),this.pathToTarget=V,this.pathFindingTask=null,this.moveToTile(),this.drawDebugPath()):this.pathFindingTask=null})}getDistanceToTarget(){return Xi(this.getBottomEdgePosition(),this.scene.player.getBottomEdgePosition())}moveTo(A){const M=qT(this.getBottomEdgePosition(),A),B=Mt.Math.RadToDeg(M);if(this.handleCollide(B))this.setVelocity(0,0);else{const k=this.isCalm()?this.speed*.2:this.speed,p=this.scene.physics.velocityFromRotation(M,k);this.flipX=p.x>0,this.setVelocity(p.x,p.y*le.MAP_PERSPECTIVE)}}nextPathTile(){const A=De.ToWorldPosition(this.pathToTarget[0]),M=this.getBottomEdgePosition(),B=Math.sign(this.body.velocity.x),V=Math.sign(this.body.velocity.y);M.x*B>=A.x*B&&M.y*V>=A.y*V&&this.pathToTarget.shift()}resetPath(){this.pathToTarget=[],this.pathFindingTask&&(this.scene.level.navigator.cancelTask(this.pathFindingTask),this.pathFindingTask=null)}moveByPath(){this.pathToTarget.length>0&&(this.nextPathTile(),this.moveToTile())}moveToTile(){const A=this.pathToTarget[0];if(A){const M=De.ToWorldPosition(A);this.moveTo(M)}}addDebugPath(){}drawDebugPath(){if(!this.pathDebug)return;this.pathDebug.clear(),this.pathDebug.lineStyle(2,14941187),this.pathDebug.beginPath();const A=[this.positionAtMatrix,...this.pathToTarget];for(let M=1;M<A.length;M++){const B=De.ToWorldPosition({...A[M-1]}),V=De.ToWorldPosition({...A[M]});this.pathDebug.moveTo(B.x,B.y),this.pathDebug.lineTo(V.x,V.y)}this.pathDebug.closePath(),this.pathDebug.strokePath()}}ce.RegisterAudio(xa);ce.RegisterSprites(gr,Nn.TILE);class lS extends Lp{constructor(A,{owner:M,positionAtMatrix:B,speed:V}){super(A,{texture:gr.DEFAULT,positionAtMatrix:B,speed:V,pathFindTriggerDistance:Nn.PATH_BREAKPOINT,seesInvisibleTarget:!0,customAnimation:!0,body:{...Nn.TILE,type:"circle"}}),this.instantShot=!0,this.hintId=null,A.add.existing(this),this.owner=M,this.attackPause=Nn.ATTACK.PAUSE.clone(),this.attackDelay=new un(this.scene),this.setInteractive({pixelPerfect:!0,useHandCursor:!0}),this.registerAnimations(),this.updateVariant(),this.handlePointer(),this.handleKeyboard(),this.onWaveComplete=this.onWaveComplete.bind(this),this.onUpgrade=this.onUpgrade.bind(this),this.scene.wave.on(Pi.COMPLETE,this.onWaveComplete),this.owner.on(xe.UPGRADE_SKILL,this.onUpgrade),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.removeHint(),this.scene.wave.off(Pi.COMPLETE,this.onWaveComplete),this.owner.off(xe.UPGRADE_SKILL,this.onUpgrade)})}update(){super.update();try{this.isPathPassed&&this.setVelocity(0,0),this.isCanAttack()&&this.attack()}catch(A){Ft.LogWarn("Failed to update assistant",A)}}onUpgrade(A){this.updateShotParams(A)}updateShotParams(A){const M=this.scene.player.upgradeLevel[A];switch(A){case ge.ATTACK_DAMAGE:{const B=this.shot instanceof rf?1.5:1;this.shot.params.damage?.calculate(M,B);break}case ge.ATTACK_DISTANCE:{this.shot.params.maxDistance.calculate(M);break}case ge.ATTACK_SPEED:{this.attackPause?.calculate(M);break}}}onWaveComplete(){this.updateVariant()}isCanAttack(){return this.attackDelay.isPast()&&!this.owner.live.isDead()}attack(){const A=this.getTarget();if(!A)return;const B=this.instantShot&&this.shot instanceof sf?200:Math.max(200,this.attackPause.value);this.shot.shoot(A),this.attackDelay.next(B),this.instantShot=!this.instantShot}getTarget(){const A=this.getBottomEdgePosition(),M=this.scene.getEntities(Xt.ENEMY).filter(B=>{if(B.active&&B.alpha>=1){const V=B.getBottomEdgePosition();return Xi(V,A)<=this.shot.params.maxDistance.value&&!this.scene.level.hasTilesBetweenPositions(V,A)}return!1});return Sp(M,this)}updateVariant(){const A=Object.values(ga),M=Nn.UNLOCK_PER_WAVE[this.scene.game.mode],B=Math.min(A.length-1,Math.floor((this.scene.wave.number-1)/M));if(this.variant===A[B])return;const V=this.variant;this.variant=A[B],V&&this.emit(qu.UNLOCK_VARIANT,this.variant),this.setWeapon(Nn.WEAPONS[this.variant]),this.setTexture(gr[this.variant]),this.anims.play(`idle.${this.texture.key}`)}setWeapon(A){this.shot&&this.shot.destroy(),this.shot=new A(this.scene,{speed:Nn.ATTACK.SPEED.clone(),maxDistance:Nn.ATTACK.DISTANCE.clone(),damage:Nn.ATTACK.DAMAGE.clone()},{scale:.5}),this.shot.setInitiator(this,()=>this.body.center),[ge.ATTACK_DAMAGE,ge.ATTACK_DISTANCE,ge.ATTACK_SPEED].forEach(M=>{this.updateShotParams(M)})}addHint(){!this.hintId&&Gt.IsEnabled&&(this.hintId=this.scene.showHint({side:"top",label:this.isFollow?"TUTORIAL_ASSISTANT_STOP":"TUTORIAL_ASSISTANT_FOLLOW",position:this}))}removeHint(){this.hintId&&(this.scene.hideHint(this.hintId),this.hintId=null)}toggleFollow(){this.isFollow=!this.isFollow,this.removeHint(),this.scene.fx.playSound([xa.BEEP_1,xa.BEEP_2,xa.BEEP_3],{limit:1})}handlePointer(){this.scene.game.isDesktop()&&(this.on(Phaser.Input.Events.POINTER_DOWN,()=>{this.toggleFollow()}),this.on(Phaser.Input.Events.POINTER_OVER,()=>{this.addHint(),this.addShader(En.OUTLINE,{size:2,color:16777215})}),this.on(Phaser.Input.Events.POINTER_OUT,()=>{this.removeHint(),this.removeShader(En.OUTLINE)}))}handleKeyboard(){this.scene.game.isDesktop()&&this.scene.input.keyboard?.on(Fs.ASSISTANT_FOLLOW,A=>{this.toggleFollow(),A.preventDefault(),A.stopPropagation()})}registerAnimations(){Object.values(gr).forEach(A=>{this.anims.create({key:`idle.${A}`,frames:this.anims.generateFrameNumbers(A,{}),frameRate:4,repeat:-1,delay:Math.random()*500})})}}class Os{static CheckDiff(A,M,B){if(!pe.GetFlag(Zt.ANTICHEAT))return;const V=this.Memory[A];V!==void 0&&M-V>B&&Ft.MarkAsCheater(),this.Memory[A]=M}static Clear(A){!pe.GetFlag(Zt.ANTICHEAT)||!this.Memory[A]||delete this.Memory[A]}}Os.Memory={};var Ms=(L=>(L.PLAYER_SCORE="0xffffff",L.PLAYER_RESOURCES="0xeeeeee",L.WAVE_NUMBER="0xdddddd",L))(Ms||{});class hS{get maxAmount(){return this._maxAmount}set maxAmount(A){this._maxAmount=A}get amount(){return this._amount}set amount(A){this._amount=A}constructor(A,{amount:M,maxAmount:B}){this.player=A,this.amount=M,this.maxAmount=B??M,this.updateDelay=new un}setAmount(A){this.amount=A}setMaxAmount(A){this.maxAmount=A}isTired(){return this.amount===0}update(A,M){try{const B=50/this.player.scene.getTimeScale();if(A)this.amount>0&&this.updateDelay.isPast()&&(this.amount=Math.max(0,this.amount-.6),this.updateDelay.next(B),this.amount===0&&M?.(),this.amount<this.maxAmount&&!this.player.getIndicator("stamina")&&this.player.addIndicator("stamina",{color:15197429,value:()=>this.amount/this.maxAmount,destroyIf:V=>V>=1}));else if(this.amount<this.maxAmount&&this.updateDelay.isPast()){const V=this.maxAmount*.04*Math.max(.1,this.amount/this.maxAmount);this.amount=Math.min(this.maxAmount,this.amount+V),this.updateDelay.next(B)}}catch(B){Ft.LogWarn("Failed to update player stamina",B)}}}class uS{constructor(A){this.currentPath=null,this.graphicLayout=null,this.navigatorProcessing=!1,this.effectIndex=0,this.targetsCallback=null,this.player=A,this.effectDelay=new un}setTargets(A){this.targetsCallback=A}clear(){this.currentPath=null}update(){try{this.findPathToCrystal(),this.drawPathToCrystal()}catch(A){Ft.LogWarn("Failed to update player way",A)}}toggle(A){A?this.graphicLayout||(this.graphicLayout=this.player.scene.add.graphics()):this.graphicLayout&&(this.graphicLayout.destroy(),this.graphicLayout=null)}drawPathToCrystal(){if(!this.graphicLayout||(this.graphicLayout.clear(),!this.currentPath))return;const A=4;this.effectDelay.isPast()&&(this.effectIndex++,this.effectDelay.next(1e3/this.currentPath.length)),this.effectIndex>=this.currentPath.length&&(this.effectIndex=0);for(let M=-A;M<=A;M++){const B=this.effectIndex+M;if(B>1&&B<this.currentPath.length){const V=De.ToWorldPosition({...this.currentPath[B-1]}),k=De.ToWorldPosition({...this.currentPath[B]}),p=1-Math.min(Math.abs(M/A),.9);this.graphicLayout.lineStyle(2,16777215,p*.75),this.graphicLayout.lineBetween(V.x,V.y,k.x,k.y)}}}async findPathToCrystal(){if(!this.graphicLayout||this.navigatorProcessing||this.currentPath?.[0]&&Un(this.currentPath[0],this.player.positionAtMatrix))return;const A=this.targetsCallback?.();!A||A.length===0||(this.navigatorProcessing=!0,this.player.scene.level.navigator.createPool({entries:A.map(M=>M.positionAtMatrix),task:{from:this.player.positionAtMatrix,grid:this.player.scene.level.gridSolid}},M=>{let B={path:[],cost:1/0};M.forEach(({path:V,cost:k})=>{V&&k<B.cost&&(B={path:V,cost:k})}),this.currentPath=B.path.length>3?B.path:null,this.navigatorProcessing=!1}))}}ce.RegisterAudio(on);ce.RegisterSprites(pr.PLAYER,ze.TILE);ce.RegisterImages(pr.SUPERSKILL);ce.RegisterImages(bu);ce.RegisterImages(ll);class af extends Rp{constructor(A,M){super(A,{...M,texture:pr.PLAYER,health:ze.MAX_HEALTH.defaultValue,speed:ze.SPEED.defaultValue,body:{type:"rect",width:14,height:26,gamut:ze.TILE.gamut}}),this._experience=0,this._resources=ze.RESOURCES.DEFAULT,this._score=ze.SCORE.DEFAULT,this._kills=0,this._upgradeLevel={[ge.MAX_HEALTH]:1,[ge.SPEED]:1,[ge.STAMINA]:1,[ge.BUILD_SPEED]:1,[ge.ATTACK_DAMAGE]:1,[ge.ATTACK_DISTANCE]:1,[ge.ATTACK_SPEED]:1},this.movementTarget=null,this.movementAngle=null,this.dustEffect=null,this._unlockedSuperskills={},this._activeSuperskills={},A.add.existing(this),Os.Clear(Ms.PLAYER_RESOURCES),Os.Clear(Ms.PLAYER_SCORE),this.stamina=new hS(this,{amount:100}),this.scene.game.isDesktop()&&this.handleMovementByKeyboard(),this.handleToggleEffects(),this.handleTogglePathToCrystal(),this.handleKeyboard(),this.registerAnimations(),this.addWay(),this.addDustEffect(),this.addIndicator("health",{color:9895693,value:()=>this.live.health/this.live.maxHealth}),this.setTilesGroundCollision(!0),this.setTilesCollision([wi.MAP,wi.BUILDING,wi.FLAG,wi.CRYSTAL],B=>{B instanceof Ap&&(B.pickup(),this.way.clear())}),this.addCollider(Xt.ENEMY,"collider",B=>{this.isInvisible()||B.attack(this)}),this.addCollider(Xt.ENEMY,"overlap",B=>{B.overlapTarget()}),this.scene.wave.on(Pi.COMPLETE,this.onWaveComplete.bind(this))}get experience(){return this._experience}set experience(A){this._experience=A}get resources(){return this._resources}set resources(A){this._resources=A}get score(){return this._score}set score(A){this._score=A}get kills(){return this._kills}set kills(A){this._kills=A}get lastVisiblePosition(){return this._lastVisiblePosition}set lastVisiblePosition(A){this._lastVisiblePosition=A}get upgradeLevel(){return this._upgradeLevel}set upgradeLevel(A){this._upgradeLevel=A}get unlockedSuperskills(){return this._unlockedSuperskills}set unlockedSuperskills(A){this._unlockedSuperskills=A}get activeSuperskills(){return this._activeSuperskills}set activeSuperskills(A){this._activeSuperskills=A}update(){super.update();try{this.way.update(),this.live.isDead()||(this.dustEffect?.emitter.setDepth(this.depth-1),this.updateMovement(),this.updateVelocity(),this.updateVisible(),this.updateStamina()),Os.CheckDiff(Ms.PLAYER_RESOURCES,this.resources,ze.RESOURCES.DIFF_BOUND),Os.CheckDiff(Ms.PLAYER_SCORE,this.score,ze.SCORE.DIFF_BOUND*this.scene.wave.number)}catch(A){Ft.LogWarn("Failed to update player",A)}}updateVisible(){this.isInvisible()?this.alpha===1&&(this.alpha=.5):(this.lastVisiblePosition=this.positionAtMatrix,this.alpha!==1&&(this.alpha=1))}isInvisible(){return this.activeSuperskills[si.INVISIBLE]}updateStamina(){const A=this.movementAngle!==null;this.stamina.update(A,()=>{this.updateMovementAnimation(),this.scene.sound.stopByKey(on.WALK),this.scene.fx.playSound(on.WALK,{loop:!0,rate:1.4})})}giveScore(A){this.live.isDead()||(this.score+=A,this.emit(xe.UPDATE_SCORE,this.score))}giveExperience(A){this.live.isDead()||(this.experience+=Math.round(A/this.scene.game.getDifficultyMultiplier()),this.emit(xe.UPDATE_EXPERIENCE,this.experience))}takeExperience(A){this.experience-=A,this.emit(xe.UPDATE_EXPERIENCE,this.experience)}giveResources(A){this.live.isDead()||(this.resources+=A,this.emit(xe.UPDATE_RESOURCES,this.resources))}takeResources(A){this.resources-=A,this.emit(xe.UPDATE_RESOURCES,this.resources)}incrementKills(){this.kills++}unlockSuperskill(){const A=Object.values(si).find(M=>!this.unlockedSuperskills[M]);A&&(this.unlockedSuperskills[A]=!0,this.emit(xe.UNLOCK_SUPERSKILL,A))}getSuperskillCost(A){return ze.SUPERSKILLS.TYPES[A].cost.getValue(this.scene.wave.number)}useSuperskill(A){if(this.activeSuperskills[A]||!this.unlockedSuperskills[A])return;if(!this.scene.wave.isGoing){gt.Screen.failure();return}const M=this.getSuperskillCost(A);if(this.resources<M){gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}if(this.takeResources(M),this.scene.fx.playSound(on.SUPERSKILL),this.scene.game.isSettingEnabled(ei.EFFECTS)){const V=this.getBottomEdgePosition(),k=this.scene.add.image(V.x,V.y,pr.SUPERSKILL);this.scene.tweens.add({targets:k,scale:{from:0,to:2},duration:500,onComplete:()=>{k.destroy()}})}const{duration:B}=ze.SUPERSKILLS.TYPES[A];this.activeSuperskills[A]=this.scene.addProgression({duration:B,frequence:B,onComplete:()=>{delete this.activeSuperskills[A],this.scene.events.emit(xe.COMPLETE_SUPERSKILL,A)}}),this.scene.events.emit(xe.USE_SUPERSKILL,A)}getExperienceToUpgrade(A){return ze.SKILLS.TYPES[A].experience.getValue(this.upgradeLevel[A])}static GetUpgradeNextValue(A,M){switch(A){case ge.MAX_HEALTH:case ge.SPEED:case ge.STAMINA:return ze[A].getValue(M);default:return M}}upgrade(A){if(this.upgradeLevel[A]===ze.SKILLS.MAX_LEVEL)return;const M=this.getExperienceToUpgrade(A);if(this.experience<M){gt.Screen.failure("NOT_ENOUGH_EXPERIENCE");return}this.setSkillUpgrade(A,this.upgradeLevel[A]+1),this.takeExperience(M),this.emit(xe.UPGRADE_SKILL,A),this.scene.fx.playSound(on.UPGRADE)}setSkillUpgrade(A,M){const B=af.GetUpgradeNextValue(A,M);switch(A){case ge.MAX_HEALTH:{const V=B-this.live.maxHealth;this.live.setMaxHealth(B),this.live.addHealth(V);break}case ge.SPEED:{this.speed=B,this.scene.assistant&&(this.scene.assistant.speed=B);break}case ge.STAMINA:{this.stamina.setMaxAmount(B),this.stamina.setAmount(B);break}}this.upgradeLevel[A]=M}onDamage(A){this.scene.camera.shake(),this.scene.fx.createBloodEffect(this),this.scene.fx.playSound([on.DAMAGE_1,on.DAMAGE_2,on.DAMAGE_3],{limit:1}),super.onDamage(A)}onDead(){this.setVelocity(0,0),this.stopMovement(),this.scene.tweens.add({targets:[this,this.container],alpha:0,duration:250})}onWaveComplete(A){const M=zi.EXPERIENCE.getValue(A);this.giveExperience(M),this.live.heal(),this.scene.game.mode===gi.INFINITY&&this.giveScore(A*10),(A+1)%ze.SUPERSKILLS.UNLOCK_PER_WAVE===0&&this.unlockSuperskill()}handleMovementByKeyboard(){const A=new Set,M=(V,k)=>{k?A.add(Ho[V]):A.delete(Ho[V]),A.has(ii.DOWN)?A.has(ii.LEFT)?this.movementTarget=3:A.has(ii.RIGHT)?this.movementTarget=1:this.movementTarget=2:A.has(ii.UP)?A.has(ii.LEFT)?this.movementTarget=5:A.has(ii.RIGHT)?this.movementTarget=7:this.movementTarget=6:A.has(ii.LEFT)?this.movementTarget=4:A.has(ii.RIGHT)?this.movementTarget=0:this.movementTarget=null};this.scene.input.keyboard?.on(Mt.Input.Keyboard.Events.ANY_KEY_DOWN,V=>{Ho[V.code]&&(M(V.code,!0),V.preventDefault(),V.stopPropagation())}),this.scene.input.keyboard?.on(Mt.Input.Keyboard.Events.ANY_KEY_UP,V=>{Ho[V.code]&&(M(V.code,!1),V.preventDefault(),V.stopPropagation())});const B=()=>{this.movementTarget=null};window.addEventListener("blur",B),this.once(Mt.GameObjects.Events.DESTROY,()=>{window.removeEventListener("blur",B)})}updateVelocity(){if(this.movementAngle===null)this.setVelocity(0,0);else if(this.handleCollide(this.movementAngle))this.setVelocity(0,0);else{const M=this.currentBiome?.friction??1,B=this.stamina.isTired()?1.5:1,V=this.speed/M/B,k=this.scene.physics.velocityFromAngle(this.movementAngle,V);this.setVelocity(k.x,k.y*le.MAP_PERSPECTIVE)}}updateMovement(){this.movementTarget===null?this.stopMovement():this.movementAngle===null?this.startMovement():this.setMovementAngle()}startMovement(){this.movementTarget!==null&&(this.setMovementAngle(),this.dustEffect?.emitter.start(),this.scene.fx.playSound(on.WALK,{loop:!0,rate:1.8}))}setMovementTarget(A){this.movementTarget=A===null?null:Math.round(A/45)%8}setMovementAngle(){this.movementTarget===null||this.movementAngle===this.movementTarget*45||(this.movementAngle=this.movementTarget*45,this.updateMovementAnimation(!0))}updateMovementAnimation(A=!1){if(this.movementTarget!==null)try{const M=this.anims.currentFrame;this.anims.play({key:`dir_${this.movementTarget}`,startFrame:A||!M?1:M.index,frameRate:this.stamina.isTired()?6:8})}catch{}}stopMovement(){this.movementAngle!==null&&(this.movementAngle=null,this.anims.currentAnim&&(this.anims.setProgress(0),this.anims.stop()),this.dustEffect?.emitter.stop(),this.scene.sound.stopByKey(on.WALK))}addWay(){this.way=new uS(this),this.way.setTargets(()=>this.scene.game.mode===gi.FLAGS?this.scene.getEntities(Xt.FLAG).filter(A=>!A.isCaptured):this.scene.getEntities(Xt.CRYSTAL)),this.scene.game.mode===gi.FLAGS&&this.way.toggle(!0)}addDustEffect(){this.dustEffect||(this.dustEffect=this.scene.fx.createDustEffect(this))}removeDustEffect(){this.dustEffect&&(this.dustEffect.destroy(),this.dustEffect=null)}registerAnimations(){Array.from({length:8}).forEach((A,M)=>{this.anims.create({key:`dir_${M}`,frames:this.anims.generateFrameNumbers(pr.PLAYER,{start:M*4,end:(M+1)*4-1}),frameRate:8,repeat:-1})})}handleKeyboard(){this.scene.game.isDesktop()&&this.scene.input.keyboard?.on(Mt.Input.Keyboard.Events.ANY_KEY_UP,A=>{const M=A.key.replace("Key","").toLowerCase(),B=ze.SUPERSKILLS.HOTKEYS.indexOf(M);B!==-1&&(this.useSuperskill(Object.values(si)[B]),A.preventDefault(),A.stopPropagation())})}handleToggleEffects(){const A=(M,B)=>{M===ei.EFFECTS&&(B?this.addDustEffect():this.removeDustEffect())};this.scene.game.events.on(Ri.UPDATE_SETTINGS,A),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.scene.game.events.off(Ri.UPDATE_SETTINGS,A)})}handleTogglePathToCrystal(){const A=(M,B)=>{switch(M){case $e.PATH_TO_CRYSTAL:{this.way.toggle(B);break}}};this.scene.events.on(Ye.TOGGLE_MODE,A),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.scene.events.off(Ye.TOGGLE_MODE,A)})}getSavePayload(){return{position:{...this.positionAtMatrix},score:this.score,experience:this.experience,resources:this.resources,kills:this.kills,health:this.live.health,unlockedSuperskills:{...this.unlockedSuperskills},upgradeLevel:{...this.upgradeLevel}}}loadSavePayload(A){this.score=A.score,this.experience=A.experience,this.resources=A.resources,this.kills=A.kills,this.unlockedSuperskills=A.unlockedSuperskills,yr(A.upgradeLevel,(M,B)=>{B>1&&this.setSkillUpgrade(M,B)}),this.live.setHealth(A.health)}}const fS={BUILD_DURATION:new Bt.Quadratic({defaultValue:2500,growth:-.2,retardationLevel:5,minValue:0})};ce.RegisterAudio(pi);ce.RegisterImages(fi);ce.RegisterSprites(Pr,jt.TILE);class fs extends Mt.GameObjects.Image{constructor(A,{positionAtMatrix:M,buildDuration:B,variant:V}){const k=De.ToWorldPosition(M);super(A,k.x,k.y,Pr[V]),this.tileType=wi.BUILDING,this._upgradeLevel=1,this.radius=null,this.delay=null,this.outlineState=Dn.NONE,this.alertIcon=null,this.alertTween=null,this.upgradeIcon=null,this.upgradeTween=null,this.actionsArea=null,this._isFocused=!1,this.toFocus=!1,this.isSelected=!1,this.buildTimer=null,this.buildBar=null,A.add.existing(this),A.addEntityToGroup(this,Xt.BUILDING),this.variant=V,this.positionAtMatrix=M,this.radius=jt.VARIANTS[V].RADIUS??null,this.delay=jt.VARIANTS[V].DELAY??null,this.defaultHealth=jt.VARIANTS[V].HEALTH,this.live=new Cp({health:this.defaultHealth.value}),this.actionDelay=new un(this.scene),this.setDepth(k.y),this.setOrigin(.5,jt.TILE.origin),this.scene.level.putTile(this,{...M,z:1}),this.addActionArea(),this.addIndicatorsContainer(),this.addIndicator({color:9895693,size:jt.TILE.width/2,value:()=>this.live.health/this.live.maxHealth}),this.updateTileCost(),this.handlePointer(),this.handleToggleModes(),this.scene.spawner.clearCache(),B&&B>0?this.startBuildProcess(B):setTimeout(()=>{this.completeBuildProcess()},0),this.bindHotKey(Fs.BUILDING_REPAIR,()=>this.repair()),this.bindHotKey(Fs.BUILDING_UPGRADE,()=>this.upgrade()),this.bindHotKey(Fs.BUILDING_DESTROY,()=>this.break()),this.live.on(ui.DAMAGE,this.onDamage.bind(this)),this.live.on(ui.DEAD,this.onDead.bind(this)),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.stopBuildProcess(),this.removeIndicatorsContainer(),this.removeAlertIcon(),this.removeUpgradeIcon(),this.removeActionArea(),this.unfocus(),this.unselect(),this.scene.spawner.clearCache(),this.scene.level.navigator.resetPointCost(M),this.live.destroy()})}get upgradeLevel(){return this._upgradeLevel}set upgradeLevel(A){this._upgradeLevel=A}get isFocused(){return this._isFocused}set isFocused(A){this._isFocused=A}update(){try{this.updateOutline(),this.updateIndicators(),this.scene.isModeActive($e.AUTO_REPAIR)&&this.handleAutorepair(),this.toFocus&&this.focus()}catch(A){Ft.LogWarn("Failed building update",A)}}handleAutorepair(){this.live.health/this.live.maxHealth<=.5&&this.repair(!0)}actionsAreaContains(A){if(!this.active||!this.actionsArea)return!1;const M=this.actionsArea.getTopLeft();return this.actionsArea.geom.contains(A.x-M.x,A.y-M.y)}pauseActions(){this.delay&&this.actionDelay.next(this.getActionsDelay())}isActionAllowed(){return!this.delay||this.actionDelay.isPast()}updateTileCost(){const A=2+Number((this.live.maxHealth*jt.TILE_COST_MULTIPLIER).toFixed(1));this.scene.level.navigator.setPointCost(this.positionAtMatrix,A)}getInfo(){const A=[],M=this.getActionsDelay();return M&&A.push({label:"BUILDING_DELAY",icon:fi.DELAY,value:`${(M/1e3).toFixed(1)} s`}),A}getControls(){const A=[];return this.isUpgradeAllowed()&&A.push({label:"BUILDING_UPGRADE",cost:this.getUpgradeCost(),disabled:this.getUpgradeAllowedByWave()>this.scene.wave.number,hotkey:"E",onClick:()=>{this.active&&this.upgrade()}}),A.push({label:"BUILDING_REPAIR",cost:this.getRepairCost(),disabled:this.live.isMaxHealth(),hotkey:"R",onClick:()=>{this.active&&this.repair()}}),A}getActionsRadius(){return this.radius?.getValue(this.upgradeLevel)??0}getActionsDelay(){return this.delay?.getValue(this.upgradeLevel)??0}getUpgradeCost(A){const M=jt.VARIANTS[this.variant].COST*jt.UPGRADE_COST_MULTIPLIER;return Math.round(M*(A??this.upgradeLevel))}getFullCost(){let A=jt.VARIANTS[this.variant].COST;for(let M=1;M<this.upgradeLevel;M++)A+=this.getUpgradeCost(M);return A}getRepairCost(){const A=1-this.live.health/this.live.maxHealth;let M=jt.VARIANTS[this.variant].COST;for(let B=1;B<this.upgradeLevel;B++)M+=this.getUpgradeCost(B);return Math.ceil(M*A*jt.REPAIR_COST_MULTIPLIER)}isUpgradeAllowed(){return this.upgradeLevel<jt.VARIANTS[this.variant].MAX_LEVEL}getUpgradeAllowedByWave(){return jt.VARIANTS[this.variant].MIN_WAVE+this.upgradeLevel}upgrade(){if(!this.isUpgradeAllowed())return;const A=this.getUpgradeAllowedByWave();if(A>this.scene.wave.number){gt.Screen.failure("BUILDING_WILL_BE_AVAILABLE",[A]);return}const M=this.getUpgradeCost();if(this.scene.player.resources<M){gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.upgradeLevel++,this.addUpgradeIcon(),this.updateActionArea(),this.updateIndicatorsPosition(),this.upgradeHealth(),this.setFrame(this.upgradeLevel-1),this.emit(Te.UPGRADE),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Te.UPGRADE,this),this.scene.player.takeResources(M);const B=jt.EXPERIENCE_UPGRADE.getValue(this.upgradeLevel);this.scene.player.giveExperience(B),this.scene.fx.playSound(pi.UPGRADE)}repair(A){if(this.live.isMaxHealth()){A||gt.Screen.failure();return}const M=this.getRepairCost();if(this.scene.player.resources<M){A||gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.live.heal(),this.updateTileCost(),this.scene.player.takeResources(M),this.scene.fx.createHealEffect(this),this.scene.fx.playSound(pi.REPAIR)}upgradeHealth(){const A=this.getMaxHealth(),M=A-this.live.maxHealth;this.live.setMaxHealth(A),this.live.addHealth(M),this.updateTileCost()}getMaxHealth(){return this.defaultHealth.getValue(this.upgradeLevel)}addIndicatorsContainer(){this.indicators=this.scene.add.container(),this.updateIndicatorsPosition(),this.indicators.setDepth(Or.DEPTH_GRAPHIC),this.indicators.setActive(!1),this.indicators.setVisible(!1)}updateIndicatorsPosition(){const A=this.getTopEdgePosition();this.indicators.setPosition(A.x-jt.TILE.width/4,A.y-3)}addIndicator(A){const M=new rl(this,A);M.setPosition(0,this.indicators.length*-5),this.indicators.add(M)}toggleIndicators(){const A=!this.isSelected&&this.active&&this.scene.isModeActive($e.BUILDING_INDICATORS);this.indicators.setActive(A),this.indicators.setVisible(A)}updateIndicators(){this.indicators.visible&&this.indicators.each(A=>{A.updateValue()})}removeIndicatorsContainer(){this.indicators.destroy()}bindTutorialHint(A,M,B){let V=null;const k=()=>{(!B||B())&&(V=this.scene.showHint({side:"top",label:M,position:this.getBottomEdgePosition(),unique:!0}))},p=()=>{V&&(this.scene.hideHint(V),V=null)},S=Gt.Bind(A,{beg:k,end:p});this.once(Mt.GameObjects.Events.DESTROY,()=>{p(),S()})}onDamage(){this.updateTileCost(),this.scene.fx.createDamageEffect(this),this.scene.fx.playSound([pi.DAMAGE_1,pi.DAMAGE_2],{limit:1}),this.scene.isModeActive($e.AUTO_REPAIR)&&this.live.health/this.live.maxHealth<=.5&&this.repair(!0)}onDead(){this.break()}focus(){this.toFocus=!0,!this.isFocused&&!this.scene.player.live.isDead()&&!this.scene.builder.isBuild&&(this.isFocused=!0)}unfocus(){this.toFocus=!1,this.isFocused=!1}getTopEdgePosition(){return{x:this.x,y:this.y-jt.TILE.height*.5}}getBottomEdgePosition(){return{x:this.x,y:this.y}}addAlertIcon(){if(this.alertIcon)return;const A=this.getTopEdgePosition();this.alertIcon=this.scene.add.image(A.x,A.y,fi.ALERT),this.alertIcon.setDepth(this.depth+1),this.alertTween=this.scene.tweens.add({targets:this.alertIcon,alpha:{from:1,to:0},duration:500,ease:"Linear",yoyo:!0,repeat:-1})}removeAlertIcon(){this.alertIcon&&(this.alertIcon.destroy(),this.alertIcon=null,this.alertTween?.destroy(),this.alertTween=null)}addUpgradeIcon(){this.upgradeIcon&&this.removeUpgradeIcon();const A=this.getTopEdgePosition();this.upgradeIcon=this.scene.add.image(A.x,A.y,fi.UPGRADE),this.upgradeIcon.setDepth(this.depth+1),this.upgradeTween=this.scene.tweens.add({targets:this.upgradeIcon,y:{from:A.y,to:A.y-32},alpha:{from:1,to:0},duration:500,ease:"Linear",onComplete:()=>{this.removeUpgradeIcon()}})}removeUpgradeIcon(){this.upgradeIcon&&(this.upgradeIcon.destroy(),this.upgradeIcon=null,this.upgradeTween?.destroy(),this.upgradeTween=null)}select(){this.isSelected||!this.active||this.scene.player.live.isDead()||this.scene.builder.isBuild||(this.scene.builder.selectedBuilding&&this.scene.builder.selectedBuilding.unselect(),this.scene.builder.selectedBuilding=this,this.isSelected=!0,this.toggleIndicators(),this.actionsArea&&this.actionsArea.setVisible(!0),this.scene.events.emit(Ye.SELECT_BUILDING,this))}unselect(){this.isSelected&&(this.scene.builder.selectedBuilding=null,this.isSelected=!1,this.toggleIndicators(),this.actionsArea&&this.actionsArea.setVisible(!1),this.scene.events.emit(Ye.UNSELECT_BUILDING,this))}setOutline(A){if(this.outlineState!==A){if(A===Dn.NONE)this.removeShader(En.OUTLINE);else{const M={[Dn.FOCUSED]:{size:3,color:16777215},[Dn.SELECTED]:{size:4,color:13696847}}[A];this.outlineState===Dn.NONE?this.addShader(En.OUTLINE,M):this.updateShader(En.OUTLINE,M)}this.outlineState=A}}updateOutline(){let A=Dn.NONE;this.isSelected?A=Dn.SELECTED:this.isFocused&&(A=Dn.FOCUSED),this.setOutline(A)}addActionArea(){if(!this.radius||this.actionsArea)return;const A=this.getBottomEdgePosition();this.actionsArea=this.scene.add.ellipse(A.x,A.y),this.actionsArea.setFillStyle(16777215,.3),this.actionsArea.setVisible(!1),this.updateActionArea()}updateActionArea(){if(!this.actionsArea)return;const A=this.getActionsRadius()*2;this.actionsArea.setSize(A,A*le.MAP_PERSPECTIVE),this.actionsArea.updateDisplayOrigin()}removeActionArea(){this.actionsArea&&(this.actionsArea.destroy(),this.actionsArea=null)}break(){this.scene.fx.playSound(pi.DEAD),this.scene.fx.createSmokeEffect(this);const A=Math.ceil(this.getFullCost()*(this.live.health/this.live.maxHealth)*jt.BREAK_COST_MULTIPLIER);this.scene.player.giveResources(A);const M=this.scene.getEntitiesGroup(Xt.BUILDING);this.destroy(),M.emit(Te.BREAK,this)}startBuildProcess(A){this.addBuildBar(),this.addBuildTimer(A),this.setActive(!1),this.setAlpha(.5)}completeBuildProcess(){this.stopBuildProcess(),this.setActive(!0),this.setAlpha(1),this.toggleIndicators(),this.setInteractive({pixelPerfect:!0,useHandCursor:!0}),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Te.CREATE,this)}stopBuildProcess(){this.removeBuildBar(),this.removeBuildTimer()}addBuildTimer(A){this.buildTimer=this.scene.addProgression({duration:A,onProgress:(M,B)=>{const V=1-M/B;this.setAlpha(.5+V/2),this.buildBar?.updateValue(V)},onComplete:()=>{this.completeBuildProcess()}})}removeBuildTimer(){this.buildTimer&&(this.scene.removeProgression(this.buildTimer),this.buildTimer=null)}addBuildBar(){if(this.buildBar)return;this.buildBar=new rl(this,{size:jt.TILE.width/2,color:16777215});const A=this.getTopEdgePosition();this.buildBar.setPosition(A.x-this.buildBar.width/2,A.y-3)}removeBuildBar(){this.buildBar&&(this.buildBar.destroy(),this.buildBar=null)}bindHotKey(A,M){if(!this.scene.game.isDesktop())return;const B=V=>{(this.isSelected||this.isFocused&&this.scene.builder.selectedBuilding===null)&&(M(),V.preventDefault(),V.stopPropagation())};this.scene.input.keyboard?.on(A,B),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.scene.input.keyboard?.off(A,B)})}handleToggleModes(){const A=M=>{switch(M){case $e.BUILDING_INDICATORS:{this.toggleIndicators();break}}};this.scene.events.on(Ye.TOGGLE_MODE,A),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.scene.events.off(Ye.TOGGLE_MODE,A)})}handlePointer(){let A=!1;const M=p=>{p.button===0&&(this.select(),A=!0)},B=()=>{A?A=!1:this.unselect()},V=()=>{this.unfocus(),this.unselect()},k=()=>{V(),this.setActive(!1)};this.on(Mt.Input.Events.POINTER_DOWN,M),this.scene.game.isDesktop()&&(this.on(Mt.Input.Events.POINTER_OVER,this.focus,this),this.on(Mt.Input.Events.POINTER_OUT,this.unfocus,this)),this.scene.input.on(Mt.Input.Events.POINTER_DOWN,B),this.scene.game.events.on(Ri.FINISH,k),this.scene.builder.on(xn.BUILD_START,V),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.scene.input.off(Mt.Input.Events.POINTER_DOWN,B),this.scene.game.events.off(Ri.FINISH,k),this.scene.builder.off(xn.BUILD_START,V)})}getSavePayload(){return{variant:this.variant,position:{...this.positionAtMatrix},health:this.live.health,upgradeLevel:this.upgradeLevel}}loadSavePayload(A){A.upgradeLevel>1&&(this.upgradeLevel=Math.min(A.upgradeLevel,jt.VARIANTS[this.variant].MAX_LEVEL),this.updateIndicatorsPosition(),this.updateActionArea(),this.setFrame(this.upgradeLevel-1),this.live.setMaxHealth(this.getMaxHealth()),this.emit(Te.UPGRADE),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Te.UPGRADE,this)),this.live.setHealth(A.health),this.updateTileCost()}}class dS extends fs{constructor(A,M){super(A,{...M,variant:$t.AMMUNITION}),this.maxAmmo=0,this._ammo=0,this.maxAmmo=this.getMaxAmmo(),this.ammo=this.maxAmmo,this.addIndicator({color:16767063,size:jt.TILE.width/2,value:()=>this.ammo/this.maxAmmo}),this.bindTutorialHint(Yt.BUY_AMMO,this.scene.game.isDesktop()?"TUTORIAL_HOVER_TO_BUY_AMMO":"TUTORIAL_CLICK_TO_BUY_AMMO",()=>this.ammo===0),this.bindHotKey(Fs.BUILDING_BUY_AMMO,()=>this.buyAmmo()),this.on(Te.UPGRADE,this.onUpgrade.bind(this))}get ammo(){return this._ammo}set ammo(A){this._ammo=A}getInfo(){const A=[{label:"BUILDING_AMMO",icon:fi.AMMO,attention:this.ammo===0,value:`${this.ammo}/${this.maxAmmo}`}];return super.getInfo().concat(A)}getControls(){const A=[{label:"BUILDING_BUY_AMMO",cost:this.getAmmoCost(),disabled:this.ammo>=this.maxAmmo,hotkey:"F",onClick:()=>{this.buyAmmo()}}];return super.getControls().concat(A)}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y+=this.upgradeLevel===1?6:-4,A}use(A){const M=this.ammo<A?this.ammo:A;return this.ammo-=M,this.ammo===0&&(this.scene.isModeActive($e.AUTO_REPAIR)?this.buyAmmo(!0):(this.scene.fx.playSound(pi.OVER,{limit:1}),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Te.AMMO_OVER,this)),this.ammo===0&&this.addAlertIcon()),M}getAmmoCost(){const A=this.maxAmmo-this.ammo,M=jt.VARIANTS.AMMUNITION.COST/jt.VARIANTS.AMMUNITION.MAX_AMMO*.5;return Math.ceil(M*A)}buyAmmo(A){if(this.ammo>=this.maxAmmo){A||gt.Screen.failure();return}const M=this.getAmmoCost();if(this.scene.player.resources<M){A||gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.ammo=this.maxAmmo,this.scene.player.takeResources(M),this.removeAlertIcon(),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Te.BUY_AMMO,this),this.scene.fx.playSound(pi.RELOAD)}getMaxAmmo(){return jt.VARIANTS.AMMUNITION.DEFAULT_AMMO.getValue(this.upgradeLevel)}onUpgrade(){const A=this.getMaxAmmo(),M=A-this.maxAmmo;this.maxAmmo=A,this.ammo+=M}handleAutorepair(){this.ammo===0&&this.buyAmmo(!0),super.handleAutorepair()}getSavePayload(){return{...super.getSavePayload(),ammo:this.ammo}}loadSavePayload(A){super.loadSavePayload(A),A.ammo!==void 0&&(this.ammo=Math.min(A.ammo,this.getMaxAmmo()))}}class cS extends fs{constructor(A,M){super(A,{...M,variant:$t.BOOSTER}),this._power=jt.VARIANTS.BOOSTER.POWER.defaultValue,this.on(Te.UPGRADE,this.onUpgrade.bind(this))}get power(){return this._power}set power(A){this._power=A}getInfo(){const A=[{label:"BUILDING_POWER",icon:fi.POWER,value:`+${this.power*100}%`}];return super.getInfo().concat(A)}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y-=6,A}onUpgrade(){this.power=jt.VARIANTS.BOOSTER.POWER.getValue(this.upgradeLevel)}}class vS extends fs{constructor(A,M){super(A,{...M,variant:$t.GENERATOR})}update(){super.update();try{this.isActionAllowed()&&(this.generateResource(),this.pauseActions())}catch(A){Ft.LogWarn("Failed to update generator generator",A)}}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y+=this.upgradeLevel===1?5:-4,A}generateResource(){this.scene.player.giveResources(1),this.scene.fx.createGenerationEffect(this)}}class pS extends fs{constructor(A,M){super(A,{...M,variant:$t.RADAR})}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y-=this.upgradeLevel===1?2:8,A}}class ml extends fs{constructor(A,M,B){super(A,M),this.shot=null,this.needReload=!1,this._power=1,this.ammo=0,this.maxAmmo=0,this.filterTarget=null,B&&(this.shot=B,this.shot.setInitiator(this,()=>this.getTopEdgePosition()),this.updateShotParams()),this.ammo=jt.VARIANTS[M.variant].AMMO??0,this.maxAmmo=this.ammo,this.handleBuildingRelease(),this.handlePlayerSuperskill(),this.calculatePower(),this.on(Te.UPGRADE,this.onUpgrade.bind(this))}get power(){return this._power}set power(A){this._power=A}update(){super.update();try{this.isCanAttack()&&this.attack()}catch(A){Ft.LogWarn("Failed to update tower building",A)}}getInfo(){const A=[];return this.shot?.params.damage&&A.push({label:"BUILDING_DAMAGE",icon:fi.DAMAGE,value:this.shot.params.damage.value}),this.shot?.params.freeze&&A.push({label:"BUILDING_FREEZE",icon:fi.FREEZE,value:`${(this.shot.params.freeze.value/1e3).toFixed(1)} s`}),this.shot?.params.speed&&A.push({label:"BUILDING_SPEED",icon:fi.SPEED,value:this.shot.params.speed.value}),A.push({label:"BUILDING_AMMO",icon:fi.AMMO,attention:this.ammo===0,value:`${this.ammo}/${this.maxAmmo}`}),A.concat(super.getInfo())}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y-=5,A}isCanAttack(){return this.ammo>0&&this.isActionAllowed()}attack(){const A=this.getTargets();A.length!==0&&(this.shoot(A),this.pauseActions(),this.ammo--,this.ammo===0&&this.reload())}getAmmunition(){const A=this.scene.builder.getBuildingsByVariant($t.AMMUNITION).filter(B=>B.ammo>0&&B.actionsAreaContains(this.getBottomEdgePosition()));return A.length===0?null:A.reduce((B,V)=>B.ammo>V.ammo?B:V)}reload(){const A=this.getAmmunition();A?(this.ammo+=A.use(this.maxAmmo-this.ammo),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Te.RELOAD,this),this.needReload&&(this.removeAlertIcon(),this.needReload=!1,this.scene.fx.playSound(pi.RELOAD,{limit:1}))):this.needReload||(this.addAlertIcon(),this.needReload=!0,this.scene.fx.playSound(pi.OVER,{limit:1}),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Te.NEED_RELOAD,this))}getTargets(){const A=this.getBottomEdgePosition();return this.scene.getEntities(Xt.ENEMY).filter(M=>{if(M.active&&M.alpha>=1&&(!this.filterTarget||this.filterTarget(M))){const B=M.getBottomEdgePosition();return this.actionsAreaContains(B)&&!this.scene.level.hasTilesBetweenPositions(B,A)}return!1})}shoot(A){if(!this.shot)return;const M=Sp(A,this);M&&this.shot.shoot(M)}getBooster(){const A=this.scene.builder.getBuildingsByVariant($t.BOOSTER).filter(B=>B.actionsAreaContains(this.getBottomEdgePosition()));return A.length===0?null:A.reduce((B,V)=>B.power>V.power?B:V)}calculatePower(){const A=this.getBooster();this.power=1+(A?.power??0),this.updateShotParams()}onUpgrade(){this.ammo=this.maxAmmo,this.needReload&&(this.removeAlertIcon(),this.needReload=!1),this.updateShotParams()}updateShotParams(){this.shot&&yr(this.shot.params,(A,M)=>{if(M){let B=1;(A==="damage"||A==="freeze")&&(B*=this.power,A==="damage"&&this.scene.player.activeSuperskills[si.RAGE]&&(B*=2)),M.calculate(this.upgradeLevel,B)}})}handleBuildingRelease(){const A=B=>{B.variant===$t.AMMUNITION?this.needReload&&this.reload():B.variant===$t.BOOSTER&&this.calculatePower()},M=this.scene.getEntitiesGroup(Xt.BUILDING);M.on(Te.CREATE,A),M.on(Te.UPGRADE,A),M.on(Te.BUY_AMMO,A),M.on(Te.BREAK,A),this.once(Phaser.GameObjects.Events.DESTROY,()=>{M.off(Te.CREATE,A),M.off(Te.UPGRADE,A),M.off(Te.BUY_AMMO,A),M.off(Te.BREAK,A)})}handlePlayerSuperskill(){const A=M=>{if(this.shot)switch(M){case si.RAGE:{this.updateShotParams();break}}};this.scene.events.on(xe.USE_SUPERSKILL,A),this.scene.events.on(xe.COMPLETE_SUPERSKILL,A),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.scene.events.off(xe.USE_SUPERSKILL,A),this.scene.events.off(xe.COMPLETE_SUPERSKILL,A)})}getSavePayload(){return{...super.getSavePayload(),ammo:this.ammo}}loadSavePayload(A){super.loadSavePayload(A),A.ammo!==void 0&&(this.ammo=A.ammo)}}class mS extends ml{constructor(A,M){super(A,{...M,variant:$t.TOWER_ELECTRO}),this.area=null,this.addArea(),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.removeArea()})}getInfo(){return[{label:"BUILDING_DAMAGE",icon:fi.DAMAGE,value:this.getDamage()}].concat(super.getInfo())}addArea(){if(this.area)return;const A=this.getBottomEdgePosition();this.area=this.scene.add.ellipse(A.x,A.y),this.area.setFillStyle(13232093,.15),this.area.setActive(!1),this.area.setVisible(!1)}removeArea(){this.area&&(this.area.destroy(),this.area=null)}updateActionArea(){if(super.updateActionArea(),this.area){const A=this.getActionsRadius();this.area.setSize(A*2,A*2*le.MAP_PERSPECTIVE),this.area.updateDisplayOrigin()}}getDamage(){return jt.VARIANTS.TOWER_ELECTRO.DAMAGE?.getValue(this.upgradeLevel)??0}getTargets(){return this.scene.getEntities(Xt.ENEMY).filter(A=>A.active&&this.actionsAreaContains(A.getBottomEdgePosition()))}shoot(A){const M=this.getDamage();A.forEach(B=>{B.active&&(this.scene.fx.createElectroEffect(B),B.live.damage(M))}),this.scene.fx.playSound(pi.ELECTRO,{limit:1}),this.area&&(this.area.setActive(!0),this.area.setVisible(!0),this.scene.tweens.add({targets:this.area,alpha:{from:1,to:0},duration:300,onComplete:()=>{this.area&&(this.area.setActive(!1),this.area.setVisible(!1),this.area.setAlpha(1))}}))}}class gS extends ml{constructor(A,M){const{DAMAGE:B,SHOT_SPEED:V,RADIUS:k}=jt.VARIANTS.TOWER_FIRE,p=new sf(A,{damage:B.clone(),speed:V.clone(),maxDistance:k.clone()});super(A,{...M,variant:$t.TOWER_FIRE},p),this.bindTutorialHint(Yt.UPGRADE_BUILDING,this.scene.game.isDesktop()?"TUTORIAL_HOVER_TO_UPGRADE":"TUTORIAL_CLICK_TO_UPGRADE"),this.bindTutorialHint(Yt.RELOAD_TOWER,"TUTORIAL_RELOAD_TOWER",()=>this.ammo===0)}}class xS extends nf{constructor(A,M,B={}){super(A,M,{...B,audio:Lr.FROZEN,color:41471,glow:!0})}hit(A){super.hit(A),this.params.freeze&&A.live.armour<=0&&A.freeze(this.params.freeze.value)}}class ES extends ml{constructor(A,M){const{FREEZE:B,SHOT_SPEED:V,RADIUS:k}=jt.VARIANTS.TOWER_FROZEN,p=new xS(A,{freeze:B.clone(),speed:V.clone(),maxDistance:k.clone()});super(A,{...M,variant:$t.TOWER_FROZEN},p),this.filterTarget=S=>!S.isFreezed()}}class yS extends ml{constructor(A,M){const{DAMAGE:B,RADIUS:V}=jt.VARIANTS.TOWER_LAZER,k=new rf(A,{damage:B.clone(),maxDistance:V.clone()});super(A,{...M,variant:$t.TOWER_LAZER},k)}}class TS extends fs{constructor(A,M){super(A,{...M,variant:$t.WALL})}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y+=this.upgradeLevel===1?6:-2,A}}const SS={[$t.WALL]:TS,[$t.TOWER_FROZEN]:ES,[$t.TOWER_FIRE]:gS,[$t.TOWER_LAZER]:yS,[$t.TOWER_ELECTRO]:mS,[$t.GENERATOR]:vS,[$t.AMMUNITION]:dS,[$t.BOOSTER]:cS,[$t.RADAR]:pS};class AS extends Mt.Events.EventEmitter{constructor(A){super(),this._isBuild=!1,this.selectedBuilding=null,this.buildPreview=null,this.buildActionRadius=null,this.buildControls=null,this.buildings={},this._supposedPosition=null,this._variant=null,this.scene=A,this.handleKeyboard(),this.handlePointer(),this.handleTutorial()}get isBuild(){return this._isBuild}set isBuild(A){this._isBuild=A}get supposedPosition(){return this._supposedPosition}set supposedPosition(A){this._supposedPosition=A}get variant(){return this._variant}set variant(A){this._variant=A}destroy(){this.close(),this.removeAllListeners()}update(){try{this.isBuild&&(this.updateSupposedPosition(),this.updateBuildInstance())}catch(A){Ft.LogWarn("Failed to update builder",A)}}setBuildingVariant(A){if(!(this.variant===A||!zu.IsBuildingAllow(A))){if(!this.isBuildingAllowByWave(A)){gt.Screen.failure("BUILDING_WILL_BE_AVAILABLE",[jt.VARIANTS[A].MIN_WAVE]);return}if(this.isBuildingLimitReached(A)){gt.Screen.failure("BUILDING_LIMIT_REACHED",[Ot(`BUILDING_NAME_${A}`)]);return}if(this.scene.player.resources<jt.VARIANTS[A].COST){gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.isBuild?(this.destroyBuildInstance(),this.variant=A,this.createBuildInstance()):(this.variant=A,this.open()),this.emit(xn.BUILDING_SELECT),this.scene.fx.playSound(pi.SELECT)}}unsetBuildingVariant(){this.variant!==null&&(this.clearBuildingVariant(),this.emit(xn.BUILDING_UNSELECT),this.scene.fx.playSound(pi.UNSELECT))}clearBuildingVariant(){this.close(),this.variant=null}addFoundation(A){const M=this.scene.level.getBiome(se.RUBBLE);if(M)for(let B=A.y-1;B<=A.y+1;B++)for(let V=A.x-1;V<=A.x+1;V++){const k=this.scene.level.map.getAt({x:V,y:B});if(k&&k.solid&&k.type!==se.RUBBLE){const p=Array.isArray(M.tileIndex)?Mt.Math.Between(...M.tileIndex):M.tileIndex;this.scene.level.groundLayer.putTileAt(p,V,B),this.scene.level.map.replaceAt({x:V,y:B},M);const S=this.scene.level.getTileWithType({x:V,y:B,z:1},wi.SCENERY);S&&S.destroy(),this.scene.level.effectsOnGround.forEach(t=>{const u=De.ToMatrixPosition(t);Un(u,{x:V,y:B})&&t.destroy()})}}}isBuildingAllowByWave(A,M){const B=jt.VARIANTS[A].MIN_WAVE;return B?B<=(M??this.scene.wave.number):!0}getBuildingLimit(A){if(!jt.VARIANTS[A].LIMIT)return null;const M=jt.VARIANTS[A].MIN_WAVE,B=n0(M,this.scene.wave.number);return Math.min(B,jt.LIMITED_BOUND)}getBuildingsByVariant(A){return this.buildings[A]??[]}open(){this.isBuild||(this.isBuild=!0,this.scene.game.isDesktop()||(this.supposedPosition=this.scene.level.getFreeAdjacentTiles(this.scene.player.positionAtMatrix)[0]??this.scene.player.positionAtMatrix),this.createBuildInstance(),this.emit(xn.BUILD_START))}close(){this.isBuild&&(this.destroyBuildInstance(),this.isBuild=!1,this.supposedPosition=null,this.emit(xn.BUILD_STOP))}switchBuildingVariant(A){const M=Object.keys(jt.VARIANTS)[A];M&&(this.variant===M?this.unsetBuildingVariant():this.setBuildingVariant(M))}isAllowBuild(){if(!this.supposedPosition)return!1;const A=this.supposedPosition;return!(!this.scene.level.map.getAt(A)?.solid||!this.scene.level.isFreePoint({...A,z:1})||![this.scene.player,...this.scene.getEntities(Xt.ENEMY)].every(p=>p.getAllPositionsAtMatrix().every(S=>!Un(A,S))))}build(){if(!this.variant||!this.supposedPosition||!this.isAllowBuild())return;if(!this.hasTowerInArea()){gt.Screen.failure("BUILDING_NEAR_TOWER");return}if(this.isBuildingLimitReached(this.variant)){gt.Screen.failure("BUILDING_LIMIT_REACHED",[Ot(`BUILDING_NAME_${this.variant}`)]);return}const{variant:A}=this,{COST:M}=jt.VARIANTS[A];if(this.scene.player.resources<M){gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.createBuilding({variant:A,positionAtMatrix:this.supposedPosition,buildDuration:fS.BUILD_DURATION.getValue(this.scene.player.upgradeLevel[ge.BUILD_SPEED])}),this.scene.player.takeResources(M),this.scene.player.giveExperience(jt.EXPERIENCE_BUILD),this.scene.fx.playSound(pi.BUILD),this.scene.game.isDesktop()?this.isBuildingLimitReached(this.variant)&&this.clearBuildingVariant():this.clearBuildingVariant(),this.emit(xn.BUILD,A)}createBuilding(A){const M=SS[A.variant],B=new M(this.scene,{buildDuration:A.buildDuration,positionAtMatrix:A.positionAtMatrix});this.addFoundation(A.positionAtMatrix);let V=this.buildings[A.variant];return V?V.push(B):(V=[B],this.buildings[A.variant]=V),B.once(Mt.GameObjects.Events.DESTROY,()=>{if(V){const k=V.indexOf(B);k!==-1&&V.splice(k,1)}}),B}isBuildingLimitReached(A){const M=this.getBuildingLimit(A);return M?this.getBuildingsByVariant(A).length>=M:!1}createBuildPreview(){this.variant&&(this.buildPreview=this.scene.add.image(0,0,Pr[this.variant]),this.buildPreview.setOrigin(.5,jt.TILE.origin),this.buildPreview.addShader(En.OUTLINE,{size:3,color:16777215}))}createBuildActionRadius(){if(!this.variant)return;const A=jt.VARIANTS[this.variant].RADIUS?.defaultValue;if(A){const M=A*2;this.buildActionRadius=this.scene.add.ellipse(0,0,M,M*le.MAP_PERSPECTIVE),this.buildActionRadius.setFillStyle(16777215,.2)}}createBuildControls(){this.buildControls=this.scene.add.container(),this.buildControls.setDepth(Or.DEPTH_GRAPHIC);const A=this.scene.add.image(-2,0,fi.CONFIRM);A.setInteractive(),A.setOrigin(1,.5),A.on(Mt.Input.Events.POINTER_DOWN,B=>{B.reset(),this.build()});const M=this.scene.add.image(2,0,fi.DECLINE);M.setInteractive(),M.setOrigin(0,.5),M.on(Mt.Input.Events.POINTER_DOWN,()=>{this.unsetBuildingVariant()}),this.buildControls.add([A,M])}createBuildInstance(){this.createBuildPreview(),this.createBuildActionRadius(),this.scene.game.isDesktop()||this.createBuildControls(),this.updateBuildInstance()}updateBuildInstance(){if(!this.supposedPosition||!this.variant)return;const A=De.ToWorldPosition(this.supposedPosition),M=A.y+1,B=this.isAllowBuild(),V=!this.hasTowerInArea();if(this.buildPreview&&(this.buildPreview.setPosition(A.x,A.y),this.buildPreview.setDepth(M),this.buildPreview.setAlpha(B?1:.25),V&&this.buildPreview.setAlpha(.5)),this.buildActionRadius&&(this.buildActionRadius.setPosition(A.x,A.y),this.buildActionRadius.setVisible(B),this.buildActionRadius.setFillStyle(V?16711680:16777215,.2)),this.buildControls){const k=this.buildControls.getAt(0);this.buildControls.setPosition(A.x,A.y+jt.TILE.height),k.setTexture(B?fi.CONFIRM:fi.CONFIRM_DISABLED)}}hasTowerInArea(){if(!Gt.IsPending(Yt.BUILD_AMMUNITION))return!0;if(!this.supposedPosition||!this.variant)return!1;const A=jt.VARIANTS[this.variant].RADIUS?.defaultValue;if(!A)return!1;const M=De.ToWorldPosition(this.supposedPosition);return this.getBuildingsByVariant($t.TOWER_FIRE).some(B=>Xi(B.getBottomEdgePosition(),M)<A)}destroyBuildInstance(){this.buildPreview&&(this.buildPreview.destroy(),this.buildPreview=null),this.buildActionRadius&&(this.buildActionRadius.destroy(),this.buildActionRadius=null),this.buildControls&&(this.buildControls.destroy(),this.buildControls=null)}getCurrentPointer(){return gt.Screen.joystickActivePointer?.id===1?this.scene.input.pointer2:this.scene.input.pointer1}updateSupposedPosition(){let A;if(this.scene.game.isDesktop())A={x:this.scene.input.activePointer.worldX,y:this.scene.input.activePointer.worldY};else{if(this.scene.camera.isZooming())return;const M=this.getCurrentPointer();if(!M.active||M.event.target!==this.scene.game.canvas)return;M.updateWorldPoint(this.scene.cameras.main),A={x:M.worldX,y:M.worldY-le.MAP_TILE.height/this.scene.cameras.main.zoom}}this.supposedPosition=De.ToMatrixPosition(A)}handleKeyboard(){this.scene.game.isDesktop()&&this.scene.input.keyboard?.on(Mt.Input.Keyboard.Events.ANY_KEY_UP,A=>{Number(A.key)&&(this.switchBuildingVariant(Number(A.key)-1),A.preventDefault(),A.stopPropagation())})}handlePointer(){this.scene.game.isDesktop()&&this.scene.input.on(Mt.Input.Events.POINTER_UP,A=>{this.isBuild&&(A.button===0?this.build():A.button===2&&this.unsetBuildingVariant())})}handleTutorial(){let A=null;Gt.Bind(Yt.STOP_BUILD,{beg:()=>{A=this.scene.showHint({side:"top",label:"TUTORIAL_STOP_BUILD",position:()=>this.supposedPosition?De.ToWorldPosition({x:this.supposedPosition.x+1,y:this.supposedPosition.y+1}):{x:0,y:0}})},end:()=>{A&&(this.scene.hideHint(A),A=null)}}),Gt.Bind(Yt.BUILD_TOWER_FIRE,{beg:()=>{},end:()=>{this.clearBuildingVariant()}}),[Yt.BUILD_TOWER_FIRE,Yt.BUILD_GENERATOR,Yt.BUILD_GENERATOR_SECOND,Yt.BUILD_AMMUNITION,Yt.UPGRADE_BUILDING].forEach(M=>{Gt.Bind(M,{beg:()=>{this.scene.setTimePause(!0)},end:()=>{this.scene.setTimePause(!1)}})})}}const CS={ZOOM:{SMALL:{MIN:.5,MAX:2,DEFAULT:1},LARGE:{MIN:1,MAX:2,DEFAULT:2}}};class RS{constructor(A){this.scene=A,this.camera=this.scene.cameras.main}shake(){this.camera.shake(100,5e-4)}focusOn(A){this.camera.resetFX(),this.camera.startFollow(A),this.camera.followOffset.set(0,A.displayHeight);const M=this.getZoomParams();this.camera.setZoom(M.DEFAULT*2),this.camera.zoomTo(M.DEFAULT,200)}getZoomParams(){const A=this.scene.game.canvas.height>=700?"LARGE":"SMALL";return CS.ZOOM[A]}focusOnLevel(){const A=this.scene.level.size-1,M=De.ToWorldPosition({x:0,y:A},0),B=De.ToWorldPosition({x:A,y:0},0),V=this.getZoomParams();this.camera.resetFX(),this.camera.setZoom(V.MAX),setTimeout(()=>{this.camera.centerOn(M.x+this.scene.game.canvas.width/2,M.y),this.camera.pan(B.x-this.scene.game.canvas.width/2,B.y,2*60*1e3)},0)}addZoomControl(){this.scene.game.isDesktop()?this.scene.input.on(Mt.Input.Events.POINTER_WHEEL,A=>{const M=A.deltaY/500;this.updateZoom(M)}):this.scene.input.on(Mt.Input.Events.POINTER_MOVE,()=>{if(!this.isZooming())return;const A=Us({x:this.scene.input.pointer1.downX,y:this.scene.input.pointer1.downY},{x:this.scene.input.pointer2.downX,y:this.scene.input.pointer2.downY}),M=Us(this.scene.input.pointer1.position,this.scene.input.pointer2.position),B=(A-M)/2e3;this.updateZoom(B)})}isZooming(){return gt.Screen.isJoystickUsing()?!1:this.scene.input.pointer1.isDown&&this.scene.input.pointer2.isDown}updateZoom(A){const M=this.getZoomParams(),B=Math.round((this.camera.zoom-A)*50)/50,V=Math.min(M.MAX,Math.max(M.MIN,B));this.camera.zoomTo(V,10)}}var cr=(L=>(L.BLOOD="effect/blood",L.SMOKE="effect/smoke",L.DAMAGE="effect/damage",L.EXPLOSION="effect/explosion",L))(cr||{}),of=(L=>(L.EXPLOSION="effect/explosion",L))(of||{}),Ni=(L=>(L.BIT="effect/bit",L.BIT_SOFT="effect/bit_soft",L.GLOW="effect/glow",L.PLUS="effect/plus",L))(Ni||{});ce.RegisterAudio(of);ce.RegisterSprites(cr,{width:32,height:32});class Ko extends Mt.GameObjects.Sprite{constructor(A,{texture:M,position:B,staticFrame:V,depth:k,rate:p=16}){super(A,B.x,B.y,M,V??0),A.add.existing(this),k&&this.setDepth(k),V===void 0&&(this.anims.create({key:"effect",frames:this.anims.generateFrameNumbers(M,{}),frameRate:p}),this.anims.play("effect"),this.on("animationcomplete",()=>{this.destroy()}))}}ce.RegisterImages(Ni);class nn{constructor(A,{key:M,position:B,texture:V,params:k,depth:p,attach:S}){this.scene=A.scene,this.parent=A,this.key=M,this.parent.effects?this.parent.effects[this.key]&&this.parent.effects[this.key].destroy():this.parent.effects={},this.parent.effects[this.key]=this,this.emitter=this.scene.add.particles(B?.x??0,B?.y??0,V,{...k,follow:S?A:void 0}),this.emitter.setDepth(p??A.depth+1),this.destroy=this.destroy.bind(this),this.update=this.update.bind(this),this.parent.once(Phaser.GameObjects.Events.DESTROY,this.destroy),S&&p===void 0&&this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update),k.duration&&this.emitter.once(Phaser.GameObjects.Particles.Events.COMPLETE,this.destroy)}destroy(){delete this.parent.effects?.[this.key],this.emitter.destroy(),this.parent.off(Phaser.GameObjects.Events.DESTROY,this.destroy),this.scene.events.off(Phaser.Scenes.Events.UPDATE,this.update)}update(){try{this.emitter.setDepth(this.parent.depth+1)}catch(A){Ft.LogWarn("Failed to update particles",A)}}}class os{constructor(A){this.scene=A}playSound(A,M={}){try{const B=Array.isArray(A)?A:[A];if(M.limit&&B.reduce((p,S)=>p+this.scene.sound.getAll(S).length,0)>=M.limit)return;const V=Phaser.Utils.Array.GetRandom(B);this.scene.sound.play(V,M)}catch(B){Ft.LogWarn("Failed to play sound",B)}}createDustEffect(A){return this.isEffectsEnabled()?new nn(A,{key:"dust",texture:Ni.BIT,depth:0,attach:!0,params:{followOffset:{x:0,y:-A.gamut*A.scaleY*.5},lifespan:{min:150,max:300},scale:.6,speed:10,frequency:150,alpha:{start:1,end:0},emitting:!1}}):null}createBloodEffect(A){if(!A.active||!pe.GetFlag(Zt.BLOOD)||!this.isEffectsEnabled()||os.IsExist(A,"blood"))return null;const M=Math.min(2,A.displayWidth/22);return new nn(A,{key:"blood",texture:Ni.BIT_SOFT,attach:!0,params:{duration:250,followOffset:A.getBodyOffset(),lifespan:{min:100,max:250},scale:{start:M,end:M*.25},speed:60,maxAliveParticles:6,tint:14491166}})}createFrozeEffect(A){if(!A.active||!this.isEffectsEnabled()||os.IsExist(A,"froze"))return null;const M=Math.min(400,A.displayWidth*8);return new nn(A,{key:"froze",texture:Ni.BIT_SOFT,attach:!0,params:{duration:M,followOffset:A.getBodyOffset(),color:[16777215,9239039,62207],colorEase:"quad.out",lifespan:{min:M/2,max:M},scale:{start:1,end:.5},speed:80}})}createFireEffect(A){if(!A.active||!this.isEffectsEnabled()||os.IsExist(A,"fire"))return null;const M=A.displayWidth*6,B=Math.min(2,A.displayWidth/22);return new nn(A,{key:"fire",texture:Ni.BIT_SOFT,attach:!0,params:{duration:M,followOffset:A.getBodyOffset(),color:[16436258,16291840,16266752,10421252],colorEase:"quad.out",lifespan:{min:M/2,max:M},scale:{start:B,end:B*.2},alpha:{start:1,end:0},speed:80}})}createLongFireEffect(A,M){if(!A.active||!this.isEffectsEnabled())return null;const B=A.displayWidth*25;return new nn(A,{key:"long-fire",texture:Ni.BIT_SOFT,attach:!0,params:{followOffset:A.getBodyOffset(),duration:M.duration,color:[16436258,16291840,16266752,10421252],colorEase:"quad.out",lifespan:{min:B/2,max:B},alpha:{start:1,end:0},angle:{min:-100,max:-80},scale:{start:A.displayWidth/20,end:1,ease:"sine.out"},speed:40,advance:10}})}createLazerEffect(A){if(!A.active||!this.isEffectsEnabled()||os.IsExist(A,"lazer"))return null;const M=A.displayWidth*5,B=Math.min(2.25,A.displayWidth/18);return new nn(A,{key:"lazer",texture:Ni.BIT_SOFT,attach:!0,params:{duration:M,followOffset:A.getBodyOffset(),lifespan:{min:M/2,max:M},scale:{start:B,end:B*.2},alpha:{start:1,end:0},speed:80,tint:11613951}})}createElectroEffect(A){if(!A.active||!this.isEffectsEnabled()||os.IsExist(A,"electro"))return null;const M=Math.min(500,A.displayWidth*12),B=Math.min(2.25,A.displayWidth/18);return new nn(A,{key:"electro",texture:Ni.BIT,attach:!0,params:{duration:M,followOffset:A.getBodyOffset(),lifespan:{min:M/2,max:M},scale:{start:B,end:B*.2},alpha:{start:.75,end:0},speed:120,maxParticles:6,tint:13232093}})}createGlowEffect(A,M){return!A.active||!this.isEffectsEnabled()?null:new nn(A,{key:"glow",texture:Ni.GLOW,attach:!0,params:{scale:.2*A.scale,alpha:{start:1,end:0},lifespan:2e4/M.speed,frequency:1e4/M.speed,tint:M.color,blendMode:"ADD"}})}createSpawnEffect(A){if(!this.isEffectsEnabled())return null;const M=Math.min(700,A.displayHeight*17),B=A.displayWidth/16;return new nn(A,{key:"spawn",texture:Ni.BIT_SOFT,position:{x:A.x,y:A.body.y},depth:A.depth-1,params:{duration:M,lifespan:{min:M/2,max:M},scale:{start:B,end:B/2},alpha:{start:1,end:0},speed:40,quantity:1,tint:0}})}createHealEffect(A){if(!this.isEffectsEnabled()||os.IsExist(A,"heal"))return null;const M=A instanceof fs,B=M?A.getTopEdgePosition():void 0;return new nn(A,{key:"heal",texture:Ni.PLUS,attach:!M,position:B&&{x:B.x,y:B.y-12},params:{followOffset:M?void 0:{x:0,y:-A.displayHeight},duration:500,lifespan:500,alpha:{start:1,end:0},angle:{min:-110,max:-70},scale:{start:1,end:.5},speed:20,maxAliveParticles:1}})}createGenerationEffect(A){return this.isEffectsEnabled()?new nn(A,{key:"generate",texture:Ni.BIT,position:A.getTopEdgePosition(),depth:A.depth+1,params:{duration:300,lifespan:{min:100,max:200},scale:{start:1,end:.5},alpha:{start:1,end:0},speed:60,maxAliveParticles:8,tint:3014578}}):null}createExplosionEffect(A){return this.isEffectsEnabled()?new Ko(this.scene,{texture:cr.EXPLOSION,position:A.body.center,depth:A.depth+1}):null}createBloodStainEffect(A){return!this.isEffectsEnabled()||!pe.GetFlag(Zt.BLOOD)?null:new Ko(this.scene,{texture:cr.BLOOD,position:A,staticFrame:Phaser.Math.Between(0,3)})}createDamageEffect(A){return this.isEffectsEnabled()?new Ko(this.scene,{texture:cr.DAMAGE,position:A.getTopEdgePosition(),depth:A.depth+1,rate:14}):null}createSmokeEffect(A){return this.isEffectsEnabled()?new Ko(this.scene,{texture:cr.SMOKE,position:A.getBottomEdgePosition(),depth:A.depth+1,rate:18}):null}isEffectsEnabled(){return this.scene.game.isSettingEnabled(ei.EFFECTS)}static IsExist(A,M){return!!A.effects?.[M]}}const LS=at.div`
  display: inline-block;
  background: ${xt.BLACK_TRANSPARENT_75};
  border-radius: 5px;
  padding: 6px 8px;
  transform: translate(-50%, -50%);
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 5px 6px;
  }
`,PS=({position:L,value:A,onHide:M})=>{const B=mt.useRef(null);return mt.useEffect(()=>{let V=null;const k=setTimeout(()=>{V=setInterval(()=>{const p=B.current;if(!p)return;const S=p.style.opacity?parseFloat(p.style.opacity):1;S===0?M():p.style.opacity=String(S-.05)},50)},500);return()=>{clearTimeout(k),V&&clearInterval(V)}},[]),_.jsx(Rt.RelativePosition,{x:L.x,y:L.y,children:_.jsx(Rt.RelativeScale,{...yt.SCALE,children:_.jsx(LS,{ref:B,children:_.jsx(Ia,{type:"RESOURCES",value:`+${A}`})})})})},IS=()=>{const[L,A]=mt.useState({}),M=(V,k)=>{A(p=>({...p,[Er()]:{position:{x:V.x,y:V.y},value:k}}))},B=V=>{A(k=>{if(!k[V])return k;const p={...k};return delete p[V],p})};return mt.useEffect(()=>{const V=gt.World.getEntitiesGroup(Xt.CRYSTAL);return V.on(Ta.PICKUP,M),()=>{V.off(Ta.PICKUP,M)}},[]),Object.entries(L).map(([V,k])=>_.jsx(PS,{position:k.position,value:k.value,onHide:()=>B(V)},V))},Nu=at.div`
  letter-spacing: 1px;
  white-space: nowrap;
  font-size: 11px;
  line-height: 11px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 13px;
    line-height: 13px;
  }
`,wu=at.div`
  transform: scale(0.9);
  margin: 0 -2px -1px 6px;
  @media ${yt.BREAKPOINT.MOBILE} {
    transform: scale(1.25);
    margin: 0 2px -1px 6px;
  }
`,Pp=at.div`
  padding: 1px 2px 1px 3px;
  margin: 0 8px 0 -3px;
  font-size: 9px;
  line-height: 9px;
  border: 1px solid #ffffffaa;
  background: ${xt.BLACK};
  border-radius: 2px;
`,OS=at.div`
  pointer-events: all;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-radius: 5px;
  @media ${yt.BREAKPOINT.DESKTOP} {
    transform: translateX(-50%);
    padding: 6px 9px;
    ${L=>L.$disabled?zt`
      background: ${xt.BLACK_TRANSPARENT_50};
      ${Nu}, ${wu}, ${Pp} {
        opacity: 0.7;
      }
    `:zt`
      background: ${xt.BLACK_TRANSPARENT_75};
      &:hover {
        cursor: pointer;
        background: ${xt.BLACK};
      }
    `}
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    background: ${xt.BLACK};
    padding: 14px 15px;
    ${L=>L.$disabled&&zt`
      background: ${xt.BLACK_TRANSPARENT_50};
      ${Nu}, ${wu} {
        opacity: 0.5;
      }
    `}
  }
`,MS=({control:L})=>{const A=Rt.useMobilePlatform(),M=mt.useRef(null);return Rt.useClick(M,"down",()=>{L.onClick()},[L.onClick]),_.jsxs(OS,{ref:M,$disabled:L.disabled,children:[_.jsxs(ae,{direction:"horizontal",align:"center",children:[!A&&_.jsx(Pp,{children:L.hotkey}),_.jsx(Nu,{children:Ot(L.label)})]}),!!L.cost&&_.jsx(wu,{children:_.jsx(Ia,{type:"RESOURCES",value:L.cost})})]})},DS=at.div`
  display: flex;
  flex-direction: column;
  @media ${yt.BREAKPOINT.DESKTOP} {
    margin-top: 50px;
    position: absolute;
    left: 50%;
    gap: 3px;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0 16px 14px 16px;
    gap: 5px;
  }
`,NS=({list:L})=>_.jsx(DS,{children:L.map(A=>_.jsx(MS,{control:A},A.label))}),wS=at.div`
  margin-top: 15px;
  display: grid;
  grid-gap: 3px;
  grid-template-columns: repeat(2, 1fr);
  @media ${yt.BREAKPOINT.MOBILE} {
    grid-template-columns: 1fr;
  }
`,FS=at.div`
  display: flex;
  align-items: center;
  background: ${xt.BLACK_TRANSPARENT_50};
  border-radius: 5px;
  overflow: hidden;
`,BS=at.div`
  width: 32px;
  height: 32px;
  background: ${xt.BLACK_TRANSPARENT_75};
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
  flex-shrink: 0;
  [role=texture] {
    width: 15px;
    height: 15px;
  }
`,US=at.div`
  padding: 2px 5px;
  color: ${L=>L.$attention?Ae.WARN:"#fff"};
`,GS=at.div`
  font-size: 9px;
  line-height: 9px;
  opacity: 0.75;
  margin: -1px 0 3px 0;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 8px;
    line-height: 8px;
    margin: -2px 0 3px 0;
  }
`,VS=at.div`
  font-family: ${ie.PIXEL_LABEL};
  font-size: 11px;
  line-height: 11px;
`,bS=({list:L})=>_.jsx(wS,{children:L.map(A=>_.jsxs(FS,{children:[_.jsx(BS,{children:_.jsx(Rt.Texture,{name:A.icon})}),_.jsxs(US,{$attention:A.attention,children:[_.jsx(GS,{children:Ot(A.label)}),_.jsx(VS,{children:A.value})]})]},A.label))}),zS=at.div`
  @media ${yt.BREAKPOINT.DESKTOP} {
    width: 250px;
    position: absolute;
    transform: translate(-50%, -100%);
    margin-top: -15px;
    &::after {
      position: absolute;
      content: "";
      bottom: 0;
      left: 50%;
      transform: translate(-50%, 100%);
      border-left: 12px solid transparent;
      border-right: 12px solid transparent;
      border-top: 15px solid ${xt.BLACK_TRANSPARENT_50};
    }
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    pointer-events: all;
    width: 200px;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    background: ${xt.BLACK_TRANSPARENT_75};
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
`,WS=at.div`
  overflow: hidden;
  /* backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0); */
  @media ${yt.BREAKPOINT.DESKTOP} {
    border-radius: 10px;
  }
`,YS=at.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 16px;
  background: ${xt.BLACK};
`,XS=at.div`
  padding: 16px;
  @media ${yt.BREAKPOINT.DESKTOP} {
    background: ${xt.BLACK_TRANSPARENT_50};
  }
`,HS=at.div`
  font-family: ${ie.PIXEL_LABEL};
  color: ${Ae.SUCCESS};
  font-size: 14px;
  line-height: 14px;
`,Fu=at.div`
  display: flex;
  gap: 5px;
`;Fu.Progress=at.div`
  flex: 1;
  height: 12px;
  transition: all 0.2s ease-out;
  background: ${xt.BLACK};
  box-shadow: 0 6px 0 #222 inset;
  ${L=>L.$active&&zt`
    background: ${xt.SUCCESS};
    box-shadow: 0 6px 0 ${xt.WHITE_TRANSPARENT_15} inset;
  `}
`;const Ea=at.div`
  background: ${xt.BLACK};
  position: relative;
  margin-bottom: 6px;
`;Ea.Progress=at.div`
  height: 14px;
  background: ${xt.ERROR};
  box-shadow: 0 7px 0 ${xt.WHITE_TRANSPARENT_15} inset;
  transition: width 0.3s ease-out;
`;Ea.Value=at.div`
  position: absolute;
  font-family: ${ie.PIXEL_LABEL};
  font-size: 10px;
  line-height: 10px;
  text-shadow: 1px 1px 0 #000;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  text-align: center;
  padding-bottom: 2px;
`;const Ip=({building:L})=>{const[A,M]=mt.useState(1),[B,V]=mt.useState(1),[k,p]=mt.useState(1),[S,t]=mt.useState([]),[u,v]=mt.useState([]),o=mt.useMemo(()=>Array.from({length:jt.VARIANTS[L.variant].MAX_LEVEL}),[L]);return Rt.useSceneUpdate(gt.World,()=>{L.active&&(M(L.upgradeLevel),V(L.live.health),p(L.live.maxHealth),t(Rt.ifModifiedArray(L.getInfo(),["value","attention"])),v(Rt.ifModifiedArray(L.getControls(),["label","cost","disabled"])))},[L]),mt.useEffect(()=>{v(L.getControls())},[L]),_.jsxs(zS,{children:[_.jsxs(WS,{children:[_.jsx(YS,{children:_.jsx(HS,{children:Ot(`BUILDING_NAME_${L.variant}`)})}),_.jsxs(XS,{children:[_.jsxs(Ea,{children:[_.jsx(Ea.Progress,{style:{width:`${B/k*100}%`}}),_.jsx(Ea.Value,{children:`${B} HP`})]}),_.jsx(Fu,{children:o.map((r,s)=>_.jsx(Fu.Progress,{$active:s<A},s))}),S.length>0&&_.jsx(bS,{list:S})]})]}),_.jsx(NS,{list:u})]})},KS=at.div`
  position: relative;
  height: 100%;
  z-index: ${hs.TRANSLATOR};
`,$S=({building:L})=>{const A=Rt.useRelativeScale(yt.SCALE);return _.jsx(KS,{ref:A,children:_.jsx(Ip,{building:L})})},jS=()=>{const L=Rt.useMatchMedia(yt.BREAKPOINT.MOBILE),[A,M]=mt.useState(null),B=k=>{M(k)},V=()=>{M(null)};return mt.useEffect(()=>(gt.World.events.on(Ye.SELECT_BUILDING,B),gt.World.events.on(Ye.UNSELECT_BUILDING,V),()=>{gt.World.events.off(Ye.SELECT_BUILDING,B),gt.World.events.off(Ye.UNSELECT_BUILDING,V)}),[]),A&&(L?_.jsx($S,{building:A}):_.jsx(Rt.RelativePosition,{x:A.x,y:A.getTopEdgePosition().y,children:_.jsx(Rt.RelativeScale,{...yt.SCALE,children:_.jsx(Ip,{building:A})})}))},kS=at.div`
  position: absolute;
`,ZS=({label:L,side:A,position:M})=>{const[B,V]=mt.useState(M),k=mt.useRef();return Rt.useSceneUpdate(gt.World,()=>{if(typeof M=="function"){const p=M();(!k.current||!Un(p,k.current))&&(k.current=p,V(p))}},[]),_.jsx(Rt.RelativePosition,{x:B.x,y:B.y,children:_.jsx(kS,{children:_.jsx(Rt.RelativeScale,{...yt.SCALE,children:_.jsx(Pa,{label:L,side:A})})})})},QS=()=>{const[L,A]=mt.useState({}),M=(V,k)=>{A(p=>({...p,[V]:k}))},B=V=>{A(k=>{if(!k[V])return k;const p={...k};return delete p[V],p})};return mt.useEffect(()=>(gt.World.events.on(Ye.SHOW_HINT,M),gt.World.events.on(Ye.HIDE_HINT,B),()=>{gt.World.events.off(Ye.SHOW_HINT,M),gt.World.events.off(Ye.HIDE_HINT,B)}),[]),Object.entries(L).map(([V,k])=>_.jsx(ZS,{...k},V))},Op=()=>_.jsxs(_.Fragment,{children:[_.jsx(jS,{}),_.jsx(QS,{}),_.jsx(IS,{})]});Op.displayName="WorldUI";var lf=(L=>(L.ROAR="enemy/roar",L))(lf||{}),al=(L=>(L.SPIKE="enemy/spike",L.RISPER="enemy/risper",L.SWOOSH="enemy/swoosh",L.DEMON="enemy/demon",L.UNDEAD="enemy/undead",L.TANK="enemy/tank",L.BOSS="enemy/boss",L.GHOST="enemy/ghost",L.TERMER="enemy/termer",L.BERSERK="enemy/berserk",L.EXPLOSIVE="enemy/explosive",L.STRANGER="enemy/stranger",L.ADHERENT="enemy/adherent",L.TELEPATH="enemy/telepath",L.HORKER="enemy/horker",L))(al||{}),kt=(L=>(L.SPIKE="SPIKE",L.RISPER="RISPER",L.SWOOSH="SWOOSH",L.DEMON="DEMON",L.UNDEAD="UNDEAD",L.TANK="TANK",L.BOSS="BOSS",L.GHOST="GHOST",L.TERMER="TERMER",L.BERSERK="BERSERK",L.EXPLOSIVE="EXPLOSIVE",L.STRANGER="STRANGER",L.ADHERENT="ADHERENT",L.TELEPATH="TELEPATH",L.HORKER="HORKER",L))(kt||{}),be=(L=>(L.SMALL="SMALL",L.MEDIUM="MEDIUM",L.LARGE="LARGE",L))(be||{});const JS={[kt.ADHERENT]:{SIZE:be.SMALL,MULTIPLIERS:{health:.7,damage:.3,speed:.9,might:.5}},[kt.BERSERK]:{SIZE:be.MEDIUM,REGENERATION:{PAUSE:1e3,HEALTH_MULTIPLIER:.1},SPAWN_RANGE:[16],MULTIPLIERS:{health:2,damage:1,speed:.7,might:1.7}},[kt.BOSS]:{SIZE:be.LARGE,SPAWN_WAVE_RATE:5,SCORE:10,ARMOUR_MIN_WAVE:25,MULTIPLIERS:{health:8,damage:1,speed:.5,might:5}},[kt.DEMON]:{SIZE:be.SMALL,SPAWN_RANGE:[1,5],MULTIPLIERS:{health:.6,damage:.3,speed:.8,might:.5}},[kt.EXPLOSIVE]:{SIZE:be.MEDIUM,EXPLOSION:{RADIUS:70,EFFECT_DURATION:1e3,EFFECT_COLOR:16711680},SPAWN_RANGE:[7],MULTIPLIERS:{health:1.2,damage:.4,speed:.5,might:1.2}},[kt.GHOST]:{SIZE:be.MEDIUM,SPAWN_RANGE:[8],MULTIPLIERS:{health:1.5,damage:.7,speed:.8,might:1.5}},[kt.RISPER]:{SIZE:be.SMALL,SPAWN_RANGE:[3,9],MULTIPLIERS:{health:.9,damage:.5,speed:1.1,might:.8}},[kt.SWOOSH]:{SIZE:be.MEDIUM,SPAWN_RANGE:[22],MULTIPLIERS:{health:2,damage:.7,speed:1.4,might:1.8}},[kt.SPIKE]:{SIZE:be.SMALL,SPAWN_RANGE:[2,7],MULTIPLIERS:{health:1.1,damage:.4,speed:.8,might:.7}},[kt.HORKER]:{SIZE:be.MEDIUM,SPAWN_RANGE:[28],MULTIPLIERS:{health:3,damage:1,speed:.9,might:1.6}},[kt.STRANGER]:{SIZE:be.MEDIUM,SPAWN_RANGE:[11],MULTIPLIERS:{health:1.5,damage:.8,speed:.7,might:1}},[kt.TANK]:{SIZE:be.MEDIUM,SPAWN_RANGE:[6],MULTIPLIERS:{health:1.8,damage:.6,speed:.7,might:1.5}},[kt.TELEPATH]:{SIZE:be.MEDIUM,REGENERATION:{RADIUS:100,EFFECT_DURATION:500,EFFECT_COLOR:7333863},SPAWN_RANGE:[13],MULTIPLIERS:{health:1.6,damage:1,speed:.8,might:1.6}},[kt.TERMER]:{SIZE:be.MEDIUM,SPAWN_RANGE:[18],MULTIPLIERS:{health:2.8,damage:1,speed:.8,might:1.4}},[kt.UNDEAD]:{SIZE:be.SMALL,SPAWN_RANGE:[4,10],MULTIPLIERS:{health:1.5,damage:.5,speed:.7,might:.9}}},Ke={PATH_BREAKPOINT:32,VARIANTS:JS,HEALTH:new Bt.Quadratic({defaultValue:60,growth:.35,retardationLevel:10}),ARMOUR:new Bt.Quadratic({defaultValue:60,growth:.35,retardationLevel:10}),SPEED:new Bt.Quadratic({defaultValue:65,growth:.05,maxLevel:16}),DAMAGE:new Bt.Linear({defaultValue:90,growth:.32,maxLevel:30}),EXPERIENCE_PER_KILL:new Bt.Linear({defaultValue:10,growth:.28})},Mp={[be.SMALL]:{width:16,height:24,gamut:4},[be.MEDIUM]:{width:32,height:40,gamut:6},[be.LARGE]:{width:64,height:80,gamut:12}};ce.RegisterAudio(lf);ce.RegisterSprites(al,L=>{const A=Object.values(kt).find(B=>al[B]===L),M=A?Ke.VARIANTS[A].SIZE:be.MEDIUM;return Mp[M]});class xi extends Lp{constructor(A,{variant:M,...B}){const V=al[M],k=Ke.VARIANTS[M].MULTIPLIERS;super(A,{...B,texture:V,pathFindTriggerDistance:Ke.PATH_BREAKPOINT,seesInvisibleTarget:!1,health:Ke.HEALTH.getValue(A.wave.number)*k.health*A.game.getDifficultyMultiplier(),speed:Ke.SPEED.getValue(A.wave.number)*k.speed,body:{...Mp[Ke.VARIANTS[M].SIZE],type:"circle"}}),this.damageTimer=null,this.isOverlapTarget=!1,this.damageLabel=null,this.damageLabelTween=null,this.freezeEffectTimer=null,A.addEntityToGroup(this,Xt.ENEMY),this.damage=Ke.DAMAGE.getValue(this.scene.wave.number)*k.damage*A.game.getDifficultyMultiplier(),this.score=Ke.VARIANTS[M].SCORE??1,this.might=k.might,this.addDamageLabel(),this.addIndicator("health",{color:16727357,value:()=>this.live.health/this.live.maxHealth}),this.handlePlayerSuperskill();const p=this.scene.player.activeSuperskills[si.FROST];if(p){const S=p.getRemaining();setTimeout(()=>{this.freeze(S)},0)}this.setTilesCollision([wi.BUILDING],S=>{S instanceof fs&&(this.scene.player.activeSuperskills[si.SHIELD]||this.attack(S))}),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.removeDamageLabel(),this.freezeEffectTimer&&this.freezeEffectTimer.destroy(),this.damageTimer&&this.scene.removeProgression(this.damageTimer)})}get damage(){return this._damage}set damage(A){this._damage=A}update(){super.update();try{this.isOverlapTarget?this.setVelocity(0,0):this.isPathPassed&&this.moveTo(this.scene.player.getBottomEdgePosition()),this.isOverlapTarget=!1}catch(A){Ft.LogWarn("Failed to update enemy",A)}}overlapTarget(){this.isOverlapTarget=!0}attack(A){this.isCalm()||!this.active||!A.active||(this.calm(1e3),A.live.damage(this.damage))}freeze(A){this.active&&(this.calm(A),this.scene.fx.createFrozeEffect(this),this.freezeEffectTimer?this.freezeEffectTimer.elapsed=0:(this.setTint(62207),this.freezeEffectTimer=this.scene.time.delayedCall(A,()=>{this.clearTint(),this.freezeEffectTimer=null})))}isFreezed(){return this.isCalm()&&!!this.freezeEffectTimer}addDamageLabel(){this.damageLabel=this.scene.add.text(0,0,"",{fontSize:"6px",fontFamily:ie.PIXEL_TEXT,align:"center",color:"#fff",resolution:2}),this.damageLabel.setOrigin(.5,.5),this.damageLabel.setDepth(Or.DEPTH_GRAPHIC),this.damageLabel.setActive(!1),this.damageLabel.setVisible(!1)}updateDamageLabel(A){this.damageLabel&&(this.damageLabel.setText(Math.round(A).toString()),this.damageLabel.setPosition(this.body.center.x,this.body.center.y),this.damageLabel.setActive(!0),this.damageLabel.setVisible(!0),this.damageLabel.setAlpha(1),this.damageLabelTween?this.damageLabelTween.reset():this.damageLabelTween=this.scene.tweens.add({targets:this.damageLabel,alpha:{from:1,to:0},duration:1e3,delay:250,onComplete:()=>{this.damageLabel&&(this.active?(this.damageLabel.setActive(!1),this.damageLabel.setVisible(!1)):(this.damageLabel.destroy(),this.damageLabel=null)),this.damageLabelTween&&(this.damageLabelTween.destroy(),this.damageLabelTween=null)}}))}removeDamageLabel(){this.damageLabel&&!this.damageLabelTween&&(this.damageLabel.destroy(),this.damageLabel=null)}onDamage(A){this.scene.game.isSettingEnabled(ei.SHOW_DAMAGE)&&this.updateDamageLabel(A),super.onDamage(A)}onDead(){const A=Ke.EXPERIENCE_PER_KILL.getValue(this.scene.wave.number)*this.might;this.scene.player.giveExperience(A),this.scene.player.giveScore(this.score),this.scene.player.incrementKills(),this.addBloodEffect(),super.onDead()}addOngoingDamage(A,M){this.damageTimer=this.scene.addProgression({duration:M,onProgress:(B,V)=>{this.live.damage(A/V)},onComplete:()=>{this.damageTimer=null}})}addBloodEffect(){if(!this.currentBiome?.solid)return;const A=this.getBottomEdgePosition(),M=this.scene.fx.createBloodStainEffect(A);M&&(M.setAlpha(.8),this.scene.level.effectsOnGround.push(M))}handlePlayerSuperskill(){const A=M=>{const B=this.scene.player.activeSuperskills[M];if(!B)return;const V=B.getRemaining();switch(M){case si.FROST:{this.freeze(V);break}case si.FIRE:{const k=Ke.HEALTH.getValue(this.scene.wave.number)*(ze.SUPERSKILLS.TYPES[M].force??1);this.scene.fx.createLongFireEffect(this,{duration:V}),this.addOngoingDamage(k,V);break}}};this.scene.events.on(xe.USE_SUPERSKILL,A),this.once(Mt.GameObjects.Events.DESTROY,()=>{this.scene.events.off(xe.USE_SUPERSKILL,A)})}}class qS extends xi{constructor(A,M){super(A,{...M,variant:kt.ADHERENT})}}const Lv=Ke.VARIANTS.BERSERK;class _S extends xi{constructor(A,M){super(A,{...M,variant:kt.BERSERK}),this.healAmount=0,this.healAmount=Math.ceil(this.live.maxHealth*Lv.REGENERATION.HEALTH_MULTIPLIER),this.healDelay=new un(this.scene)}update(){super.update();try{this.heal()}catch(A){Ft.LogWarn("Failed to update berserk enemy",A)}}heal(){!this.live.isMaxHealth()&&this.healDelay.isPast()&&(this.live.heal(this.healAmount),this.healDelay.next(Lv.REGENERATION.PAUSE))}}const Pv=Ke.VARIANTS.BOSS;class tA extends xi{constructor(A,M){if(super(A,{...M,variant:kt.BOSS}),this.scene.wave.number>=Pv.ARMOUR_MIN_WAVE){const B=Ke.ARMOUR.getValue(this.scene.wave.number)*Pv.MULTIPLIERS.health*A.game.getDifficultyMultiplier();this.live.setMaxArmour(B),this.live.setArmour(B),this.addIndicator("armour",{color:54527,value:()=>this.live.armour/this.live.maxArmour,destroyIf:V=>V===0})}}onDead(){this.scene.fx.playSound(lf.ROAR),super.onDead()}}class eA extends xi{constructor(A,M){super(A,{...M,variant:kt.DEMON})}}const ca=Ke.VARIANTS.EXPLOSIVE;class iA extends xi{constructor(A,M){super(A,{...M,variant:kt.EXPLOSIVE})}onDead(){this.createExplosion(),super.onDead()}createExplosion(){const A=this.getBottomEdgePosition(),M=ca.EXPLOSION.RADIUS*2,B=this.scene.add.ellipse(A.x,A.y,M,M*le.MAP_PERSPECTIVE);B.setFillStyle(ca.EXPLOSION.EFFECT_COLOR,.25),this.scene.tweens.add({targets:B,alpha:0,duration:ca.EXPLOSION.EFFECT_DURATION,onComplete:()=>{B.destroy()}}),this.scene.fx.createExplosionEffect(this),this.scene.fx.playSound(of.EXPLOSION);let V=[this.scene.player];V=V.concat(this.scene.getEntities(Xt.ENEMY)),V=V.concat(this.scene.getEntities(Xt.BUILDING)),V.forEach(k=>{if(k.active&&k!==this){const p=Xi(A,k.getBottomEdgePosition());if(p<=ca.EXPLOSION.RADIUS){const S=Math.min(1,.5+(1-p/ca.EXPLOSION.RADIUS));k.live.damage(this.damage*S)}}})}}class nA extends xi{constructor(A,M){super(A,{...M,variant:kt.GHOST}),this.setAlpha(.5)}update(){super.update();try{this.updateVisible()}catch(A){Ft.LogWarn("Failed to update ghost enemy",A)}}updateVisible(){const A=this.scene.builder.getBuildingsByVariant($t.RADAR).some(M=>M.actionsAreaContains(this));this.setAlpha(A?1:.5)}}class sA extends xi{constructor(A,M){super(A,{...M,variant:kt.HORKER})}}class rA extends xi{constructor(A,M){super(A,{...M,variant:kt.RISPER})}}class aA extends xi{constructor(A,M){super(A,{...M,variant:kt.SPIKE})}}class oA extends xi{constructor(A,M){super(A,{...M,variant:kt.STRANGER})}onDead(){this.spawnAdherents(),super.onDead()}spawnAdherents(){const A=Dp[kt.ADHERENT];[{x:0,y:-10},{x:5,y:5},{x:-5,y:5}].forEach(B=>{new A(this.scene,{positionAtWorld:{x:this.x+B.x,y:this.y+B.y}})})}}class lA extends xi{constructor(A,M){super(A,{...M,variant:kt.SWOOSH})}}class hA extends xi{constructor(A,M){super(A,{...M,variant:kt.TANK});const B=Ke.ARMOUR.getValue(this.scene.wave.number)*A.game.getDifficultyMultiplier();this.live.setMaxArmour(B),this.live.setArmour(B),this.addIndicator("armour",{color:54527,value:()=>this.live.armour/this.live.maxArmour,destroyIf:V=>V===0})}}const $o=Ke.VARIANTS.TELEPATH;class hf extends xi{constructor(A,M){super(A,{...M,variant:kt.TELEPATH}),this.regenerateTimer=null,this.addArea(),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.removeArea(),this.regenerateTimer&&this.scene.removeProgression(this.regenerateTimer)})}update(){super.update();try{this.updateArea()}catch(A){Ft.LogWarn("Failed to update telepath enemy",A)}}updateArea(){if(!this.regenerateArea.visible)return;const A=this.getBottomEdgePosition();this.regenerateArea.setPosition(A.x,A.y)}onDamage(A){this.healNearbyEnemies(A),super.onDamage(A)}healNearbyEnemies(A){const M=this.getBottomEdgePosition(),B=[];this.scene.getEntities(Xt.ENEMY).forEach(V=>{!(V instanceof hf)&&!V.live.isMaxHealth()&&Xi(M,V.getBottomEdgePosition())<=$o.REGENERATION.RADIUS&&B.push(V)}),B.length>0&&(this.regenerateTimer?this.scene.removeProgression(this.regenerateTimer):this.regenerateArea.setVisible(!0),this.regenerateTimer=this.scene.addProgression({duration:$o.REGENERATION.EFFECT_DURATION,onComplete:()=>{this.regenerateTimer=null,this.regenerateArea.setVisible(!1)}}),B.forEach(V=>{const k=Math.floor(A/B.length);V.live.heal(k)}))}addArea(){const A=$o.REGENERATION.RADIUS*2;this.regenerateArea=this.scene.add.ellipse(0,0,A,A*le.MAP_PERSPECTIVE),this.regenerateArea.setVisible(!1),this.regenerateArea.setFillStyle($o.REGENERATION.EFFECT_COLOR,.33)}removeArea(){this.regenerateArea.destroy()}}class uA extends xi{constructor(A,M){super(A,{...M,variant:kt.TERMER})}}class fA extends xi{constructor(A,M){super(A,{...M,variant:kt.UNDEAD})}}const Dp={[kt.ADHERENT]:qS,[kt.BERSERK]:_S,[kt.BOSS]:tA,[kt.DEMON]:eA,[kt.EXPLOSIVE]:iA,[kt.GHOST]:nA,[kt.RISPER]:rA,[kt.SPIKE]:aA,[kt.STRANGER]:oA,[kt.TANK]:hA,[kt.TELEPATH]:hf,[kt.TERMER]:uA,[kt.UNDEAD]:fA,[kt.SWOOSH]:lA,[kt.HORKER]:sA},sn={CACHE_RESET_DISTANCE:6,COST_FACTOR:1.3,POSITIONS_INPUT_LIMIT:64,POSITIONS_OUTPUT_LIMIT:[4,12],POSITIONS_GRID:4,DISTANCE_FROM_PLAYER:[8,32],DISTANCE_FROM_FLAG:10,DISTANCE_FROM_BUILDING:8,SPAWN_CALM_DURATION:750};class dA{constructor(A){this.positions=[],this.positionsAnalog=[],this.tasks=[],this.scene=A,this.positionsAnalog=[],this.tasks=[],this.clearCache(),this.generatePositions()}async createEnemy(A){const M=Dp[A],B=await this.getSpawnPosition(),V=new M(this.scene,{positionAtMatrix:B});this.addSpawnEffect(V)}clearCache(){this.cache={target:null,positions:[]}}getCachedPositions(){return this.cache.target&&this.cache.positions.length>0&&Xi(this.cache.target,this.scene.player.lastVisiblePosition)<sn.CACHE_RESET_DISTANCE?this.cache.positions:null}cachePositions(A){this.cache={target:this.scene.player.lastVisiblePosition,positions:A}}async getSpawnPosition(){const A=await this.getSpawnPositions();return Phaser.Utils.Array.GetRandom(A)}async getSpawnPositions(){const A=this.getCachedPositions();if(A)return A;const M=this.getFreePositionsMeta(),B=this.getPositionsLimit();if(M.length===0)return this.getAnalogPositions().slice(0,B);const V=await this.getPositionsWithOptimalCost(M,B);return V.length===0?this.getAnalogPositions().slice(0,B):(this.cachePositions(V),V)}getAnalogPositions(){return this.positionsAnalog.length===0&&this.generateAnalogSpawnPositions(),_T(this.positionsAnalog,this.scene.player.lastVisiblePosition)}getFreePositionsMeta(){const A=this.scene.getCapturedFlags(),M=this.scene.getEntities(Xt.BUILDING),B=this.getSpawnDistanceFromPlayer();return this.positions.map(k=>({position:k,distance:Us(k,this.scene.player.lastVisiblePosition)})).filter(({position:k,distance:p})=>p>=B&&M.every(S=>Us(k,S.positionAtMatrix)>=sn.DISTANCE_FROM_BUILDING)&&A.every(S=>Us(k,S.positionAtMatrix)>=sn.DISTANCE_FROM_FLAG)).sort((k,p)=>k.distance-p.distance).slice(0,sn.POSITIONS_INPUT_LIMIT)}getPositionsLimit(){const A=this.scene.wave.number-1;return Math.min(sn.POSITIONS_OUTPUT_LIMIT[0]+A,sn.POSITIONS_OUTPUT_LIMIT[1])}getSpawnDistanceFromPlayer(){const A=(this.scene.wave.number-1)*2;return Math.min(sn.DISTANCE_FROM_PLAYER[0]+A,sn.DISTANCE_FROM_PLAYER[1])}async getPositionsWithOptimalCost(A,M){let B=await new Promise(V=>{let k=0;const p=[];A.forEach(S=>{const t=this.scene.level.navigator.createTask({from:S.position,to:this.scene.player.lastVisiblePosition,grid:this.scene.level.gridCollide,ignoreCosts:!0},u=>{this.completeTask(t);const{path:v,cost:o}=u[0]??{};v?(p.push({position:S.position,cost:o}),o/S.distance<=sn.COST_FACTOR&&(k++,k===M&&this.cancelTasks())):Tp(this.positions,S.position),this.tasks.length===0&&V(p)});this.tasks.push(t)})});return B.length>M&&(B=B.sort((V,k)=>V.cost-k.cost).slice(0,M)),B.map(V=>V.position)}generatePositions(){this.positions=this.scene.level.readSpawnPositions(Qt.ENEMY,sn.POSITIONS_GRID)}generateAnalogSpawnPositions(){this.positionsAnalog=[];for(let A=0;A<this.scene.level.map.width;A++)for(let M=0;M<this.scene.level.map.height;M++)(A===0||A===this.scene.level.map.width-1||M===0||M===this.scene.level.map.height-1)&&this.positionsAnalog.push({x:A,y:M})}completeTask(A){const M=this.tasks.indexOf(A);M!==-1&&this.tasks.splice(M,1)}cancelTasks(){this.tasks.forEach(A=>{this.scene.level.navigator.cancelTask(A)}),this.tasks=[]}addSpawnEffect(A){A.calm(sn.SPAWN_CALM_DURATION),this.scene.fx.createSpawnEffect(A);let M=null;const B=()=>{M&&(M.destroy(),M=null)};A.once(Phaser.GameObjects.Events.DESTROY,B);const V=A.alpha;A.container.setAlpha(0),A.setAlpha(0),M=this.scene.tweens.add({targets:A,alpha:V,duration:750,onComplete:()=>{B(),A.off(Phaser.GameObjects.Events.DESTROY,B),A.container.setAlpha(A.alpha)}})}}ce.RegisterAudio(fr);class cA extends Mt.Events.EventEmitter{constructor(A){super(),this._isGoing=!1,this._isPeaceMode=!1,this._number=1,this.spawnedEnemiesCount=0,this.enemiesMaxCount=0,this.lastSpawnedEnemyVariant=null,this.alarmInterval=null,this.scene=A,this.waveStartDelay=new un(this.scene),this.enemySpawnDelay=new un(this.scene),Os.Clear(Ms.WAVE_NUMBER),this.handleToggleTimeScale()}get isGoing(){return this._isGoing}set isGoing(A){this._isGoing=A}get isPeaceMode(){return this._isPeaceMode}set isPeaceMode(A){this._isPeaceMode=A}get number(){return this._number}set number(A){this._number=A}destroy(){this.removeAllListeners()}getTimeleft(){return this.waveStartDelay.getLeft()}update(){try{this.handleTimeleft(),this.handleProcessing(),Os.CheckDiff(Ms.WAVE_NUMBER,this.number,1)}catch(A){Ft.LogWarn("Failed to update wave",A)}}handleProcessing(){this.isGoing&&(this.spawnedEnemiesCount<this.enemiesMaxCount?this.enemySpawnDelay.isPast()&&this.isNormalPowerload()&&this.spawnEnemy():this.scene.getEntitiesGroup(Xt.ENEMY).getTotalUsed()===0&&this.complete())}handleTimeleft(){if(this.isGoing||this.isPeaceMode)return;const A=this.getTimeleft();A<=0?this.start():A<=zi.TIMELEFT.ALARM&&!this.scene.isTimePaused()&&!this.alarmInterval&&this.runAlarmCountdown()}runAlarmCountdown(){this.scene.fx.playSound(fr.TICK),this.alarmInterval=this.scene.addProgression({duration:zi.TIMELEFT.ALARM,frequence:1e3,onProgress:()=>{this.scene.fx.playSound(fr.TICK)},onComplete:()=>{this.alarmInterval=null}})}isNormalPowerload(){const A=this.getSpawnedEnemiesCount();return A<zi.ENEMIES.SPAWN.POWERLOAD.TRIGGER||A/this.enemiesMaxCount<=zi.ENEMIES.SPAWN.POWERLOAD.MAX}getSpawnedEnemiesCount(){return this.scene.getEntitiesGroup(Xt.ENEMY).getTotalUsed()}getEnemiesLeft(){const A=this.spawnedEnemiesCount-this.getSpawnedEnemiesCount();return this.enemiesMaxCount-A}skipTimeleft(){if(this.isGoing||this.scene.isTimePaused())return;const A=this.getTimeleft();this.scene.skipTime(A),this.emit(Pi.SKIP_TIMELEFT)}runTimeleft(){const A=this.number===1&&Gt.IsEnabled?zi.TIMELEFT.ALARM:zi.TIMELEFT[this.scene.game.mode].getValue(this.number);this.waveStartDelay.next(A)}start(){this.isGoing=!0,this.enemySpawnDelay.reset(),this.spawnedEnemiesCount=0,this.enemiesMaxCount=zi.ENEMIES.COUNT.getValue(this.number),this.alarmInterval&&(this.scene.removeProgression(this.alarmInterval),this.alarmInterval=null),this.scene.isModeActive($e.TIME_SCALE)&&this.scene.setTimeScale(zi.INCREASED_TIME_SCALE),this.emit(Pi.START,this.number),this.scene.fx.playSound(fr.START)}complete(){const A=this.number;this.isGoing=!1,this.number++,this.scene.setTimeScale(1),this.scene.level.looseEffects(),this.runTimeleft(),this.emit(Pi.COMPLETE,A),this.scene.fx.playSound(fr.COMPLETE),this.scene.game.saveGame(),Ft.TrackWaveComplete(this.scene);const M=A-Bs.MIDGAME.ON_COMPLETE.MIN_WAVE;M>=0&&M%Bs.MIDGAME.ON_COMPLETE.WAVE_FREQUENCY===0&&Ft.ShowAds(mi.MIDGAME)}spawnEnemy(){const A=this.getEnemyVariant();A&&(this.enemySpawnDelay.next(zi.ENEMIES.SPAWN.RATE),this.spawnedEnemiesCount++,this.scene.spawner.createEnemy(A))}getEnemyVariant(){if(this.number%Ke.VARIANTS.BOSS.SPAWN_WAVE_RATE===0&&this.spawnedEnemiesCount<Math.ceil(this.number/Ke.VARIANTS.BOSS.SPAWN_WAVE_RATE))return kt.BOSS;const A=[];return yr(Ke.VARIANTS,(M,B)=>{if(B.SPAWN_RANGE&&M!==this.lastSpawnedEnemyVariant){const[V,k]=B.SPAWN_RANGE;this.number>=V&&(!k||this.number<=k)&&A.push(M)}}),A.length>0&&(this.lastSpawnedEnemyVariant=Mt.Utils.Array.GetRandom(A)),this.lastSpawnedEnemyVariant}handleToggleTimeScale(){const A=(M,B)=>{M===$e.TIME_SCALE&&this.isGoing&&this.scene.setTimeScale(B?zi.INCREASED_TIME_SCALE:1)};this.scene.events.on(Ye.TOGGLE_MODE,A),this.scene.events.on(Mt.Scenes.Events.SHUTDOWN,()=>{this.scene.events.off(Ye.TOGGLE_MODE,A)})}getSavePayload(){return{number:this.number,timeleft:this.getTimeleft()}}loadSavePayload(A){this.number=A.number,this.waveStartDelay.next(A.timeleft)}}ce.RegisterImages(Qu);class vA extends Ra{constructor(){super(Me.WORLD),this._deltaTime=1,this.timers=[],this.modes={[$e.TIME_SCALE]:!1,[$e.BUILDING_INDICATORS]:!1,[$e.AUTO_REPAIR]:!1,[$e.PATH_TO_CRYSTAL]:!1},gt.World=this}get player(){return this._player}set player(A){this._player=A}get assistant(){return this._assistant}set assistant(A){this._assistant=A}get level(){return this._level}set level(A){this._level=A}get wave(){return this._wave}set wave(A){this._wave=A}get builder(){return this._builder}set builder(A){this._builder=A}get spawner(){return this._spawner}set spawner(A){this._spawner=A}get fx(){return this._fx}set fx(A){this._fx=A}get camera(){return this._camera}set camera(A){this._camera=A}get deltaTime(){return this._deltaTime}set deltaTime(A){this._deltaTime=A}create(A){this.input.setPollAlways(),this.level=new De(this,A),this.fx=new os(this),this.camera=new RS(this),this.spawner=new dA(this),this.timers=[],this.modes={[$e.TIME_SCALE]:!1,[$e.BUILDING_INDICATORS]:!1,[$e.AUTO_REPAIR]:!1,[$e.PATH_TO_CRYSTAL]:!1},this.addEntityGroups()}start(){new Rt.Interface(this).render(Op),this.addLifecycle(),this.camera.addZoomControl(),this.addWaveManager(),this.addBuilder(),this.addPlayer(),this.addAssistant(),this.addCrystals(),this.game.mode===gi.FLAGS&&this.addFlags(),this.game.usedSave?.payload.world&&this.loadSavePayload(this.game.usedSave.payload.world),zu.Bind(this)}update(A,M){if(this.game.state===ye.STARTED)try{this.deltaTime=M,this.builder.update(),this.wave.update()}catch(B){Ft.LogWarn("Failed to update world",B)}}showHint(A){const M=A.unique?i0(A.label):Er();return this.events.emit(Ye.SHOW_HINT,M,A),M}hideHint(A){this.events.emit(Ye.HIDE_HINT,A)}getTime(){return Math.floor(this.lifecyle.getElapsed())}isTimePaused(){return this.lifecyle.paused}setTimePause(A){this.lifecyle.paused=A}getTimeScale(){return this.lifecyle.timeScale}setTimeScale(A){this.physics.world.timeScale=1/A,this.timers.forEach(M=>{M.timeScale=A})}skipTime(A){this.timers.forEach(B=>{B.elapsed+=A});const M=Math.floor(this.getResourceExtractionSpeed()*(A/1e3));this.player.giveResources(M)}addProgression(A){const M=A.frequence??50,B=Math.ceil(A.duration/M),V=this.time.addEvent({timeScale:this.getTimeScale(),delay:M,repeat:B,callback:()=>{const k=V.getRepeatCount()-1;A.onProgress&&A.onProgress?.(k,B),k<=0&&(A.onComplete(),this.removeProgression(V))}});return this.timers.push(V),V}removeProgression(A){const M=this.timers.indexOf(A);M!==-1&&(A.destroy(),this.timers.splice(M,1))}setModeActive(A,M){this.modes[A]=M,this.events.emit(Ye.TOGGLE_MODE,A,M)}isModeActive(A){return this.modes[A]}getResourceExtractionSpeed(){return this.builder.getBuildingsByVariant($t.GENERATOR).reduce((B,V)=>B+1/V.getActionsDelay()*1e3,0)}addEntityToGroup(A,M){this.entityGroups[M].add(A)}getEntitiesGroup(A){return this.entityGroups[A]}getEntities(A){return this.entityGroups[A].getChildren()}getFuturePosition(A,M){const B=this.game.loop.actualFps,V=.3**(1/B),k=1-V**(M*B),p={x:A.body.velocity.x/B*k/(1-V),y:A.body.velocity.y/B*k/(1-V)};return{x:A.body.center.x+p.x,y:A.body.center.y+p.y}}getCapturedFlags(){return this.getEntities(Xt.FLAG).filter(A=>A.isCaptured)}getCrystalsMaxCount(){return Math.ceil(sl.COUNT.getValue(this.wave.number)/this.game.getDifficultyMultiplier())}addEntityGroups(){this.entityGroups={[Xt.CRYSTAL]:this.add.group(),[Xt.NPC]:this.add.group(),[Xt.ENEMY]:this.add.group(),[Xt.BUILDING]:this.add.group({runChildUpdate:!0}),[Xt.SHOT]:this.add.group({runChildUpdate:!0}),[Xt.SPRITE]:this.add.group({runChildUpdate:!0}),[Xt.FLAG]:this.add.group({runChildUpdate:!0})}}addLifecycle(){this.lifecyle=this.time.addEvent({delay:Number.MAX_SAFE_INTEGER,loop:!0,startAt:this.game.usedSave?.payload.world.time??0}),this.timers.push(this.lifecyle)}addWaveManager(){this.wave=new cA(this),this.game.usedSave?.payload.wave?this.wave.loadSavePayload(this.game.usedSave.payload.wave):this.wave.runTimeleft(),this.events.once(Mt.Scenes.Events.SHUTDOWN,()=>{this.wave.destroy()})}addBuilder(){this.builder=new AS(this),this.game.events.once(Ri.FINISH,()=>{this.builder.close()}),this.events.once(Mt.Scenes.Events.SHUTDOWN,()=>{this.builder.destroy()})}addPlayer(){const A=this.game.usedSave?.payload.player.position??Mt.Utils.Array.GetRandom(this.level.readSpawnPositions(Qt.PLAYER));this.player=new af(this,{positionAtMatrix:A}),this.game.usedSave?.payload.player&&this.player.loadSavePayload(this.game.usedSave.payload.player),this.camera.focusOn(this.player),this.player.live.on(ui.DEAD,()=>{this.game.finishGame(!1)})}addAssistant(){const A=tS(this.player.positionAtMatrix).find(M=>this.level.map.getAt(M)?.solid);this.assistant=new lS(this,{owner:this.player,positionAtMatrix:A??this.player.positionAtMatrix,speed:this.player.speed})}addCrystals(){const A=this.level.readSpawnPositions(Qt.CRYSTAL),M=()=>{const V=A.filter(k=>this.level.isFreePoint({...k,z:1}));return Mt.Utils.Array.GetRandom(V)},B=V=>{const k=Ls[this.level.planet].CRYSTAL_VARIANTS;new Ap(this,{positionAtMatrix:V,variant:Mt.Utils.Array.GetRandom(k)})};if(this.game.usedSave?.payload.world.crystals)this.game.usedSave.payload.world.crystals.forEach(V=>{this.level.isCorrectPoint({...V.position,z:1})&&B(V.position)});else{const V=this.getCrystalsMaxCount();for(let k=0;k<V;k++){const p=M();B(p)}}this.wave.on(Pi.COMPLETE,()=>{const V=this.getCrystalsMaxCount()-this.getEntitiesGroup(Xt.CRYSTAL).getTotalUsed();for(let k=0;k<V;k++){const p=M();B(p)}})}async addFlags(){const A=this.level.readSpawnPositions(Qt.FLAG,4),M=()=>new Promise(B=>{const V=A.filter(S=>this.level.isFreePoint({...S,z:1})),k=this.getEntities(Xt.FLAG).map(S=>De.ToMatrixPosition(S)),p=eS(V,k);p?(Tp(A,p),this.level.navigator.createTask({from:p,to:this.player.positionAtMatrix,grid:this.level.gridSolid},async S=>{if(S[0]?.path)B(p);else return M()})):B(null)});if(this.game.usedSave?.payload.world.flags)this.game.usedSave.payload.world.flags.forEach(B=>{new Rv(this,{positionAtMatrix:B.position}).loadSavePayload(B)});else for(let B=0;B<mn.MAX_COUNT;B++){const V=await M();V?new Rv(this,{positionAtMatrix:V}):Ft.LogWarn("Invalid flag spawn position")}}getSavePayload(){return{time:this.getTime(),crystals:this.getEntities(Xt.CRYSTAL).map(A=>A.getSavePayload()),flags:this.getEntities(Xt.FLAG).map(A=>A.getSavePayload()),buildings:this.getEntities(Xt.BUILDING).map(A=>A.getSavePayload())}}loadSavePayload(A){A.buildings.forEach(M=>{try{this.builder.createBuilding({variant:M.variant,positionAtMatrix:M.position}).loadSavePayload(M)}catch(B){Ft.LogWarn(`Failed to load '${M.variant}' building`,B)}})}}ce.RegisterAudio(Jo);class ol extends Mt.Game{constructor(){super({scene:[$T,vA,KT,o1,Kx],pixelArt:!0,autoRound:!0,parent:vr.CONTAINER_ID,transparent:!0,scale:{mode:Mt.Scale.RESIZE},physics:{default:"arcade",arcade:{debug:vr.DEBUG.basic,fps:60,gravity:{y:0}}}}),this.difficulty=Ds.NORMAL,this.mode=gi.INFINITY,this.isSaved=!1,this._state=ye.IDLE,this._settings={[ei.AUDIO]:!0,[ei.TUTORIAL]:!0,[ei.EFFECTS]:!0,[ei.SHOW_DAMAGE]:!0},this.usedSave=null,this.sessionsCount=0,this.records=[],this._isIncognito=!1,Ft.ToggleLoadState(!0),Ft.RegisterUser(),Ft.GetRecords().then(A=>{this.records=A}),Nv().then(A=>{this.isIncognito=A.isPrivate}).catch(A=>{Ft.LogWarn("Failed to detect incognito",A)}),this.readSettings(),this.isSettingEnabled(ei.TUTORIAL)||Gt.Disable(),this.events.on(Mt.Core.Events.READY,()=>{a0(this.renderer),this.sound.setVolume(vr.AUDIO_VOLUME),this.sound.mute=!this.isSettingEnabled(ei.AUDIO)}),this.events.on(Ri.UPDATE_SETTINGS,(A,M)=>{switch(A){case ei.AUDIO:{this.sound.mute=!M;break}case ei.TUTORIAL:{M?Gt.Enable():Gt.Disable();break}}}),window.addEventListener("beforeunload",A=>{(this.state===ye.STARTED||this.state===ye.PAUSED&&!this.isSaved)&&pe.Platform!=="development"&&(A.preventDefault(),A.returnValue="Do you confirm to leave game?")}),window.addEventListener("contextmenu",A=>{A.preventDefault()}),window.addEventListener("error",A=>{Ft.LogError(A.error??new Error(A.message??"Undefined error"))})}get state(){return this._state}set state(A){this._state=A}get settings(){return this._settings}set settings(A){this._settings=A}get isIncognito(){return this._isIncognito}set isIncognito(A){this._isIncognito=A}pauseGame(){this.state===ye.STARTED&&(this.setState(ye.PAUSED),this.scene.pause(Me.SCREEN),this.scene.pause(Me.WORLD),this.scene.systemScene.scene.launch(Me.MENU,{defaultPage:this.isDesktop()?ni.CONTROLS:ni.SETTINGS}))}resumeGame(){this.state===ye.PAUSED&&Ft.ShowAds(mi.MIDGAME).then(()=>{this.setState(ye.STARTED),this.scene.systemScene.scene.stop(Me.MENU),this.scene.resume(Me.SCREEN),this.scene.resume(Me.WORLD),this.isSaved=!1})}continueGame(A){this.state===ye.IDLE&&(this.usedSave=A,Ft.ShowAds(mi.MIDGAME).then(()=>{this.startGame()}))}startNewGame(){if(this.state!==ye.IDLE)return;this.usedSave=null;const A=()=>{this.startGame(),Ft.NewSession({mode:this.mode,difficulty:this.difficulty,planet:gt.World.level.planet})};this.sessionsCount===0?A():Ft.ShowAds(mi.MIDGAME).then(()=>{A()})}startGame(){this.state===ye.IDLE&&(this.sessionsCount++,this.usedSave?(this.loadSavePayload(this.usedSave.payload.game),gt.World.scene.restart(this.usedSave.payload.level)):(Gt.Reset(),gt.World.scene.restart()),gt.World.events.once(Mt.Scenes.Events.CREATE,()=>{this.setState(ye.STARTED),this.scene.systemScene.scene.stop(Me.MENU),this.scene.systemScene.scene.launch(Me.SCREEN),gt.World.start()}))}stopGame(A=!0){this.state!==ye.IDLE&&(this.scene.systemScene.scene.stop(Me.SCREEN),this.scene.systemScene.scene.stop(Me.MENU),this.scene.systemScene.scene.stop(Me.FINISH),this.setState(ye.IDLE),A&&(gt.World.scene.restart(),this.scene.systemScene.scene.launch(Me.MENU,{defaultPage:ni.NEW_GAME})))}restartGame(){this.state!==ye.IDLE&&(this.stopGame(!1),Ft.ShowAds(mi.MIDGAME).then(()=>{this.startGame()}))}finishGame(A){if(this.state!==ye.STARTED)return;this.setState(ye.FINISHED),this.events.emit(Ri.FINISH);const M=this.getCurrentRecord(),B=ol.GetCurrentStat();this.saveBestGameResult(B);const V={success:A,stat:B,record:M};this.scene.systemScene.scene.pause(Me.WORLD),this.scene.systemScene.scene.stop(Me.SCREEN),this.scene.systemScene.scene.launch(Me.FINISH,V),gt.World.fx.playSound(A?Jo.WIN:Jo.LOSE),Ft.SendGameResult(A,B.score),Ft.SendScore(B.score)}toggleSystemPause(A){Ft.TogglePlayState(!A),this.events.emit(Ri.TOGGLE_PAUSE,A),A?this.pause():this.resume()}setState(A){if(this.state===A)return;const M=this.state!==ye.STARTED,B=A!==ye.STARTED;this.state=A,M!==B&&(Ft.TogglePlayState(!B),this.events.emit(Ri.TOGGLE_PAUSE,B))}isDesktop(){return this.device.os.desktop}getDifficultyMultiplier(){switch(this.difficulty){case Ds.EASY:return .8;case Ds.HARD:return 1.5;default:return 1}}updateSetting(A,M){this.settings[A]=M,localStorage.setItem(`SETTINGS.${A}`,M?"on":"off"),this.events.emit(Ri.UPDATE_SETTINGS,A,M)}isSettingEnabled(A){return!this.isDesktop()&&A===ei.SHOW_DAMAGE?!1:this.settings[A]}readSettings(){yr(ei,A=>{const M=localStorage.getItem(`SETTINGS.${A}`);M&&(this.settings[A]=M==="on")})}getCurrentRecord(){return this.records.find(M=>M.mode===this.mode&&M.difficulty===this.difficulty)?.stat??null}saveBestGameResult(A){const M={mode:this.mode,difficulty:this.difficulty,stat:A??ol.GetCurrentStat()},B=this.records.findIndex(V=>V.mode===M.mode&&V.difficulty===M.difficulty);if(B===-1)this.records.push(M),Ft.CreateRecord(M);else{const V=this.records[B].stat;let k=!1;yr(M.stat,(p,S)=>{S>V[p]&&(k=!0,V[p]=S)}),k&&Ft.UpdateRecord(M)}}static GetCurrentStat(){return{score:gt.World.player.score,waves:gt.World.wave.number-1,kills:gt.World.player.kills,lived:Math.floor(gt.World.getTime()/1e3)}}async saveGame(A){this.saveBestGameResult();const M=await Wi.AddSave(this,A);return M&&(this.isSaved=!0,this.usedSave=M),M}getSavePayload(){return{sessionId:Ft.SessionId,difficulty:this.difficulty,mode:this.mode,tutorial:{...Gt.Progress}}}loadSavePayload(A){this.difficulty=A.difficulty,this.mode=A.mode,Ft.SessionId=A.sessionId,Gt.Load(A.tutorial)}}pe.Register();Ft.Load().then(()=>{const L=new ol;if(pe.Platform===Qe.DEVELOPMENT&&L.events.on(Phaser.Core.Events.READY,()=>{window.WORLD=gt.World}),!pe.GetFlag(Zt.AUTO_ORIENTATION)){const A=M=>{(M?M.matches:window.innerWidth>=window.innerHeight)?qg(ya.BAD_SCREEN_SIZE):Jg(ya.BAD_SCREEN_SIZE)};A(),window.matchMedia("(orientation: landscape)").addEventListener("change",A)}});console.clear();console.log([`Created by ${ln.author.name} / ${ln.author.url}`,`Build v${ln.version}-${pe.Platform}`,"Open-Source at https://github.com/neki-dev/izowave"].join(`
`));
